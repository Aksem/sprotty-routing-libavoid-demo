var xw=Object.defineProperty,Dw=Object.defineProperties;var Tw=Object.getOwnPropertyDescriptors;var ip=Object.getOwnPropertySymbols;var Lw=Object.prototype.hasOwnProperty,Uw=Object.prototype.propertyIsEnumerable;var op=(t,e,n)=>e in t?xw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ap=(t,e)=>{for(var n in e||(e={}))Lw.call(e,n)&&op(t,n,e[n]);if(ip)for(var n of ip(e))Uw.call(e,n)&&op(t,n,e[n]);return t},sp=(t,e)=>Dw(t,Tw(e));const Nw=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};Nw();function nf(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Fw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kw=nf(Fw);function oy(t){return!!t||t===""}function rf(t){if(We(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Yt(r)?$w(r):rf(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(Yt(t))return t;if(Zt(t))return t}}const Bw=/;(?![^(]*\))/g,Yw=/:(.+)/;function $w(t){const e={};return t.split(Bw).forEach(n=>{if(n){const r=n.split(Yw);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function of(t){let e="";if(Yt(t))e=t;else if(We(t))for(let n=0;n<t.length;n++){const r=of(t[n]);r&&(e+=r+" ")}else if(Zt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const _t={},Xi=[],Fn=()=>{},Vw=()=>!1,Hw=/^on[^a-z]/,kc=t=>Hw.test(t),af=t=>t.startsWith("onUpdate:"),zt=Object.assign,sf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Kw=Object.prototype.hasOwnProperty,et=(t,e)=>Kw.call(t,e),We=Array.isArray,ua=t=>Bc(t)==="[object Map]",zw=t=>Bc(t)==="[object Set]",qe=t=>typeof t=="function",Yt=t=>typeof t=="string",cf=t=>typeof t=="symbol",Zt=t=>t!==null&&typeof t=="object",ay=t=>Zt(t)&&qe(t.then)&&qe(t.catch),Zw=Object.prototype.toString,Bc=t=>Zw.call(t),qw=t=>Bc(t).slice(8,-1),Ww=t=>Bc(t)==="[object Object]",uf=t=>Yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zs=nf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Gw=/-(\w)/g,Qn=Yc(t=>t.replace(Gw,(e,n)=>n?n.toUpperCase():"")),Jw=/\B([A-Z])/g,so=Yc(t=>t.replace(Jw,"-$1").toLowerCase()),$c=Yc(t=>t.charAt(0).toUpperCase()+t.slice(1)),sd=Yc(t=>t?`on${$c(t)}`:""),dc=(t,e)=>!Object.is(t,e),cd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},lc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Xw=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let cp;const Qw=()=>cp||(cp=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ur;class e1{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&ur&&(this.parent=ur,this.index=(ur.scopes||(ur.scopes=[])).push(this)-1)}run(e){if(this.active)try{return ur=this,e()}finally{ur=this.parent}}on(){ur=this}off(){ur=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function t1(t,e=ur){e&&e.active&&e.effects.push(t)}const df=t=>{const e=new Set(t);return e.w=0,e.n=0,e},sy=t=>(t.w&Ur)>0,cy=t=>(t.n&Ur)>0,n1=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ur},r1=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];sy(i)&&!cy(i)?i.delete(t):e[n++]=i,i.w&=~Ur,i.n&=~Ur}e.length=n}},fl=new WeakMap;let oa=0,Ur=1;const _l=30;let Gn;const ci=Symbol(""),pl=Symbol("");class lf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,t1(this,r)}run(){if(!this.active)return this.fn();let e=Gn,n=Dr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Gn,Gn=this,Dr=!0,Ur=1<<++oa,oa<=_l?n1(this):up(this),this.fn()}finally{oa<=_l&&r1(this),Ur=1<<--oa,Gn=this.parent,Dr=n,this.parent=void 0}}stop(){this.active&&(up(this),this.onStop&&this.onStop(),this.active=!1)}}function up(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Dr=!0;const uy=[];function co(){uy.push(Dr),Dr=!1}function uo(){const t=uy.pop();Dr=t===void 0?!0:t}function hn(t,e,n){if(Dr&&Gn){let r=fl.get(t);r||fl.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=df()),dy(i)}}function dy(t,e){let n=!1;oa<=_l?cy(t)||(t.n|=Ur,n=!sy(t)):n=!t.has(Gn),n&&(t.add(Gn),Gn.deps.push(t))}function _r(t,e,n,r,i,o){const a=fl.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&We(t))a.forEach((s,u)=>{(u==="length"||u>=r)&&c.push(s)});else switch(n!==void 0&&c.push(a.get(n)),e){case"add":We(t)?uf(n)&&c.push(a.get("length")):(c.push(a.get(ci)),ua(t)&&c.push(a.get(pl)));break;case"delete":We(t)||(c.push(a.get(ci)),ua(t)&&c.push(a.get(pl)));break;case"set":ua(t)&&c.push(a.get(ci));break}if(c.length===1)c[0]&&hl(c[0]);else{const s=[];for(const u of c)u&&s.push(...u);hl(df(s))}}function hl(t,e){for(const n of We(t)?t:[...t])(n!==Gn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const i1=nf("__proto__,__v_isRef,__isVue"),ly=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(cf)),o1=ff(),a1=ff(!1,!0),s1=ff(!0),dp=c1();function c1(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ct(this);for(let o=0,a=this.length;o<a;o++)hn(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ct)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){co();const r=ct(this)[e].apply(this,n);return uo(),r}}),t}function ff(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?S1:gy:e?hy:py).get(r))return r;const a=We(r);if(!t&&a&&et(dp,i))return Reflect.get(dp,i,o);const c=Reflect.get(r,i,o);return(cf(i)?ly.has(i):i1(i))||(t||hn(r,"get",i),e)?c:Bt(c)?!a||!uf(i)?c.value:c:Zt(c)?t?yy(c):hf(c):c}}const u1=fy(),d1=fy(!0);function fy(t=!1){return function(n,r,i,o){let a=n[r];if(wa(a)&&Bt(a)&&!Bt(i))return!1;if(!t&&!wa(i)&&(my(i)||(i=ct(i),a=ct(a)),!We(n)&&Bt(a)&&!Bt(i)))return a.value=i,!0;const c=We(n)&&uf(r)?Number(r)<n.length:et(n,r),s=Reflect.set(n,r,i,o);return n===ct(o)&&(c?dc(i,a)&&_r(n,"set",r,i):_r(n,"add",r,i)),s}}function l1(t,e){const n=et(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&_r(t,"delete",e,void 0),r}function f1(t,e){const n=Reflect.has(t,e);return(!cf(e)||!ly.has(e))&&hn(t,"has",e),n}function _1(t){return hn(t,"iterate",We(t)?"length":ci),Reflect.ownKeys(t)}const _y={get:o1,set:u1,deleteProperty:l1,has:f1,ownKeys:_1},p1={get:s1,set(t,e){return!0},deleteProperty(t,e){return!0}},h1=zt({},_y,{get:a1,set:d1}),_f=t=>t,Vc=t=>Reflect.getPrototypeOf(t);function vs(t,e,n=!1,r=!1){t=t.__v_raw;const i=ct(t),o=ct(e);e!==o&&!n&&hn(i,"get",e),!n&&hn(i,"get",o);const{has:a}=Vc(i),c=r?_f:n?mf:yf;if(a.call(i,e))return c(t.get(e));if(a.call(i,o))return c(t.get(o));t!==i&&t.get(e)}function bs(t,e=!1){const n=this.__v_raw,r=ct(n),i=ct(t);return t!==i&&!e&&hn(r,"has",t),!e&&hn(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function Ps(t,e=!1){return t=t.__v_raw,!e&&hn(ct(t),"iterate",ci),Reflect.get(t,"size",t)}function lp(t){t=ct(t);const e=ct(this);return Vc(e).has.call(e,t)||(e.add(t),_r(e,"add",t,t)),this}function fp(t,e){e=ct(e);const n=ct(this),{has:r,get:i}=Vc(n);let o=r.call(n,t);o||(t=ct(t),o=r.call(n,t));const a=i.call(n,t);return n.set(t,e),o?dc(e,a)&&_r(n,"set",t,e):_r(n,"add",t,e),this}function _p(t){const e=ct(this),{has:n,get:r}=Vc(e);let i=n.call(e,t);i||(t=ct(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&_r(e,"delete",t,void 0),o}function pp(){const t=ct(this),e=t.size!==0,n=t.clear();return e&&_r(t,"clear",void 0,void 0),n}function ws(t,e){return function(r,i){const o=this,a=o.__v_raw,c=ct(a),s=e?_f:t?mf:yf;return!t&&hn(c,"iterate",ci),a.forEach((u,d)=>r.call(i,s(u),s(d),o))}}function Rs(t,e,n){return function(...r){const i=this.__v_raw,o=ct(i),a=ua(o),c=t==="entries"||t===Symbol.iterator&&a,s=t==="keys"&&a,u=i[t](...r),d=n?_f:e?mf:yf;return!e&&hn(o,"iterate",s?pl:ci),{next(){const{value:f,done:_}=u.next();return _?{value:f,done:_}:{value:c?[d(f[0]),d(f[1])]:d(f),done:_}},[Symbol.iterator](){return this}}}}function Er(t){return function(...e){return t==="delete"?!1:this}}function g1(){const t={get(o){return vs(this,o)},get size(){return Ps(this)},has:bs,add:lp,set:fp,delete:_p,clear:pp,forEach:ws(!1,!1)},e={get(o){return vs(this,o,!1,!0)},get size(){return Ps(this)},has:bs,add:lp,set:fp,delete:_p,clear:pp,forEach:ws(!1,!0)},n={get(o){return vs(this,o,!0)},get size(){return Ps(this,!0)},has(o){return bs.call(this,o,!0)},add:Er("add"),set:Er("set"),delete:Er("delete"),clear:Er("clear"),forEach:ws(!0,!1)},r={get(o){return vs(this,o,!0,!0)},get size(){return Ps(this,!0)},has(o){return bs.call(this,o,!0)},add:Er("add"),set:Er("set"),delete:Er("delete"),clear:Er("clear"),forEach:ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Rs(o,!1,!1),n[o]=Rs(o,!0,!1),e[o]=Rs(o,!1,!0),r[o]=Rs(o,!0,!0)}),[t,n,e,r]}const[y1,m1,v1,b1]=g1();function pf(t,e){const n=e?t?b1:v1:t?m1:y1;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(et(n,i)&&i in r?n:r,i,o)}const P1={get:pf(!1,!1)},w1={get:pf(!1,!0)},R1={get:pf(!0,!1)},py=new WeakMap,hy=new WeakMap,gy=new WeakMap,S1=new WeakMap;function E1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function A1(t){return t.__v_skip||!Object.isExtensible(t)?0:E1(qw(t))}function hf(t){return wa(t)?t:gf(t,!1,_y,P1,py)}function O1(t){return gf(t,!1,h1,w1,hy)}function yy(t){return gf(t,!0,p1,R1,gy)}function gf(t,e,n,r,i){if(!Zt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const a=A1(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return i.set(t,c),c}function Qi(t){return wa(t)?Qi(t.__v_raw):!!(t&&t.__v_isReactive)}function wa(t){return!!(t&&t.__v_isReadonly)}function my(t){return!!(t&&t.__v_isShallow)}function vy(t){return Qi(t)||wa(t)}function ct(t){const e=t&&t.__v_raw;return e?ct(e):t}function by(t){return lc(t,"__v_skip",!0),t}const yf=t=>Zt(t)?hf(t):t,mf=t=>Zt(t)?yy(t):t;function I1(t){Dr&&Gn&&(t=ct(t),dy(t.dep||(t.dep=df())))}function j1(t,e){t=ct(t),t.dep&&hl(t.dep)}function Bt(t){return!!(t&&t.__v_isRef===!0)}function M1(t){return Bt(t)?t.value:t}const C1={get:(t,e,n)=>M1(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Bt(i)&&!Bt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Py(t){return Qi(t)?t:new Proxy(t,C1)}class x1{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new lf(e,()=>{this._dirty||(this._dirty=!0,j1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ct(this);return I1(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function D1(t,e,n=!1){let r,i;const o=qe(t);return o?(r=t,i=Fn):(r=t.get,i=t.set),new x1(r,i,o||!i,n)}Promise.resolve();function Tr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Hc(o,e,n)}return i}function kn(t,e,n,r){if(qe(t)){const o=Tr(t,e,n,r);return o&&ay(o)&&o.catch(a=>{Hc(a,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(kn(t[o],e,n,r));return i}function Hc(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,c=n;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,a,c)===!1)return}o=o.parent}const s=e.appContext.config.errorHandler;if(s){Tr(s,null,10,[t,a,c]);return}}T1(t,n,i,r)}function T1(t,e,n,r=!0){console.error(t)}let fc=!1,gl=!1;const _n=[];let fr=0;const da=[];let aa=null,Ki=0;const la=[];let Mr=null,zi=0;const wy=Promise.resolve();let vf=null,yl=null;function L1(t){const e=vf||wy;return t?e.then(this?t.bind(this):t):e}function U1(t){let e=fr+1,n=_n.length;for(;e<n;){const r=e+n>>>1;Ra(_n[r])<t?e=r+1:n=r}return e}function Ry(t){(!_n.length||!_n.includes(t,fc&&t.allowRecurse?fr+1:fr))&&t!==yl&&(t.id==null?_n.push(t):_n.splice(U1(t.id),0,t),Sy())}function Sy(){!fc&&!gl&&(gl=!0,vf=wy.then(Oy))}function N1(t){const e=_n.indexOf(t);e>fr&&_n.splice(e,1)}function Ey(t,e,n,r){We(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),Sy()}function F1(t){Ey(t,aa,da,Ki)}function k1(t){Ey(t,Mr,la,zi)}function bf(t,e=null){if(da.length){for(yl=e,aa=[...new Set(da)],da.length=0,Ki=0;Ki<aa.length;Ki++)aa[Ki]();aa=null,Ki=0,yl=null,bf(t,e)}}function Ay(t){if(la.length){const e=[...new Set(la)];if(la.length=0,Mr){Mr.push(...e);return}for(Mr=e,Mr.sort((n,r)=>Ra(n)-Ra(r)),zi=0;zi<Mr.length;zi++)Mr[zi]();Mr=null,zi=0}}const Ra=t=>t.id==null?1/0:t.id;function Oy(t){gl=!1,fc=!0,bf(t),_n.sort((n,r)=>Ra(n)-Ra(r));const e=Fn;try{for(fr=0;fr<_n.length;fr++){const n=_n[fr];n&&n.active!==!1&&Tr(n,null,14)}}finally{fr=0,_n.length=0,Ay(),fc=!1,vf=null,(_n.length||da.length||la.length)&&Oy(t)}}function B1(t,e,...n){const r=t.vnode.props||_t;let i=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:_}=r[d]||_t;_?i=n.map(y=>y.trim()):f&&(i=n.map(Xw))}let c,s=r[c=sd(e)]||r[c=sd(Qn(e))];!s&&o&&(s=r[c=sd(so(e))]),s&&kn(s,t,6,i);const u=r[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,kn(u,t,6,i)}}function Iy(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let a={},c=!1;if(!qe(t)){const s=u=>{const d=Iy(u,e,!0);d&&(c=!0,zt(a,d))};!n&&e.mixins.length&&e.mixins.forEach(s),t.extends&&s(t.extends),t.mixins&&t.mixins.forEach(s)}return!o&&!c?(r.set(t,null),null):(We(o)?o.forEach(s=>a[s]=null):zt(a,o),r.set(t,a),a)}function Pf(t,e){return!t||!kc(e)?!1:(e=e.slice(2).replace(/Once$/,""),et(t,e[0].toLowerCase()+e.slice(1))||et(t,so(e))||et(t,e))}let Jn=null,jy=null;function _c(t){const e=Jn;return Jn=t,jy=t&&t.type.__scopeId||null,e}function Y1(t,e=Jn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Sp(-1);const o=_c(e),a=t(...i);return _c(o),r._d&&Sp(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function ud(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:c,attrs:s,emit:u,render:d,renderCache:f,data:_,setupState:y,ctx:g,inheritAttrs:v}=t;let m,h;const b=_c(t);try{if(n.shapeFlag&4){const R=i||r;m=qn(d.call(R,R,f,o,y,_,g)),h=s}else{const R=e;m=qn(R.length>1?R(o,{attrs:s,slots:c,emit:u}):R(o,null)),h=e.props?s:$1(s)}}catch(R){fa.length=0,Hc(R,t,1),m=Lr(Sa)}let p=m;if(h&&v!==!1){const R=Object.keys(h),{shapeFlag:O}=p;R.length&&O&7&&(a&&R.some(af)&&(h=V1(h,a)),p=Ea(p,h))}return n.dirs&&(p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&(p.transition=n.transition),m=p,_c(b),m}const $1=t=>{let e;for(const n in t)(n==="class"||n==="style"||kc(n))&&((e||(e={}))[n]=t[n]);return e},V1=(t,e)=>{const n={};for(const r in t)(!af(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function H1(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:c,patchFlag:s}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&s>=0){if(s&1024)return!0;if(s&16)return r?hp(r,a,u):!!a;if(s&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const _=d[f];if(a[_]!==r[_]&&!Pf(u,_))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?hp(r,a,u):!0:!!a;return!1}function hp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Pf(n,o))return!0}return!1}function K1({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const z1=t=>t.__isSuspense;function Z1(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):k1(t)}function q1(t,e){if(Dt){let n=Dt.provides;const r=Dt.parent&&Dt.parent.provides;r===n&&(n=Dt.provides=Object.create(r)),n[t]=e}}function dd(t,e,n=!1){const r=Dt||Jn;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&qe(e)?e.call(r.proxy):e}}const gp={};function ld(t,e,n){return My(t,e,n)}function My(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=_t){const c=Dt;let s,u=!1,d=!1;if(Bt(t)?(s=()=>t.value,u=my(t)):Qi(t)?(s=()=>t,r=!0):We(t)?(d=!0,u=t.some(Qi),s=()=>t.map(h=>{if(Bt(h))return h.value;if(Qi(h))return Zi(h);if(qe(h))return Tr(h,c,2)})):qe(t)?e?s=()=>Tr(t,c,2):s=()=>{if(!(c&&c.isUnmounted))return f&&f(),kn(t,c,3,[_])}:s=Fn,e&&r){const h=s;s=()=>Zi(h())}let f,_=h=>{f=m.onStop=()=>{Tr(h,c,4)}};if(Aa)return _=Fn,e?n&&kn(e,c,3,[s(),d?[]:void 0,_]):s(),Fn;let y=d?[]:gp;const g=()=>{if(!!m.active)if(e){const h=m.run();(r||u||(d?h.some((b,p)=>dc(b,y[p])):dc(h,y)))&&(f&&f(),kn(e,c,3,[h,y===gp?void 0:y,_]),y=h)}else m.run()};g.allowRecurse=!!e;let v;i==="sync"?v=g:i==="post"?v=()=>Gt(g,c&&c.suspense):v=()=>{!c||c.isMounted?F1(g):g()};const m=new lf(s,v);return e?n?g():y=m.run():i==="post"?Gt(m.run.bind(m),c&&c.suspense):m.run(),()=>{m.stop(),c&&c.scope&&sf(c.scope.effects,m)}}function W1(t,e,n){const r=this.proxy,i=Yt(t)?t.includes(".")?Cy(r,t):()=>r[t]:t.bind(r,r);let o;qe(e)?o=e:(o=e.handler,n=e);const a=Dt;ro(this);const c=My(i,o.bind(r),n);return a?ro(a):di(),c}function Cy(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Zi(t,e){if(!Zt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Bt(t))Zi(t.value,e);else if(We(t))for(let n=0;n<t.length;n++)Zi(t[n],e);else if(zw(t)||ua(t))t.forEach(n=>{Zi(n,e)});else if(Ww(t))for(const n in t)Zi(t[n],e);return t}function xy(t){return qe(t)?{setup:t,name:t.name}:t}const ml=t=>!!t.type.__asyncLoader,Dy=t=>t.type.__isKeepAlive;function G1(t,e){Ty(t,"a",e)}function J1(t,e){Ty(t,"da",e)}function Ty(t,e,n=Dt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Kc(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Dy(i.parent.vnode)&&X1(r,e,n,i),i=i.parent}}function X1(t,e,n,r){const i=Kc(e,t,r,!0);Ly(()=>{sf(r[e],i)},n)}function Kc(t,e,n=Dt,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;co(),ro(n);const c=kn(e,n,t,a);return di(),uo(),c});return r?i.unshift(o):i.push(o),o}}const hr=t=>(e,n=Dt)=>(!Aa||t==="sp")&&Kc(t,e,n),Q1=hr("bm"),eR=hr("m"),tR=hr("bu"),nR=hr("u"),rR=hr("bum"),Ly=hr("um"),iR=hr("sp"),oR=hr("rtg"),aR=hr("rtc");function sR(t,e=Dt){Kc("ec",t,e)}let vl=!0;function cR(t){const e=Ny(t),n=t.proxy,r=t.ctx;vl=!1,e.beforeCreate&&yp(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:a,watch:c,provide:s,inject:u,created:d,beforeMount:f,mounted:_,beforeUpdate:y,updated:g,activated:v,deactivated:m,beforeDestroy:h,beforeUnmount:b,destroyed:p,unmounted:R,render:O,renderTracked:A,renderTriggered:I,errorCaptured:j,serverPrefetch:U,expose:M,inheritAttrs:x,components:D,directives:V,filters:q}=e;if(u&&uR(u,r,null,t.appContext.config.unwrapInjectedRef),a)for(const se in a){const G=a[se];qe(G)&&(r[se]=G.bind(n))}if(i){const se=i.call(n,n);Zt(se)&&(t.data=hf(se))}if(vl=!0,o)for(const se in o){const G=o[se],Z=qe(G)?G.bind(n,n):qe(G.get)?G.get.bind(n,n):Fn,K=!qe(G)&&qe(G.set)?G.set.bind(n):Fn,B=KR({get:Z,set:K});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>B.value,set:Y=>B.value=Y})}if(c)for(const se in c)Uy(c[se],r,n,se);if(s){const se=qe(s)?s.call(n):s;Reflect.ownKeys(se).forEach(G=>{q1(G,se[G])})}d&&yp(d,t,"c");function ne(se,G){We(G)?G.forEach(Z=>se(Z.bind(n))):G&&se(G.bind(n))}if(ne(Q1,f),ne(eR,_),ne(tR,y),ne(nR,g),ne(G1,v),ne(J1,m),ne(sR,j),ne(aR,A),ne(oR,I),ne(rR,b),ne(Ly,R),ne(iR,U),We(M))if(M.length){const se=t.exposed||(t.exposed={});M.forEach(G=>{Object.defineProperty(se,G,{get:()=>n[G],set:Z=>n[G]=Z})})}else t.exposed||(t.exposed={});O&&t.render===Fn&&(t.render=O),x!=null&&(t.inheritAttrs=x),D&&(t.components=D),V&&(t.directives=V)}function uR(t,e,n=Fn,r=!1){We(t)&&(t=bl(t));for(const i in t){const o=t[i];let a;Zt(o)?"default"in o?a=dd(o.from||i,o.default,!0):a=dd(o.from||i):a=dd(o),Bt(a)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[i]=a}}function yp(t,e,n){kn(We(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Uy(t,e,n,r){const i=r.includes(".")?Cy(n,r):()=>n[r];if(Yt(t)){const o=e[t];qe(o)&&ld(i,o)}else if(qe(t))ld(i,t.bind(n));else if(Zt(t))if(We(t))t.forEach(o=>Uy(o,e,n,r));else{const o=qe(t.handler)?t.handler.bind(n):e[t.handler];qe(o)&&ld(i,o,t)}}function Ny(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,c=o.get(e);let s;return c?s=c:!i.length&&!n&&!r?s=e:(s={},i.length&&i.forEach(u=>pc(s,u,a,!0)),pc(s,e,a)),o.set(e,s),s}function pc(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&pc(t,o,n,!0),i&&i.forEach(a=>pc(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=dR[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const dR={data:mp,props:ii,emits:ii,methods:ii,computed:ii,beforeCreate:Ht,created:Ht,beforeMount:Ht,mounted:Ht,beforeUpdate:Ht,updated:Ht,beforeDestroy:Ht,beforeUnmount:Ht,destroyed:Ht,unmounted:Ht,activated:Ht,deactivated:Ht,errorCaptured:Ht,serverPrefetch:Ht,components:ii,directives:ii,watch:fR,provide:mp,inject:lR};function mp(t,e){return e?t?function(){return zt(qe(t)?t.call(this,this):t,qe(e)?e.call(this,this):e)}:e:t}function lR(t,e){return ii(bl(t),bl(e))}function bl(t){if(We(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ht(t,e){return t?[...new Set([].concat(t,e))]:e}function ii(t,e){return t?zt(zt(Object.create(null),t),e):e}function fR(t,e){if(!t)return e;if(!e)return t;const n=zt(Object.create(null),t);for(const r in e)n[r]=Ht(t[r],e[r]);return n}function _R(t,e,n,r=!1){const i={},o={};lc(o,zc,1),t.propsDefaults=Object.create(null),Fy(t,e,i,o);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:O1(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function pR(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,c=ct(i),[s]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let _=d[f];const y=e[_];if(s)if(et(o,_))y!==o[_]&&(o[_]=y,u=!0);else{const g=Qn(_);i[g]=Pl(s,c,g,y,t,!1)}else y!==o[_]&&(o[_]=y,u=!0)}}}else{Fy(t,e,i,o)&&(u=!0);let d;for(const f in c)(!e||!et(e,f)&&((d=so(f))===f||!et(e,d)))&&(s?n&&(n[f]!==void 0||n[d]!==void 0)&&(i[f]=Pl(s,c,f,void 0,t,!0)):delete i[f]);if(o!==c)for(const f in o)(!e||!et(e,f)&&!0)&&(delete o[f],u=!0)}u&&_r(t,"set","$attrs")}function Fy(t,e,n,r){const[i,o]=t.propsOptions;let a=!1,c;if(e)for(let s in e){if(Zs(s))continue;const u=e[s];let d;i&&et(i,d=Qn(s))?!o||!o.includes(d)?n[d]=u:(c||(c={}))[d]=u:Pf(t.emitsOptions,s)||(!(s in r)||u!==r[s])&&(r[s]=u,a=!0)}if(o){const s=ct(n),u=c||_t;for(let d=0;d<o.length;d++){const f=o[d];n[f]=Pl(i,s,f,u[f],t,!et(u,f))}}return a}function Pl(t,e,n,r,i,o){const a=t[n];if(a!=null){const c=et(a,"default");if(c&&r===void 0){const s=a.default;if(a.type!==Function&&qe(s)){const{propsDefaults:u}=i;n in u?r=u[n]:(ro(i),r=u[n]=s.call(null,e),di())}else r=s}a[0]&&(o&&!c?r=!1:a[1]&&(r===""||r===so(n))&&(r=!0))}return r}function ky(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,a={},c=[];let s=!1;if(!qe(t)){const d=f=>{s=!0;const[_,y]=ky(f,e,!0);zt(a,_),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!s)return r.set(t,Xi),Xi;if(We(o))for(let d=0;d<o.length;d++){const f=Qn(o[d]);vp(f)&&(a[f]=_t)}else if(o)for(const d in o){const f=Qn(d);if(vp(f)){const _=o[d],y=a[f]=We(_)||qe(_)?{type:_}:_;if(y){const g=wp(Boolean,y.type),v=wp(String,y.type);y[0]=g>-1,y[1]=v<0||g<v,(g>-1||et(y,"default"))&&c.push(f)}}}const u=[a,c];return r.set(t,u),u}function vp(t){return t[0]!=="$"}function bp(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Pp(t,e){return bp(t)===bp(e)}function wp(t,e){return We(e)?e.findIndex(n=>Pp(n,t)):qe(e)&&Pp(e,t)?0:-1}const By=t=>t[0]==="_"||t==="$stable",wf=t=>We(t)?t.map(qn):[qn(t)],hR=(t,e,n)=>{const r=Y1((...i)=>wf(e(...i)),n);return r._c=!1,r},Yy=(t,e,n)=>{const r=t._ctx;for(const i in t){if(By(i))continue;const o=t[i];if(qe(o))e[i]=hR(i,o,r);else if(o!=null){const a=wf(o);e[i]=()=>a}}},$y=(t,e)=>{const n=wf(e);t.slots.default=()=>n},gR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ct(e),lc(e,"_",n)):Yy(e,t.slots={})}else t.slots={},e&&$y(t,e);lc(t.slots,zc,1)},yR=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=_t;if(r.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(zt(i,e),!n&&c===1&&delete i._):(o=!e.$stable,Yy(e,i)),a=e}else e&&($y(t,e),a={default:1});if(o)for(const c in i)!By(c)&&!(c in a)&&delete i[c]};function Gr(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];o&&(c.oldValue=o[a].value);let s=c.dir[r];s&&(co(),kn(s,n,8,[t.el,c,t,e]),uo())}}function Vy(){return{app:null,config:{isNativeTag:Vw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mR=0;function vR(t,e){return function(r,i=null){i!=null&&!Zt(i)&&(i=null);const o=Vy(),a=new Set;let c=!1;const s=o.app={_uid:mR++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:zR,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&qe(u.install)?(a.add(u),u.install(s,...d)):qe(u)&&(a.add(u),u(s,...d))),s},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),s},component(u,d){return d?(o.components[u]=d,s):o.components[u]},directive(u,d){return d?(o.directives[u]=d,s):o.directives[u]},mount(u,d,f){if(!c){const _=Lr(r,i);return _.appContext=o,d&&e?e(_,u):t(_,u,f),c=!0,s._container=u,u.__vue_app__=s,Af(_.component)||_.component.proxy}},unmount(){c&&(t(null,s._container),delete s._container.__vue_app__)},provide(u,d){return o.provides[u]=d,s}};return s}}function wl(t,e,n,r,i=!1){if(We(t)){t.forEach((_,y)=>wl(_,e&&(We(e)?e[y]:e),n,r,i));return}if(ml(r)&&!i)return;const o=r.shapeFlag&4?Af(r.component)||r.component.proxy:r.el,a=i?null:o,{i:c,r:s}=t,u=e&&e.r,d=c.refs===_t?c.refs={}:c.refs,f=c.setupState;if(u!=null&&u!==s&&(Yt(u)?(d[u]=null,et(f,u)&&(f[u]=null)):Bt(u)&&(u.value=null)),qe(s))Tr(s,c,12,[a,d]);else{const _=Yt(s),y=Bt(s);if(_||y){const g=()=>{if(t.f){const v=_?d[s]:s.value;i?We(v)&&sf(v,o):We(v)?v.includes(o)||v.push(o):_?d[s]=[o]:(s.value=[o],t.k&&(d[t.k]=s.value))}else _?(d[s]=a,et(f,s)&&(f[s]=a)):Bt(s)&&(s.value=a,t.k&&(d[t.k]=a))};a?(g.id=-1,Gt(g,n)):g()}}}const Gt=Z1;function bR(t){return PR(t)}function PR(t,e){const n=Qw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:c,createComment:s,setText:u,setElementText:d,parentNode:f,nextSibling:_,setScopeId:y=Fn,cloneNode:g,insertStaticContent:v}=t,m=(T,H,Q,ue=null,te=null,ye=null,we=!1,be=null,Pe=!!H.dynamicChildren)=>{if(T===H)return;T&&!No(T,H)&&(ue=ge(T),L(T,te,ye,!0),T=null),H.patchFlag===-2&&(Pe=!1,H.dynamicChildren=null);const{type:le,ref:Ce,shapeFlag:N}=H;switch(le){case Rf:h(T,H,Q,ue);break;case Sa:b(T,H,Q,ue);break;case fd:T==null&&p(H,Q,ue,we);break;case lr:V(T,H,Q,ue,te,ye,we,be,Pe);break;default:N&1?A(T,H,Q,ue,te,ye,we,be,Pe):N&6?q(T,H,Q,ue,te,ye,we,be,Pe):(N&64||N&128)&&le.process(T,H,Q,ue,te,ye,we,be,Pe,Ae)}Ce!=null&&te&&wl(Ce,T&&T.ref,ye,H||T,!H)},h=(T,H,Q,ue)=>{if(T==null)r(H.el=c(H.children),Q,ue);else{const te=H.el=T.el;H.children!==T.children&&u(te,H.children)}},b=(T,H,Q,ue)=>{T==null?r(H.el=s(H.children||""),Q,ue):H.el=T.el},p=(T,H,Q,ue)=>{[T.el,T.anchor]=v(T.children,H,Q,ue,T.el,T.anchor)},R=({el:T,anchor:H},Q,ue)=>{let te;for(;T&&T!==H;)te=_(T),r(T,Q,ue),T=te;r(H,Q,ue)},O=({el:T,anchor:H})=>{let Q;for(;T&&T!==H;)Q=_(T),i(T),T=Q;i(H)},A=(T,H,Q,ue,te,ye,we,be,Pe)=>{we=we||H.type==="svg",T==null?I(H,Q,ue,te,ye,we,be,Pe):M(T,H,te,ye,we,be,Pe)},I=(T,H,Q,ue,te,ye,we,be)=>{let Pe,le;const{type:Ce,props:N,shapeFlag:z,transition:J,patchFlag:ae,dirs:l}=T;if(T.el&&g!==void 0&&ae===-1)Pe=T.el=g(T.el);else{if(Pe=T.el=a(T.type,ye,N&&N.is,N),z&8?d(Pe,T.children):z&16&&U(T.children,Pe,null,ue,te,ye&&Ce!=="foreignObject",we,be),l&&Gr(T,null,ue,"created"),N){for(const Re in N)Re!=="value"&&!Zs(Re)&&o(Pe,Re,null,N[Re],ye,T.children,ue,te,ce);"value"in N&&o(Pe,"value",null,N.value),(le=N.onVnodeBeforeMount)&&Kn(le,ue,T)}j(Pe,T,T.scopeId,we,ue)}l&&Gr(T,null,ue,"beforeMount");const Le=(!te||te&&!te.pendingBranch)&&J&&!J.persisted;Le&&J.beforeEnter(Pe),r(Pe,H,Q),((le=N&&N.onVnodeMounted)||Le||l)&&Gt(()=>{le&&Kn(le,ue,T),Le&&J.enter(Pe),l&&Gr(T,null,ue,"mounted")},te)},j=(T,H,Q,ue,te)=>{if(Q&&y(T,Q),ue)for(let ye=0;ye<ue.length;ye++)y(T,ue[ye]);if(te){let ye=te.subTree;if(H===ye){const we=te.vnode;j(T,we,we.scopeId,we.slotScopeIds,te.parent)}}},U=(T,H,Q,ue,te,ye,we,be,Pe=0)=>{for(let le=Pe;le<T.length;le++){const Ce=T[le]=be?Cr(T[le]):qn(T[le]);m(null,Ce,H,Q,ue,te,ye,we,be)}},M=(T,H,Q,ue,te,ye,we)=>{const be=H.el=T.el;let{patchFlag:Pe,dynamicChildren:le,dirs:Ce}=H;Pe|=T.patchFlag&16;const N=T.props||_t,z=H.props||_t;let J;Q&&Jr(Q,!1),(J=z.onVnodeBeforeUpdate)&&Kn(J,Q,H,T),Ce&&Gr(H,T,Q,"beforeUpdate"),Q&&Jr(Q,!0);const ae=te&&H.type!=="foreignObject";if(le?x(T.dynamicChildren,le,be,Q,ue,ae,ye):we||Z(T,H,be,null,Q,ue,ae,ye,!1),Pe>0){if(Pe&16)D(be,H,N,z,Q,ue,te);else if(Pe&2&&N.class!==z.class&&o(be,"class",null,z.class,te),Pe&4&&o(be,"style",N.style,z.style,te),Pe&8){const l=H.dynamicProps;for(let Le=0;Le<l.length;Le++){const Re=l[Le],xe=N[Re],Ee=z[Re];(Ee!==xe||Re==="value")&&o(be,Re,xe,Ee,te,T.children,Q,ue,ce)}}Pe&1&&T.children!==H.children&&d(be,H.children)}else!we&&le==null&&D(be,H,N,z,Q,ue,te);((J=z.onVnodeUpdated)||Ce)&&Gt(()=>{J&&Kn(J,Q,H,T),Ce&&Gr(H,T,Q,"updated")},ue)},x=(T,H,Q,ue,te,ye,we)=>{for(let be=0;be<H.length;be++){const Pe=T[be],le=H[be],Ce=Pe.el&&(Pe.type===lr||!No(Pe,le)||Pe.shapeFlag&70)?f(Pe.el):Q;m(Pe,le,Ce,null,ue,te,ye,we,!0)}},D=(T,H,Q,ue,te,ye,we)=>{if(Q!==ue){for(const be in ue){if(Zs(be))continue;const Pe=ue[be],le=Q[be];Pe!==le&&be!=="value"&&o(T,be,le,Pe,we,H.children,te,ye,ce)}if(Q!==_t)for(const be in Q)!Zs(be)&&!(be in ue)&&o(T,be,Q[be],null,we,H.children,te,ye,ce);"value"in ue&&o(T,"value",Q.value,ue.value)}},V=(T,H,Q,ue,te,ye,we,be,Pe)=>{const le=H.el=T?T.el:c(""),Ce=H.anchor=T?T.anchor:c("");let{patchFlag:N,dynamicChildren:z,slotScopeIds:J}=H;J&&(be=be?be.concat(J):J),T==null?(r(le,Q,ue),r(Ce,Q,ue),U(H.children,Q,Ce,te,ye,we,be,Pe)):N>0&&N&64&&z&&T.dynamicChildren?(x(T.dynamicChildren,z,Q,te,ye,we,be),(H.key!=null||te&&H===te.subTree)&&Hy(T,H,!0)):Z(T,H,Q,Ce,te,ye,we,be,Pe)},q=(T,H,Q,ue,te,ye,we,be,Pe)=>{H.slotScopeIds=be,T==null?H.shapeFlag&512?te.ctx.activate(H,Q,ue,we,Pe):ee(H,Q,ue,te,ye,we,Pe):ne(T,H,Pe)},ee=(T,H,Q,ue,te,ye,we)=>{const be=T.component=FR(T,ue,te);if(Dy(T)&&(be.ctx.renderer=Ae),kR(be),be.asyncDep){if(te&&te.registerDep(be,se),!T.el){const Pe=be.subTree=Lr(Sa);b(null,Pe,H,Q)}return}se(be,T,H,Q,te,ye,we)},ne=(T,H,Q)=>{const ue=H.component=T.component;if(H1(T,H,Q))if(ue.asyncDep&&!ue.asyncResolved){G(ue,H,Q);return}else ue.next=H,N1(ue.update),ue.update();else H.component=T.component,H.el=T.el,ue.vnode=H},se=(T,H,Q,ue,te,ye,we)=>{const be=()=>{if(T.isMounted){let{next:Ce,bu:N,u:z,parent:J,vnode:ae}=T,l=Ce,Le;Jr(T,!1),Ce?(Ce.el=ae.el,G(T,Ce,we)):Ce=ae,N&&cd(N),(Le=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&Kn(Le,J,Ce,ae),Jr(T,!0);const Re=ud(T),xe=T.subTree;T.subTree=Re,m(xe,Re,f(xe.el),ge(xe),T,te,ye),Ce.el=Re.el,l===null&&K1(T,Re.el),z&&Gt(z,te),(Le=Ce.props&&Ce.props.onVnodeUpdated)&&Gt(()=>Kn(Le,J,Ce,ae),te)}else{let Ce;const{el:N,props:z}=H,{bm:J,m:ae,parent:l}=T,Le=ml(H);if(Jr(T,!1),J&&cd(J),!Le&&(Ce=z&&z.onVnodeBeforeMount)&&Kn(Ce,l,H),Jr(T,!0),N&&Me){const Re=()=>{T.subTree=ud(T),Me(N,T.subTree,T,te,null)};Le?H.type.__asyncLoader().then(()=>!T.isUnmounted&&Re()):Re()}else{const Re=T.subTree=ud(T);m(null,Re,Q,ue,T,te,ye),H.el=Re.el}if(ae&&Gt(ae,te),!Le&&(Ce=z&&z.onVnodeMounted)){const Re=H;Gt(()=>Kn(Ce,l,Re),te)}H.shapeFlag&256&&T.a&&Gt(T.a,te),T.isMounted=!0,H=Q=ue=null}},Pe=T.effect=new lf(be,()=>Ry(T.update),T.scope),le=T.update=Pe.run.bind(Pe);le.id=T.uid,Jr(T,!0),le()},G=(T,H,Q)=>{H.component=T;const ue=T.vnode.props;T.vnode=H,T.next=null,pR(T,H.props,ue,Q),yR(T,H.children,Q),co(),bf(void 0,T.update),uo()},Z=(T,H,Q,ue,te,ye,we,be,Pe=!1)=>{const le=T&&T.children,Ce=T?T.shapeFlag:0,N=H.children,{patchFlag:z,shapeFlag:J}=H;if(z>0){if(z&128){B(le,N,Q,ue,te,ye,we,be,Pe);return}else if(z&256){K(le,N,Q,ue,te,ye,we,be,Pe);return}}J&8?(Ce&16&&ce(le,te,ye),N!==le&&d(Q,N)):Ce&16?J&16?B(le,N,Q,ue,te,ye,we,be,Pe):ce(le,te,ye,!0):(Ce&8&&d(Q,""),J&16&&U(N,Q,ue,te,ye,we,be,Pe))},K=(T,H,Q,ue,te,ye,we,be,Pe)=>{T=T||Xi,H=H||Xi;const le=T.length,Ce=H.length,N=Math.min(le,Ce);let z;for(z=0;z<N;z++){const J=H[z]=Pe?Cr(H[z]):qn(H[z]);m(T[z],J,Q,null,te,ye,we,be,Pe)}le>Ce?ce(T,te,ye,!0,!1,N):U(H,Q,ue,te,ye,we,be,Pe,N)},B=(T,H,Q,ue,te,ye,we,be,Pe)=>{let le=0;const Ce=H.length;let N=T.length-1,z=Ce-1;for(;le<=N&&le<=z;){const J=T[le],ae=H[le]=Pe?Cr(H[le]):qn(H[le]);if(No(J,ae))m(J,ae,Q,null,te,ye,we,be,Pe);else break;le++}for(;le<=N&&le<=z;){const J=T[N],ae=H[z]=Pe?Cr(H[z]):qn(H[z]);if(No(J,ae))m(J,ae,Q,null,te,ye,we,be,Pe);else break;N--,z--}if(le>N){if(le<=z){const J=z+1,ae=J<Ce?H[J].el:ue;for(;le<=z;)m(null,H[le]=Pe?Cr(H[le]):qn(H[le]),Q,ae,te,ye,we,be,Pe),le++}}else if(le>z)for(;le<=N;)L(T[le],te,ye,!0),le++;else{const J=le,ae=le,l=new Map;for(le=ae;le<=z;le++){const Ie=H[le]=Pe?Cr(H[le]):qn(H[le]);Ie.key!=null&&l.set(Ie.key,le)}let Le,Re=0;const xe=z-ae+1;let Ee=!1,De=0;const $e=new Array(xe);for(le=0;le<xe;le++)$e[le]=0;for(le=J;le<=N;le++){const Ie=T[le];if(Re>=xe){L(Ie,te,ye,!0);continue}let Ne;if(Ie.key!=null)Ne=l.get(Ie.key);else for(Le=ae;Le<=z;Le++)if($e[Le-ae]===0&&No(Ie,H[Le])){Ne=Le;break}Ne===void 0?L(Ie,te,ye,!0):($e[Ne-ae]=le+1,Ne>=De?De=Ne:Ee=!0,m(Ie,H[Ne],Q,null,te,ye,we,be,Pe),Re++)}const de=Ee?wR($e):Xi;for(Le=de.length-1,le=xe-1;le>=0;le--){const Ie=ae+le,Ne=H[Ie],_e=Ie+1<Ce?H[Ie+1].el:ue;$e[le]===0?m(null,Ne,Q,_e,te,ye,we,be,Pe):Ee&&(Le<0||le!==de[Le]?Y(Ne,Q,_e,2):Le--)}}},Y=(T,H,Q,ue,te=null)=>{const{el:ye,type:we,transition:be,children:Pe,shapeFlag:le}=T;if(le&6){Y(T.component.subTree,H,Q,ue);return}if(le&128){T.suspense.move(H,Q,ue);return}if(le&64){we.move(T,H,Q,Ae);return}if(we===lr){r(ye,H,Q);for(let N=0;N<Pe.length;N++)Y(Pe[N],H,Q,ue);r(T.anchor,H,Q);return}if(we===fd){R(T,H,Q);return}if(ue!==2&&le&1&&be)if(ue===0)be.beforeEnter(ye),r(ye,H,Q),Gt(()=>be.enter(ye),te);else{const{leave:N,delayLeave:z,afterLeave:J}=be,ae=()=>r(ye,H,Q),l=()=>{N(ye,()=>{ae(),J&&J()})};z?z(ye,ae,l):l()}else r(ye,H,Q)},L=(T,H,Q,ue=!1,te=!1)=>{const{type:ye,props:we,ref:be,children:Pe,dynamicChildren:le,shapeFlag:Ce,patchFlag:N,dirs:z}=T;if(be!=null&&wl(be,null,Q,T,!0),Ce&256){H.ctx.deactivate(T);return}const J=Ce&1&&z,ae=!ml(T);let l;if(ae&&(l=we&&we.onVnodeBeforeUnmount)&&Kn(l,H,T),Ce&6)ie(T.component,Q,ue);else{if(Ce&128){T.suspense.unmount(Q,ue);return}J&&Gr(T,null,H,"beforeUnmount"),Ce&64?T.type.remove(T,H,Q,te,Ae,ue):le&&(ye!==lr||N>0&&N&64)?ce(le,H,Q,!1,!0):(ye===lr&&N&384||!te&&Ce&16)&&ce(Pe,H,Q),ue&&C(T)}(ae&&(l=we&&we.onVnodeUnmounted)||J)&&Gt(()=>{l&&Kn(l,H,T),J&&Gr(T,null,H,"unmounted")},Q)},C=T=>{const{type:H,el:Q,anchor:ue,transition:te}=T;if(H===lr){W(Q,ue);return}if(H===fd){O(T);return}const ye=()=>{i(Q),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(T.shapeFlag&1&&te&&!te.persisted){const{leave:we,delayLeave:be}=te,Pe=()=>we(Q,ye);be?be(T.el,ye,Pe):Pe()}else ye()},W=(T,H)=>{let Q;for(;T!==H;)Q=_(T),i(T),T=Q;i(H)},ie=(T,H,Q)=>{const{bum:ue,scope:te,update:ye,subTree:we,um:be}=T;ue&&cd(ue),te.stop(),ye&&(ye.active=!1,L(we,T,H,Q)),be&&Gt(be,H),Gt(()=>{T.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},ce=(T,H,Q,ue=!1,te=!1,ye=0)=>{for(let we=ye;we<T.length;we++)L(T[we],H,Q,ue,te)},ge=T=>T.shapeFlag&6?ge(T.component.subTree):T.shapeFlag&128?T.suspense.next():_(T.anchor||T.el),ve=(T,H,Q)=>{T==null?H._vnode&&L(H._vnode,null,null,!0):m(H._vnode||null,T,H,null,null,null,Q),Ay(),H._vnode=T},Ae={p:m,um:L,m:Y,r:C,mt:ee,mc:U,pc:Z,pbc:x,n:ge,o:t};let je,Me;return e&&([je,Me]=e(Ae)),{render:ve,hydrate:je,createApp:vR(ve,je)}}function Jr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Hy(t,e,n=!1){const r=t.children,i=e.children;if(We(r)&&We(i))for(let o=0;o<r.length;o++){const a=r[o];let c=i[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[o]=Cr(i[o]),c.el=a.el),n||Hy(a,c))}}function wR(t){const e=t.slice(),n=[0];let r,i,o,a,c;const s=t.length;for(r=0;r<s;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)c=o+a>>1,t[n[c]]<u?o=c+1:a=c;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}const RR=t=>t.__isTeleport,Ky="components";function SR(t,e){return AR(Ky,t,!0,e)||t}const ER=Symbol();function AR(t,e,n=!0,r=!1){const i=Jn||Dt;if(i){const o=i.type;if(t===Ky){const c=VR(o);if(c&&(c===e||c===Qn(e)||c===$c(Qn(e))))return o}const a=Rp(i[t]||o[t],e)||Rp(i.appContext[t],e);return!a&&r?o:a}}function Rp(t,e){return t&&(t[e]||t[Qn(e)]||t[$c(Qn(e))])}const lr=Symbol(void 0),Rf=Symbol(void 0),Sa=Symbol(void 0),fd=Symbol(void 0),fa=[];let ui=null;function zy(t=!1){fa.push(ui=t?null:[])}function OR(){fa.pop(),ui=fa[fa.length-1]||null}let hc=1;function Sp(t){hc+=t}function Zy(t){return t.dynamicChildren=hc>0?ui||Xi:null,OR(),hc>0&&ui&&ui.push(t),t}function IR(t,e,n,r,i,o){return Zy(Sf(t,e,n,r,i,o,!0))}function jR(t,e,n,r,i){return Zy(Lr(t,e,n,r,i,!0))}function MR(t){return t?t.__v_isVNode===!0:!1}function No(t,e){return t.type===e.type&&t.key===e.key}const zc="__vInternal",qy=({key:t})=>t!=null?t:null,qs=({ref:t,ref_key:e,ref_for:n})=>t!=null?Yt(t)||Bt(t)||qe(t)?{i:Jn,r:t,k:e,f:!!n}:t:null;function Sf(t,e=null,n=null,r=0,i=null,o=t===lr?0:1,a=!1,c=!1){const s={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qy(e),ref:e&&qs(e),scopeId:jy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return c?(Ef(s,n),o&128&&t.normalize(s)):n&&(s.shapeFlag|=Yt(n)?8:16),hc>0&&!a&&ui&&(s.patchFlag>0||o&6)&&s.patchFlag!==32&&ui.push(s),s}const Lr=CR;function CR(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===ER)&&(t=Sa),MR(t)){const c=Ea(t,e,!0);return n&&Ef(c,n),c}if(HR(t)&&(t=t.__vccOpts),e){e=xR(e);let{class:c,style:s}=e;c&&!Yt(c)&&(e.class=of(c)),Zt(s)&&(vy(s)&&!We(s)&&(s=zt({},s)),e.style=rf(s))}const a=Yt(t)?1:z1(t)?128:RR(t)?64:Zt(t)?4:qe(t)?2:0;return Sf(t,e,n,r,i,a,o,!0)}function xR(t){return t?vy(t)||zc in t?zt({},t):t:null}function Ea(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=t,c=e?TR(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&qy(c),ref:e&&e.ref?n&&i?We(i)?i.concat(qs(e)):[i,qs(e)]:qs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==lr?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ea(t.ssContent),ssFallback:t.ssFallback&&Ea(t.ssFallback),el:t.el,anchor:t.anchor}}function DR(t=" ",e=0){return Lr(Rf,null,t,e)}function qn(t){return t==null||typeof t=="boolean"?Lr(Sa):We(t)?Lr(lr,null,t.slice()):typeof t=="object"?Cr(t):Lr(Rf,null,String(t))}function Cr(t){return t.el===null||t.memo?t:Ea(t)}function Ef(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(We(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Ef(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(zc in e)?e._ctx=Jn:i===3&&Jn&&(Jn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:Jn},n=32):(e=String(e),r&64?(n=16,e=[DR(e)]):n=8);t.children=e,t.shapeFlag|=n}function TR(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=of([e.class,r.class]));else if(i==="style")e.style=rf([e.style,r.style]);else if(kc(i)){const o=e[i],a=r[i];a&&o!==a&&!(We(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=r[i])}return e}function Kn(t,e,n,r=null){kn(t,e,7,[n,r])}const Rl=t=>t?Wy(t)?Af(t)||t.proxy:Rl(t.parent):null,gc=zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Rl(t.parent),$root:t=>Rl(t.root),$emit:t=>t.emit,$options:t=>Ny(t),$forceUpdate:t=>()=>Ry(t.update),$nextTick:t=>L1.bind(t.proxy),$watch:t=>W1.bind(t)}),LR={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:c,appContext:s}=t;let u;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(r!==_t&&et(r,e))return a[e]=1,r[e];if(i!==_t&&et(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&et(u,e))return a[e]=3,o[e];if(n!==_t&&et(n,e))return a[e]=4,n[e];vl&&(a[e]=0)}}const d=gc[e];let f,_;if(d)return e==="$attrs"&&hn(t,"get",e),d(t);if((f=c.__cssModules)&&(f=f[e]))return f;if(n!==_t&&et(n,e))return a[e]=4,n[e];if(_=s.config.globalProperties,et(_,e))return _[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return i!==_t&&et(i,e)?(i[e]=n,!0):r!==_t&&et(r,e)?(r[e]=n,!0):et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let c;return!!n[a]||t!==_t&&et(t,a)||e!==_t&&et(e,a)||(c=o[0])&&et(c,a)||et(r,a)||et(gc,a)||et(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?this.set(t,e,n.get(),null):n.value!=null&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},UR=Vy();let NR=0;function FR(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||UR,o={uid:NR++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new e1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ky(r,i),emitsOptions:Iy(r,i),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:r.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=B1.bind(null,o),t.ce&&t.ce(o),o}let Dt=null;const ro=t=>{Dt=t,t.scope.on()},di=()=>{Dt&&Dt.scope.off(),Dt=null};function Wy(t){return t.vnode.shapeFlag&4}let Aa=!1;function kR(t,e=!1){Aa=e;const{props:n,children:r}=t.vnode,i=Wy(t);_R(t,n,i,e),gR(t,r);const o=i?BR(t,e):void 0;return Aa=!1,o}function BR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=by(new Proxy(t.ctx,LR));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?$R(t):null;ro(t),co();const o=Tr(r,t,0,[t.props,i]);if(uo(),di(),ay(o)){if(o.then(di,di),e)return o.then(a=>{Ep(t,a,e)}).catch(a=>{Hc(a,t,0)});t.asyncDep=o}else Ep(t,o,e)}else Gy(t,e)}function Ep(t,e,n){qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Zt(e)&&(t.setupState=Py(e)),Gy(t,n)}let Ap;function Gy(t,e,n){const r=t.type;if(!t.render){if(!e&&Ap&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:s}=r,u=zt(zt({isCustomElement:o,delimiters:c},a),s);r.render=Ap(i,u)}}t.render=r.render||Fn}ro(t),co(),cR(t),uo(),di()}function YR(t){return new Proxy(t.attrs,{get(e,n){return hn(t,"get","$attrs"),e[n]}})}function $R(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=YR(t))},slots:t.slots,emit:t.emit,expose:e}}function Af(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Py(by(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gc)return gc[n](t)}}))}function VR(t){return qe(t)&&t.displayName||t.name}function HR(t){return qe(t)&&"__vccOpts"in t}const KR=(t,e)=>D1(t,e,Aa),zR="3.2.31",ZR="http://www.w3.org/2000/svg",ai=typeof document!="undefined"?document:null,Op=ai&&ai.createElement("template"),qR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?ai.createElementNS(ZR,t):ai.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ai.createTextNode(t),createComment:t=>ai.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ai.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Op.innerHTML=r?`<svg>${t}</svg>`:t;const c=Op.content;if(r){const s=c.firstChild;for(;s.firstChild;)c.appendChild(s.firstChild);c.removeChild(s)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function WR(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function GR(t,e,n){const r=t.style,i=Yt(n);if(n&&!i){for(const o in n)Sl(r,o,n[o]);if(e&&!Yt(e))for(const o in e)n[o]==null&&Sl(r,o,"")}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const Ip=/\s*!important$/;function Sl(t,e,n){if(We(n))n.forEach(r=>Sl(t,e,r));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=JR(t,e);Ip.test(n)?t.setProperty(so(r),n.replace(Ip,""),"important"):t[r]=n}}const jp=["Webkit","Moz","ms"],_d={};function JR(t,e){const n=_d[e];if(n)return n;let r=Qn(e);if(r!=="filter"&&r in t)return _d[e]=r;r=$c(r);for(let i=0;i<jp.length;i++){const o=jp[i]+r;if(o in t)return _d[e]=o}return e}const Mp="http://www.w3.org/1999/xlink";function XR(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Mp,e.slice(6,e.length)):t.setAttributeNS(Mp,e,n);else{const o=kw(e);n==null||o&&!oy(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function QR(t,e,n,r,i,o,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const c=typeof t[e];if(c==="boolean"){t[e]=oy(n);return}else if(n==null&&c==="string"){t[e]="",t.removeAttribute(e);return}else if(c==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let yc=Date.now,Jy=!1;if(typeof window!="undefined"){yc()>document.createEvent("Event").timeStamp&&(yc=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Jy=!!(t&&Number(t[1])<=53)}let El=0;const eS=Promise.resolve(),tS=()=>{El=0},nS=()=>El||(eS.then(tS),El=yc());function rS(t,e,n,r){t.addEventListener(e,n,r)}function iS(t,e,n,r){t.removeEventListener(e,n,r)}function oS(t,e,n,r,i=null){const o=t._vei||(t._vei={}),a=o[e];if(r&&a)a.value=r;else{const[c,s]=aS(e);if(r){const u=o[e]=sS(r,i);rS(t,c,u,s)}else a&&(iS(t,c,a,s),o[e]=void 0)}}const Cp=/(?:Once|Passive|Capture)$/;function aS(t){let e;if(Cp.test(t)){e={};let n;for(;n=t.match(Cp);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[so(t.slice(2)),e]}function sS(t,e){const n=r=>{const i=r.timeStamp||yc();(Jy||i>=n.attached-1)&&kn(cS(r,n.value),e,5,[r])};return n.value=t,n.attached=nS(),n}function cS(t,e){if(We(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const xp=/^on[a-z]/,uS=(t,e,n,r,i=!1,o,a,c,s)=>{e==="class"?WR(t,r,i):e==="style"?GR(t,n,r):kc(e)?af(e)||oS(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):dS(t,e,r,i))?QR(t,e,r,o,a,c,s):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),XR(t,e,r,i))};function dS(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&xp.test(e)&&qe(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||xp.test(e)&&Yt(n)?!1:e in t}const lS=zt({patchProp:uS},qR);let Dp;function fS(){return Dp||(Dp=bR(lS))}const _S=(...t)=>{const e=fS().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=pS(r);if(!i)return;const o=e._component;!qe(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function pS(t){return Yt(t)?document.querySelector(t):t}var w=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Of(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Tp;(function(t){(function(e){var n=typeof w=="object"?w:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect=="undefined"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,a){return function(c,s){typeof o[c]!="function"&&Object.defineProperty(o,c,{configurable:!0,writable:!0,value:s}),a&&a(c,s)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,s=!a&&!c,u={create:a?function(){return Ce(Object.create(null))}:c?function(){return Ce({__proto__:null})}:function(){return Ce({})},has:s?function(N,z){return n.call(N,z)}:function(N,z){return z in N},get:s?function(N,z){return n.call(N,z)?N[z]:void 0}:function(N,z){return N[z]}},d=Object.getPrototypeOf(Function),f=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",_=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:be(),y=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Pe(),g=!f&&typeof WeakMap=="function"?WeakMap:le(),v=new g;function m(N,z,J,ae){if(B(J)){if(!Ae(N))throw new TypeError;if(!Me(z))throw new TypeError;return M(N,z)}else{if(!Ae(N))throw new TypeError;if(!C(z))throw new TypeError;if(!C(ae)&&!B(ae)&&!Y(ae))throw new TypeError;return Y(ae)&&(ae=void 0),J=ve(J),x(N,z,J,ae)}}e("decorate",m);function h(N,z){function J(ae,l){if(!C(ae))throw new TypeError;if(!B(l)&&!T(l))throw new TypeError;se(N,z,ae,l)}return J}e("metadata",h);function b(N,z,J,ae){if(!C(J))throw new TypeError;return B(ae)||(ae=ve(ae)),se(N,z,J,ae)}e("defineMetadata",b);function p(N,z,J){if(!C(z))throw new TypeError;return B(J)||(J=ve(J)),V(N,z,J)}e("hasMetadata",p);function R(N,z,J){if(!C(z))throw new TypeError;return B(J)||(J=ve(J)),q(N,z,J)}e("hasOwnMetadata",R);function O(N,z,J){if(!C(z))throw new TypeError;return B(J)||(J=ve(J)),ee(N,z,J)}e("getMetadata",O);function A(N,z,J){if(!C(z))throw new TypeError;return B(J)||(J=ve(J)),ne(N,z,J)}e("getOwnMetadata",A);function I(N,z){if(!C(N))throw new TypeError;return B(z)||(z=ve(z)),G(N,z)}e("getMetadataKeys",I);function j(N,z){if(!C(N))throw new TypeError;return B(z)||(z=ve(z)),Z(N,z)}e("getOwnMetadataKeys",j);function U(N,z,J){if(!C(z))throw new TypeError;B(J)||(J=ve(J));var ae=D(z,J,!1);if(B(ae)||!ae.delete(N))return!1;if(ae.size>0)return!0;var l=v.get(z);return l.delete(J),l.size>0||v.delete(z),!0}e("deleteMetadata",U);function M(N,z){for(var J=N.length-1;J>=0;--J){var ae=N[J],l=ae(z);if(!B(l)&&!Y(l)){if(!Me(l))throw new TypeError;z=l}}return z}function x(N,z,J,ae){for(var l=N.length-1;l>=0;--l){var Le=N[l],Re=Le(z,J,ae);if(!B(Re)&&!Y(Re)){if(!C(Re))throw new TypeError;ae=Re}}return ae}function D(N,z,J){var ae=v.get(N);if(B(ae)){if(!J)return;ae=new _,v.set(N,ae)}var l=ae.get(z);if(B(l)){if(!J)return;l=new _,ae.set(z,l)}return l}function V(N,z,J){var ae=q(N,z,J);if(ae)return!0;var l=we(z);return Y(l)?!1:V(N,l,J)}function q(N,z,J){var ae=D(z,J,!1);return B(ae)?!1:ce(ae.has(N))}function ee(N,z,J){var ae=q(N,z,J);if(ae)return ne(N,z,J);var l=we(z);if(!Y(l))return ee(N,l,J)}function ne(N,z,J){var ae=D(z,J,!1);if(!B(ae))return ae.get(N)}function se(N,z,J,ae){var l=D(J,ae,!0);l.set(N,z)}function G(N,z){var J=Z(N,z),ae=we(N);if(ae===null)return J;var l=G(ae,z);if(l.length<=0)return J;if(J.length<=0)return l;for(var Le=new y,Re=[],xe=0,Ee=J;xe<Ee.length;xe++){var De=Ee[xe],$e=Le.has(De);$e||(Le.add(De),Re.push(De))}for(var de=0,Ie=l;de<Ie.length;de++){var De=Ie[de],$e=Le.has(De);$e||(Le.add(De),Re.push(De))}return Re}function Z(N,z){var J=[],ae=D(N,z,!1);if(B(ae))return J;for(var l=ae.keys(),Le=Q(l),Re=0;;){var xe=te(Le);if(!xe)return J.length=Re,J;var Ee=ue(xe);try{J[Re]=Ee}catch(De){try{ye(Le)}finally{throw De}}Re++}}function K(N){if(N===null)return 1;switch(typeof N){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return N===null?1:6;default:return 6}}function B(N){return N===void 0}function Y(N){return N===null}function L(N){return typeof N=="symbol"}function C(N){return typeof N=="object"?N!==null:typeof N=="function"}function W(N,z){switch(K(N)){case 0:return N;case 1:return N;case 2:return N;case 3:return N;case 4:return N;case 5:return N}var J=z===3?"string":z===5?"number":"default",ae=H(N,i);if(ae!==void 0){var l=ae.call(N,J);if(C(l))throw new TypeError;return l}return ie(N,J==="default"?"number":J)}function ie(N,z){if(z==="string"){var J=N.toString;if(je(J)){var ae=J.call(N);if(!C(ae))return ae}var l=N.valueOf;if(je(l)){var ae=l.call(N);if(!C(ae))return ae}}else{var l=N.valueOf;if(je(l)){var ae=l.call(N);if(!C(ae))return ae}var Le=N.toString;if(je(Le)){var ae=Le.call(N);if(!C(ae))return ae}}throw new TypeError}function ce(N){return!!N}function ge(N){return""+N}function ve(N){var z=W(N,3);return L(z)?z:ge(z)}function Ae(N){return Array.isArray?Array.isArray(N):N instanceof Object?N instanceof Array:Object.prototype.toString.call(N)==="[object Array]"}function je(N){return typeof N=="function"}function Me(N){return typeof N=="function"}function T(N){switch(K(N)){case 3:return!0;case 4:return!0;default:return!1}}function H(N,z){var J=N[z];if(J!=null){if(!je(J))throw new TypeError;return J}}function Q(N){var z=H(N,o);if(!je(z))throw new TypeError;var J=z.call(N);if(!C(J))throw new TypeError;return J}function ue(N){return N.value}function te(N){var z=N.next();return z.done?!1:z}function ye(N){var z=N.return;z&&z.call(N)}function we(N){var z=Object.getPrototypeOf(N);if(typeof N!="function"||N===d||z!==d)return z;var J=N.prototype,ae=J&&Object.getPrototypeOf(J);if(ae==null||ae===Object.prototype)return z;var l=ae.constructor;return typeof l!="function"||l===N?z:l}function be(){var N={},z=[],J=function(){function Re(xe,Ee,De){this._index=0,this._keys=xe,this._values=Ee,this._selector=De}return Re.prototype["@@iterator"]=function(){return this},Re.prototype[o]=function(){return this},Re.prototype.next=function(){var xe=this._index;if(xe>=0&&xe<this._keys.length){var Ee=this._selector(this._keys[xe],this._values[xe]);return xe+1>=this._keys.length?(this._index=-1,this._keys=z,this._values=z):this._index++,{value:Ee,done:!1}}return{value:void 0,done:!0}},Re.prototype.throw=function(xe){throw this._index>=0&&(this._index=-1,this._keys=z,this._values=z),xe},Re.prototype.return=function(xe){return this._index>=0&&(this._index=-1,this._keys=z,this._values=z),{value:xe,done:!0}},Re}();return function(){function Re(){this._keys=[],this._values=[],this._cacheKey=N,this._cacheIndex=-2}return Object.defineProperty(Re.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Re.prototype.has=function(xe){return this._find(xe,!1)>=0},Re.prototype.get=function(xe){var Ee=this._find(xe,!1);return Ee>=0?this._values[Ee]:void 0},Re.prototype.set=function(xe,Ee){var De=this._find(xe,!0);return this._values[De]=Ee,this},Re.prototype.delete=function(xe){var Ee=this._find(xe,!1);if(Ee>=0){for(var De=this._keys.length,$e=Ee+1;$e<De;$e++)this._keys[$e-1]=this._keys[$e],this._values[$e-1]=this._values[$e];return this._keys.length--,this._values.length--,xe===this._cacheKey&&(this._cacheKey=N,this._cacheIndex=-2),!0}return!1},Re.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=N,this._cacheIndex=-2},Re.prototype.keys=function(){return new J(this._keys,this._values,ae)},Re.prototype.values=function(){return new J(this._keys,this._values,l)},Re.prototype.entries=function(){return new J(this._keys,this._values,Le)},Re.prototype["@@iterator"]=function(){return this.entries()},Re.prototype[o]=function(){return this.entries()},Re.prototype._find=function(xe,Ee){return this._cacheKey!==xe&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=xe)),this._cacheIndex<0&&Ee&&(this._cacheIndex=this._keys.length,this._keys.push(xe),this._values.push(void 0)),this._cacheIndex},Re}();function ae(Re,xe){return Re}function l(Re,xe){return xe}function Le(Re,xe){return[Re,xe]}}function Pe(){return function(){function N(){this._map=new _}return Object.defineProperty(N.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),N.prototype.has=function(z){return this._map.has(z)},N.prototype.add=function(z){return this._map.set(z,z),this},N.prototype.delete=function(z){return this._map.delete(z)},N.prototype.clear=function(){this._map.clear()},N.prototype.keys=function(){return this._map.keys()},N.prototype.values=function(){return this._map.values()},N.prototype.entries=function(){return this._map.entries()},N.prototype["@@iterator"]=function(){return this.keys()},N.prototype[o]=function(){return this.keys()},N}()}function le(){var N=16,z=u.create(),J=ae();return function(){function Ee(){this._key=ae()}return Ee.prototype.has=function(De){var $e=l(De,!1);return $e!==void 0?u.has($e,this._key):!1},Ee.prototype.get=function(De){var $e=l(De,!1);return $e!==void 0?u.get($e,this._key):void 0},Ee.prototype.set=function(De,$e){var de=l(De,!0);return de[this._key]=$e,this},Ee.prototype.delete=function(De){var $e=l(De,!1);return $e!==void 0?delete $e[this._key]:!1},Ee.prototype.clear=function(){this._key=ae()},Ee}();function ae(){var Ee;do Ee="@@WeakMap@@"+xe();while(u.has(z,Ee));return z[Ee]=!0,Ee}function l(Ee,De){if(!n.call(Ee,J)){if(!De)return;Object.defineProperty(Ee,J,{value:u.create()})}return Ee[J]}function Le(Ee,De){for(var $e=0;$e<De;++$e)Ee[$e]=Math.random()*255|0;return Ee}function Re(Ee){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Ee)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Ee)):Le(new Uint8Array(Ee),Ee):Le(new Array(Ee),Ee)}function xe(){var Ee=Re(N);Ee[6]=Ee[6]&79|64,Ee[8]=Ee[8]&191|128;for(var De="",$e=0;$e<N;++$e){var de=Ee[$e];($e===4||$e===6||$e===8)&&(De+="-"),de<16&&(De+="0"),De+=de.toString(16).toLowerCase()}return De}}function Ce(N){return N.__=void 0,delete N.__,N}})})(Tp||(Tp={}));var dt={},Bn={},St={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});function Xy(t){return typeof t=="object"&&t!==null}gn.isObject=Xy;function hS(t,e,n){if(!Xy(t))return!1;if(Array.isArray(e))for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!Object.prototype.hasOwnProperty.call(t,o)||typeof n=="string"&&typeof t[o]!==n)return!1;if(typeof n=="function"&&!n(t[o]))return!1}else{if(!Object.prototype.hasOwnProperty.call(t,e))return!1;if(typeof n=="string")return typeof t[e]===n;if(typeof n=="function")return n(t[e])}return!0}gn.hasOwnProperty=hS;function gS(t,e){return Object.assign(t,e)}gn.safeAssign=gS;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gn;function n(s){return e.hasOwnProperty(s,"action")}t.isActionMessage=n;function r(s){return e.hasOwnProperty(s,"kind","string")}t.isAction=r;function i(s){return e.hasOwnProperty(s,"requestId","string")}t.isRequestAction=i;var o=1;function a(){return(o++).toString()}t.generateRequestId=a;function c(s){return e.hasOwnProperty(s,"responseId","string")&&s.responseId!==""}t.isResponseAction=c,function(s){s.KIND="rejectRequest";function u(d){return{kind:s.KIND,message:d.message,detail:d.detail,responseId:d.requestId}}s.create=u}(t.RejectAction||(t.RejectAction={})),function(s){s.KIND="requestModel";function u(d){return{kind:s.KIND,options:d,requestId:a()}}s.create=u}(t.RequestModelAction||(t.RequestModelAction={})),function(s){s.KIND="setModel";function u(d,f){return f===void 0&&(f=""),{kind:s.KIND,newRoot:d,responseId:f}}s.create=u}(t.SetModelAction||(t.SetModelAction={})),function(s){s.KIND="updateModel";function u(d,f){return f===void 0&&(f={}),Array.isArray(d)?{kind:s.KIND,matches:d,animate:f.animate,cause:f.cause}:{kind:s.KIND,newRoot:d,animate:f.animate,cause:f.cause}}s.create=u}(t.UpdateModelAction||(t.UpdateModelAction={})),function(s){s.KIND="requestPopupModel";function u(d){return{kind:s.KIND,elementId:d.elementId,bounds:d.bounds,requestId:a()}}s.create=u}(t.RequestPopupModelAction||(t.RequestPopupModelAction={})),function(s){s.KIND="setPopupModel";function u(d,f){return f===void 0&&(f=""),{kind:s.KIND,newRoot:d,responseId:f}}s.create=u}(t.SetPopupModelAction||(t.SetPopupModelAction={})),function(s){s.KIND="setBounds";function u(d){return{kind:s.KIND,bounds:d}}s.create=u}(t.SetBoundsAction||(t.SetBoundsAction={})),function(s){s.KIND="requestBounds";function u(d){return{kind:s.KIND,newRoot:d,requestId:a()}}s.create=u}(t.RequestBoundsAction||(t.RequestBoundsAction={})),function(s){s.KIND="computedBounds";function u(d,f){f===void 0&&(f={});var _;return{kind:s.KIND,bounds:d,revision:f.revision,alignments:f.alignments,responseId:(_=f.requestId)!==null&&_!==void 0?_:""}}s.create=u}(t.ComputedBoundsAction||(t.ComputedBoundsAction={})),function(s){s.KIND="elementSelected";function u(d){var f,_;return{kind:s.KIND,selectedElementsIDs:(f=d.selectedElementsIDs)!==null&&f!==void 0?f:[],deselectedElementsIDs:(_=d.deselectedElementsIDs)!==null&&_!==void 0?_:[]}}s.create=u}(t.SelectAction||(t.SelectAction={})),function(s){s.KIND="allSelected";function u(d){d===void 0&&(d={});var f;return{kind:s.KIND,select:(f=d.select)!==null&&f!==void 0?f:!0}}s.create=u}(t.SelectAllAction||(t.SelectAllAction={})),function(s){s.KIND="collapseExpand";function u(d){var f,_;return{kind:s.KIND,expandIds:(f=d.expandIds)!==null&&f!==void 0?f:[],collapseIds:(_=d.collapseIds)!==null&&_!==void 0?_:[]}}s.create=u}(t.CollapseExpandAction||(t.CollapseExpandAction={})),function(s){s.KIND="collapseExpandAll";function u(d){d===void 0&&(d={});var f;return{kind:s.KIND,expand:(f=d.expand)!==null&&f!==void 0?f:!0}}s.create=u}(t.CollapseExpandAllAction||(t.CollapseExpandAllAction={})),function(s){s.KIND="open"}(t.OpenAction||(t.OpenAction={})),function(s){s.KIND="layout";function u(d){return d===void 0&&(d={}),{kind:s.KIND,layoutType:d.layoutType,elementIds:d.elementIds}}s.create=u}(t.LayoutAction||(t.LayoutAction={})),function(s){s.KIND="center";function u(d,f){f===void 0&&(f={});var _,y;return{kind:s.KIND,elementIds:d,animate:(_=f.animate)!==null&&_!==void 0?_:!0,retainZoom:(y=f.retainZoom)!==null&&y!==void 0?y:!1}}s.create=u}(t.CenterAction||(t.CenterAction={})),function(s){s.KIND="fit";function u(d,f){f===void 0&&(f={});var _;return{kind:s.KIND,elementIds:d,padding:f.padding,maxZoom:f.maxZoom,animate:(_=f.animate)!==null&&_!==void 0?_:!0}}s.create=u}(t.FitToScreenAction||(t.FitToScreenAction={})),function(s){s.KIND="viewport";function u(d,f,_){_===void 0&&(_={});var y;return{kind:s.KIND,elementId:d,newViewport:f,animate:(y=_.animate)!==null&&y!==void 0?y:!0}}s.create=u}(t.SetViewportAction||(t.SetViewportAction={}))})(St);Object.defineProperty(Bn,"__esModule",{value:!0});var yS=St,If=gn;function jf(t){return If.hasOwnProperty(t,"kind","string")}Bn.isAction=jf;function mS(t){return jf(t)&&If.hasOwnProperty(t,"requestId","string")}Bn.isRequestAction=mS;Bn.generateRequestId=yS.generateRequestId;function vS(t){return jf(t)&&If.hasOwnProperty(t,"responseId","string")&&t.responseId!==""}Bn.isResponseAction=vS;var bS=function(){function t(e,n,r){this.message=e,this.responseId=n,this.detail=r,this.kind=t.KIND}return t.KIND="rejectRequest",t}();Bn.RejectAction=bS;var PS=function(){function t(e,n,r){this.label=e,this.actions=n,this.icon=r}return t}();Bn.LabeledAction=PS;function wS(t){return t!==void 0&&t.label!==void 0&&t.actions!==void 0}Bn.isLabeledAction=wS;var La={},An="named",Zc="name",Ua="unmanaged",qc="optional",Na="inject",_i="multi_inject",Mf="inversify:tagged",Cf="inversify:tagged_props",mc="inversify:paramtypes",Qy="design:paramtypes",eo="post_construct";function RS(){return[Na,_i,Zc,Ua,An,qc]}var Al=RS(),SS=Object.freeze(Object.defineProperty({__proto__:null,NAMED_TAG:An,NAME_TAG:Zc,UNMANAGED_TAG:Ua,OPTIONAL_TAG:qc,INJECT_TAG:Na,MULTI_INJECT_TAG:_i,TAGGED:Mf,TAGGED_PROP:Cf,PARAM_TYPES:mc,DESIGN_PARAM_TYPES:Qy,POST_CONSTRUCT:eo,NON_CUSTOM_TAG_KEYS:Al},Symbol.toStringTag,{value:"Module"})),Ct={Request:"Request",Singleton:"Singleton",Transient:"Transient"},Mt={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},Xn={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},ES=0;function Fr(){return ES++}var AS=function(){function t(e,n){this.id=Fr(),this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=Mt.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===Ct.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}(),OS="Cannot apply @injectable decorator multiple times.",IS="Metadata key was used more than once in a parameter:",Fo="NULL argument",Lp="Key Not Found",jS="Ambiguous match found for serviceIdentifier:",MS="Could not unbind serviceIdentifier:",CS="No matching bindings found for serviceIdentifier:",xS="Missing required @injectable annotation in:",DS="Missing required @inject or @multiInject annotation in:",TS=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},LS="Circular dependency found:",US="Invalid binding type:",NS="No snapshot available to restore.",FS="Invalid return type in middleware. Middleware must return!",kS="Value provided to function binding must be a function!",BS="The toSelf function can only be applied when a constructor is used as service identifier",YS="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",$S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")},VS="Invalid Container constructor argument. Container options must be an object.",HS="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",KS="Invalid Container option. Auto bind injectable must be a boolean",zS="Invalid Container option. Skip base check must be a boolean",ZS="Cannot apply @postConstruct decorator multiple times in the same class",qS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},WS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency "+("in one of the '"+t[0]+"' bindings. Please investigate bindings with")+("service identifier '"+t[1]+"'.")},GS="Maximum call stack size exceeded",em=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var n=Reflect.getMetadata(mc,e),r=Reflect.getMetadata(Mf,e);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},t.prototype.getPropertiesMetadata=function(e){var n=Reflect.getMetadata(Cf,e)||[];return n},t}(),Ws={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function tm(t){return t instanceof RangeError||t.message===GS}function io(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}function Up(t,e,n){var r="",i=n(t,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var a="Object";o.implementationType!==null&&(a=Wc(o.implementationType)),r=r+`
 `+a,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}function nm(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:nm(t.parentRequest,e)}function JS(t){function e(r,i){i===void 0&&(i=[]);var o=io(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var n=e(t);return n.reverse().join(" --> ")}function rm(t){t.childRequests.forEach(function(e){if(nm(e,e.serviceIdentifier)){var n=JS(e);throw new Error(LS+" "+n)}else rm(e)})}function XS(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+t+`
 `+t+" - "+n}else return" "+t}function Wc(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}var im=function(){function t(e){this.id=Fr(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}(),Jt=function(){function t(e,n){this.key=e,this.value=n}return t.prototype.toString=function(){return this.key===An?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}(),QS=function(){function t(e,n){this.parentContext=e,this.rootRequest=n}return t}();function pi(t,e,n,r){var i=Mf;om(i,t,e,r,n)}function Fa(t,e,n){var r=Cf;om(r,t.constructor,e,n)}function om(t,e,n,r,i){var o={},a=typeof i=="number",c=i!==void 0&&a?i.toString():n;if(a&&n!==void 0)throw new Error(YS);Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[c];if(!Array.isArray(s))s=[];else for(var u=0,d=s;u<d.length;u++){var f=d[u];if(f.key===r.key)throw new Error(IS+" "+f.key.toString())}s.push(r),o[c]=s,Reflect.defineMetadata(t,o,e)}function Np(t,e){Reflect.decorate(t,e)}function eE(t,e){return function(n,r){e(n,r,t)}}function tE(t,e,n){typeof n=="number"?Np([eE(n,t)],e):typeof n=="string"?Reflect.decorate([t],e,n):Np([t],e)}var am=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();function sm(t){return function(e,n,r){if(t===void 0)throw new Error(TS(e.name));var i=new Jt(Na,t);typeof r=="number"?pi(e,n,r,i):Fa(e,n,i)}}var nE=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}(),Gc=function(){function t(e,n,r,i){this.id=Fr(),this.type=e,this.serviceIdentifier=r,this.name=new nE(n||""),this.metadata=new Array;var o=null;typeof i=="string"?o=new Jt(An,i):i instanceof Jt&&(o=i),o!==null&&this.metadata.push(o)}return t.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(_i)},t.prototype.matchesArray=function(e){return this.matchesTag(_i)(e)},t.prototype.isNamed=function(){return this.hasTag(An)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return Al.every(function(n){return e.key!==n})})},t.prototype.isOptional=function(){return this.matchesTag(qc)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===An})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return Al.every(function(n){return e.key!==n})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(An)(e)},t.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var a=o[i];if(a.key===e&&a.value===r)return!0}return!1}},t}(),vc=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function rE(t,e){var n=Wc(e),r=cm(t,n,e,!1);return r}function cm(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var a=xS+" "+e+".";throw new Error(a)}var c=i.userGeneratedMetadata,s=Object.keys(c),u=n.length===0&&s.length>0,d=s.length>n.length,f=u||d?s.length:n.length,_=oE(r,e,o,c,f),y=um(t,n),g=vc(vc([],_),y);return g}function iE(t,e,n,r,i){var o=i[t.toString()]||[],a=lm(o),c=a.unmanaged!==!0,s=r[t],u=a.inject||a.multiInject;if(s=u||s,s instanceof am&&(s=s.unwrap()),c){var d=s===Object,f=s===Function,_=s===void 0,y=d||f||_;if(!e&&y){var g=DS+" argument "+t+" in class "+n+".";throw new Error(g)}var v=new Gc(Xn.ConstructorArgument,a.targetName,s);return v.metadata=o,v}return null}function oE(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var c=a,s=iE(c,t,e,n,r);s!==null&&o.push(s)}return o}function um(t,e){for(var n=t.getPropertiesMetadata(e),r=[],i=Object.keys(n),o=0,a=i;o<a.length;o++){var c=a[o],s=n[c],u=lm(n[c]),d=u.targetName||c,f=u.inject||u.multiInject,_=new Gc(Xn.ClassProperty,d,f);_.metadata=s,r.push(_)}var y=Object.getPrototypeOf(e.prototype).constructor;if(y!==Object){var g=um(t,y);r=vc(vc([],r),g)}return r}function dm(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var r=Wc(n),i=cm(t,r,n,!0),o=i.map(function(s){return s.metadata.filter(function(u){return u.key===Ua})}),a=[].concat.apply([],o).length,c=i.length-a;return c>0?c:dm(t,n)}else return 0}function lm(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[Na],multiInject:e[_i],targetName:e[Zc],unmanaged:e[Ua]}}var xf=function(){function t(e,n,r,i,o){this.id=Fr(),this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();function Ol(t){return t._bindingDictionary}function aE(t,e,n,r,i,o){var a=t?_i:Na,c=new Jt(a,n),s=new Gc(e,r,n,c);if(i!==void 0){var u=new Jt(i,o);s.metadata.push(u)}return s}function Fp(t,e,n,r,i){var o=Oa(n.container,i.serviceIdentifier),a=[];return o.length===Ws.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=Oa(n.container,i.serviceIdentifier)),e?a=o:a=o.filter(function(c){var s=new xf(c.serviceIdentifier,n,r,c,i);return c.constraint(s)}),sE(i.serviceIdentifier,a,i,n.container),a}function sE(t,e,n,r){switch(e.length){case Ws.NoBindingsAvailable:if(n.isOptional())return e;var i=io(t),o=CS;throw o+=XS(i,n),o+=Up(r,i,Oa),new Error(o);case Ws.OnlyOneBindingAvailable:if(!n.isArray())return e;case Ws.MultipleBindingsAvailable:default:if(n.isArray())return e;var i=io(t),o=jS+" "+i;throw o+=Up(r,i,Oa),new Error(o)}}function fm(t,e,n,r,i,o){var a,c;if(i===null){a=Fp(t,e,r,null,o),c=new xf(n,r,null,a,o);var s=new QS(r,c);r.addPlan(s)}else a=Fp(t,e,r,i,o),c=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach(function(u){var d=null;if(o.isArray())d=c.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;d=c}if(u.type===Mt.Instance&&u.implementationType!==null){var f=rE(t,u.implementationType);if(!r.container.options.skipBaseClassChecks){var _=dm(t,u.implementationType);if(f.length<_){var y=$S(Wc(u.implementationType));throw new Error(y)}}f.forEach(function(g){fm(t,!1,g.serviceIdentifier,r,d,g)})}})}function Oa(t,e){var n=[],r=Ol(t);return r.hasKey(e)?n=r.get(e):t.parent!==null&&(n=Oa(t.parent,e)),n}function cE(t,e,n,r,i,o,a,c){c===void 0&&(c=!1);var s=new im(e),u=aE(n,r,i,"",o,a);try{return fm(t,c,i,s,null,u),s}catch(d){throw tm(d)&&s.plan&&rm(s.plan.rootRequest),d}}function uE(t,e,n,r){var i=new Gc(Xn.Variable,"",e,new Jt(n,r)),o=new im(t),a=new xf(e,o,null,[],i);return a}var dE=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function lE(t,e,n){var r=e.filter(function(o){return o.target!==null&&o.target.type===Xn.ClassProperty}),i=r.map(n);return r.forEach(function(o,a){var c="";c=o.target.name.value();var s=i[a];t[c]=s}),t}function fE(t,e){return new(t.bind.apply(t,dE([void 0],e)))}function _E(t,e){if(Reflect.hasMetadata(eo,t)){var n=Reflect.getMetadata(eo,t);try{e[n.value]()}catch(r){throw new Error(qS(t.name,r.message))}}}function pE(t,e,n){var r=null;if(e.length>0){var i=e.filter(function(a){return a.target!==null&&a.target.type===Xn.ConstructorArgument}),o=i.map(n);r=fE(t,o),r=lE(r,e,n)}else r=new t;return _E(t,r),r}var pd=function(t,e,n){try{return n()}catch(r){throw tm(r)?new Error(WS(t,e.toString())):r}},Il=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(f){var _=Il(t);return _(f)});var a=null;if(e.target.isOptional()&&n.length===0)return;var c=n[0],s=c.scope===Ct.Singleton,u=c.scope===Ct.Request;if(s&&c.activated)return c.cache;if(u&&t!==null&&t.has(c.id))return t.get(c.id);if(c.type===Mt.ConstantValue)a=c.cache,c.activated=!0;else if(c.type===Mt.Function)a=c.cache,c.activated=!0;else if(c.type===Mt.Constructor)a=c.implementationType;else if(c.type===Mt.DynamicValue&&c.dynamicValue!==null)a=pd("toDynamicValue",c.serviceIdentifier,function(){return c.dynamicValue(e.parentContext)});else if(c.type===Mt.Factory&&c.factory!==null)a=pd("toFactory",c.serviceIdentifier,function(){return c.factory(e.parentContext)});else if(c.type===Mt.Provider&&c.provider!==null)a=pd("toProvider",c.serviceIdentifier,function(){return c.provider(e.parentContext)});else if(c.type===Mt.Instance&&c.implementationType!==null)a=pE(c.implementationType,r,Il(t));else{var d=io(e.serviceIdentifier);throw new Error(US+" "+d)}return typeof c.onActivation=="function"&&(a=c.onActivation(e.parentContext,a)),s&&(c.cache=a,c.activated=!0),u&&t!==null&&!t.has(c.id)&&t.set(c.id,a),a}};function hE(t){var e=Il(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}var Zn=function(t,e){var n=t.parentRequest;return n!==null?e(n)?!0:Zn(n,e):!1},qi=function(t){return function(e){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(t)(e)};return n.metaData=new Jt(t,e),n}},sa=qi(An),Gs=function(t){return function(e){var n=null;if(e!==null)if(n=e.bindings[0],typeof t=="string"){var r=n.serviceIdentifier;return r===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}},Df=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new xt(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=sa(e),new xt(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var n=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return n},new xt(this._binding)},t.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=qi(e)(n),new xt(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return Gs(e)(n.parentRequest)},new xt(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return sa(e)(n.parentRequest)},new xt(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return qi(e)(n)(r.parentRequest)},new xt(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return Zn(n,Gs(e))},new xt(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return!Zn(n,Gs(e))},new xt(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return Zn(n,sa(e))},new xt(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return!Zn(n,sa(e))},new xt(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return Zn(r,qi(e)(n))},new xt(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return!Zn(r,qi(e)(n))},new xt(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return Zn(n,e)},new xt(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return!Zn(n,e)},new xt(this._binding)},t}(),xt=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new Df(this._binding)},t}(),xr=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new Df(this._binding),this._bindingOnSyntax=new xt(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),gE=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=Ct.Request,new xr(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=Ct.Singleton,new xr(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=Ct.Transient,new xr(this._binding)},t}(),kp=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new Df(this._binding),this._bindingOnSyntax=new xt(this._binding),this._bindingInSyntax=new gE(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),yE=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=Mt.Instance,this._binding.implementationType=e,new kp(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+BS);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=Mt.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Ct.Singleton,new xr(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=Mt.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new kp(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=Mt.Constructor,this._binding.implementationType=e,this._binding.scope=Ct.Singleton,new xr(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=Mt.Factory,this._binding.factory=e,this._binding.scope=Ct.Singleton,new xr(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(kS);var n=this.toConstantValue(e);return this._binding.type=Mt.Function,this._binding.scope=Ct.Singleton,n},t.prototype.toAutoFactory=function(e){return this._binding.type=Mt.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(e)};return r},this._binding.scope=Ct.Singleton,new xr(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=Mt.Provider,this._binding.provider=e,this._binding.scope=Ct.Singleton,new xr(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},t}(),mE=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}(),Bp=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,n){if(e==null)throw new Error(Fo);if(n==null)throw new Error(Fo);var r=this._map.get(e);r!==void 0?(r.push(n),this._map.set(e,r)):this._map.set(e,[n])},t.prototype.get=function(e){if(e==null)throw new Error(Fo);var n=this._map.get(e);if(n!==void 0)return n;throw new Error(Lp)},t.prototype.remove=function(e){if(e==null)throw new Error(Fo);if(!this._map.delete(e))throw new Error(Lp)},t.prototype.removeByCondition=function(e){var n=this;this._map.forEach(function(r,i){var o=r.filter(function(a){return!e(a)});o.length>0?n._map.set(i,o):n._map.delete(i)})},t.prototype.hasKey=function(e){if(e==null)throw new Error(Fo);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){n.forEach(function(i){return e.add(r,i.clone())})}),e},t.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},t}(),vE=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},bE=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},PE=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},_m=function(){function t(e){this._appliedMiddleware=[];var n=e||{};if(typeof n!="object")throw new Error(""+VS);if(n.defaultScope===void 0)n.defaultScope=Ct.Transient;else if(n.defaultScope!==Ct.Singleton&&n.defaultScope!==Ct.Transient&&n.defaultScope!==Ct.Request)throw new Error(""+HS);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+KS);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+zS);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=Fr(),this._bindingDictionary=new Bp,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new em}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,a=PE([e,n],r).map(function(u){return Ol(u)}),c=Ol(o);function s(u,d){u.traverse(function(f,_){_.forEach(function(y){d.add(y.serviceIdentifier,y.clone())})})}return a.forEach(function(u){s(u,c)}),o},t.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var a=o[i],c=r(a.id);a.registry(c.bindFunction,c.unbindFunction,c.isboundFunction,c.rebindFunction)}},t.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return vE(this,void 0,void 0,function(){var r,i,o,a,c;return bE(this,function(s){switch(s.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,s.label=1;case 1:return i<o.length?(a=o[i],c=r(a.id),[4,a.registry(c.bindFunction,c.unbindFunction,c.isboundFunction,c.rebindFunction)]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=function(o){return function(a){return a.moduleId===o}};n.forEach(function(o){var a=i(o.id);e._bindingDictionary.removeByCondition(a)})},t.prototype.bind=function(e){var n=this.options.defaultScope||Ct.Transient,r=new AS(e,n);return this._bindingDictionary.add(e,r),new yE(r)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(MS+" "+io(e))}},t.prototype.unbindAll=function(){this._bindingDictionary=new Bp},t.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},t.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,An,n)},t.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),a=uE(this,e,n,r);i=o.some(function(c){return c.constraint(a)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},t.prototype.snapshot=function(){this._snapshots.push(mE.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(NS);this._bindingDictionary=e.bindings,this._middleware=e.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._appliedMiddleware=this._appliedMiddleware.concat(e);var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){return this._get(!1,!1,Xn.Variable,e)},t.prototype.getTagged=function(e,n,r){return this._get(!1,!1,Xn.Variable,e,n,r)},t.prototype.getNamed=function(e,n){return this.getTagged(e,An,n)},t.prototype.getAll=function(e){return this._get(!0,!0,Xn.Variable,e)},t.prototype.getAllTagged=function(e,n,r){return this._get(!1,!0,Xn.Variable,e,n,r)},t.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,An,n)},t.prototype.resolve=function(e){var n=this.createChild();return n.bind(e).toSelf(),this._appliedMiddleware.forEach(function(r){n.applyMiddleware(r)}),n.get(e)},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(c,s){c._binding.moduleId=s},r=function(c){return function(s){var u=e.bind.bind(e),d=u(s);return n(d,c),d}},i=function(c){return function(s){var u=e.unbind.bind(e);u(s)}},o=function(c){return function(s){var u=e.isBound.bind(e);return u(s)}},a=function(c){return function(s){var u=e.rebind.bind(e),d=u(s);return n(d,c),d}};return function(c){return{bindFunction:r(c),isboundFunction:o(c),rebindFunction:a(c),unbindFunction:i(c)}}},t.prototype._get=function(e,n,r,i,o,a){var c=null,s={avoidConstraints:e,contextInterceptor:function(u){return u},isMultiInject:n,key:o,serviceIdentifier:i,targetType:r,value:a};if(this._middleware){if(c=this._middleware(s),c==null)throw new Error(FS)}else c=this._planAndResolve()(s);return c},t.prototype._planAndResolve=function(){var e=this;return function(n){var r=cE(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=hE(r);return i}},t}(),pm=function(){function t(e){this.id=Fr(),this.registry=e}return t}(),wE=function(){function t(e){this.id=Fr(),this.registry=e}return t}();function Tf(){return function(t){if(Reflect.hasOwnMetadata(mc,t))throw new Error(OS);var e=Reflect.getMetadata(Qy,t)||[];return Reflect.defineMetadata(mc,e,t),t}}function RE(t,e){return function(n,r,i){var o=new Jt(t,e);typeof i=="number"?pi(n,r,i,o):Fa(n,r,o)}}function SE(t){return function(e,n,r){var i=new Jt(An,t);typeof r=="number"?pi(e,n,r,i):Fa(e,n,i)}}function EE(){return function(t,e,n){var r=new Jt(qc,!0);typeof n=="number"?pi(t,e,n,r):Fa(t,e,r)}}function AE(){return function(t,e,n){var r=new Jt(Ua,!0);pi(t,e,n,r)}}function OE(t){return function(e,n,r){var i=new Jt(_i,t);typeof r=="number"?pi(e,n,r,i):Fa(e,n,i)}}function IE(t){return function(e,n,r){var i=new Jt(Zc,t);pi(e,n,r,i)}}function jE(){return function(t,e,n){var r=new Jt(eo,e);if(Reflect.hasOwnMetadata(eo,t.constructor))throw new Error(ZS);Reflect.defineMetadata(eo,r,t.constructor)}}var ME=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(i){return t.bind(i).toService(e)})}}},CE=SS,xE=Object.freeze(Object.defineProperty({__proto__:null,METADATA_KEY:CE,Container:_m,BindingScopeEnum:Ct,BindingTypeEnum:Mt,TargetTypeEnum:Xn,AsyncContainerModule:wE,ContainerModule:pm,injectable:Tf,tagged:RE,named:SE,inject:sm,LazyServiceIdentifer:am,optional:EE,unmanaged:AE,multiInject:OE,targetName:IE,postConstruct:jE,MetadataReader:em,id:Fr,decorate:tE,traverseAncerstors:Zn,taggedConstraint:qi,namedConstraint:sa,typeConstraint:Gs,getServiceIdentifierAsString:io,multiBindToService:ME},Symbol.toStringTag,{value:"Module"})),fe=Of(xE),ka={};Object.defineProperty(ka,"__esModule",{value:!0});var DE=function(){function t(){var e=this;this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t}();ka.Deferred=DE;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.TYPES={Action:Symbol("Action"),IActionDispatcher:Symbol("IActionDispatcher"),IActionDispatcherProvider:Symbol("IActionDispatcherProvider"),IActionHandlerInitializer:Symbol("IActionHandlerInitializer"),ActionHandlerRegistration:Symbol("ActionHandlerRegistration"),ActionHandlerRegistryProvider:Symbol("ActionHandlerRegistryProvider"),IAnchorComputer:Symbol("IAnchor"),AnimationFrameSyncer:Symbol("AnimationFrameSyncer"),IButtonHandler:Symbol("IButtonHandler"),ICommandPaletteActionProvider:Symbol("ICommandPaletteActionProvider"),ICommandPaletteActionProviderRegistry:Symbol("ICommandPaletteActionProviderRegistry"),CommandRegistration:Symbol("CommandRegistration"),ICommandStack:Symbol("ICommandStack"),CommandStackOptions:Symbol("CommandStackOptions"),ICommandStackProvider:Symbol("ICommandStackProvider"),IContextMenuItemProvider:Symbol.for("IContextMenuProvider"),IContextMenuProviderRegistry:Symbol.for("IContextMenuProviderRegistry"),IContextMenuService:Symbol.for("IContextMenuService"),IContextMenuServiceProvider:Symbol.for("IContextMenuServiceProvider"),DOMHelper:Symbol("DOMHelper"),IDiagramLocker:Symbol("IDiagramLocker"),IEdgeRouter:Symbol("IEdgeRouter"),IEdgeRoutePostprocessor:Symbol("IEdgeRoutePostprocessor"),IEditLabelValidationDecorator:Symbol("IEditLabelValidationDecorator"),IEditLabelValidator:Symbol("IEditLabelValidator"),HiddenModelViewer:Symbol("HiddenModelViewer"),HiddenVNodePostprocessor:Symbol("HiddenVNodeDecorator"),HoverState:Symbol("HoverState"),KeyListener:Symbol("KeyListener"),LayoutRegistration:Symbol("LayoutRegistration"),LayoutRegistry:Symbol("LayoutRegistry"),Layouter:Symbol("Layouter"),LogLevel:Symbol("LogLevel"),ILogger:Symbol("ILogger"),IModelFactory:Symbol("IModelFactory"),IModelLayoutEngine:Symbol("IModelLayoutEngine"),ModelRendererFactory:Symbol("ModelRendererFactory"),ModelSource:Symbol("ModelSource"),ModelSourceProvider:Symbol("ModelSourceProvider"),ModelViewer:Symbol("ModelViewer"),MouseListener:Symbol("MouseListener"),PatcherProvider:Symbol("PatcherProvider"),IPopupModelProvider:Symbol("IPopupModelProvider"),PopupModelViewer:Symbol("PopupModelViewer"),PopupMouseListener:Symbol("PopupMouseListener"),PopupVNodePostprocessor:Symbol("PopupVNodeDecorator"),SModelElementRegistration:Symbol("SModelElementRegistration"),SModelRegistry:Symbol("SModelRegistry"),ISnapper:Symbol("ISnapper"),SvgExporter:Symbol("SvgExporter"),IToolManager:Symbol("IToolManager"),IUIExtension:Symbol("IUIExtension"),UIExtensionRegistry:Symbol("UIExtensionRegistry"),IVNodePostprocessor:Symbol("IVNodePostprocessor"),ViewRegistration:Symbol("ViewRegistration"),ViewRegistry:Symbol("ViewRegistry"),IViewer:Symbol("IViewer"),ViewerOptions:Symbol("ViewerOptions"),IViewerProvider:Symbol("IViewerProvider")};var en={},tn={},Jc=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(tn,"__esModule",{value:!0});var Xc=fe,TE=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,n)},t.prototype.deregister=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.hasKey=function(e){return this.elements.has(e)},t.prototype.get=function(e,n){var r=this.elements.get(e);return r?new r(n):this.missing(e,n)},t.prototype.missing=function(e,n){throw new Error("Unknown registry key: "+e)},t=Jc([Xc.injectable()],t),t}();tn.ProviderRegistry=TE;var LE=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,n)},t.prototype.deregister=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.hasKey=function(e){return this.elements.has(e)},t.prototype.get=function(e,n){var r=this.elements.get(e);return r?r(n):this.missing(e,n)},t.prototype.missing=function(e,n){throw new Error("Unknown registry key: "+e)},t=Jc([Xc.injectable()],t),t}();tn.FactoryRegistry=LE;var UE=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,n)},t.prototype.deregister=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.hasKey=function(e){return this.elements.has(e)},t.prototype.get=function(e){var n=this.elements.get(e);return n||this.missing(e)},t.prototype.missing=function(e){throw new Error("Unknown registry key: "+e)},t=Jc([Xc.injectable()],t),t}();tn.InstanceRegistry=UE;var NE=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");var r=this.elements.get(e);r!==void 0?r.push(n):this.elements.set(e,[n])},t.prototype.deregisterAll=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.get=function(e){var n=this.elements.get(e);return n!==void 0?n:[]},t=Jc([Xc.injectable()],t),t}();tn.MultiInstanceRegistry=NE;var Ze={},nt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gn;(function(f){f.ORIGIN=Object.freeze({x:0,y:0});function _(A,I){return{x:A.x+I.x,y:A.y+I.y}}f.add=_;function y(A,I){return{x:A.x-I.x,y:A.y-I.y}}f.subtract=y;function g(A,I){return A.x===I.x&&A.y===I.y}f.equals=g;function v(A,I,j){var U=y(I,A),M=m(U),x={x:M.x*j,y:M.y*j};return _(A,x)}f.shiftTowards=v;function m(A){var I=h(A);return I===0||I===1?f.ORIGIN:{x:A.x/I,y:A.y/I}}f.normalize=m;function h(A){return Math.sqrt(Math.pow(A.x,2)+Math.pow(A.y,2))}f.magnitude=h;function b(A,I,j){return{x:(1-j)*A.x+j*I.x,y:(1-j)*A.y+j*I.y}}f.linear=b;function p(A,I){var j=I.x-A.x,U=I.y-A.y;return Math.sqrt(j*j+U*U)}f.euclideanDistance=p;function R(A,I){return Math.abs(I.x-A.x)+Math.abs(I.y-A.y)}f.manhattanDistance=R;function O(A,I){return Math.max(Math.abs(I.x-A.x),Math.abs(I.y-A.y))}f.maxDistance=O})(t.Point||(t.Point={}));function n(f){return Math.atan2(f.y,f.x)}t.angleOfPoint=n;function r(f,_){var y=Math.sqrt((f.x*f.x+f.y*f.y)*(_.x*_.x+_.y*_.y));if(isNaN(y)||y===0)return NaN;var g=f.x*_.x+f.y*_.y;return Math.acos(g/y)}t.angleBetweenPoints=r;function i(f,_){var y={x:f.x>_.x?_.x:f.x,y:f.y>_.y?_.y:f.y,width:Math.abs(_.x-f.x),height:Math.abs(_.y-f.y)};return c.center(y)}t.centerOfLine=i;var o;(function(f){f.EMPTY=Object.freeze({width:-1,height:-1});function _(y){return y.width>=0&&y.height>=0}f.isValid=_})(o=t.Dimension||(t.Dimension={}));function a(f){return e.hasOwnProperty(f,["x","y","width","height"])}t.isBounds=a;var c;(function(f){f.EMPTY=Object.freeze({x:0,y:0,width:-1,height:-1});function _(m,h){if(!o.isValid(m))return o.isValid(h)?h:f.EMPTY;if(!o.isValid(h))return m;var b=Math.min(m.x,h.x),p=Math.min(m.y,h.y),R=Math.max(m.x+(m.width>=0?m.width:0),h.x+(h.width>=0?h.width:0)),O=Math.max(m.y+(m.height>=0?m.height:0),h.y+(h.height>=0?h.height:0));return{x:b,y:p,width:R-b,height:O-p}}f.combine=_;function y(m,h){return{x:m.x+h.x,y:m.y+h.y,width:m.width,height:m.height}}f.translate=y;function g(m){return{x:m.x+(m.width>=0?.5*m.width:0),y:m.y+(m.height>=0?.5*m.height:0)}}f.center=g;function v(m,h){return h.x>=m.x&&h.x<=m.x+m.width&&h.y>=m.y&&h.y<=m.y+m.height}f.includes=v})(c=t.Bounds||(t.Bounds={}));function s(f){return f*180/Math.PI}t.toDegrees=s;function u(f){return f*Math.PI/180}t.toRadians=u;function d(f,_){return Math.abs(f-_)<.001}t.almostEquals=d})(nt);var hi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function c(s,u){this.startFn=s,this.nextFn=u}return c.prototype[Symbol.iterator]=function(){var s,u=this,d=(s={state:this.startFn(),next:function(){return u.nextFn(d.state)}},s[Symbol.iterator]=function(){return d},s);return d},c.prototype.filter=function(s){return r(this,s)},c.prototype.map=function(s){return i(this,s)},c.prototype.forEach=function(s){var u=this[Symbol.iterator](),d=0,f;do f=u.next(),f.value!==void 0&&s(f.value,d),d++;while(!f.done)},c.prototype.indexOf=function(s){var u=this[Symbol.iterator](),d=0,f;do{if(f=u.next(),f.value===s)return d;d++}while(!f.done);return-1},c}();t.FluentIterableImpl=e;function n(c){if(c.constructor===Array)return c;var s=[];return c.forEach(function(u){return s.push(u)}),s}t.toArray=n,t.DONE_RESULT=Object.freeze({done:!0,value:void 0});function r(c,s){return new e(function(){return o(c)},function(u){var d;do d=u.next();while(!d.done&&!s(d.value));return d})}t.filterIterable=r;function i(c,s){return new e(function(){return o(c)},function(u){var d=u.next(),f=d.done,_=d.value;return f?t.DONE_RESULT:{done:!1,value:s(_)}})}t.mapIterable=i;function o(c){var s=c[Symbol.iterator];if(typeof s=="function")return s.call(c);var u=c.length;return typeof u=="number"&&u>=0?new a(c):{next:function(){return t.DONE_RESULT}}}var a=function(){function c(s){this.array=s,this.index=0}return c.prototype.next=function(){return this.index<this.array.length?{done:!1,value:this.array[this.index++]}:t.DONE_RESULT},c.prototype[Symbol.iterator]=function(){return this},c}()})(hi);var Lf=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ze,"__esModule",{value:!0});var jl=nt,FE=hi,hm=function(){function t(){}return Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;e;){if(e instanceof ym)return e;e instanceof gm?e=e.parent:e=void 0}throw new Error("Element has no root")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.root.index},enumerable:!0,configurable:!0}),t.prototype.hasFeature=function(e){return this.features!==void 0&&this.features.has(e)},t}();Ze.SModelElement=hm;function kE(t){var e=t.children;return e!==void 0&&e.constructor===Array}Ze.isParent=kE;var Ia=function(t){Lf(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.children=[],n}return e.prototype.add=function(n,r){var i=this.children;if(r===void 0)i.push(n);else{if(r<0||r>this.children.length)throw new Error("Child index "+r+" out of bounds (0.."+i.length+")");i.splice(r,0,n)}n.parent=this,this.index.add(n)},e.prototype.remove=function(n){var r=this.children,i=r.indexOf(n);if(i<0)throw new Error("No such child "+n.id);r.splice(i,1),this.index.remove(n)},e.prototype.removeAll=function(n){var r=this,i=this.children;if(n!==void 0){for(var o=i.length-1;o>=0;o--)if(n(i[o])){var a=i.splice(o,1)[0];this.index.remove(a)}}else i.forEach(function(c){r.index.remove(c)}),i.splice(0,i.length)},e.prototype.move=function(n,r){var i=this.children,o=i.indexOf(n);if(o===-1)throw new Error("No such child "+n.id);if(r<0||r>i.length-1)throw new Error("Child index "+r+" out of bounds (0.."+i.length+")");i.splice(o,1),i.splice(r,0,n)},e.prototype.localToParent=function(n){return jl.isBounds(n)?n:{x:n.x,y:n.y,width:-1,height:-1}},e.prototype.parentToLocal=function(n){return jl.isBounds(n)?n:{x:n.x,y:n.y,width:-1,height:-1}},e}(hm);Ze.SParentElement=Ia;var gm=function(t){Lf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ia);Ze.SChildElement=gm;var ym=function(t){Lf(e,t);function e(n){n===void 0&&(n=new vm);var r=t.call(this)||this;return r.canvasBounds=jl.Bounds.EMPTY,Object.defineProperty(r,"index",{value:n,writable:!1}),r}return e}(Ia);Ze.SModelRoot=ym;var Yp="0123456789abcdefghijklmnopqrstuvwxyz";function mm(t){t===void 0&&(t=8);for(var e="",n=0;n<t;n++)e+=Yp.charAt(Math.floor(Math.random()*Yp.length));return e}Ze.createRandomId=mm;var vm=function(){function t(){this.id2element=new Map}return t.prototype.add=function(e){if(e.id){if(this.contains(e))throw new Error("Duplicate ID in model: "+e.id)}else do e.id=mm();while(this.contains(e));if(this.id2element.set(e.id,e),e instanceof Ia)for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.add(i)}},t.prototype.remove=function(e){if(this.id2element.delete(e.id),e instanceof Ia)for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.remove(i)}},t.prototype.contains=function(e){return this.id2element.has(e.id)},t.prototype.getById=function(e){return this.id2element.get(e)},t.prototype.getAttachedElements=function(e){return[]},t.prototype.all=function(){return FE.mapIterable(this.id2element,function(e){e[0];var n=e[1];return n})},t}();Ze.ModelIndexImpl=vm;var BE=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ml=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},bm=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},$p=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(en,"__esModule",{value:!0});var _a=fe,Pm=Se,YE=tn,Di=Ze,$E=function(){function t(){}return t.prototype.createElement=function(e,n){var r;if(this.registry.hasKey(e.type)){var i=this.registry.get(e.type,void 0);if(!(i instanceof Di.SChildElement))throw new Error("Element with type "+e.type+" was expected to be an SChildElement.");r=i}else r=new Di.SChildElement;return this.initializeChild(r,e,n)},t.prototype.createRoot=function(e){var n;if(this.registry.hasKey(e.type)){var r=this.registry.get(e.type,void 0);if(!(r instanceof Di.SModelRoot))throw new Error("Element with type "+e.type+" was expected to be an SModelRoot.");n=r}else n=new Di.SModelRoot;return this.initializeRoot(n,e)},t.prototype.createSchema=function(e){var n=this,r={};for(var i in e)if(!this.isReserved(e,i)){var o=e[i];typeof o!="function"&&(r[i]=o)}return e instanceof Di.SParentElement&&(r.children=e.children.map(function(a){return n.createSchema(a)})),r},t.prototype.initializeElement=function(e,n){for(var r in n)if(!this.isReserved(e,r)){var i=n[r];typeof i!="function"&&(e[r]=i)}return e},t.prototype.isReserved=function(e,n){if(["children","parent","index"].indexOf(n)>=0)return!0;var r=e;do{var i=Object.getOwnPropertyDescriptor(r,n);if(i!==void 0)return i.get!==void 0;r=Object.getPrototypeOf(r)}while(r);return!1},t.prototype.initializeParent=function(e,n){var r=this;return this.initializeElement(e,n),Di.isParent(n)&&(e.children=n.children.map(function(i){return r.createElement(i,e)})),e},t.prototype.initializeChild=function(e,n,r){return this.initializeParent(e,n),r!==void 0&&(e.parent=r),e},t.prototype.initializeRoot=function(e,n){return this.initializeParent(e,n),e.index.add(e),e},Ml([_a.inject(Pm.TYPES.SModelRegistry),bm("design:type",wm)],t.prototype,"registry",void 0),t=Ml([_a.injectable()],t),t}();en.SModelFactory=$E;en.EMPTY_ROOT=Object.freeze({type:"NONE",id:"EMPTY"});var wm=function(t){BE(e,t);function e(n){var r=t.call(this)||this;return n.forEach(function(i){var o=r.getDefaultFeatures(i.constr);if(!o&&i.features&&i.features.enable&&(o=[]),o){var a=Rm(o,i.features);r.register(i.type,function(){var c=new i.constr;return c.features=a,c})}else r.register(i.type,function(){return new i.constr})}),r}return e.prototype.getDefaultFeatures=function(n){var r=n;do{var i=r.DEFAULT_FEATURES;if(i)return i;r=Object.getPrototypeOf(r)}while(r)},e=Ml([_a.injectable(),$p(0,_a.multiInject(Pm.TYPES.SModelElementRegistration)),$p(0,_a.optional()),bm("design:paramtypes",[Array])],e),e}(YE.FactoryRegistry);en.SModelRegistry=wm;function Rm(t,e){var n=new Set(t);if(e&&e.enable)for(var r=0,i=e.enable;r<i.length;r++){var o=i[r];n.add(o)}if(e&&e.disable)for(var a=0,c=e.disable;a<c.length;a++){var o=c[a];n.delete(o)}return n}en.createFeatureSet=Rm;var gi={},VE=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(gi,"__esModule",{value:!0});var HE=fe,KE=function(){function t(){this.tasks=[],this.endTasks=[],this.triggered=!1}return t.prototype.isAvailable=function(){return typeof requestAnimationFrame=="function"},t.prototype.onNextFrame=function(e){this.tasks.push(e),this.trigger()},t.prototype.onEndOfNextFrame=function(e){this.endTasks.push(e),this.trigger()},t.prototype.trigger=function(){var e=this;this.triggered||(this.triggered=!0,this.isAvailable()?requestAnimationFrame(function(n){return e.run(n)}):setTimeout(function(n){return e.run(n)}))},t.prototype.run=function(e){var n=this.tasks,r=this.endTasks;this.triggered=!1,this.tasks=[],this.endTasks=[],n.forEach(function(i){return i.call(void 0,e)}),r.forEach(function(i){return i.call(void 0,e)})},t=VE([HE.injectable()],t),t}();gi.AnimationFrameSyncer=KE;var Qc={},In={},qt={},lo={},Uf={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});function zE(t){return JSON.parse(JSON.stringify(t))}nn.cloneModel=zE;function ZE(t,e){var n=new Em;n.add(t);for(var r=0,i=e.bounds;r<i.length;r++){var o=i[r],a=n.getById(o.elementId);if(a){var c=a;o.newPosition&&(c.position={x:o.newPosition.x,y:o.newPosition.y}),o.newSize&&(c.size={width:o.newSize.width,height:o.newSize.height})}}if(e.alignments)for(var s=0,u=e.alignments;s<u.length;s++){var d=u[s],a=n.getById(d.elementId);if(a){var f=a;f.alignment={x:d.newAlignment.x,y:d.newAlignment.y}}}}nn.applyBounds=ZE;function qE(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(0,e):t.type}nn.getBasicType=qE;function WE(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(e+1):t.type}nn.getSubType=WE;function Sm(t,e){if(t.id===e)return t;if(t.children!==void 0)for(var n=0,r=t.children;n<r.length;n++){var i=r[n],o=Sm(i,e);if(o!==void 0)return o}}nn.findElement=Sm;var Em=function(){function t(){this.id2element=new Map,this.id2parent=new Map}return t.prototype.add=function(e){if(e.id){if(this.contains(e))throw new Error("Duplicate ID in model: "+e.id)}else throw new Error("Model element has no ID.");if(this.id2element.set(e.id,e),Array.isArray(e.children))for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.add(i),this.id2parent.set(i.id,e)}},t.prototype.remove=function(e){if(this.id2element.delete(e.id),Array.isArray(e.children))for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.id2parent.delete(i.id),this.remove(i)}},t.prototype.contains=function(e){return this.id2element.has(e.id)},t.prototype.getById=function(e){return this.id2element.get(e)},t.prototype.getParent=function(e){return this.id2parent.get(e)},t.prototype.getRoot=function(e){for(var n=e;n;){var r=this.id2parent.get(n.id);if(r===void 0)return n;n=r}throw new Error("Element has no root")},t}();nn.SModelIndex=Em;var Ss=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},Es=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Uf,"__esModule",{value:!0});var Wt=St,GE=ka,hd=nn,JE=function(){function t(e,n){this.state={currentRoot:{type:"NONE",id:"ROOT"},revision:0},this.requests=new Map,this.handlers=new Map,this.dispatch=e,this.diagramGenerator=n.DiagramGenerator,this.layoutEngine=n.ModelLayoutEngine}return t.prototype.onAction=function(e,n){this.handlers.has(e)?this.handlers.get(e).push(n):this.handlers.set(e,[n])},t.prototype.removeActionHandler=function(e,n){var r=this.handlers.get(e);if(r){var i=r.indexOf(n);i>=0&&r.splice(i,1)}},t.prototype.setModel=function(e){return e.revision=++this.state.revision,this.state.currentRoot=e,this.submitModel(e,!1)},t.prototype.updateModel=function(e){return e.revision=++this.state.revision,this.state.currentRoot=e,this.submitModel(e,!0)},Object.defineProperty(t.prototype,"needsClientLayout",{get:function(){return this.state.options&&this.state.options.needsClientLayout!==void 0?!!this.state.options.needsClientLayout:!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needsServerLayout",{get:function(){return this.state.options&&this.state.options.needsServerLayout!==void 0?!!this.state.options.needsServerLayout:!1},enumerable:!0,configurable:!0}),t.prototype.accept=function(e){if(Wt.isResponseAction(e)){var n=e.responseId,r=this.requests.get(n);if(r){if(this.requests.delete(n),e.kind===Wt.RejectAction.KIND){var i=e;r.reject(new Error(i.message)),console.warn("Request with id "+e.responseId+" failed: "+i.message,i.detail)}else r.resolve(e);return Promise.resolve()}console.info("No matching request for response:",e)}return this.handleAction(e)},t.prototype.request=function(e){var n=this;e.requestId||(e.requestId="server_"+Wt.generateRequestId());var r=new GE.Deferred;return this.requests.set(e.requestId,r),this.dispatch(e).catch(function(i){n.requests.delete(e.requestId),r.reject(i)}),r.promise},t.prototype.rejectRemoteRequest=function(e,n){e&&Wt.isRequestAction(e)&&this.dispatch({kind:Wt.RejectAction.KIND,responseId:e.requestId,message:n.message,detail:n.stack})},t.prototype.handleAction=function(e){var n=this,r=this.handlers.get(e.kind);if(r&&r.length===1)return r[0](e,this.state,this);if(r&&r.length>1)return Promise.all(r.map(function(i){return i(e,n.state,n)}));switch(e.kind){case Wt.RequestModelAction.KIND:return this.handleRequestModel(e);case Wt.ComputedBoundsAction.KIND:return this.handleComputedBounds(e);case Wt.LayoutAction.KIND:return this.handleLayout(e)}return console.warn("Unhandled action from client: "+e.kind),Promise.resolve()},t.prototype.handleRequestModel=function(e){var n;return Ss(this,void 0,void 0,function(){var r,i;return Es(this,function(o){switch(o.label){case 0:this.state.options=e.options,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.diagramGenerator.generate({options:(n=this.state.options)!==null&&n!==void 0?n:{},state:this.state})];case 2:return r=o.sent(),r.revision=++this.state.revision,this.state.currentRoot=r,[4,this.submitModel(this.state.currentRoot,!1,e)];case 3:return o.sent(),[3,5];case 4:return i=o.sent(),this.rejectRemoteRequest(e,i),console.error("Failed to generate diagram:",i),[3,5];case 5:return[2]}})})},t.prototype.submitModel=function(e,n,r){return Ss(this,void 0,void 0,function(){var i,o,a;return Es(this,function(c){switch(c.label){case 0:return this.needsClientLayout?this.needsServerLayout?[3,1]:(this.dispatch({kind:Wt.RequestBoundsAction.KIND,newRoot:e}),[3,5]):[3,6];case 1:return i=Wt.RequestBoundsAction.create(e),[4,this.request(i)];case 2:return o=c.sent(),a=this.state.currentRoot,o.revision!==a.revision?[3,4]:(hd.applyBounds(a,o),[4,this.doSubmitModel(a,n,r)]);case 3:return c.sent(),[3,5];case 4:this.rejectRemoteRequest(r,new Error("Model revision does not match: "+o.revision)),c.label=5;case 5:return[3,8];case 6:return[4,this.doSubmitModel(e,n,r)];case 7:c.sent(),c.label=8;case 8:return[2]}})})},t.prototype.doSubmitModel=function(e,n,r){return Ss(this,void 0,void 0,function(){var i,o,a;return Es(this,function(c){switch(c.label){case 0:return e.revision!==this.state.revision?[2]:this.needsServerLayout&&this.layoutEngine?[4,this.layoutEngine.layout(e)]:[3,2];case 1:e=c.sent(),c.label=2;case 2:return i=e.type,r&&r.kind===Wt.RequestModelAction.KIND?(o=r.requestId,a=Wt.SetModelAction.create(e,o),[4,this.dispatch(a)]):[3,4];case 3:return c.sent(),[3,8];case 4:return n&&i===this.state.lastSubmittedModelType?[4,this.dispatch({kind:Wt.UpdateModelAction.KIND,newRoot:e,cause:r})]:[3,6];case 5:return c.sent(),[3,8];case 6:return[4,this.dispatch({kind:Wt.SetModelAction.KIND,newRoot:e})];case 7:c.sent(),c.label=8;case 8:return this.state.lastSubmittedModelType=i,[2]}})})},t.prototype.handleComputedBounds=function(e){return e.revision!==this.state.currentRoot.revision?Promise.reject():(hd.applyBounds(this.state.currentRoot,e),Promise.resolve())},t.prototype.handleLayout=function(e){return Ss(this,void 0,void 0,function(){var n;return Es(this,function(r){switch(r.label){case 0:return this.layoutEngine?this.needsServerLayout?[3,2]:(n=hd.cloneModel(this.state.currentRoot),[4,this.layoutEngine.layout(n)]):[2];case 1:n=r.sent(),n.revision=++this.state.revision,this.state.currentRoot=n,r.label=2;case 2:return[4,this.doSubmitModel(this.state.currentRoot,!0,e)];case 3:return r.sent(),[2]}})})},t}();Uf.DiagramServer=JE;var eu={};Object.defineProperty(eu,"__esModule",{value:!0});var Am=gn;function XE(t){return Am.hasOwnProperty(t,"scroll")}eu.isScrollable=XE;function QE(t){return Am.hasOwnProperty(t,"zoom")}eu.isZoomable=QE;(function(t){function e(n){for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r])}Object.defineProperty(t,"__esModule",{value:!0}),e(St),e(Uf),e(eu),e(ka),e(nt),e(nn),e(gn)})(lo);Object.defineProperty(qt,"__esModule",{value:!0});var eA=lo;function tA(t){return Om()?t.metaKey:t.ctrlKey}qt.isCtrlOrCmd=tA;function Om(){return window.navigator.userAgent.indexOf("Mac")!==-1}qt.isMac=Om;function nA(t){if(t&&typeof window!="undefined"&&window.location){var e="";return window.location.protocol&&(e+=window.location.protocol+"//"),window.location.host&&(e+=window.location.host),e.length>0&&!t.startsWith(e)}return!1}qt.isCrossSite=nA;function rA(){return typeof window=="undefined"?eA.Point.ORIGIN:{x:window.pageXOffset,y:window.pageYOffset}}qt.getWindowScroll=rA;function iA(t,e){var n=t.getBoundingClientRect();return e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom}qt.hitsMouseEvent=iA;Object.defineProperty(In,"__esModule",{value:!0});var oA=qt;function aA(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Im(t)!==e)return!1;if(oA.isMac()){if(t.ctrlKey!==n.findIndex(function(i){return i==="ctrl"})>=0||t.metaKey!==n.findIndex(function(i){return i==="meta"||i==="ctrlCmd"})>=0)return!1}else if(t.ctrlKey!==n.findIndex(function(i){return i==="ctrl"||i==="ctrlCmd"})>=0||t.metaKey!==n.findIndex(function(i){return i==="meta"})>=0)return!1;return!(t.altKey!==n.findIndex(function(i){return i==="alt"})>=0||t.shiftKey!==n.findIndex(function(i){return i==="shift"})>=0)}In.matchesKeystroke=aA;function Im(t){if(t.keyCode){var e=Cl[t.keyCode];if(e!==void 0)return e}return t.code}In.getActualCode=Im;var Cl=new Array(256);(function(){function t(e,n){Cl[n]===void 0&&(Cl[n]=e)}t("Pause",3),t("Backspace",8),t("Tab",9),t("Enter",13),t("ShiftLeft",16),t("ShiftRight",16),t("ControlLeft",17),t("ControlRight",17),t("AltLeft",18),t("AltRight",18),t("CapsLock",20),t("Escape",27),t("Space",32),t("PageUp",33),t("PageDown",34),t("End",35),t("Home",36),t("ArrowLeft",37),t("ArrowUp",38),t("ArrowRight",39),t("ArrowDown",40),t("Insert",45),t("Delete",46),t("Digit1",49),t("Digit2",50),t("Digit3",51),t("Digit4",52),t("Digit5",53),t("Digit6",54),t("Digit7",55),t("Digit8",56),t("Digit9",57),t("Digit0",48),t("KeyA",65),t("KeyB",66),t("KeyC",67),t("KeyD",68),t("KeyE",69),t("KeyF",70),t("KeyG",71),t("KeyH",72),t("KeyI",73),t("KeyJ",74),t("KeyK",75),t("KeyL",76),t("KeyM",77),t("KeyN",78),t("KeyO",79),t("KeyP",80),t("KeyQ",81),t("KeyR",82),t("KeyS",83),t("KeyT",84),t("KeyU",85),t("KeyV",86),t("KeyW",87),t("KeyX",88),t("KeyY",89),t("KeyZ",90),t("OSLeft",91),t("MetaLeft",91),t("OSRight",92),t("MetaRight",92),t("ContextMenu",93),t("Numpad0",96),t("Numpad1",97),t("Numpad2",98),t("Numpad3",99),t("Numpad4",100),t("Numpad5",101),t("Numpad6",102),t("Numpad7",103),t("Numpad8",104),t("Numpad9",105),t("NumpadMultiply",106),t("NumpadAdd",107),t("NumpadSeparator",108),t("NumpadSubtract",109),t("NumpadDecimal",110),t("NumpadDivide",111),t("F1",112),t("F2",113),t("F3",114),t("F4",115),t("F5",116),t("F6",117),t("F7",118),t("F8",119),t("F9",120),t("F10",121),t("F11",122),t("F12",123),t("F13",124),t("F14",125),t("F15",126),t("F16",127),t("F17",128),t("F18",129),t("F19",130),t("F20",131),t("F21",132),t("F22",133),t("F23",134),t("F24",135),t("NumLock",144),t("ScrollLock",145),t("Semicolon",186),t("Equal",187),t("Comma",188),t("Minus",189),t("Period",190),t("Slash",191),t("Backquote",192),t("IntlRo",193),t("BracketLeft",219),t("Backslash",220),t("BracketRight",221),t("Quote",222),t("IntlYen",255)})();var yn={},pt={},bc=w&&w.__assign||function(){return bc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bc.apply(this,arguments)};Object.defineProperty(pt,"__esModule",{value:!0});function sA(t,e,n){Mm(t)[e]=n}pt.setAttr=sA;function Nf(t,e,n){Cm(t)[e]=n}pt.setClass=Nf;function jm(t,e){t.data===void 0&&(t.data={}),t.data.ns=e;var n=t.children;if(n!==void 0)for(var r=0;r<n.length;r++){var i=n[r];typeof i!="string"&&jm(i,e)}}pt.setNamespace=jm;function cA(t,e){var n=Cm(t);Object.keys(n).forEach(function(r){return Nf(e,r,!0)})}pt.copyClassesFromVNode=cA;function uA(t,e){for(var n=t.classList,r=0;r<n.length;r++){var i=n.item(r);i&&Nf(e,i,!0)}}pt.copyClassesFromElement=uA;function dA(t,e){ja(t).style=bc(bc({},ja(t).style||{}),e)}pt.mergeStyle=dA;function lA(t,e,n){var r=fA(t);if(r[e])throw new Error("EventListener for "+e+" already registered on VNode");r[e]=n}pt.on=lA;function Mm(t){var e=ja(t);return e.attrs||(e.attrs={}),e.attrs}pt.getAttrs=Mm;function ja(t){return t.data||(t.data={}),t.data}function Cm(t){var e=ja(t);return e.class||(e.class={}),e.class}function fA(t){var e=ja(t);return e.on||(e.on={}),e.on}var xl=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Vp=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Hp=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(yn,"__esModule",{value:!0});var ca=fe,Kp=Se,_A=Ze,gd=pt,pA=function(){function t(e){e===void 0&&(e=[]),this.keyListeners=e}return t.prototype.register=function(e){this.keyListeners.push(e)},t.prototype.deregister=function(e){var n=this.keyListeners.indexOf(e);n>=0&&this.keyListeners.splice(n,1)},t.prototype.handleEvent=function(e,n,r){var i=this.keyListeners.map(function(o){return o[e].apply(o,[n,r])}).reduce(function(o,a){return o.concat(a)});i.length>0&&(r.preventDefault(),this.actionDispatcher.dispatchAll(i))},t.prototype.keyDown=function(e,n){this.handleEvent("keyDown",e,n)},t.prototype.keyUp=function(e,n){this.handleEvent("keyUp",e,n)},t.prototype.focus=function(){},t.prototype.decorate=function(e,n){return n instanceof _A.SModelRoot&&(gd.on(e,"focus",this.focus.bind(this,n)),gd.on(e,"keydown",this.keyDown.bind(this,n)),gd.on(e,"keyup",this.keyUp.bind(this,n))),e},t.prototype.postUpdate=function(){},xl([ca.inject(Kp.TYPES.IActionDispatcher),Vp("design:type",Object)],t.prototype,"actionDispatcher",void 0),t=xl([ca.injectable(),Hp(0,ca.multiInject(Kp.TYPES.KeyListener)),Hp(0,ca.optional()),Vp("design:paramtypes",[Array])],t),t}();yn.KeyTool=pA;var hA=function(){function t(){}return t.prototype.keyDown=function(e,n){return[]},t.prototype.keyUp=function(e,n){return[]},t=xl([ca.injectable()],t),t}();yn.KeyListener=hA;(function(t){var e=w&&w.__extends||function(){var s=function(u,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var y in _)_.hasOwnProperty(y)&&(f[y]=_[y])},s(u,d)};return function(u,d){s(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=In,r=yn,i=qt,o;(function(s){s.KIND="undo";function u(){return{kind:s.KIND}}s.create=u})(o=t.UndoAction||(t.UndoAction={}));var a;(function(s){s.KIND="redo";function u(){return{kind:s.KIND}}s.create=u})(a=t.RedoAction||(t.RedoAction={}));var c=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u.prototype.keyDown=function(d,f){return n.matchesKeystroke(f,"KeyZ","ctrlCmd")?[o.create()]:n.matchesKeystroke(f,"KeyZ","ctrlCmd","shift")||!i.isMac()&&n.matchesKeystroke(f,"KeyY","ctrlCmd")?[a.create()]:[]},u}(r.KeyListener);t.UndoRedoKeyListener=c})(Qc);var Ti=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},ko=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(La,"__esModule",{value:!0});var Li=fe,Bo=St,gA=ka,Yo=Se,yA=en,mA=gi,zp=Qc,vA=function(){function t(){this.postponedActions=[],this.requests=new Map}return t.prototype.initialize=function(){var e=this;return this.initialized||(this.initialized=this.actionHandlerRegistryProvider().then(function(n){e.actionHandlerRegistry=n,e.handleAction(Bo.SetModelAction.create(yA.EMPTY_ROOT)).catch(function(){})})),this.initialized},t.prototype.dispatch=function(e){var n=this;return this.initialize().then(function(){if(n.blockUntil!==void 0)return n.handleBlocked(e,n.blockUntil);if(n.diagramLocker.isAllowed(e))return n.handleAction(e)})},t.prototype.dispatchAll=function(e){var n=this;return Promise.all(e.map(function(r){return n.dispatch(r)}))},t.prototype.request=function(e){if(!e.requestId)return Promise.reject(new Error("Request without requestId"));var n=new gA.Deferred;return this.requests.set(e.requestId,n),this.dispatch(e).catch(function(){}),n.promise},t.prototype.handleAction=function(e){if(e.kind===zp.UndoAction.KIND)return this.commandStack.undo().then(function(){});if(e.kind===zp.RedoAction.KIND)return this.commandStack.redo().then(function(){});if(Bo.isResponseAction(e)){var n=this.requests.get(e.responseId);if(n!==void 0){if(this.requests.delete(e.responseId),e.kind===Bo.RejectAction.KIND){var r=e;n.reject(new Error(r.message)),this.logger.warn(this,"Request with id "+e.responseId+" failed.",r.message,r.detail)}else n.resolve(e);return Promise.resolve()}this.logger.log(this,"No matching request for response",e)}var i=this.actionHandlerRegistry.get(e.kind);if(i.length===0){this.logger.warn(this,"Missing handler for action",e);var o=new Error("Missing handler for action '"+e.kind+"'");if(Bo.isRequestAction(e)){var n=this.requests.get(e.requestId);n!==void 0&&(this.requests.delete(e.requestId),n.reject(o))}return Promise.reject(o)}this.logger.log(this,"Handle",e);for(var a=[],c=0,s=i;c<s.length;c++){var u=s[c],d=u.handle(e);Bo.isAction(d)?a.push(this.dispatch(d)):d!==void 0&&(a.push(this.commandStack.execute(d)),this.blockUntil=d.blockUntil)}return Promise.all(a)},t.prototype.handleBlocked=function(e,n){var r=this;if(n(e)){this.blockUntil=void 0;var i=this.handleAction(e),o=this.postponedActions;this.postponedActions=[];for(var a=0,c=o;a<c.length;a++){var s=c[a];this.dispatch(s.action).then(s.resolve,s.reject)}return i}else return this.logger.log(this,"Action is postponed due to block condition",e),new Promise(function(u,d){r.postponedActions.push({action:e,resolve:u,reject:d})})},Ti([Li.inject(Yo.TYPES.ActionHandlerRegistryProvider),ko("design:type",Function)],t.prototype,"actionHandlerRegistryProvider",void 0),Ti([Li.inject(Yo.TYPES.ICommandStack),ko("design:type",Object)],t.prototype,"commandStack",void 0),Ti([Li.inject(Yo.TYPES.ILogger),ko("design:type",Object)],t.prototype,"logger",void 0),Ti([Li.inject(Yo.TYPES.AnimationFrameSyncer),ko("design:type",mA.AnimationFrameSyncer)],t.prototype,"syncer",void 0),Ti([Li.inject(Yo.TYPES.IDiagramLocker),ko("design:type",Object)],t.prototype,"diagramLocker",void 0),t=Ti([Li.injectable()],t),t}();La.ActionDispatcher=vA;var kr={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});function bA(t){return Reflect.getMetadata("inversify:paramtypes",t)!==void 0}yi.isInjectable=bA;var PA=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wA=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},RA=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},As=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(kr,"__esModule",{value:!0});var $o=fe,Pc=Se,SA=tn,EA=yi,AA=function(t){PA(e,t);function e(n,r){var i=t.call(this)||this;return n.forEach(function(o){return i.register(o.actionKind,o.factory())}),r.forEach(function(o){return i.initializeActionHandler(o)}),i}return e.prototype.initializeActionHandler=function(n){n.initialize(this)},e=wA([$o.injectable(),As(0,$o.multiInject(Pc.TYPES.ActionHandlerRegistration)),As(0,$o.optional()),As(1,$o.multiInject(Pc.TYPES.IActionHandlerInitializer)),As(1,$o.optional()),RA("design:paramtypes",[Array,Array])],e),e}(SA.MultiInstanceRegistry);kr.ActionHandlerRegistry=AA;function OA(t,e,n){if(typeof n=="function"){if(!EA.isInjectable(n))throw new Error("Action handlers should be @injectable: "+n.name);t.isBound(n)||t.bind(n).toSelf()}t.bind(Pc.TYPES.ActionHandlerRegistration).toDynamicValue(function(r){return{actionKind:e,factory:function(){return r.container.get(n)}}})}kr.configureActionHandler=OA;function IA(t,e,n){t.bind(Pc.TYPES.ActionHandlerRegistration).toConstantValue({actionKind:e,factory:function(){return{handle:n}}})}kr.onAction=IA;var tu={},jA=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(tu,"__esModule",{value:!0});var MA=fe,CA=function(){function t(){}return t.prototype.isAllowed=function(e){return!0},t=jA([MA.injectable()],t),t}();tu.DefaultDiagramLocker=CA;var gr={},nu={};Object.defineProperty(nu,"__esModule",{value:!0});function xA(t){return t<.5?t*t*2:1-(1-t)*(1-t)*2}nu.easeInOut=xA;var DA=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(gr,"__esModule",{value:!0});var xm=nu,Dm=function(){function t(e,n){n===void 0&&(n=xm.easeInOut),this.context=e,this.ease=n}return t.prototype.start=function(){var e=this;return new Promise(function(n,r){var i=void 0,o=0,a=function(s){o++;var u;i===void 0?(i=s,u=0):u=s-i;var d=Math.min(1,u/e.context.duration),f=e.tween(e.ease(d),e.context);e.context.modelChanged.update(f),d===1?(e.context.logger.log(e,o*1e3/e.context.duration+" fps"),n(f)):e.context.syncer.onNextFrame(a)};if(e.context.syncer.isAvailable())e.context.syncer.onNextFrame(a);else{var c=e.tween(1,e.context);n(c)}})},t}();gr.Animation=Dm;var TA=function(t){DA(e,t);function e(n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=xm.easeInOut);var a=t.call(this,r,o)||this;return a.model=n,a.context=r,a.components=i,a.ease=o,a}return e.prototype.include=function(n){return this.components.push(n),this},e.prototype.tween=function(n,r){for(var i=0,o=this.components;i<o.length;i++){var a=o[i];a.tween(n,r)}return this.model},e}(Dm);gr.CompoundAnimation=TA;var at={},Ba=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fo=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(at,"__esModule",{value:!0});var _o=fe,po=function(){function t(){}return t=fo([_o.injectable()],t),t}();at.Command=po;var LA=function(t){Ba(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.merge=function(n,r){return!1},e=fo([_o.injectable()],e),e}(po);at.MergeableCommand=LA;var UA=function(t){Ba(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.undo=function(n){return n.logger.error(this,"Cannot undo a hidden command"),n.root},e.prototype.redo=function(n){return n.logger.error(this,"Cannot redo a hidden command"),n.root},e=fo([_o.injectable()],e),e}(po);at.HiddenCommand=UA;var NA=function(t){Ba(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e=fo([_o.injectable()],e),e}(po);at.PopupCommand=NA;var FA=function(t){Ba(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e=fo([_o.injectable()],e),e}(po);at.SystemCommand=FA;var kA=function(t){Ba(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e=fo([_o.injectable()],e),e}(po);at.ResetCommand=kA;var Tt={},BA=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},YA=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Zp=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Tt,"__esModule",{value:!0});var Js=fe,$A=yi,Dl=Se,Tm=function(){function t(e){this.commandRegistration=e}return t.prototype.handle=function(e){return this.commandRegistration.factory(e)},t}();Tt.CommandActionHandler=Tm;var VA=function(){function t(e){this.registrations=e}return t.prototype.initialize=function(e){this.registrations.forEach(function(n){return e.register(n.kind,new Tm(n))})},t=BA([Js.injectable(),Zp(0,Js.multiInject(Dl.TYPES.CommandRegistration)),Zp(0,Js.optional()),YA("design:paramtypes",[Array])],t),t}();Tt.CommandActionHandlerInitializer=VA;function HA(t,e){if(!$A.isInjectable(e))throw new Error("Commands should be @injectable: "+e.name);t.isBound(e)||t.bind(e).toSelf(),t.bind(Dl.TYPES.CommandRegistration).toDynamicValue(function(n){return{kind:e.KIND,factory:function(r){var i=new Js.Container;return i.parent=n.container,i.bind(Dl.TYPES.Action).toConstantValue(r),i.get(e)}}})}Tt.configureCommand=HA;var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});var KA=gn,zA=Se;function ZA(t,e){var n=t.get(zA.TYPES.CommandStackOptions);return KA.safeAssign(n,e),n}Ff.overrideCommandStackOptions=ZA;var ru={},pa=w&&w.__assign||function(){return pa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pa.apply(this,arguments)},Xr=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Ar=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ru,"__esModule",{value:!0});var Qr=fe,Vo=Se,yd=en,qA=Ze,WA=gi,ei=at,GA=function(){function t(){this.undoStack=[],this.redoStack=[],this.offStack=[]}return t.prototype.initialize=function(){this.currentPromise=Promise.resolve({main:{model:this.modelFactory.createRoot(yd.EMPTY_ROOT),modelChanged:!1},hidden:{model:this.modelFactory.createRoot(yd.EMPTY_ROOT),modelChanged:!1},popup:{model:this.modelFactory.createRoot(yd.EMPTY_ROOT),modelChanged:!1}})},Object.defineProperty(t.prototype,"currentModel",{get:function(){return this.currentPromise.then(function(e){return e.main.model})},enumerable:!0,configurable:!0}),t.prototype.executeAll=function(e){var n=this;return e.forEach(function(r){n.logger.log(n,"Executing",r),n.handleCommand(r,r.execute,n.mergeOrPush)}),this.thenUpdate()},t.prototype.execute=function(e){return this.logger.log(this,"Executing",e),this.handleCommand(e,e.execute,this.mergeOrPush),this.thenUpdate()},t.prototype.undo=function(){var e=this;this.undoOffStackSystemCommands(),this.undoPreceedingSystemCommands();var n=this.undoStack[this.undoStack.length-1];return n!==void 0&&!this.isBlockUndo(n)&&(this.undoStack.pop(),this.logger.log(this,"Undoing",n),this.handleCommand(n,n.undo,function(r,i){e.redoStack.push(r)})),this.thenUpdate()},t.prototype.redo=function(){var e=this;this.undoOffStackSystemCommands();var n=this.redoStack.pop();return n!==void 0&&(this.logger.log(this,"Redoing",n),this.handleCommand(n,n.redo,function(r,i){e.pushToUndoStack(r)})),this.redoFollowingSystemCommands(),this.thenUpdate()},t.prototype.handleCommand=function(e,n,r){var i=this;this.currentPromise=this.currentPromise.then(function(o){return new Promise(function(a){var c;e instanceof ei.HiddenCommand?c="hidden":e instanceof ei.PopupCommand?c="popup":c="main";var s=i.createContext(o.main.model),u;try{u=n.call(e,s)}catch(f){i.logger.error(i,"Failed to execute command:",f),u=o[c].model}var d=qp(o);u instanceof Promise?u.then(function(f){c==="main"&&r.call(i,e,s),d[c]={model:f,modelChanged:!0},a(d)}):u instanceof qA.SModelRoot?(c==="main"&&r.call(i,e,s),d[c]={model:u,modelChanged:!0},a(d)):(c==="main"&&r.call(i,e,s),d[c]={model:u.model,modelChanged:o[c].modelChanged||u.modelChanged,cause:u.cause},a(d))})})},t.prototype.pushToUndoStack=function(e){this.undoStack.push(e),this.options.undoHistoryLimit>=0&&this.undoStack.length>this.options.undoHistoryLimit&&this.undoStack.splice(0,this.undoStack.length-this.options.undoHistoryLimit)},t.prototype.thenUpdate=function(){var e=this;return this.currentPromise=this.currentPromise.then(function(n){var r=qp(n);return n.hidden.modelChanged&&(e.updateHidden(n.hidden.model,n.hidden.cause),r.hidden.modelChanged=!1,r.hidden.cause=void 0),n.main.modelChanged&&(e.update(n.main.model,n.main.cause),r.main.modelChanged=!1,r.main.cause=void 0),n.popup.modelChanged&&(e.updatePopup(n.popup.model,n.popup.cause),r.popup.modelChanged=!1,r.popup.cause=void 0),r}),this.currentModel},t.prototype.update=function(e,n){this.modelViewer===void 0&&(this.modelViewer=this.viewerProvider.modelViewer),this.modelViewer.update(e,n)},t.prototype.updateHidden=function(e,n){this.hiddenModelViewer===void 0&&(this.hiddenModelViewer=this.viewerProvider.hiddenModelViewer),this.hiddenModelViewer.update(e,n)},t.prototype.updatePopup=function(e,n){this.popupModelViewer===void 0&&(this.popupModelViewer=this.viewerProvider.popupModelViewer),this.popupModelViewer.update(e,n)},t.prototype.mergeOrPush=function(e,n){var r=this;if(this.isBlockUndo(e)){this.undoStack=[],this.redoStack=[],this.offStack=[],this.pushToUndoStack(e);return}if(this.isPushToOffStack(e)&&this.redoStack.length>0){if(this.offStack.length>0){var i=this.offStack[this.offStack.length-1];if(i instanceof ei.MergeableCommand&&i.merge(e,n))return}this.offStack.push(e);return}if(this.isPushToUndoStack(e)){if(this.offStack.forEach(function(o){return r.undoStack.push(o)}),this.offStack=[],this.redoStack=[],this.undoStack.length>0){var i=this.undoStack[this.undoStack.length-1];if(i instanceof ei.MergeableCommand&&i.merge(e,n))return}this.pushToUndoStack(e)}},t.prototype.undoOffStackSystemCommands=function(){for(var e=this.offStack.pop();e!==void 0;)this.logger.log(this,"Undoing off-stack",e),this.handleCommand(e,e.undo,function(){}),e=this.offStack.pop()},t.prototype.undoPreceedingSystemCommands=function(){for(var e=this,n=this.undoStack[this.undoStack.length-1];n!==void 0&&this.isPushToOffStack(n);)this.undoStack.pop(),this.logger.log(this,"Undoing",n),this.handleCommand(n,n.undo,function(r,i){e.redoStack.push(r)}),n=this.undoStack[this.undoStack.length-1]},t.prototype.redoFollowingSystemCommands=function(){for(var e=this,n=this.redoStack[this.redoStack.length-1];n!==void 0&&this.isPushToOffStack(n);)this.redoStack.pop(),this.logger.log(this,"Redoing ",n),this.handleCommand(n,n.redo,function(r,i){e.pushToUndoStack(r)}),n=this.redoStack[this.redoStack.length-1]},t.prototype.createContext=function(e){return{root:e,modelChanged:this,modelFactory:this.modelFactory,duration:this.options.defaultDuration,logger:this.logger,syncer:this.syncer}},t.prototype.isPushToOffStack=function(e){return e instanceof ei.SystemCommand},t.prototype.isPushToUndoStack=function(e){return!(e instanceof ei.HiddenCommand)},t.prototype.isBlockUndo=function(e){return e instanceof ei.ResetCommand},Xr([Qr.inject(Vo.TYPES.IModelFactory),Ar("design:type",Object)],t.prototype,"modelFactory",void 0),Xr([Qr.inject(Vo.TYPES.IViewerProvider),Ar("design:type",Object)],t.prototype,"viewerProvider",void 0),Xr([Qr.inject(Vo.TYPES.ILogger),Ar("design:type",Object)],t.prototype,"logger",void 0),Xr([Qr.inject(Vo.TYPES.AnimationFrameSyncer),Ar("design:type",WA.AnimationFrameSyncer)],t.prototype,"syncer",void 0),Xr([Qr.inject(Vo.TYPES.CommandStackOptions),Ar("design:type",Object)],t.prototype,"options",void 0),Xr([Qr.postConstruct(),Ar("design:type",Function),Ar("design:paramtypes",[]),Ar("design:returntype",void 0)],t.prototype,"initialize",null),t=Xr([Qr.injectable()],t),t}();ru.CommandStack=GA;function qp(t){return{main:pa({},t.main),hidden:pa({},t.hidden),popup:pa({},t.popup)}}var Ya={};(function(t){var e=w&&w.__extends||function(){var g=function(v,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,b){h.__proto__=b}||function(h,b){for(var p in b)b.hasOwnProperty(p)&&(h[p]=b[p])},g(v,m)};return function(v,m){g(v,m);function h(){this.constructor=v}v.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}(),n=w&&w.__decorate||function(g,v,m,h){var b=arguments.length,p=b<3?v:h===null?h=Object.getOwnPropertyDescriptor(v,m):h,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(g,v,m,h);else for(var O=g.length-1;O>=0;O--)(R=g[O])&&(p=(b<3?R(p):b>3?R(v,m,p):R(v,m))||p);return b>3&&p&&Object.defineProperty(v,m,p),p},r=w&&w.__metadata||function(g,v){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,v)},i=w&&w.__param||function(g,v){return function(m,h){v(m,h,g)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=nt,c=Se,s=Ze,u=at,d=qt,f=function(){function g(){}return g.prototype.decorate=function(v,m){return m instanceof s.SModelRoot&&!a.Dimension.isValid(m.canvasBounds)&&(this.rootAndVnode=[m,v]),v},g.prototype.postUpdate=function(){if(this.rootAndVnode!==void 0){var v=this.rootAndVnode[1].elm,m=this.rootAndVnode[0].canvasBounds;if(v!==void 0){var h=this.getBoundsInPage(v);a.almostEquals(h.x,m.x)&&a.almostEquals(h.y,m.y)&&a.almostEquals(h.width,m.width)&&a.almostEquals(h.height,m.width)||this.actionDispatcher.dispatch(_.create(h))}this.rootAndVnode=void 0}},g.prototype.getBoundsInPage=function(v){var m=v.getBoundingClientRect(),h=d.getWindowScroll();return{x:m.left+h.x,y:m.top+h.y,width:m.width,height:m.height}},n([o.inject(c.TYPES.IActionDispatcher),r("design:type",Object)],g.prototype,"actionDispatcher",void 0),g=n([o.injectable()],g),g}();t.CanvasBoundsInitializer=f;var _;(function(g){g.KIND="initializeCanvasBounds";function v(m){return{kind:g.KIND,newCanvasBounds:m}}g.create=v})(_=t.InitializeCanvasBoundsAction||(t.InitializeCanvasBoundsAction={}));var y=function(g){e(v,g);function v(m){var h=g.call(this)||this;return h.action=m,h}return v.prototype.execute=function(m){return this.newCanvasBounds=this.action.newCanvasBounds,m.root.canvasBounds=this.newCanvasBounds,m.root},v.prototype.undo=function(m){return m.root},v.prototype.redo=function(m){return m.root},v.KIND=_.KIND,v=n([o.injectable(),i(0,o.inject(c.TYPES.Action)),r("design:paramtypes",[Object])],v),v}(u.SystemCommand);t.InitializeCanvasBoundsCommand=y})(Ya);var mi={},JA=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),XA=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},QA=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},eO=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(mi,"__esModule",{value:!0});var Wp=fe,tO=St,nO=at,rO=Se,iO=Ya,oO=function(){function t(e,n){n===void 0&&(n=""),this.options=e,this.requestId=n,this.kind=t.KIND}return t.create=function(e){return new t(e,tO.generateRequestId())},t.KIND="requestModel",t}();mi.RequestModelAction=oO;var Tl=function(){function t(e,n){n===void 0&&(n=""),this.newRoot=e,this.responseId=n,this.kind=t.KIND}return t.KIND="setModel",t}();mi.SetModelAction=Tl;var aO=function(t){JA(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r}return e.prototype.execute=function(n){return this.oldRoot=n.modelFactory.createRoot(n.root),this.newRoot=n.modelFactory.createRoot(this.action.newRoot),this.newRoot},e.prototype.undo=function(n){return this.oldRoot},e.prototype.redo=function(n){return this.newRoot},Object.defineProperty(e.prototype,"blockUntil",{get:function(){return function(n){return n.kind===iO.InitializeCanvasBoundsCommand.KIND}},enumerable:!0,configurable:!0}),e.KIND=Tl.KIND,e=XA([Wp.injectable(),eO(0,Wp.inject(rO.TYPES.Action)),QA("design:paramtypes",[Tl])],e),e}(nO.ResetCommand);mi.SetModelCommand=aO;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});var sO=Se,wc=Ze;function cO(t,e,n,r){t.bind(sO.TYPES.SModelElementRegistration).toConstantValue({type:e,constr:n,features:r})}gt.registerModelElement=cO;function uO(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(0,e):t.type}gt.getBasicType=uO;function dO(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(e+1):t.type}gt.getSubType=dO;function Lm(t,e){if(t.id===e)return t;if(t.children!==void 0)for(var n=0,r=t.children;n<r.length;n++){var i=r[n],o=Lm(i,e);if(o!==void 0)return o}}gt.findElement=Lm;function lO(t,e){for(var n=t;n!==void 0;){if(e(n))return n;n instanceof wc.SChildElement?n=n.parent:n=void 0}return n}gt.findParent=lO;function fO(t,e){for(var n=t;n!==void 0;){if(e(n))return n;n instanceof wc.SChildElement?n=n.parent:n=void 0}return n}gt.findParentByFeature=fO;function Ll(t,e,n){if(e!==n){for(;e instanceof wc.SChildElement;)if(t=e.localToParent(t),e=e.parent,e===n)return t;for(var r=[];n instanceof wc.SChildElement;)r.push(n),n=n.parent;if(e!==n)throw new Error("Incompatible source and target: "+e.id+", "+n.id);for(var i=r.length-1;i>=0;i--)t=r[i].parentToLocal(t)}return t}gt.translatePoint=Ll;function _O(t,e,n){var r=Ll(t,e,n),i=Ll({x:t.x+t.width,y:t.y+t.height},e,n);return{x:r.x,y:r.y,width:i.x-r.x,height:i.y-r.y}}gt.translateBounds=_O;function pO(t,e){var n=function(i){return t.index.getById(i.id)!==void 0},r=function(i){return i.some(function(o){return n(o)||r(o.children)})};return r([e])}gt.containsSome=pO;var ho={},iu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.KIND="enable-tools";function n(r){return{kind:e.KIND,toolIds:r}}e.create=n}(t.EnableToolsAction||(t.EnableToolsAction={})),function(e){e.KIND="enable-default-tools";function n(){return{kind:e.KIND}}e.create=n}(t.EnableDefaultToolsAction||(t.EnableDefaultToolsAction={}))})(iu);var hO=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rc=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},gO=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ho,"__esModule",{value:!0});var Sc=fe,yO=Se,Ul=iu,mO=yn,vO=In,bO=function(){function t(){this.tools=[],this.defaultTools=[],this.actives=[]}return Object.defineProperty(t.prototype,"managedTools",{get:function(){return this.defaultTools.concat(this.tools)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeTools",{get:function(){return this.actives},enumerable:!0,configurable:!0}),t.prototype.disableActiveTools=function(){this.actives.forEach(function(e){return e.disable()}),this.actives.splice(0,this.actives.length)},t.prototype.enableDefaultTools=function(){this.enable(this.defaultTools.map(function(e){return e.id}))},t.prototype.enable=function(e){var n=this;this.disableActiveTools();var r=e.map(function(i){return n.tool(i)});r.forEach(function(i){i!==void 0&&(i.enable(),n.actives.push(i))})},t.prototype.tool=function(e){return this.managedTools.find(function(n){return n.id===e})},t.prototype.registerDefaultTools=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];this.defaultTools.push(o)}},t.prototype.registerTools=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];this.tools.push(o)}},t=Rc([Sc.injectable()],t),t}();ho.ToolManager=bO;var PO=function(){function t(){}return t.prototype.handle=function(e){switch(e.kind){case Ul.EnableDefaultToolsAction.KIND:this.toolManager.enableDefaultTools();break;case Ul.EnableToolsAction.KIND:this.toolManager.enable(e.toolIds);break}},Rc([Sc.inject(yO.TYPES.IToolManager),gO("design:type",Object)],t.prototype,"toolManager",void 0),t=Rc([Sc.injectable()],t),t}();ho.ToolManagerActionHandler=PO;var wO=function(t){hO(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.keyDown=function(n,r){return vO.matchesKeystroke(r,"Escape")?[Ul.EnableDefaultToolsAction.create()]:[]},e=Rc([Sc.injectable()],e),e}(mO.KeyListener);ho.DefaultToolsEnablingKeyListener=wO;var $a={};(function(t){var e=w&&w.__extends||function(){var y=function(g,v){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var b in h)h.hasOwnProperty(b)&&(m[b]=h[b])},y(g,v)};return function(g,v){y(g,v);function m(){this.constructor=g}g.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}(),n=w&&w.__decorate||function(y,g,v,m){var h=arguments.length,b=h<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,g,v,m);else for(var R=y.length-1;R>=0;R--)(p=y[R])&&(b=(h<3?p(b):h>3?p(g,v,b):p(g,v))||b);return h>3&&b&&Object.defineProperty(g,v,b),b},r=w&&w.__metadata||function(y,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,g)},i=w&&w.__param||function(y,g){return function(v,m){g(v,m,y)}},o=w&&w.__spreadArrays||function(){for(var y=0,g=0,v=arguments.length;g<v;g++)y+=arguments[g].length;for(var m=Array(y),h=0,g=0;g<v;g++)for(var b=arguments[g],p=0,R=b.length;p<R;p++,h++)m[h]=b[p];return m};Object.defineProperty(t,"__esModule",{value:!0});var a=fe,c=tn,s=at,u=Se,d=function(y){e(g,y);function g(v){v===void 0&&(v=[]);var m=y.call(this)||this;return v.forEach(function(h){return m.register(h.id(),h)}),m}return g=n([a.injectable(),i(0,a.multiInject(u.TYPES.IUIExtension)),i(0,a.optional()),r("design:paramtypes",[Array])],g),g}(c.InstanceRegistry);t.UIExtensionRegistry=d;var f;(function(y){y.KIND="setUIExtensionVisibility";function g(v){var m;return{kind:y.KIND,extensionId:v.extensionId,visible:v.visible,contextElementsId:(m=v.contextElementsId)!==null&&m!==void 0?m:[]}}y.create=g})(f=t.SetUIExtensionVisibilityAction||(t.SetUIExtensionVisibilityAction={}));var _=function(y){e(g,y);function g(v){var m=y.call(this)||this;return m.action=v,m}return g.prototype.execute=function(v){var m=this.registry.get(this.action.extensionId);return m&&(this.action.visible?m.show.apply(m,o([v.root],this.action.contextElementsId)):m.hide()),{model:v.root,modelChanged:!1}},g.prototype.undo=function(v){return{model:v.root,modelChanged:!1}},g.prototype.redo=function(v){return{model:v.root,modelChanged:!1}},g.KIND=f.KIND,n([a.inject(u.TYPES.UIExtensionRegistry),r("design:type",d)],g.prototype,"registry",void 0),g=n([a.injectable(),i(0,a.inject(u.TYPES.Action)),r("design:paramtypes",[Object])],g),g}(s.SystemCommand);t.SetUIExtensionVisibilityCommand=_})($a);var Va={},md=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Gp=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},RO=w&&w.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r};Object.defineProperty(Va,"__esModule",{value:!0});var vd=fe,Jp=Se,SO=function(){function t(){}return t.prototype.show=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.activeElement=document.activeElement,!(!this.containerElement&&!this.initialize())&&(this.onBeforeShow.apply(this,RO([this.containerElement,e],n)),this.setContainerVisible(!0))},t.prototype.hide=function(){this.setContainerVisible(!1),this.restoreFocus(),this.activeElement=null},t.prototype.restoreFocus=function(){var e=this.activeElement;e&&e.focus()},t.prototype.initialize=function(){var e=document.getElementById(this.options.baseDiv);return e?(this.containerElement=this.getOrCreateContainer(e.id),this.initializeContents(this.containerElement),e&&e.insertBefore(this.containerElement,e.firstChild),!0):(this.logger.warn(this,"Could not obtain sprotty base container for initializing UI extension "+this.id,this),!1)},t.prototype.getOrCreateContainer=function(e){var n=document.getElementById(this.id());return n===null&&(n=document.createElement("div"),n.id=e+"_"+this.id(),n.classList.add(this.containerClass())),n},t.prototype.setContainerVisible=function(e){this.containerElement&&(e?(this.containerElement.style.visibility="visible",this.containerElement.style.opacity="1"):(this.containerElement.style.visibility="hidden",this.containerElement.style.opacity="0"))},t.prototype.onBeforeShow=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i]},md([vd.inject(Jp.TYPES.ViewerOptions),Gp("design:type",Object)],t.prototype,"options",void 0),md([vd.inject(Jp.TYPES.ILogger),Gp("design:type",Object)],t.prototype,"logger",void 0),t=md([vd.injectable()],t),t}();Va.AbstractUIExtension=SO;var Lt={},vi={},Xp=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},EO=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(vi,"__esModule",{value:!0});var Qp=fe,AO=Se,OO=function(){function t(){}return t.prototype.getPrefix=function(){var e=this.viewerOptions!==void 0&&this.viewerOptions.baseDiv!==void 0?this.viewerOptions.baseDiv+"_":"";return e},t.prototype.createUniqueDOMElementId=function(e){return this.getPrefix()+e.id},t.prototype.findSModelIdByDOMElement=function(e){return e.id.replace(this.getPrefix(),"")},Xp([Qp.inject(AO.TYPES.ViewerOptions),EO("design:type",Object)],t.prototype,"viewerOptions",void 0),t=Xp([Qp.injectable()],t),t}();vi.DOMHelper=OO;var Um=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),to=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Xs=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Ec=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Lt,"__esModule",{value:!0});var Wn=fe,IO=St,jO=Ze,Qs=Se,MO=vi,zn=pt,Nm=function(){function t(e){e===void 0&&(e=[]),this.mouseListeners=e}return t.prototype.register=function(e){this.mouseListeners.push(e)},t.prototype.deregister=function(e){var n=this.mouseListeners.indexOf(e);n>=0&&this.mouseListeners.splice(n,1)},t.prototype.getTargetElement=function(e,n){for(var r=n.target,i=e.index;r;){if(r.id){var o=i.getById(this.domHelper.findSModelIdByDOMElement(r));if(o!==void 0)return o}r=r.parentNode}},t.prototype.handleEvent=function(e,n,r){var i=this;this.focusOnMouseEvent(e,n);var o=this.getTargetElement(n,r);if(!!o){var a=this.mouseListeners.map(function(d){return d[e](o,r)}).reduce(function(d,f){return d.concat(f)});if(a.length>0){r.preventDefault();for(var c=0,s=a;c<s.length;c++){var u=s[c];IO.isAction(u)?this.actionDispatcher.dispatch(u):u.then(function(d){i.actionDispatcher.dispatch(d)})}}}},t.prototype.focusOnMouseEvent=function(e,n){if(document){var r=document.getElementById(this.domHelper.createUniqueDOMElementId(n));e==="mouseDown"&&r!==null&&typeof r.focus=="function"&&r.focus()}},t.prototype.mouseOver=function(e,n){this.handleEvent("mouseOver",e,n)},t.prototype.mouseOut=function(e,n){this.handleEvent("mouseOut",e,n)},t.prototype.mouseEnter=function(e,n){this.handleEvent("mouseEnter",e,n)},t.prototype.mouseLeave=function(e,n){this.handleEvent("mouseLeave",e,n)},t.prototype.mouseDown=function(e,n){this.handleEvent("mouseDown",e,n)},t.prototype.mouseMove=function(e,n){this.handleEvent("mouseMove",e,n)},t.prototype.mouseUp=function(e,n){this.handleEvent("mouseUp",e,n)},t.prototype.wheel=function(e,n){this.handleEvent("wheel",e,n)},t.prototype.doubleClick=function(e,n){this.handleEvent("doubleClick",e,n)},t.prototype.decorate=function(e,n){return n instanceof jO.SModelRoot&&(zn.on(e,"mouseover",this.mouseOver.bind(this,n)),zn.on(e,"mouseout",this.mouseOut.bind(this,n)),zn.on(e,"mouseenter",this.mouseEnter.bind(this,n)),zn.on(e,"mouseleave",this.mouseLeave.bind(this,n)),zn.on(e,"mousedown",this.mouseDown.bind(this,n)),zn.on(e,"mouseup",this.mouseUp.bind(this,n)),zn.on(e,"mousemove",this.mouseMove.bind(this,n)),zn.on(e,"wheel",this.wheel.bind(this,n)),zn.on(e,"contextmenu",function(r){r.preventDefault()}),zn.on(e,"dblclick",this.doubleClick.bind(this,n))),e=this.mouseListeners.reduce(function(r,i){return i.decorate(r,n)},e),e},t.prototype.postUpdate=function(){},to([Wn.inject(Qs.TYPES.IActionDispatcher),Xs("design:type",Object)],t.prototype,"actionDispatcher",void 0),to([Wn.inject(Qs.TYPES.DOMHelper),Xs("design:type",MO.DOMHelper)],t.prototype,"domHelper",void 0),t=to([Wn.injectable(),Ec(0,Wn.multiInject(Qs.TYPES.MouseListener)),Ec(0,Wn.optional()),Xs("design:paramtypes",[Array])],t),t}();Lt.MouseTool=Nm;var CO=function(t){Um(e,t);function e(n){n===void 0&&(n=[]);var r=t.call(this,n)||this;return r.mouseListeners=n,r}return e=to([Wn.injectable(),Ec(0,Wn.multiInject(Qs.TYPES.PopupMouseListener)),Ec(0,Wn.optional()),Xs("design:paramtypes",[Array])],e),e}(Nm);Lt.PopupMouseTool=CO;var Fm=function(){function t(){}return t.prototype.mouseOver=function(e,n){return[]},t.prototype.mouseOut=function(e,n){return[]},t.prototype.mouseEnter=function(e,n){return[]},t.prototype.mouseLeave=function(e,n){return[]},t.prototype.mouseDown=function(e,n){return[]},t.prototype.mouseMove=function(e,n){return[]},t.prototype.mouseUp=function(e,n){return[]},t.prototype.wheel=function(e,n){return[]},t.prototype.doubleClick=function(e,n){return[]},t.prototype.decorate=function(e,n){return e},t=to([Wn.injectable()],t),t}();Lt.MouseListener=Fm;var xO=function(t){Um(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mouseMove=function(n,r){return this.lastPosition=n.root.parentToLocal({x:r.offsetX,y:r.offsetY}),[]},Object.defineProperty(e.prototype,"lastPositionOnDiagram",{get:function(){return this.lastPosition},enumerable:!0,configurable:!0}),e=to([Wn.injectable()],e),e}(Fm);Lt.MousePositionTracker=xO;var Ha={};function DO(t,e){return document.createElement(t,e)}function TO(t,e,n){return document.createElementNS(t,e,n)}function LO(){return document.createDocumentFragment()}function UO(t){return document.createTextNode(t)}function NO(t){return document.createComment(t)}function FO(t,e,n){t.insertBefore(e,n)}function kO(t,e){t.removeChild(e)}function BO(t,e){t.appendChild(e)}function YO(t){return t.parentNode}function $O(t){return t.nextSibling}function VO(t){return t.tagName}function HO(t,e){t.textContent=e}function KO(t){return t.textContent}function zO(t){return t.nodeType===1}function ZO(t){return t.nodeType===3}function qO(t){return t.nodeType===8}function WO(t){return t.nodeType===11}const kf={createElement:DO,createElementNS:TO,createTextNode:UO,createDocumentFragment:LO,createComment:NO,insertBefore:FO,removeChild:kO,appendChild:BO,parentNode:YO,nextSibling:$O,tagName:VO,setTextContent:HO,getTextContent:KO,isElement:zO,isText:ZO,isComment:qO,isDocumentFragment:WO};function Kt(t,e,n,r,i){const o=e===void 0?void 0:e.key;return{sel:t,data:e,children:n,text:r,elm:i,key:o}}const Ma=Array.isArray;function li(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function bd(t){return t===void 0}function ln(t){return t!==void 0}const Pd=Kt("",{},[],void 0,void 0);function Ho(t,e){var n,r;const i=t.key===e.key,o=((n=t.data)===null||n===void 0?void 0:n.is)===((r=e.data)===null||r===void 0?void 0:r.is);return t.sel===e.sel&&i&&o}function GO(){throw new Error("The document fragment is not supported on this platform.")}function JO(t,e){return t.isElement(e)}function XO(t,e){return t.isDocumentFragment(e)}function QO(t,e,n){var r;const i={};for(let o=e;o<=n;++o){const a=(r=t[o])===null||r===void 0?void 0:r.key;a!==void 0&&(i[a]=o)}return i}const eI=["create","update","remove","destroy","pre","post"];function tI(t,e,n){const r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},i=e!==void 0?e:kf;for(const g of eI)for(const v of t){const m=v[g];m!==void 0&&r[g].push(m)}function o(g){const v=g.id?"#"+g.id:"",m=g.getAttribute("class"),h=m?"."+m.split(" ").join("."):"";return Kt(i.tagName(g).toLowerCase()+v+h,{},[],void 0,g)}function a(g){return Kt(void 0,{},[],void 0,g)}function c(g,v){return function(){if(--v===0){const h=i.parentNode(g);i.removeChild(h,g)}}}function s(g,v){var m,h,b,p;let R,O=g.data;if(O!==void 0){const j=(m=O.hook)===null||m===void 0?void 0:m.init;ln(j)&&(j(g),O=g.data)}const A=g.children,I=g.sel;if(I==="!")bd(g.text)&&(g.text=""),g.elm=i.createComment(g.text);else if(I!==void 0){const j=I.indexOf("#"),U=I.indexOf(".",j),M=j>0?j:I.length,x=U>0?U:I.length,D=j!==-1||U!==-1?I.slice(0,Math.min(M,x)):I,V=g.elm=ln(O)&&ln(R=O.ns)?i.createElementNS(R,D,O):i.createElement(D,O);for(M<x&&V.setAttribute("id",I.slice(M+1,x)),U>0&&V.setAttribute("class",I.slice(x+1).replace(/\./g," ")),R=0;R<r.create.length;++R)r.create[R](Pd,g);if(Ma(A))for(R=0;R<A.length;++R){const ee=A[R];ee!=null&&i.appendChild(V,s(ee,v))}else li(g.text)&&i.appendChild(V,i.createTextNode(g.text));const q=g.data.hook;ln(q)&&((h=q.create)===null||h===void 0||h.call(q,Pd,g),q.insert&&v.push(g))}else if(((b=n==null?void 0:n.experimental)===null||b===void 0?void 0:b.fragments)&&g.children){const j=g.children;for(g.elm=((p=i.createDocumentFragment)!==null&&p!==void 0?p:GO)(),R=0;R<r.create.length;++R)r.create[R](Pd,g);for(R=0;R<j.length;++R){const U=j[R];U!=null&&i.appendChild(g.elm,s(U,v))}}else g.elm=i.createTextNode(g.text);return g.elm}function u(g,v,m,h,b,p){for(;h<=b;++h){const R=m[h];R!=null&&i.insertBefore(g,s(R,p),v)}}function d(g){var v,m;const h=g.data;if(h!==void 0){(m=(v=h==null?void 0:h.hook)===null||v===void 0?void 0:v.destroy)===null||m===void 0||m.call(v,g);for(let b=0;b<r.destroy.length;++b)r.destroy[b](g);if(g.children!==void 0)for(let b=0;b<g.children.length;++b){const p=g.children[b];p!=null&&typeof p!="string"&&d(p)}}}function f(g,v,m,h){for(var b,p;m<=h;++m){let R,O;const A=v[m];if(A!=null)if(ln(A.sel)){d(A),R=r.remove.length+1,O=c(A.elm,R);for(let j=0;j<r.remove.length;++j)r.remove[j](A,O);const I=(p=(b=A==null?void 0:A.data)===null||b===void 0?void 0:b.hook)===null||p===void 0?void 0:p.remove;ln(I)?I(A,O):O()}else i.removeChild(g,A.elm)}}function _(g,v,m,h){let b=0,p=0,R=v.length-1,O=v[0],A=v[R],I=m.length-1,j=m[0],U=m[I],M,x,D,V;for(;b<=R&&p<=I;)O==null?O=v[++b]:A==null?A=v[--R]:j==null?j=m[++p]:U==null?U=m[--I]:Ho(O,j)?(y(O,j,h),O=v[++b],j=m[++p]):Ho(A,U)?(y(A,U,h),A=v[--R],U=m[--I]):Ho(O,U)?(y(O,U,h),i.insertBefore(g,O.elm,i.nextSibling(A.elm)),O=v[++b],U=m[--I]):Ho(A,j)?(y(A,j,h),i.insertBefore(g,A.elm,O.elm),A=v[--R],j=m[++p]):(M===void 0&&(M=QO(v,b,R)),x=M[j.key],bd(x)?i.insertBefore(g,s(j,h),O.elm):(D=v[x],D.sel!==j.sel?i.insertBefore(g,s(j,h),O.elm):(y(D,j,h),v[x]=void 0,i.insertBefore(g,D.elm,O.elm))),j=m[++p]);p<=I&&(V=m[I+1]==null?null:m[I+1].elm,u(g,V,m,p,I,h)),b<=R&&f(g,v,b,R)}function y(g,v,m){var h,b,p,R,O;const A=(h=v.data)===null||h===void 0?void 0:h.hook;(b=A==null?void 0:A.prepatch)===null||b===void 0||b.call(A,g,v);const I=v.elm=g.elm,j=g.children,U=v.children;if(g!==v){if(v.data!==void 0){for(let M=0;M<r.update.length;++M)r.update[M](g,v);(R=(p=v.data.hook)===null||p===void 0?void 0:p.update)===null||R===void 0||R.call(p,g,v)}bd(v.text)?ln(j)&&ln(U)?j!==U&&_(I,j,U,m):ln(U)?(ln(g.text)&&i.setTextContent(I,""),u(I,null,U,0,U.length-1,m)):ln(j)?f(I,j,0,j.length-1):ln(g.text)&&i.setTextContent(I,""):g.text!==v.text&&(ln(j)&&f(I,j,0,j.length-1),i.setTextContent(I,v.text)),(O=A==null?void 0:A.postpatch)===null||O===void 0||O.call(A,g,v)}}return function(v,m){let h,b,p;const R=[];for(h=0;h<r.pre.length;++h)r.pre[h]();for(JO(i,v)?v=o(v):XO(i,v)&&(v=a(v)),Ho(v,m)?y(v,m,R):(b=v.elm,p=i.parentNode(b),s(m,R),p!==null&&(i.insertBefore(p,m.elm,i.nextSibling(b)),f(p,[v],0,0))),h=0;h<R.length;++h)R[h].data.hook.insert(R[h]);for(h=0;h<r.post.length;++h)r.post[h]();return m}}function ou(t,e,n){if(t.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&e!==void 0)for(let r=0;r<e.length;++r){const i=e[r];if(typeof i=="string")continue;const o=i.data;o!==void 0&&ou(o,i.children,i.sel)}}function fi(t,e,n){let r={},i,o,a;if(n!==void 0?(e!==null&&(r=e),Ma(n)?i=n:li(n)?o=n.toString():n&&n.sel&&(i=[n])):e!=null&&(Ma(e)?i=e:li(e)?o=e.toString():e&&e.sel?i=[e]:r=e),i!==void 0)for(a=0;a<i.length;++a)li(i[a])&&(i[a]=Kt(void 0,void 0,void 0,i[a],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&ou(r,i,t),Kt(t,r,i,o,void 0)}function nI(t){let e,n;if(Ma(t)?e=t:li(e)?n=t:e&&e.sel&&(e=[t]),e!==void 0)for(let r=0;r<e.length;++r)li(e[r])&&(e[r]=Kt(void 0,void 0,void 0,e[r],void 0));return Kt(void 0,{},e,n,void 0)}function ec(t,e){var n;const r=(n=e.data)===null||n===void 0?void 0:n.ns;t.data.fn=e.data.fn,t.data.args=e.data.args,e.data=t.data,e.children=t.children,e.text=t.text,e.elm=t.elm,r&&ou(e.data,e.children,e.sel)}function rI(t){const e=t.data,n=e.fn(...e.args);ec(n,t)}function iI(t,e){let n;const r=t.data,i=e.data,o=r.args,a=i.args;if(r.fn!==i.fn||o.length!==a.length){ec(i.fn(...a),e);return}for(n=0;n<a.length;++n)if(o[n]!==a[n]){ec(i.fn(...a),e);return}ec(t,e)}const oI=function(e,n,r,i){return i===void 0&&(i=r,r=n,n=void 0),fi(e,{key:n,hook:{init:rI,prepatch:iI},fn:r,args:i})};function aI(t,e){const n=t.data.attachData;e.data.attachData.placeholder=n.placeholder,e.data.attachData.real=n.real,t.elm=t.data.attachData.real}function sI(t,e){e.elm=e.data.attachData.placeholder}function cI(t){t.elm!==void 0&&t.elm.parentNode.removeChild(t.elm),t.elm=t.data.attachData.real}function uI(t,e){const n=e.elm,r=e.data.attachData,i=document.createElement("span");e.elm=i,r.target.appendChild(n),r.real=n,r.placeholder=i}function dI(t,e){e.data===void 0&&(e.data={}),e.data.hook===void 0&&(e.data.hook={});const n=e.data,r=e.data.hook;return n.attachData={target:t,placeholder:void 0,real:void 0},r.create=uI,r.prepatch=aI,r.postpatch=sI,r.destroy=cI,e}function km(t,e){const n=e!==void 0?e:kf;let r;if(n.isElement(t)){const i=t.id?"#"+t.id:"",o=t.getAttribute("class"),a=o?"."+o.split(" ").join("."):"",c=n.tagName(t).toLowerCase()+i+a,s={},u={},d={},f=[];let _,y,g;const v=t.attributes,m=t.childNodes;for(y=0,g=v.length;y<g;y++)_=v[y].nodeName,_[0]==="d"&&_[1]==="a"&&_[2]==="t"&&_[3]==="a"&&_[4]==="-"?u[_.slice(5)]=v[y].nodeValue||"":_!=="id"&&_!=="class"&&(s[_]=v[y].nodeValue);for(y=0,g=m.length;y<g;y++)f.push(km(m[y],e));return Object.keys(s).length>0&&(d.attrs=s),Object.keys(u).length>0&&(d.datasets=u),c[0]==="s"&&c[1]==="v"&&c[2]==="g"&&(c.length===3||c[3]==="."||c[3]==="#")&&ou(d,f,c),Kt(c,d,f,void 0,t)}else return n.isText(t)?(r=n.getTextContent(t),Kt(void 0,void 0,void 0,r,t)):n.isComment(t)?(r=n.getTextContent(t),Kt("!",{},[],r,t)):Kt("",{},[],void 0,t)}const lI="http://www.w3.org/1999/xlink",fI="http://www.w3.org/XML/1998/namespace",eh=58,_I=120;function th(t,e){let n;const r=e.elm;let i=t.data.attrs,o=e.data.attrs;if(!(!i&&!o)&&i!==o){i=i||{},o=o||{};for(n in o){const a=o[n];i[n]!==a&&(a===!0?r.setAttribute(n,""):a===!1?r.removeAttribute(n):n.charCodeAt(0)!==_I?r.setAttribute(n,a):n.charCodeAt(3)===eh?r.setAttributeNS(fI,n,a):n.charCodeAt(5)===eh?r.setAttributeNS(lI,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}const pI={create:th,update:th};function nh(t,e){let n,r;const i=e.elm;let o=t.data.class,a=e.data.class;if(!(!o&&!a)&&o!==a){o=o||{},a=a||{};for(r in o)o[r]&&!Object.prototype.hasOwnProperty.call(a,r)&&i.classList.remove(r);for(r in a)n=a[r],n!==o[r]&&i.classList[n?"add":"remove"](r)}}const hI={create:nh,update:nh},rh=/[A-Z]/g;function ih(t,e){const n=e.elm;let r=t.data.dataset,i=e.data.dataset,o;if(!r&&!i||r===i)return;r=r||{},i=i||{};const a=n.dataset;for(o in r)i[o]||(a?o in a&&delete a[o]:n.removeAttribute("data-"+o.replace(rh,"-$&").toLowerCase()));for(o in i)r[o]!==i[o]&&(a?a[o]=i[o]:n.setAttribute("data-"+o.replace(rh,"-$&").toLowerCase(),i[o]))}const gI={create:ih,update:ih};function Bm(t,e,n){if(typeof t=="function")t.call(e,n,e);else if(typeof t=="object")for(let r=0;r<t.length;r++)Bm(t[r],e,n)}function yI(t,e){const n=t.type,r=e.data.on;r&&r[n]&&Bm(r[n],e,t)}function mI(){return function t(e){yI(e,t.vnode)}}function wd(t,e){const n=t.data.on,r=t.listener,i=t.elm,o=e&&e.data.on,a=e&&e.elm;let c;if(n!==o){if(n&&r)if(o)for(c in n)o[c]||i.removeEventListener(c,r,!1);else for(c in n)i.removeEventListener(c,r,!1);if(o){const s=e.listener=t.listener||mI();if(s.vnode=e,n)for(c in o)n[c]||a.addEventListener(c,s,!1);else for(c in o)a.addEventListener(c,s,!1)}}}const vI={create:wd,update:wd,destroy:wd};function oh(t,e){let n,r,i;const o=e.elm;let a=t.data.props,c=e.data.props;if(!(!a&&!c)&&a!==c){a=a||{},c=c||{};for(n in c)r=c[n],i=a[n],i!==r&&(n!=="value"||o[n]!==r)&&(o[n]=r)}}const bI={create:oh,update:oh},ah=typeof window!="undefined"&&window.requestAnimationFrame.bind(window)||setTimeout,PI=function(t){ah(function(){ah(t)})};let Nl=!1;function wI(t,e,n){PI(function(){t[e]=n})}function sh(t,e){let n,r;const i=e.elm;let o=t.data.style,a=e.data.style;if(!o&&!a||o===a)return;o=o||{},a=a||{};const c="delayed"in o;for(r in o)a[r]||(r[0]==="-"&&r[1]==="-"?i.style.removeProperty(r):i.style[r]="");for(r in a)if(n=a[r],r==="delayed"&&a.delayed)for(const s in a.delayed)n=a.delayed[s],(!c||n!==o.delayed[s])&&wI(i.style,s,n);else r!=="remove"&&n!==o[r]&&(r[0]==="-"&&r[1]==="-"?i.style.setProperty(r,n):i.style[r]=n)}function RI(t){let e,n;const r=t.elm,i=t.data.style;if(!(!i||!(e=i.destroy)))for(n in e)r.style[n]=e[n]}function SI(t,e){const n=t.data.style;if(!n||!n.remove){e();return}Nl||(t.elm.offsetLeft,Nl=!0);let r;const i=t.elm;let o=0;const a=n.remove;let c=0;const s=[];for(r in a)s.push(r),i.style[r]=a[r];const d=getComputedStyle(i)["transition-property"].split(", ");for(;o<d.length;++o)s.indexOf(d[o])!==-1&&c++;i.addEventListener("transitionend",function(f){f.target===i&&--c,c===0&&e()})}function EI(){Nl=!1}const AI={pre:EI,create:sh,update:sh,destroy:RI,remove:SI};function OI(t,...e){const n=Bf(e,[]);return n.length===1&&!n[0].sel&&n[0].text?Kt(void 0,void 0,void 0,n[0].text,void 0):Kt(void 0,t!=null?t:{},n,void 0,void 0)}function Bf(t,e){for(const n of t)n!=null&&n!==!1&&n!==""&&(Array.isArray(n)?Bf(n,e):typeof n=="string"||typeof n=="number"||typeof n=="boolean"?e.push(Kt(void 0,void 0,void 0,String(n),void 0)):e.push(n));return e}function Fl(t,e,...n){const r=Bf(n,[]);return typeof t=="function"?t(e,r):r.length===1&&!r[0].sel&&r[0].text?fi(t,e,r[0].text):fi(t,e,r)}(function(t){})(Fl||(Fl={}));var II=Object.freeze(Object.defineProperty({__proto__:null,htmlDomApi:kf,init:tI,thunk:oI,vnode:Kt,attachTo:dI,array:Ma,primitive:li,toVNode:km,h:fi,fragment:nI,attributesModule:pI,classModule:hI,datasetModule:gI,eventListenersModule:vI,propsModule:bI,styleModule:AI,get jsx(){return Fl},Fragment:OI},Symbol.toStringTag,{value:"Module"})),Ka=Of(II),jI=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Ha,"__esModule",{value:!0});var MI=Ka,CI=fe,xI=function(){function t(){}return t.prototype.render=function(e,n){var r=this;return MI.h(this.selector(e),{key:e.id,hook:{init:this.init.bind(this),prepatch:this.prepatch.bind(this)},fn:function(){return r.renderAndDecorate(e,n)},args:this.watchedArgs(e),thunk:!0})},t.prototype.renderAndDecorate=function(e,n){var r=this.doRender(e,n);return n.decorate(r,e),r},t.prototype.copyToThunk=function(e,n){n.elm=e.elm,e.data.fn=n.data.fn,e.data.args=n.data.args,n.data=e.data,n.children=e.children,n.text=e.text,n.elm=e.elm},t.prototype.init=function(e){var n=e.data,r=n.fn.apply(void 0,n.args);this.copyToThunk(r,e)},t.prototype.prepatch=function(e,n){var r=e.data,i=n.data;this.equals(r.args,i.args)?this.copyToThunk(e,n):this.copyToThunk(i.fn.apply(void 0,i.args),n)},t.prototype.equals=function(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;for(var r=0;r<n.length;++r)if(!this.equals(e[r],n[r]))return!1}else if(typeof e=="object"&&typeof n=="object"){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(i!=="parent"&&i!=="root"&&(!(i in n)||!this.equals(e[i],n[i])))return!1}else if(e!==n)return!1;return!0},t=jI([CI.injectable()],t),t}();Ha.ThunkView=xI;function DI(t){return"thunk"in t}Ha.isThunk=DI;var jn={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});var TI=Ka,LI=["hook","on","style","class","props","attrs","dataset"],UI="http://www.w3.org/2000/svg";function NI(t,e,n){var r={};if(n&&(r.ns=n),t===null)return r;return LI.forEach(function(o){t[o]&&(r[o]=t[o])}),Object.keys(t).forEach(function(o){if(!(o==="key"||o==="classNames"||o==="selector")){var a=o.indexOf("-");a>0?i(o.slice(0,a),o.slice(a+1),t[o]):r[o]||i(e,o,t[o])}}),r;function i(o,a,c){var s=r[o]||(r[o]={});s[a]=c}}function Yf(t,e){return e===void 0&&(e="props"),function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return TI.jsx(n,NI(r,e,t),i)}}rn.JSX=Yf;var FI=Yf();rn.html=FI;var kI=Yf(UI,"attrs");rn.svg=kI;var BI=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$f=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},YI=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},ch=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(jn,"__esModule",{value:!0});var Ym=rn,ha=fe,$m=Se,$I=tn,VI=yi,HI=en,KI=gt,zI=lo;function ZI(t,e){for(;t!==void 0&&!(e in t)&&t.parentArgs;)t=t.parentArgs;return t?t[e]:void 0}jn.findArgValue=ZI;var qI=function(t){BI(e,t);function e(n){var r=t.call(this)||this;return r.registerDefaults(),n.forEach(function(i){return r.register(i.type,i.factory())}),r}return e.prototype.registerDefaults=function(){this.register(HI.EMPTY_ROOT.type,new Hm)},e.prototype.missing=function(n){return new Km},e=$f([ha.injectable(),ch(0,ha.multiInject($m.TYPES.ViewRegistration)),ch(0,ha.optional()),YI("design:paramtypes",[Array])],e),e}($I.InstanceRegistry);jn.ViewRegistry=qI;function WI(t,e,n,r,i){KI.registerModelElement(t,e,n,i),Vm(t,e,r)}jn.configureModelElement=WI;function Vm(t,e,n){if(typeof n=="function"){if(!VI.isInjectable(n))throw new Error("Views should be @injectable: "+n.name);t.isBound(n)||t.bind(n).toSelf()}t.bind($m.TYPES.ViewRegistration).toDynamicValue(function(r){return{type:e,factory:function(){return r.container.get(n)}}})}jn.configureView=Vm;var Hm=function(){function t(){}return t.prototype.render=function(e,n){return Ym.svg("svg",{"class-sprotty-empty":!0})},t=$f([ha.injectable()],t),t}();jn.EmptyView=Hm;var Km=function(){function t(){}return t.prototype.render=function(e,n){var r=e.position||zI.Point.ORIGIN;return Ym.svg("text",{"class-sprotty-missing":!0,x:r.x,y:r.y},"?",e.id,"?")},t=$f([ha.injectable()],t),t}();jn.MissingView=Km;var au={},Rd=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},uh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(au,"__esModule",{value:!0});var Sd=fe,dh=Se,GI=gi,JI=function(){function t(){}return t.prototype.update=function(e,n){if(n!==void 0)this.delegate.update(e,n),this.cachedModel=void 0;else{var r=this.cachedModel===void 0;this.cachedModel=e,r&&this.scheduleUpdate()}},t.prototype.scheduleUpdate=function(){var e=this;this.syncer.onEndOfNextFrame(function(){e.cachedModel&&(e.delegate.update(e.cachedModel),e.cachedModel=void 0)})},Rd([Sd.inject(dh.TYPES.IViewer),uh("design:type",Object)],t.prototype,"delegate",void 0),Rd([Sd.inject(dh.TYPES.AnimationFrameSyncer),uh("design:type",GI.AnimationFrameSyncer)],t.prototype,"syncer",void 0),t=Rd([Sd.injectable()],t),t}();au.ViewerCache=JI;var Vf={};(function(t){var e=w&&w.__assign||function(){return e=Object.assign||function(a){for(var c,s=1,u=arguments.length;s<u;s++){c=arguments[s];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=gn,r=Se;t.defaultViewerOptions=function(){return{baseDiv:"sprotty",baseClass:"sprotty",hiddenDiv:"sprotty-hidden",hiddenClass:"sprotty-hidden",popupDiv:"sprotty-popup",popupClass:"sprotty-popup",popupClosedClass:"sprotty-popup-closed",needsClientLayout:!0,needsServerLayout:!1,popupOpenDelay:1e3,popupCloseDelay:300}};function i(a,c){var s=e(e({},t.defaultViewerOptions()),c);a.isBound(r.TYPES.ViewerOptions)?a.rebind(r.TYPES.ViewerOptions).toConstantValue(s):a.bind(r.TYPES.ViewerOptions).toConstantValue(s)}t.configureViewerOptions=i;function o(a,c){var s=a.get(r.TYPES.ViewerOptions);return n.safeAssign(s,c),s}t.overrideViewerOptions=o})(Vf);var Br={},Ac=w&&w.__assign||function(){return Ac=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ac.apply(this,arguments)},Ln=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Un=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},On=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Br,"__esModule",{value:!0});var vt=fe,Ui=Ka,Ca=rn,XI=qt,QI=Ya,zm=en,kt=Se,ej=Ha,pn=pt,tj=function(){function t(e,n,r,i){i===void 0&&(i={}),this.viewRegistry=e,this.targetKind=n,this.postprocessors=r,this.args=i}return t.prototype.decorate=function(e,n){return ej.isThunk(e)?e:this.postprocessors.reduce(function(r,i){return i.decorate(r,n)},e)},t.prototype.renderElement=function(e){var n=this.viewRegistry.get(e.type),r=n.render(e,this,this.args);if(r)return this.decorate(r,e)},t.prototype.renderChildren=function(e,n){var r=n?new t(this.viewRegistry,this.targetKind,this.postprocessors,Ac(Ac({},n),{parentArgs:this.args})):this;return e.children.map(function(i){return r.renderElement(i)}).filter(function(i){return i!==void 0})},t.prototype.postUpdate=function(e){this.postprocessors.forEach(function(n){return n.postUpdate(e)})},t}();Br.ModelRenderer=tj;var su=function(){function t(){this.patcher=Ui.init(this.createModules())}return t.prototype.createModules=function(){return[Ui.propsModule,Ui.attributesModule,Ui.classModule,Ui.styleModule,Ui.eventListenersModule]},t=Ln([vt.injectable(),Un("design:paramtypes",[])],t),t}();Br.PatcherProvider=su;var nj=function(){function t(e,n,r){this.renderer=e("main",r),this.patcher=n.patcher}return t.prototype.update=function(e,n){var r=this;this.logger.log(this,"rendering",e);var i=Ca.html("div",{id:this.options.baseDiv},this.renderer.renderElement(e));if(this.lastVDOM!==void 0){var o=this.hasFocus();pn.copyClassesFromVNode(this.lastVDOM,i),this.lastVDOM=this.patcher.call(this,this.lastVDOM,i),this.restoreFocus(o)}else if(typeof document!="undefined"){var a=document.getElementById(this.options.baseDiv);a!==null?(typeof window!="undefined"&&window.addEventListener("resize",function(){r.onWindowResize(i)}),pn.copyClassesFromElement(a,i),pn.setClass(i,this.options.baseClass,!0),this.lastVDOM=this.patcher.call(this,a,i)):this.logger.error(this,"element not in DOM:",this.options.baseDiv)}this.renderer.postUpdate(n)},t.prototype.hasFocus=function(){if(typeof document!="undefined"&&document.activeElement&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var e=this.lastVDOM.children[0];if(typeof e=="object"){var n=e.elm;return document.activeElement===n}}return!1},t.prototype.restoreFocus=function(e){if(e&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var n=this.lastVDOM.children[0];if(typeof n=="object"){var r=n.elm;r&&typeof r.focus=="function"&&r.focus()}}},t.prototype.onWindowResize=function(e){var n=document.getElementById(this.options.baseDiv);if(n!==null){var r=this.getBoundsInPage(n);this.actiondispatcher.dispatch(QI.InitializeCanvasBoundsAction.create(r))}},t.prototype.getBoundsInPage=function(e){var n=e.getBoundingClientRect(),r=XI.getWindowScroll();return{x:n.left+r.x,y:n.top+r.y,width:n.width,height:n.height}},Ln([vt.inject(kt.TYPES.ViewerOptions),Un("design:type",Object)],t.prototype,"options",void 0),Ln([vt.inject(kt.TYPES.ILogger),Un("design:type",Object)],t.prototype,"logger",void 0),Ln([vt.inject(kt.TYPES.IActionDispatcher),Un("design:type",Object)],t.prototype,"actiondispatcher",void 0),t=Ln([vt.injectable(),On(0,vt.inject(kt.TYPES.ModelRendererFactory)),On(1,vt.inject(kt.TYPES.PatcherProvider)),On(2,vt.multiInject(kt.TYPES.IVNodePostprocessor)),On(2,vt.optional()),Un("design:paramtypes",[Function,su,Array])],t),t}();Br.ModelViewer=nj;var rj=function(){function t(e,n,r){this.hiddenRenderer=e("hidden",r),this.patcher=n.patcher}return t.prototype.update=function(e,n){this.logger.log(this,"rendering hidden");var r;if(e.type===zm.EMPTY_ROOT.type)r=Ca.html("div",{id:this.options.hiddenDiv});else{var i=this.hiddenRenderer.renderElement(e);i&&pn.setAttr(i,"opacity",0),r=Ca.html("div",{id:this.options.hiddenDiv},i)}if(this.lastHiddenVDOM!==void 0)pn.copyClassesFromVNode(this.lastHiddenVDOM,r),this.lastHiddenVDOM=this.patcher.call(this,this.lastHiddenVDOM,r);else{var o=document.getElementById(this.options.hiddenDiv);o===null?(o=document.createElement("div"),document.body.appendChild(o)):pn.copyClassesFromElement(o,r),pn.setClass(r,this.options.baseClass,!0),pn.setClass(r,this.options.hiddenClass,!0),this.lastHiddenVDOM=this.patcher.call(this,o,r)}this.hiddenRenderer.postUpdate(n)},Ln([vt.inject(kt.TYPES.ViewerOptions),Un("design:type",Object)],t.prototype,"options",void 0),Ln([vt.inject(kt.TYPES.ILogger),Un("design:type",Object)],t.prototype,"logger",void 0),t=Ln([vt.injectable(),On(0,vt.inject(kt.TYPES.ModelRendererFactory)),On(1,vt.inject(kt.TYPES.PatcherProvider)),On(2,vt.multiInject(kt.TYPES.HiddenVNodePostprocessor)),On(2,vt.optional()),Un("design:paramtypes",[Function,su,Array])],t),t}();Br.HiddenModelViewer=rj;var ij=function(){function t(e,n,r){this.modelRendererFactory=e,this.popupRenderer=this.modelRendererFactory("popup",r),this.patcher=n.patcher}return t.prototype.update=function(e,n){this.logger.log(this,"rendering popup",e);var r=e.type===zm.EMPTY_ROOT.type,i;if(r)i=Ca.html("div",{id:this.options.popupDiv});else{var o=e.canvasBounds,a={top:o.y+"px",left:o.x+"px"};i=Ca.html("div",{id:this.options.popupDiv,style:a},this.popupRenderer.renderElement(e))}if(this.lastPopupVDOM!==void 0)pn.copyClassesFromVNode(this.lastPopupVDOM,i),pn.setClass(i,this.options.popupClosedClass,r),this.lastPopupVDOM=this.patcher.call(this,this.lastPopupVDOM,i);else if(typeof document!="undefined"){var c=document.getElementById(this.options.popupDiv);c===null?(c=document.createElement("div"),document.body.appendChild(c)):pn.copyClassesFromElement(c,i),pn.setClass(i,this.options.popupClass,!0),pn.setClass(i,this.options.popupClosedClass,r),this.lastPopupVDOM=this.patcher.call(this,c,i)}this.popupRenderer.postUpdate(n)},Ln([vt.inject(kt.TYPES.ViewerOptions),Un("design:type",Object)],t.prototype,"options",void 0),Ln([vt.inject(kt.TYPES.ILogger),Un("design:type",Object)],t.prototype,"logger",void 0),t=Ln([vt.injectable(),On(0,vt.inject(kt.TYPES.ModelRendererFactory)),On(1,vt.inject(kt.TYPES.PatcherProvider)),On(2,vt.multiInject(kt.TYPES.PopupVNodePostprocessor)),On(2,vt.optional()),Un("design:paramtypes",[Function,su,Array])],t),t}();Br.PopupModelViewer=ij;var cu={},oj=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(cu,"__esModule",{value:!0});var aj=fe,sj=pt,cj=function(){function t(){}return t.prototype.decorate=function(e,n){return e.sel&&e.sel.startsWith("svg")&&sj.setAttr(e,"tabindex",0),e},t.prototype.postUpdate=function(){},t=oj([aj.injectable()],t),t}();cu.FocusFixPostprocessor=cj;var uu={},du={};(function(t){var e=w&&w.__decorate||function(u,d,f,_){var y=arguments.length,g=y<3?d:_===null?_=Object.getOwnPropertyDescriptor(d,f):_,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(u,d,f,_);else for(var m=u.length-1;m>=0;m--)(v=u[m])&&(g=(y<3?v(g):y>3?v(d,f,g):v(d,f))||g);return y>3&&g&&Object.defineProperty(d,f,g),g},n=w&&w.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},r=w&&w.__spreadArrays||function(){for(var u=0,d=0,f=arguments.length;d<f;d++)u+=arguments[d].length;for(var _=Array(u),y=0,d=0;d<f;d++)for(var g=arguments[d],v=0,m=g.length;v<m;v++,y++)_[y]=g[v];return _};Object.defineProperty(t,"__esModule",{value:!0});var i=fe,o=Se,a;(function(u){u[u.none=0]="none",u[u.error=1]="error",u[u.warn=2]="warn",u[u.info=3]="info",u[u.log=4]="log"})(a=t.LogLevel||(t.LogLevel={}));var c=function(){function u(){this.logLevel=a.none}return u.prototype.error=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u.prototype.warn=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u.prototype.info=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u.prototype.log=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u=e([i.injectable()],u),u}();t.NullLogger=c;var s=function(){function u(){this.logLevel=a.log,this.viewOptions={baseDiv:""}}return u.prototype.error=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.error)try{console.error.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.warn=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.warn)try{console.warn.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.info=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.info)try{console.info.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.log=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.log)try{console.log.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.consoleArguments=function(d,f,_){var y;typeof d=="object"?y=d.constructor.name:y=d;var g=new Date;return r([g.toLocaleTimeString()+" "+this.viewOptions.baseDiv+" "+y+": "+f],_)},e([i.inject(o.TYPES.LogLevel),n("design:type",Number)],u.prototype,"logLevel",void 0),e([i.inject(o.TYPES.ViewerOptions),n("design:type",Object)],u.prototype,"viewOptions",void 0),u=e([i.injectable()],u),u}();t.ConsoleLogger=s})(du);var Hf={},Ed=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},lh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Hf,"__esModule",{value:!0});var Ad=fe,fh=Se,uj=vi,dj=pt,lj=function(){function t(){}return t.prototype.decorate=function(e,n){var r=dj.getAttrs(e);return r.id!==void 0&&this.logger.warn(e,"Overriding id of vnode ("+r.id+"). Make sure not to set it manually in view."),r.id=this.domHelper.createUniqueDOMElementId(n),e.key||(e.key=n.id),e},t.prototype.postUpdate=function(){},Ed([Ad.inject(fh.TYPES.ILogger),lh("design:type",Object)],t.prototype,"logger",void 0),Ed([Ad.inject(fh.TYPES.DOMHelper),lh("design:type",uj.DOMHelper)],t.prototype,"domHelper",void 0),t=Ed([Ad.injectable()],t),t}();Hf.IdPostprocessor=lj;var Kf={},fj=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Kf,"__esModule",{value:!0});var _j=nn,_h=pt,pj=fe,hj=function(){function t(){}return t.prototype.decorate=function(e,n){if(n.cssClasses)for(var r=0,i=n.cssClasses;r<i.length;r++){var o=i[r];_h.setClass(e,o,!0)}var a=_j.getSubType(n);return a&&a!==n.type&&_h.setClass(e,a,!0),e},t.prototype.postUpdate=function(){},t=fj([pj.injectable()],t),t}();Kf.CssClassPostprocessor=hj;Object.defineProperty(uu,"__esModule",{value:!0});var gj=fe,Ke=Se,Od=Ya,ph=du,yj=La,Os=kr,mj=ru,hh=en,vj=gi,Or=Br,bj=Vf,Ni=Lt,gh=yn,yh=cu,Pj=jn,Is=au,wj=vi,js=Hf,Ms=Tt,Id=Kf,Ko=ho,mh=iu,Rj=mi,vh=$a,Sj=tu,Ej=new gj.ContainerModule(function(t,e,n){t(Ke.TYPES.ILogger).to(ph.NullLogger).inSingletonScope(),t(Ke.TYPES.LogLevel).toConstantValue(ph.LogLevel.warn),t(Ke.TYPES.SModelRegistry).to(hh.SModelRegistry).inSingletonScope(),t(Os.ActionHandlerRegistry).toSelf().inSingletonScope(),t(Ke.TYPES.ActionHandlerRegistryProvider).toProvider(function(i){return function(){return new Promise(function(o){o(i.container.get(Os.ActionHandlerRegistry))})}}),t(Ke.TYPES.ViewRegistry).to(Pj.ViewRegistry).inSingletonScope(),t(Ke.TYPES.IModelFactory).to(hh.SModelFactory).inSingletonScope(),t(Ke.TYPES.IActionDispatcher).to(yj.ActionDispatcher).inSingletonScope(),t(Ke.TYPES.IActionDispatcherProvider).toProvider(function(i){return function(){return new Promise(function(o){o(i.container.get(Ke.TYPES.IActionDispatcher))})}}),t(Ke.TYPES.IDiagramLocker).to(Sj.DefaultDiagramLocker).inSingletonScope(),t(Ke.TYPES.IActionHandlerInitializer).to(Ms.CommandActionHandlerInitializer),t(Ke.TYPES.ICommandStack).to(mj.CommandStack).inSingletonScope(),t(Ke.TYPES.ICommandStackProvider).toProvider(function(i){return function(){return new Promise(function(o){o(i.container.get(Ke.TYPES.ICommandStack))})}}),t(Ke.TYPES.CommandStackOptions).toConstantValue({defaultDuration:250,undoHistoryLimit:50}),t(Or.ModelViewer).toSelf().inSingletonScope(),t(Or.HiddenModelViewer).toSelf().inSingletonScope(),t(Or.PopupModelViewer).toSelf().inSingletonScope(),t(Ke.TYPES.ModelViewer).toDynamicValue(function(i){var o=i.container.createChild();return o.bind(Ke.TYPES.IViewer).toService(Or.ModelViewer),o.bind(Is.ViewerCache).toSelf(),o.get(Is.ViewerCache)}).inSingletonScope(),t(Ke.TYPES.PopupModelViewer).toDynamicValue(function(i){var o=i.container.createChild();return o.bind(Ke.TYPES.IViewer).toService(Or.PopupModelViewer),o.bind(Is.ViewerCache).toSelf(),o.get(Is.ViewerCache)}).inSingletonScope(),t(Ke.TYPES.HiddenModelViewer).toService(Or.HiddenModelViewer),t(Ke.TYPES.IViewerProvider).toDynamicValue(function(i){return{get modelViewer(){return i.container.get(Ke.TYPES.ModelViewer)},get hiddenModelViewer(){return i.container.get(Ke.TYPES.HiddenModelViewer)},get popupModelViewer(){return i.container.get(Ke.TYPES.PopupModelViewer)}}}),t(Ke.TYPES.ViewerOptions).toConstantValue(bj.defaultViewerOptions()),t(Ke.TYPES.PatcherProvider).to(Or.PatcherProvider).inSingletonScope(),t(Ke.TYPES.DOMHelper).to(wj.DOMHelper).inSingletonScope(),t(Ke.TYPES.ModelRendererFactory).toFactory(function(i){return function(o,a,c){c===void 0&&(c={});var s=i.container.get(Ke.TYPES.ViewRegistry);return new Or.ModelRenderer(s,o,a,c)}}),t(js.IdPostprocessor).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(js.IdPostprocessor),t(Ke.TYPES.HiddenVNodePostprocessor).toService(js.IdPostprocessor),t(Id.CssClassPostprocessor).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Id.CssClassPostprocessor),t(Ke.TYPES.HiddenVNodePostprocessor).toService(Id.CssClassPostprocessor),t(Ni.MouseTool).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Ni.MouseTool),t(gh.KeyTool).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(gh.KeyTool),t(yh.FocusFixPostprocessor).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(yh.FocusFixPostprocessor),t(Ke.TYPES.PopupVNodePostprocessor).toService(js.IdPostprocessor),t(Ni.PopupMouseTool).toSelf().inSingletonScope(),t(Ke.TYPES.PopupVNodePostprocessor).toService(Ni.PopupMouseTool),t(Ke.TYPES.AnimationFrameSyncer).to(vj.AnimationFrameSyncer).inSingletonScope();var r={bind:t,isBound:n};Ms.configureCommand(r,Od.InitializeCanvasBoundsCommand),t(Od.CanvasBoundsInitializer).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Od.CanvasBoundsInitializer),Ms.configureCommand(r,Rj.SetModelCommand),t(Ke.TYPES.IToolManager).to(Ko.ToolManager).inSingletonScope(),t(Ke.TYPES.KeyListener).to(Ko.DefaultToolsEnablingKeyListener),t(Ko.ToolManagerActionHandler).toSelf().inSingletonScope(),Os.configureActionHandler(r,mh.EnableDefaultToolsAction.KIND,Ko.ToolManagerActionHandler),Os.configureActionHandler(r,mh.EnableToolsAction.KIND,Ko.ToolManagerActionHandler),t(Ke.TYPES.UIExtensionRegistry).to(vh.UIExtensionRegistry).inSingletonScope(),Ms.configureCommand(r,vh.SetUIExtensionVisibilityCommand),t(Ni.MousePositionTracker).toSelf().inSingletonScope(),t(Ke.TYPES.MouseListener).toService(Ni.MousePositionTracker)});uu.default=Ej;var er={},lt={};(function(t){var e=w&&w.__extends||function(){var m=function(h,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,R){p.__proto__=R}||function(p,R){for(var O in R)R.hasOwnProperty(O)&&(p[O]=R[O])},m(h,b)};return function(h,b){m(h,b);function p(){this.constructor=h}h.prototype=b===null?Object.create(b):(p.prototype=b.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=nt,r=Ze,i=gt,o=qt;t.boundsFeature=Symbol("boundsFeature"),t.layoutContainerFeature=Symbol("layoutContainerFeature"),t.layoutableChildFeature=Symbol("layoutableChildFeature"),t.alignFeature=Symbol("alignFeature");function a(m){return"bounds"in m}t.isBoundsAware=a;function c(m){return a(m)&&m.hasFeature(t.layoutContainerFeature)&&"layout"in m}t.isLayoutContainer=c;function s(m){return a(m)&&m.hasFeature(t.layoutableChildFeature)}t.isLayoutableChild=s;function u(m){return m.hasFeature(t.boundsFeature)&&a(m)}t.isSizeable=u;function d(m){return m.hasFeature(t.alignFeature)&&"alignment"in m}t.isAlignable=d;function f(m){var h=i.findParentByFeature(m,a);if(h!==void 0){for(var b=h.bounds,p=h;p instanceof r.SChildElement;){var R=p.parent;b=R.localToParent(b),p=R}return b}else if(m instanceof r.SModelRoot){var O=m.canvasBounds;return{x:0,y:0,width:O.width,height:O.height}}else return n.Bounds.EMPTY}t.getAbsoluteBounds=f;function _(m,h,b){var p=0,R=0,O=0,A=0,I=h.createUniqueDOMElementId(m),j=document.getElementById(I);if(j){var U=j.getBoundingClientRect(),M=o.getWindowScroll();p=U.left+M.x,R=U.top+M.y,O=U.width,A=U.height}var x=document.getElementById(b.baseDiv);if(x)for(;x.offsetParent instanceof HTMLElement&&(x=x.offsetParent);)p-=x.offsetLeft,R-=x.offsetTop;return{x:p,y:R,width:O,height:A}}t.getAbsoluteClientBounds=_;function y(m,h){var b=[];return g(m,h,b),b}t.findChildrenAtPosition=y;function g(m,h,b){m.children.forEach(function(p){if(a(p)&&n.Bounds.includes(p.bounds,h)&&b.push(p),p instanceof r.SParentElement){var R=p.parentToLocal(h);g(p,R,b)}})}var v=function(m){e(h,m);function h(){var b=m!==null&&m.apply(this,arguments)||this;return b.position=n.Point.ORIGIN,b.size=n.Dimension.EMPTY,b}return Object.defineProperty(h.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(b){this.position={x:b.x,y:b.y},this.size={width:b.width,height:b.height}},enumerable:!0,configurable:!0}),h.prototype.localToParent=function(b){var p={x:b.x+this.position.x,y:b.y+this.position.y,width:-1,height:-1};return n.isBounds(b)&&(p.width=b.width,p.height=b.height),p},h.prototype.parentToLocal=function(b){var p={x:b.x-this.position.x,y:b.y-this.position.y,width:-1,height:-1};return n.isBounds(b)&&(p.width=b.width,p.height=b.height),p},h}(r.SChildElement);t.SShapeElement=v})(lt);var Zm=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ga=w&&w.__assign||function(){return ga=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ga.apply(this,arguments)},qm=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Wm=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Gm=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(er,"__esModule",{value:!0});var Oc=fe,Aj=St,Jm=at,Xm=Se,Oj=lt,kl=function(){function t(e){this.bounds=e,this.kind=t.KIND}return t.KIND="setBounds",t}();er.SetBoundsAction=kl;var Bl=function(){function t(e,n){n===void 0&&(n=""),this.newRoot=e,this.requestId=n,this.kind=t.KIND}return t.create=function(e){return new t(e,Aj.generateRequestId())},t.KIND="requestBounds",t}();er.RequestBoundsAction=Bl;var Qm=function(){function t(e,n,r,i){i===void 0&&(i=""),this.bounds=e,this.revision=n,this.alignments=r,this.responseId=i,this.kind=t.KIND}return t.KIND="computedBounds",t}();er.ComputedBoundsAction=Qm;var Ij=function(){function t(){this.kind=t.KIND}return t.KIND="layout",t}();er.LayoutAction=Ij;var jj=function(t){Zm(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r.bounds=[],r}return e.prototype.execute=function(n){var r=this;return this.action.bounds.forEach(function(i){var o=n.root.index.getById(i.elementId);o&&Oj.isBoundsAware(o)&&r.bounds.push({element:o,oldBounds:o.bounds,newPosition:i.newPosition,newSize:i.newSize})}),this.redo(n)},e.prototype.undo=function(n){return this.bounds.forEach(function(r){return r.element.bounds=r.oldBounds}),n.root},e.prototype.redo=function(n){return this.bounds.forEach(function(r){r.newPosition?r.element.bounds=ga(ga({},r.newPosition),r.newSize):r.element.bounds=ga({x:r.element.bounds.x,y:r.element.bounds.y},r.newSize)}),n.root},e.KIND=kl.KIND,e=qm([Oc.injectable(),Gm(0,Oc.inject(Xm.TYPES.Action)),Wm("design:paramtypes",[kl])],e),e}(Jm.SystemCommand);er.SetBoundsCommand=jj;var Mj=function(t){Zm(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r}return e.prototype.execute=function(n){return{model:n.modelFactory.createRoot(this.action.newRoot),modelChanged:!0,cause:this.action}},Object.defineProperty(e.prototype,"blockUntil",{get:function(){return function(n){return n.kind===Qm.KIND}},enumerable:!0,configurable:!0}),e.KIND=Bl.KIND,e=qm([Oc.injectable(),Gm(0,Oc.inject(Xm.TYPES.Action)),Wm("design:paramtypes",[Bl])],e),e}(Jm.HiddenCommand);er.RequestBoundsCommand=Mj;var za={},Yr={},Cj=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ya=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Ic=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},bh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Yr,"__esModule",{value:!0});var si=fe,xj=nt,xa=Se,Dj=tn,Ph=lt,Tj=yi,ev=function(t){Cj(e,t);function e(n){n===void 0&&(n=[]);var r=t.call(this)||this;return n.forEach(function(i){r.hasKey(i.layoutKind)?r.logger.warn("Layout kind is already defined: ",i.layoutKind):r.register(i.layoutKind,i.factory())}),r}return ya([si.inject(xa.TYPES.ILogger),Ic("design:type",Object)],e.prototype,"logger",void 0),e=ya([si.injectable(),bh(0,si.multiInject(xa.TYPES.LayoutRegistration)),bh(0,si.optional()),Ic("design:paramtypes",[Array])],e),e}(Dj.InstanceRegistry);Yr.LayoutRegistry=ev;var Lj=function(){function t(){}return t.prototype.layout=function(e){new tv(e,this.layoutRegistry,this.logger).layout()},ya([si.inject(xa.TYPES.LayoutRegistry),Ic("design:type",ev)],t.prototype,"layoutRegistry",void 0),ya([si.inject(xa.TYPES.ILogger),Ic("design:type",Object)],t.prototype,"logger",void 0),t=ya([si.injectable()],t),t}();Yr.Layouter=Lj;var tv=function(){function t(e,n,r){var i=this;this.element2boundsData=e,this.layoutRegistry=n,this.log=r,this.toBeLayouted=[],e.forEach(function(o,a){Ph.isLayoutContainer(a)&&i.toBeLayouted.push(a)})}return t.prototype.getBoundsData=function(e){var n=this.element2boundsData.get(e),r=e.bounds;return Ph.isLayoutContainer(e)&&this.toBeLayouted.indexOf(e)>=0&&(r=this.doLayout(e)),n||(n={bounds:r,boundsChanged:!1,alignmentChanged:!1},this.element2boundsData.set(e,n)),n},t.prototype.layout=function(){for(;this.toBeLayouted.length>0;){var e=this.toBeLayouted[0];this.doLayout(e)}},t.prototype.doLayout=function(e){var n=this.toBeLayouted.indexOf(e);n>=0&&this.toBeLayouted.splice(n,1);var r=this.layoutRegistry.get(e.layout);r&&r.layout(e,this);var i=this.element2boundsData.get(e);return i!==void 0&&i.bounds!==void 0?i.bounds:(this.log.error(e,"Layout failed"),xj.Bounds.EMPTY)},t}();Yr.StatefulLayouter=tv;function Uj(t,e,n){if(typeof n=="function"){if(!Tj.isInjectable(n))throw new Error("Layouts be @injectable: "+n.name);t.isBound(n)||t.bind(n).toSelf()}t.bind(xa.TYPES.LayoutRegistration).toDynamicValue(function(r){return{layoutKind:e,factory:function(){return r.container.get(n)}}})}Yr.configureLayout=Uj;var Cs=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},jd=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(za,"__esModule",{value:!0});var xs=fe,wh=St,ti=nt,Rh=Ze,Md=Se,Nj=Yr,zo=lt,Fj=function(){function t(){}return t}();za.BoundsData=Fj;var kj=function(){function t(){this.element2boundsData=new Map}return t.prototype.decorate=function(e,n){return(zo.isSizeable(n)||zo.isLayoutContainer(n))&&this.element2boundsData.set(n,{vnode:e,bounds:n.bounds,boundsChanged:!1,alignmentChanged:!1}),n instanceof Rh.SModelRoot&&(this.root=n),e},t.prototype.postUpdate=function(e){if(!(e===void 0||e.kind!==wh.RequestBoundsAction.KIND)){var n=e;this.getBoundsFromDOM(),this.layouter.layout(this.element2boundsData);var r=[],i=[];this.element2boundsData.forEach(function(a,c){if(a.boundsChanged&&a.bounds!==void 0){var s={elementId:c.id,newSize:{width:a.bounds.width,height:a.bounds.height}};c instanceof Rh.SChildElement&&zo.isLayoutContainer(c.parent)&&(s.newPosition={x:a.bounds.x,y:a.bounds.y}),r.push(s)}a.alignmentChanged&&a.alignment!==void 0&&i.push({elementId:c.id,newAlignment:a.alignment})});var o=this.root!==void 0?this.root.revision:void 0;this.actionDispatcher.dispatch(wh.ComputedBoundsAction.create(r,{revision:o,alignments:i,requestId:n.requestId})),this.element2boundsData.clear()}},t.prototype.getBoundsFromDOM=function(){var e=this;this.element2boundsData.forEach(function(n,r){if(n.bounds&&zo.isSizeable(r)){var i=n.vnode;if(i&&i.elm){var o=e.getBounds(i.elm,r);zo.isAlignable(r)&&!(ti.almostEquals(o.x,0)&&ti.almostEquals(o.y,0))&&(n.alignment={x:-o.x,y:-o.y},n.alignmentChanged=!0);var a={x:r.bounds.x,y:r.bounds.y,width:o.width,height:o.height};ti.almostEquals(a.x,r.bounds.x)&&ti.almostEquals(a.y,r.bounds.y)&&ti.almostEquals(a.width,r.bounds.width)&&ti.almostEquals(a.height,r.bounds.height)||(n.bounds=a,n.boundsChanged=!0)}}})},t.prototype.getBounds=function(e,n){if(typeof e.getBBox!="function")return this.logger.error(this,"Not an SVG element:",e),ti.Bounds.EMPTY;var r=e.getBBox();return{x:r.x,y:r.y,width:r.width,height:r.height}},Cs([xs.inject(Md.TYPES.ILogger),jd("design:type",Object)],t.prototype,"logger",void 0),Cs([xs.inject(Md.TYPES.IActionDispatcher),jd("design:type",Object)],t.prototype,"actionDispatcher",void 0),Cs([xs.inject(Md.TYPES.Layouter),jd("design:type",Nj.Layouter)],t.prototype,"layouter",void 0),t=Cs([xs.injectable()],t),t}();za.HiddenBoundsUpdater=kj;var lu={},Za={},Bj=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Za,"__esModule",{value:!0});var Cd=nt,Sh=Ze,xd=lt,Yj=fe,$j=function(){function t(){}return t.prototype.layout=function(e,n){var r=n.getBoundsData(e),i=this.getLayoutOptions(e),o=this.getChildrenSize(e,i,n),a=i.paddingFactor*(i.resizeContainer?o.width:Math.max(0,this.getFixedContainerBounds(e,i,n).width)-i.paddingLeft-i.paddingRight),c=i.paddingFactor*(i.resizeContainer?o.height:Math.max(0,this.getFixedContainerBounds(e,i,n).height)-i.paddingTop-i.paddingBottom);if(a>0&&c>0){var s=this.layoutChildren(e,n,i,a,c);r.bounds=this.getFinalContainerBounds(e,s,i,a,c),r.boundsChanged=!0}},t.prototype.getFinalContainerBounds=function(e,n,r,i,o){return{x:e.bounds.x,y:e.bounds.y,width:Math.max(r.minWidth,i+r.paddingLeft+r.paddingRight),height:Math.max(r.minHeight,o+r.paddingTop+r.paddingBottom)}},t.prototype.getFixedContainerBounds=function(e,n,r){for(var i=e;;){if(xd.isBoundsAware(i)){var o=i.bounds;if(xd.isLayoutContainer(i)&&n.resizeContainer&&r.log.error(i,"Resizable container found while detecting fixed bounds"),Cd.Dimension.isValid(o))return o}if(i instanceof Sh.SChildElement)i=i.parent;else return r.log.error(i,"Cannot detect fixed bounds"),Cd.Bounds.EMPTY}},t.prototype.layoutChildren=function(e,n,r,i,o){var a=this,c={x:r.paddingLeft+.5*(i-i/r.paddingFactor),y:r.paddingTop+.5*(o-o/r.paddingFactor)};return e.children.forEach(function(s){if(xd.isLayoutableChild(s)){var u=n.getBoundsData(s),d=u.bounds,f=a.getChildLayoutOptions(s,r);d!==void 0&&Cd.Dimension.isValid(d)&&(c=a.layoutChild(s,u,d,f,r,c,i,o))}}),c},t.prototype.getDx=function(e,n,r){switch(e){case"left":return 0;case"center":return .5*(r-n.width);case"right":return r-n.width}},t.prototype.getDy=function(e,n,r){switch(e){case"top":return 0;case"center":return .5*(r-n.height);case"bottom":return r-n.height}},t.prototype.getChildLayoutOptions=function(e,n){var r=e.layoutOptions;return r===void 0?n:this.spread(n,r)},t.prototype.getLayoutOptions=function(e){for(var n=this,r=e,i=[];r!==void 0;){var o=r.layoutOptions;if(o!==void 0&&i.push(o),r instanceof Sh.SChildElement)r=r.parent;else break}return i.reverse().reduce(function(a,c){return n.spread(a,c)},this.getDefaultLayoutOptions())},t=Bj([Yj.injectable()],t),t}();Za.AbstractLayout=$j;var Vj=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jc=w&&w.__assign||function(){return jc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jc.apply(this,arguments)},Hj=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(lu,"__esModule",{value:!0});var Kj=fe,zj=nt,Zj=Za,qj=lt,Wj=function(t){Vj(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getChildrenSize=function(n,r,i){var o=-1,a=0,c=!0;return n.children.forEach(function(s){if(qj.isLayoutableChild(s)){var u=i.getBoundsData(s).bounds;u!==void 0&&zj.Dimension.isValid(u)&&(a+=u.height,c?c=!1:a+=r.vGap,o=Math.max(o,u.width))}}),{width:o,height:a}},e.prototype.layoutChild=function(n,r,i,o,a,c,s,u){var d=this.getDx(o.hAlign,i,s);return r.bounds={x:a.paddingLeft+n.bounds.x-i.x+d,y:c.y+n.bounds.y-i.y,width:i.width,height:i.height},r.boundsChanged=!0,{x:c.x,y:c.y+i.height+a.vGap}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,vGap:1,hAlign:"center",minWidth:0,minHeight:0}},e.prototype.spread=function(n,r){return jc(jc({},n),r)},e.KIND="vbox",e=Hj([Kj.injectable()],e),e}(Zj.AbstractLayout);lu.VBoxLayouter=Wj;var fu={},Gj=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mc=w&&w.__assign||function(){return Mc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Mc.apply(this,arguments)},Jj=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(fu,"__esModule",{value:!0});var Xj=fe,Qj=nt,eM=Za,tM=lt,nM=function(t){Gj(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getChildrenSize=function(n,r,i){var o=0,a=-1,c=!0;return n.children.forEach(function(s){if(tM.isLayoutableChild(s)){var u=i.getBoundsData(s).bounds;u!==void 0&&Qj.Dimension.isValid(u)&&(c?c=!1:o+=r.hGap,o+=u.width,a=Math.max(a,u.height))}}),{width:o,height:a}},e.prototype.layoutChild=function(n,r,i,o,a,c,s,u){var d=this.getDy(o.vAlign,i,u);return r.bounds={x:c.x+n.bounds.x-i.x,y:a.paddingTop+n.bounds.y-i.y+d,width:i.width,height:i.height},r.boundsChanged=!0,{x:c.x+i.width+a.hGap,y:c.y}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hGap:1,vAlign:"center",minWidth:0,minHeight:0}},e.prototype.spread=function(n,r){return Mc(Mc({},n),r)},e.KIND="hbox",e=Jj([Xj.injectable()],e),e}(eM.AbstractLayout);fu.HBoxLayouter=nM;var _u={},rM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cc=w&&w.__assign||function(){return Cc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cc.apply(this,arguments)},iM=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(_u,"__esModule",{value:!0});var oM=fe,aM=nt,sM=Za,cM=lt,uM=function(t){rM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getChildrenSize=function(n,r,i){var o=-1,a=-1;return n.children.forEach(function(c){if(cM.isLayoutableChild(c)){var s=i.getBoundsData(c).bounds;s!==void 0&&aM.Dimension.isValid(s)&&(o=Math.max(o,s.width),a=Math.max(a,s.height))}}),{width:o,height:a}},e.prototype.layoutChild=function(n,r,i,o,a,c,s,u){var d=this.getDx(o.hAlign,i,s),f=this.getDy(o.vAlign,i,u);return r.bounds={x:a.paddingLeft+n.bounds.x-i.x+d,y:a.paddingTop+n.bounds.y-i.y+f,width:i.width,height:i.height},r.boundsChanged=!0,c},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hAlign:"center",vAlign:"center",minWidth:0,minHeight:0}},e.prototype.spread=function(n,r){return Cc(Cc({},n),r)},e.KIND="stack",e=iM([oM.injectable()],e),e}(sM.AbstractLayout);_u.StackLayouter=uM;var go={},dM=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(go,"__esModule",{value:!0});var lM=fe,fM=nt,_M=lt,pM=function(){function t(){}return t.prototype.isVisible=function(e,n){if(n.targetKind==="hidden"||!fM.Dimension.isValid(e.bounds))return!0;var r=_M.getAbsoluteBounds(e),i=e.root.canvasBounds;return r.x<=i.width&&r.x+r.width>=0&&r.y<=i.height&&r.y+r.height>=0},t=dM([lM.injectable()],t),t}();go.ShapeView=pM;var qa={},hM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gM=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},yM=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Eh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(qa,"__esModule",{value:!0});var Dd=fe,mM=tn,vM=Se,bM=function(t){hM(e,t);function e(n){var r=t.call(this)||this;return n.forEach(function(i){return r.register(i.TYPE,new i)}),r}return e=gM([Dd.injectable(),Eh(0,Dd.multiInject(vM.TYPES.IButtonHandler)),Eh(0,Dd.optional()),yM("design:paramtypes",[Array])],e),e}(mM.InstanceRegistry);qa.ButtonHandlerRegistry=bM;var Wa={},yo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fadeFeature=Symbol("fadeFeature");function e(n){return n.hasFeature(t.fadeFeature)&&n.opacity!==void 0}t.isFadeable=e})(yo);var PM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Wa,"__esModule",{value:!0});var Td=lt,wM=yo,RM=function(t){PM(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.enabled=!0,n}return e.DEFAULT_FEATURES=[Td.boundsFeature,Td.layoutableChildFeature,wM.fadeFeature],e}(Td.SShapeElement);Wa.SButton=RM;var mo={},zf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.nameFeature=Symbol("nameableFeature");function e(r){return r.hasFeature(t.nameFeature)}t.isNameable=e;function n(r){if(e(r))return r.name}t.name=n})(zf);var nv=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},rv=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Yl=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(mo,"__esModule",{value:!0});var ma=fe,Ld=St,Ah=Bn,iv=Se,SM=hi,Oh=zf,EM=function(){function t(e){e===void 0&&(e=[]),this.actionProviders=e}return t.prototype.getActions=function(e,n,r,i){var o=this.actionProviders.map(function(a){return a.getActions(e,n,r,i)});return Promise.all(o).then(function(a){return a.reduce(function(c,s){return s!==void 0?c.concat(s):c})})},t=nv([ma.injectable(),Yl(0,ma.multiInject(iv.TYPES.ICommandPaletteActionProvider)),Yl(0,ma.optional()),rv("design:paramtypes",[Array])],t),t}();mo.CommandPaletteActionProviderRegistry=EM;var AM=function(){function t(e){this.logger=e}return t.prototype.getActions=function(e,n,r,i){return i!==void 0&&i%2===0?Promise.resolve(this.createSelectActions(e)):Promise.resolve([new Ah.LabeledAction("Select all",[Ld.SelectAllAction.create()])])},t.prototype.createSelectActions=function(e){var n=SM.toArray(e.index.all().filter(function(r){return Oh.isNameable(r)}));return n.map(function(r){return new Ah.LabeledAction("Reveal "+Oh.name(r),[Ld.SelectAction.create({selectedElementsIDs:[r.id]}),Ld.CenterAction.create([r.id])],"eye")})},t=nv([ma.injectable(),Yl(0,ma.inject(iv.TYPES.ILogger)),rv("design:paramtypes",[Object])],t),t}();mo.RevealNamedElementActionProvider=AM;var Ga={},Zf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_ITEM="action-item",t.ANIMATION_SPIN="animation-spin";function e(r,i,o,a){return i===void 0&&(i=!1),o===void 0&&(o=!1),a===void 0&&(a=[]),n(r,i,o,a).join(" ")}t.codiconCSSString=e;function n(r,i,o,a){i===void 0&&(i=!1),o===void 0&&(o=!1),a===void 0&&(a=[]);var c=["codicon","codicon-"+r];return i&&c.push(t.ACTION_ITEM),o&&c.push(t.ANIMATION_SPIN),a.length>0&&c.push.apply(c,a),c}t.codiconCSSClasses=n})(Zf);var on={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.selectFeature=Symbol("selectFeature");function e(r){return r.hasFeature(t.selectFeature)}t.isSelectable=e;function n(r){return r!==void 0&&e(r)&&r.selected}t.isSelected=n})(on);var ov={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(w,function(){function n(r){var i=document,o=i.createElement("div"),a=o.style,c=navigator.userAgent,s=c.indexOf("Firefox")!==-1&&c.indexOf("Mobile")!==-1,u=r.debounceWaitMs||0,d=r.preventSubmit||!1,f=s?"input":"keyup",_=[],y="",g=2,v=r.showOnFocus,m,h=0,b;if(r.minLength!==void 0&&(g=r.minLength),!r.input)throw new Error("input undefined");var p=r.input;o.className="autocomplete "+(r.className||""),a.position="fixed";function R(){var C=o.parentNode;C&&C.removeChild(o)}function O(){return/iPad|iPhone|iPod/.test(window.navigator.userAgent)&&!window.MSStream}function A(){b&&window.clearTimeout(b)}function I(){o.parentNode||i.body.appendChild(o)}function j(){return!!o.parentNode}function U(){h++,_=[],y="",m=void 0,R()}function M(){if(!!j()){a.height="auto",a.width=p.offsetWidth+"px";var C=p.getBoundingClientRect(),W=O()?C.top+window.pageYOffset:C.top;W=W+p.offsetHeight;var ie=window.innerHeight-(C.top+p.offsetHeight);ie<0&&(ie=0),a.top=W+"px",a.bottom="",a.left=C.left+"px",a.maxHeight=ie+"px",r.customize&&r.customize(p,C,o,ie)}}function x(){for(;o.firstChild;)o.removeChild(o.firstChild);var C=function(ve,Ae){var je=i.createElement("div");return je.textContent=ve.label||"",je};r.render&&(C=r.render);var W=function(ve,Ae){var je=i.createElement("div");return je.textContent=ve,je};r.renderGroup&&(W=r.renderGroup);var ie=i.createDocumentFragment(),ce="#9?$";if(_.forEach(function(ve){if(ve.group&&ve.group!==ce){ce=ve.group;var Ae=W(ve.group,y);Ae&&(Ae.className+=" group",ie.appendChild(Ae))}var je=C(ve,y);je&&(je.addEventListener("click",function(Me){r.onSelect(ve,p),U(),Me.preventDefault(),Me.stopPropagation()}),ve===m&&(je.className+=" selected"),ie.appendChild(je))}),o.appendChild(ie),_.length<1)if(r.emptyMsg){var ge=i.createElement("div");ge.className="empty",ge.textContent=r.emptyMsg,o.appendChild(ge)}else{U();return}I(),M(),ne()}function D(){j()&&x()}function V(){D()}function q(C){C.target!==o?D():C.preventDefault()}function ee(C){for(var W=C.which||C.keyCode||0,ie=[38,13,27,39,37,16,17,18,20,91,9],ce=0,ge=ie;ce<ge.length;ce++){var ve=ge[ce];if(W===ve)return}W===40&&j()||B(0)}function ne(){var C=o.getElementsByClassName("selected");if(C.length>0){var W=C[0],ie=W.previousElementSibling;if(ie&&ie.className.indexOf("group")!==-1&&!ie.previousElementSibling&&(W=ie),W.offsetTop<o.scrollTop)o.scrollTop=W.offsetTop;else{var ce=W.offsetTop+W.offsetHeight,ge=o.scrollTop+o.offsetHeight;ce>ge&&(o.scrollTop+=ce-ge)}}}function se(){if(_.length<1)m=void 0;else if(m===_[0])m=_[_.length-1];else for(var C=_.length-1;C>0;C--)if(m===_[C]||C===1){m=_[C-1];break}}function G(){if(_.length<1&&(m=void 0),!m||m===_[_.length-1]){m=_[0];return}for(var C=0;C<_.length-1;C++)if(m===_[C]){m=_[C+1];break}}function Z(C){var W=C.which||C.keyCode||0;if(W===38||W===40||W===27){var ie=j();if(W===27)U();else{if(!j||_.length<1)return;W===38?se():G(),x()}C.preventDefault(),ie&&C.stopPropagation();return}W===13&&(m&&(r.onSelect(m,p),U()),d&&C.preventDefault())}function K(){v&&B(1)}function B(C){var W=++h,ie=p.value;ie.length>=g||C===1?(A(),b=window.setTimeout(function(){r.fetch(ie,function(ce){h===W&&ce&&(_=ce,y=ie,m=_.length>0?_[0]:void 0,x())},0)},C===0?u:0)):U()}function Y(){setTimeout(function(){i.activeElement!==p&&U()},200)}o.addEventListener("mousedown",function(C){C.stopPropagation(),C.preventDefault()});function L(){p.removeEventListener("focus",K),p.removeEventListener("keydown",Z),p.removeEventListener(f,ee),p.removeEventListener("blur",Y),window.removeEventListener("resize",V),i.removeEventListener("scroll",q,!0),A(),U(),h++}return p.addEventListener("keydown",Z),p.addEventListener(f,ee),p.addEventListener("blur",Y),p.addEventListener("focus",K),window.addEventListener("resize",V),i.addEventListener("scroll",q,!0),{destroy:L}}return n})})(ov);var av=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fi=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Zo=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},OM=w&&w.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r},IM=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ga,"__esModule",{value:!0});var ki=fe,jM=St,MM=Bn,Ds=Se,CM=Va,Ih=$a,xM=vi,DM=yn,jh=Zf,$l=hi,Vl=In,Mh=lt,sv=on,TM=mo,Ch=Lt,LM=IM(ov.exports),tc=function(t){av(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.loadingIndicatorClasses=jh.codiconCSSClasses("loading",!1,!0,["loading"]),r.xOffset=20,r.yOffset=20,r.defaultWidth=400,r.debounceWaitMs=100,r.noCommandsMsg="No commands available",r.paletteIndex=0,r}n=e,e.prototype.id=function(){return n.ID},e.prototype.containerClass=function(){return"command-palette"},e.prototype.show=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t.prototype.show.apply(this,OM([r],i)),this.paletteIndex=0,this.contextActions=void 0,this.inputElement.value="",this.autoCompleteResult=LM.default(this.autocompleteSettings(r)),this.inputElement.focus()},e.prototype.initializeContents=function(r){var i=this;r.style.position="absolute",this.inputElement=document.createElement("input"),this.inputElement.style.width="100%",this.inputElement.addEventListener("keydown",function(o){return i.hideIfEscapeEvent(o)}),this.inputElement.addEventListener("keydown",function(o){return i.cylceIfInvokePaletteKey(o)}),this.inputElement.onblur=function(){return window.setTimeout(function(){return i.hide()},200)},r.appendChild(this.inputElement)},e.prototype.hideIfEscapeEvent=function(r){Vl.matchesKeystroke(r,"Escape")&&this.hide()},e.prototype.cylceIfInvokePaletteKey=function(r){n.isInvokePaletteKey(r)&&this.cycle()},e.prototype.cycle=function(){this.contextActions=void 0,this.paletteIndex++},e.prototype.onBeforeShow=function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c=this.xOffset,s=this.yOffset,u=$l.toArray(i.index.all().filter(function(f){return sv.isSelectable(f)&&f.selected}));if(u.length===1){var d=Mh.getAbsoluteClientBounds(u[0],this.domHelper,this.viewerOptions);c+=d.x+d.width,s+=d.y}else{var d=Mh.getAbsoluteClientBounds(i,this.domHelper,this.viewerOptions);c+=d.x,s+=d.y}r.style.left=c+"px",r.style.top=s+"px",r.style.width=this.defaultWidth+"px"},e.prototype.autocompleteSettings=function(r){var i=this;return{input:this.inputElement,emptyMsg:this.noCommandsMsg,className:"command-palette-suggestions",debounceWaitMs:this.debounceWaitMs,showOnFocus:!0,minLength:-1,fetch:function(o,a){return i.updateAutoCompleteActions(a,o,r)},onSelect:function(o){return i.onSelect(o)},render:function(o,a){return i.renderLabeledActionSuggestion(o,a)},customize:function(o,a,c,s){i.customizeSuggestionContainer(c,a,s)}}},e.prototype.onSelect=function(r){this.executeAction(r),this.hide()},e.prototype.updateAutoCompleteActions=function(r,i,o){var a=this;this.onLoading(),this.contextActions?(r(this.filterActions(i,this.contextActions)),this.onLoaded("success")):this.actionProviderRegistry.getActions(o,i,this.mousePositionTracker.lastPositionOnDiagram,this.paletteIndex).then(function(c){a.contextActions=c,r(a.filterActions(i,c)),a.onLoaded("success")}).catch(function(c){a.logger.error(a,"Failed to obtain actions from command palette action providers",c),a.onLoaded("error")})},e.prototype.onLoading=function(){var r;this.loadingIndicator&&this.containerElement.contains(this.loadingIndicator)||(this.loadingIndicator=document.createElement("span"),(r=this.loadingIndicator.classList).add.apply(r,this.loadingIndicatorClasses),this.containerElement.appendChild(this.loadingIndicator))},e.prototype.onLoaded=function(r){this.containerElement.contains(this.loadingIndicator)&&this.containerElement.removeChild(this.loadingIndicator)},e.prototype.renderLabeledActionSuggestion=function(r,i){var o=document.createElement("div"),a=NM(i).split(" ").join("|"),c=new RegExp(a,"gi");return r.icon&&this.renderIcon(o,r.icon),o.innerHTML+=r.label.replace(c,function(s){return"<em>"+s+"</em>"}),o},e.prototype.renderIcon=function(r,i){r.innerHTML+='<span class="icon '+this.getCodicon(i)+'"></span>'},e.prototype.getFontAwesomeIcon=function(r){return"fa fa-"+r},e.prototype.getCodicon=function(r){return jh.codiconCSSString(r)},e.prototype.filterActions=function(r,i){return $l.toArray(i.filter(function(o){var a=o.label.toLowerCase(),c=r.split(" ");return c.every(function(s){return a.indexOf(s.toLowerCase())!==-1})}))},e.prototype.customizeSuggestionContainer=function(r,i,o){this.containerElement&&this.containerElement.appendChild(r)},e.prototype.hide=function(){t.prototype.hide.call(this),this.autoCompleteResult&&this.autoCompleteResult.destroy()},e.prototype.executeAction=function(r){var i=this;this.actionDispatcherProvider().then(function(o){return o.dispatchAll(UM(r))}).catch(function(o){return i.logger.error(i,"No action dispatcher available to execute command palette action",o)})};var n;return e.ID="command-palette",e.isInvokePaletteKey=function(r){return Vl.matchesKeystroke(r,"Space","ctrl")},Fi([ki.inject(Ds.TYPES.IActionDispatcherProvider),Zo("design:type",Function)],e.prototype,"actionDispatcherProvider",void 0),Fi([ki.inject(Ds.TYPES.ICommandPaletteActionProviderRegistry),Zo("design:type",TM.CommandPaletteActionProviderRegistry)],e.prototype,"actionProviderRegistry",void 0),Fi([ki.inject(Ds.TYPES.ViewerOptions),Zo("design:type",Object)],e.prototype,"viewerOptions",void 0),Fi([ki.inject(Ds.TYPES.DOMHelper),Zo("design:type",xM.DOMHelper)],e.prototype,"domHelper",void 0),Fi([ki.inject(Ch.MousePositionTracker),Zo("design:type",Ch.MousePositionTracker)],e.prototype,"mousePositionTracker",void 0),e=n=Fi([ki.injectable()],e),e}(CM.AbstractUIExtension);Ga.CommandPalette=tc;function UM(t){return MM.isLabeledAction(t)?t.actions:jM.isAction(t)?[t]:[]}function NM(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var FM=function(t){av(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.keyDown=function(n,r){if(Vl.matchesKeystroke(r,"Escape"))return[Ih.SetUIExtensionVisibilityAction.create({extensionId:tc.ID,visible:!1,contextElementsId:[]})];if(tc.isInvokePaletteKey(r)){var i=$l.toArray(n.index.all().filter(function(o){return sv.isSelectable(o)&&o.selected}).map(function(o){return o.id}));return[Ih.SetUIExtensionVisibilityAction.create({extensionId:tc.ID,visible:!0,contextElementsId:i})]}return[]},e}(DM.KeyListener);Ga.CommandPaletteKeyListener=FM;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});function kM(t){return t instanceof HTMLElement?{x:t.offsetLeft,y:t.offsetTop}:t}qf.toAnchor=kM;var vo={},bi={};(function(t){var e=w&&w.__extends||function(){var y=function(g,v){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var b in h)h.hasOwnProperty(b)&&(m[b]=h[b])},y(g,v)};return function(g,v){y(g,v);function m(){this.constructor=g}g.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}(),n=w&&w.__decorate||function(y,g,v,m){var h=arguments.length,b=h<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,g,v,m);else for(var R=y.length-1;R>=0;R--)(p=y[R])&&(b=(h<3?p(b):h>3?p(g,v,b):p(g,v))||b);return h>3&&b&&Object.defineProperty(g,v,b),b},r=w&&w.__metadata||function(y,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,g)},i=w&&w.__param||function(y,g){return function(v,m){g(v,m,y)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=at,c=Ze,s=Se;t.deletableFeature=Symbol("deletableFeature");function u(y){return y instanceof c.SChildElement&&y.hasFeature(t.deletableFeature)}t.isDeletable=u;var d;(function(y){y.KIND="delete";function g(v){return{kind:y.KIND,elementIds:v}}y.create=g})(d=t.DeleteElementAction||(t.DeleteElementAction={}));var f=function(){function y(){}return y}();t.ResolvedDelete=f;var _=function(y){e(g,y);function g(v){var m=y.call(this)||this;return m.action=v,m.resolvedDeletes=[],m}return g.prototype.execute=function(v){for(var m=v.root.index,h=0,b=this.action.elementIds;h<b.length;h++){var p=b[h],R=m.getById(p);R&&u(R)&&(this.resolvedDeletes.push({child:R,parent:R.parent}),R.parent.remove(R))}return v.root},g.prototype.undo=function(v){for(var m=0,h=this.resolvedDeletes;m<h.length;m++){var b=h[m];b.parent.add(b.child)}return v.root},g.prototype.redo=function(v){for(var m=0,h=this.resolvedDeletes;m<h.length;m++){var b=h[m];b.parent.remove(b.child)}return v.root},g.KIND=d.KIND,g=n([o.injectable(),i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[Object])],g),g}(a.Command);t.DeleteElementCommand=_})(bi);var cv=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},BM=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},xh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(vo,"__esModule",{value:!0});var nc=fe,YM=Se,Dh=bi,$M=on,VM=function(){function t(e){e===void 0&&(e=[]),this.menuProviders=e}return t.prototype.getItems=function(e,n){var r=this.menuProviders.map(function(i){return i.getItems(e,n)});return Promise.all(r).then(this.flattenAndRestructure)},t.prototype.flattenAndRestructure=function(e){for(var n=e.reduce(function(s,u){return u!==void 0?s.concat(u):s},[]),r=n.filter(function(s){return s.parentId}),i=function(s){if(s.parentId){for(var u=s.parentId.split("."),d=void 0,f=n,_=function(m){d=f.find(function(h){return m===h.id}),d&&d.children&&(f=d.children)},y=0,g=u;y<g.length;y++){var v=g[y];_(v)}d&&(d.children?d.children.push(s):d.children=[s],n=n.filter(function(m){return m!==s}))}},o=0,a=r;o<a.length;o++){var c=a[o];i(c)}return n},t=cv([nc.injectable(),xh(0,nc.multiInject(YM.TYPES.IContextMenuItemProvider)),xh(0,nc.optional()),BM("design:paramtypes",[Array])],t),t}();vo.ContextMenuProviderRegistry=VM;var HM=function(){function t(){}return t.prototype.getItems=function(e,n){var r=Array.from(e.index.all().filter($M.isSelected).filter(Dh.isDeletable));return Promise.resolve([{id:"delete",label:"Delete",sortString:"d",group:"edit",actions:[Dh.DeleteElementAction.create(r.map(function(i){return i.id}))],isEnabled:function(){return r.length>0}}])},t=cv([nc.injectable()],t),t}();vo.DeleteContextMenuItemProvider=HM;var pu={},KM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zM=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},ZM=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Th=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}},qM=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},WM=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(pu,"__esModule",{value:!0});var Lh=fe,GM=vo,JM=Lt,Uh=Se,XM=on,QM=gt,eC=function(t){KM(e,t);function e(n,r){var i=t.call(this)||this;return i.contextMenuService=n,i.menuProvider=r,i}return e.prototype.mouseDown=function(n,r){return r.button===2&&this.showContextMenu(n,r),[]},e.prototype.showContextMenu=function(n,r){return qM(this,void 0,void 0,function(){var i,o,a,c,s,u;return WM(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.contextMenuService()];case 1:return i=d.sent(),[3,3];case 2:return d.sent(),[2];case 3:return o={x:r.x,y:r.y},a=!1,c=QM.findParentByFeature(n,XM.isSelectable),c&&(a=c.selected,c.selected=!0),s=function(){c&&(c.selected=a)},[4,this.menuProvider.getItems(n.root,o)];case 4:return u=d.sent(),i.show(u,o,s),[2]}})})},e=zM([Th(0,Lh.inject(Uh.TYPES.IContextMenuServiceProvider)),Th(1,Lh.inject(Uh.TYPES.IContextMenuProviderRegistry)),ZM("design:paramtypes",[Function,GM.ContextMenuProviderRegistry])],e),e}(JM.MouseListener);pu.ContextMenuMouseListener=eC;var Da={},hu={},an={},bo={},bt={},Pi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hoverFeedbackFeature=Symbol("hoverFeedbackFeature");function e(r){return r.hasFeature(t.hoverFeedbackFeature)}t.isHoverable=e,t.popupFeature=Symbol("popupFeature");function n(r){return r.hasFeature(t.popupFeature)}t.hasPopupFeature=n})(Pi);var $r={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.moveFeature=Symbol("moveFeature");function e(r){return r.position!==void 0}t.isLocateable=e;function n(r){return r.hasFeature(t.moveFeature)&&e(r)}t.isMoveable=n})($r);(function(t){var e=w&&w.__extends||function(){var m=function(h,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,R){p.__proto__=R}||function(p,R){for(var O in R)R.hasOwnProperty(O)&&(p[O]=R[O])},m(h,b)};return function(h,b){m(h,b);function p(){this.constructor=h}h.prototype=b===null?Object.create(b):(p.prototype=b.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=nt,r=Ze,i=lt,o=bi,a=on,c=Pi,s=$r,u=function(m){e(h,m);function h(){var b=m!==null&&m.apply(this,arguments)||this;return b.routingPoints=[],b}return Object.defineProperty(h.prototype,"source",{get:function(){return this.index.getById(this.sourceId)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"target",{get:function(){return this.index.getById(this.targetId)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"bounds",{get:function(){return this.routingPoints.reduce(function(b,p){return n.Bounds.combine(b,{x:p.x,y:p.y,width:0,height:0})},n.Bounds.EMPTY)},enumerable:!0,configurable:!0}),h}(r.SChildElement);t.SRoutableElement=u,t.connectableFeature=Symbol("connectableFeature");function d(m){return m.hasFeature(t.connectableFeature)&&m.canConnect}t.isConnectable=d;function f(m,h){h===void 0&&(h=m.routingPoints);for(var b=_(h),p=m;p instanceof r.SChildElement;){var R=p.parent;b=R.localToParent(b),p=R}return b}t.getAbsoluteRouteBounds=f;function _(m){for(var h={x:NaN,y:NaN,width:0,height:0},b=0,p=m;b<p.length;b++){var R=p[b];isNaN(h.x)?(h.x=R.x,h.y=R.y):(R.x<h.x?(h.width+=h.x-R.x,h.x=R.x):R.x>h.x+h.width&&(h.width=R.x-h.x),R.y<h.y?(h.height+=h.y-R.y,h.y=R.y):R.y>h.y+h.height&&(h.height=R.y-h.y))}return h}t.getRouteBounds=_;var y=function(m){e(h,m);function h(){var b=m!==null&&m.apply(this,arguments)||this;return b.strokeWidth=0,b}return Object.defineProperty(h.prototype,"anchorKind",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"incomingEdges",{get:function(){return this.index.getIncomingEdges(this)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"outgoingEdges",{get:function(){return this.index.getOutgoingEdges(this)},enumerable:!0,configurable:!0}),h.prototype.canConnect=function(b,p){return!0},h}(i.SShapeElement);t.SConnectableElement=y;var g=function(m){e(h,m);function h(){var b=m!==null&&m.apply(this,arguments)||this;return b.editMode=!1,b.hoverFeedback=!1,b.selected=!1,b}return h.prototype.hasFeature=function(b){return h.DEFAULT_FEATURES.indexOf(b)!==-1},h.DEFAULT_FEATURES=[a.selectFeature,s.moveFeature,c.hoverFeedbackFeature],h}(r.SChildElement);t.SRoutingHandle=g;var v=function(m){e(h,m);function h(){var b=m.call(this)||this;return b.type="dangling-anchor",b.size={width:0,height:0},b}return h.DEFAULT_FEATURES=[o.deletableFeature],h}(y);t.SDanglingAnchor=v,t.edgeInProgressID="edge-in-progress",t.edgeInProgressTargetHandleID=t.edgeInProgressID+"-target-anchor"})(bt);(function(t){var e=w&&w.__extends||function(){var s=function(u,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var y in _)_.hasOwnProperty(y)&&(f[y]=_[y])},s(u,d)};return function(u,d){s(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=Ze,r=lt,i=bt;t.edgeLayoutFeature=Symbol("edgeLayout");function o(s){return s instanceof n.SChildElement&&s.parent instanceof i.SRoutableElement&&a(s)&&r.isBoundsAware(s)&&s.hasFeature(t.edgeLayoutFeature)}t.isEdgeLayoutable=o;function a(s){return"edgePlacement"in s}var c=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u}(Object);t.EdgePlacement=c,t.DEFAULT_EDGE_PLACEMENT={rotate:!0,side:"top",position:.5,offset:7}})(bo);var Po={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=bt;t.editFeature=Symbol("editFeature");function n(o){return o instanceof e.SRoutableElement&&o.hasFeature(t.editFeature)}t.canEditRouting=n,t.editLabelFeature=Symbol("editLabelFeature");function r(o){return"text"in o&&o.hasFeature(t.editLabelFeature)}t.isEditableLabel=r,t.withEditLabelFeature=Symbol("withEditLabelFeature");function i(o){return"editableLabel"in o&&o.hasFeature(t.withEditLabelFeature)}t.isWithEditableLabel=i})(Po);var Ja={},tr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ze;t.viewportFeature=Symbol("viewportFeature");function n(r){return r instanceof e.SModelRoot&&r.hasFeature(t.viewportFeature)&&"zoom"in r&&"scroll"in r}t.isViewport=n})(tr);var gu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.exportFeature=Symbol("exportFeature");function e(n){return n.hasFeature(t.exportFeature)}t.isExportable=e})(gu);var tC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ja,"__esModule",{value:!0});var qo=nt,nC=Ze,rC=tr,iC=gu,oC=function(t){tC(e,t);function e(n){var r=t.call(this,n)||this;return r.scroll={x:0,y:0},r.zoom=1,r.position=qo.Point.ORIGIN,r.size=qo.Dimension.EMPTY,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(n){this.position={x:n.x,y:n.y},this.size={width:n.width,height:n.height}},enumerable:!0,configurable:!0}),e.prototype.localToParent=function(n){var r={x:(n.x-this.scroll.x)*this.zoom,y:(n.y-this.scroll.y)*this.zoom,width:-1,height:-1};return qo.isBounds(n)&&(r.width=n.width*this.zoom,r.height=n.height*this.zoom),r},e.prototype.parentToLocal=function(n){var r={x:n.x/this.zoom+this.scroll.x,y:n.y/this.zoom+this.scroll.y,width:-1,height:-1};return qo.isBounds(n)&&qo.Dimension.isValid(n)&&(r.width=n.width/this.zoom,r.height=n.height/this.zoom),r},e.DEFAULT_FEATURES=[rC.viewportFeature,iC.exportFeature],e}(nC.SModelRoot);Ja.ViewportRootElement=oC;var wi=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(an,"__esModule",{value:!0});var aC=nt,sC=Ze,Nn=lt,cC=bo,uv=bi,uC=Po,Xa=yo,xc=Pi,dC=$r,Ta=bt,Wf=on,lC=Ja,fC=hi,_C=function(t){wi(e,t);function e(n){return n===void 0&&(n=new lv),t.call(this,n)||this}return e}(lC.ViewportRootElement);an.SGraph=_C;var pC=function(t){wi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.hoverFeedback=!1,n.opacity=1,n}return e.prototype.canConnect=function(n,r){return this.children.find(function(i){return i instanceof dv})===void 0},e.DEFAULT_FEATURES=[Ta.connectableFeature,uv.deletableFeature,Wf.selectFeature,Nn.boundsFeature,dC.moveFeature,Nn.layoutContainerFeature,Xa.fadeFeature,xc.hoverFeedbackFeature,xc.popupFeature],e}(Ta.SConnectableElement);an.SNode=pC;var dv=function(t){wi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.hoverFeedback=!1,n.opacity=1,n}return e.DEFAULT_FEATURES=[Ta.connectableFeature,Wf.selectFeature,Nn.boundsFeature,Xa.fadeFeature,xc.hoverFeedbackFeature],e}(Ta.SConnectableElement);an.SPort=dv;var Hl=function(t){wi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.hoverFeedback=!1,n.opacity=1,n}return e.DEFAULT_FEATURES=[uC.editFeature,uv.deletableFeature,Wf.selectFeature,Xa.fadeFeature,xc.hoverFeedbackFeature],e}(Ta.SRoutableElement);an.SEdge=Hl;var hC=function(t){wi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.alignment=aC.Point.ORIGIN,n.opacity=1,n}return e.DEFAULT_FEATURES=[Nn.boundsFeature,Nn.alignFeature,Nn.layoutableChildFeature,cC.edgeLayoutFeature,Xa.fadeFeature],e}(Nn.SShapeElement);an.SLabel=hC;var gC=function(t){wi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.opacity=1,n}return e.DEFAULT_FEATURES=[Nn.boundsFeature,Nn.layoutContainerFeature,Nn.layoutableChildFeature,Xa.fadeFeature],e}(Nn.SShapeElement);an.SCompartment=gC;var lv=function(t){wi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.outgoing=new Map,n.incoming=new Map,n}return e.prototype.add=function(n){if(t.prototype.add.call(this,n),n instanceof Hl){if(n.sourceId){var r=this.outgoing.get(n.sourceId);r===void 0?this.outgoing.set(n.sourceId,[n]):r.push(n)}if(n.targetId){var i=this.incoming.get(n.targetId);i===void 0?this.incoming.set(n.targetId,[n]):i.push(n)}}},e.prototype.remove=function(n){if(t.prototype.remove.call(this,n),n instanceof Hl){var r=this.outgoing.get(n.sourceId);if(r!==void 0){var i=r.indexOf(n);i>=0&&(r.length===1?this.outgoing.delete(n.sourceId):r.splice(i,1))}var o=this.incoming.get(n.targetId);if(o!==void 0){var i=o.indexOf(n);i>=0&&(o.length===1?this.incoming.delete(n.targetId):o.splice(i,1))}}},e.prototype.getAttachedElements=function(n){var r=this;return new fC.FluentIterableImpl(function(){return{outgoing:r.outgoing.get(n.id),incoming:r.incoming.get(n.id),nextOutgoingIndex:0,nextIncomingIndex:0}},function(i){var o=i.nextOutgoingIndex;if(i.outgoing!==void 0&&o<i.outgoing.length)return i.nextOutgoingIndex=o+1,{done:!1,value:i.outgoing[o]};if(o=i.nextIncomingIndex,i.incoming!==void 0)for(;o<i.incoming.length;){var a=i.incoming[o];if(a.sourceId!==a.targetId)return i.nextIncomingIndex=o+1,{done:!1,value:a};o++}return{done:!0,value:void 0}})},e.prototype.getIncomingEdges=function(n){return this.incoming.get(n.id)||[]},e.prototype.getOutgoingEdges=function(n){return this.outgoing.get(n.id)||[]},e}(sC.ModelIndexImpl);an.SGraphIndex=lv;var mn={},wo={},yr={};(function(t){var e=w&&w.__extends||function(){var u=function(d,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var g in y)y.hasOwnProperty(g)&&(_[g]=y[g])},u(d,f)};return function(d,f){u(d,f);function _(){this.constructor=d}d.prototype=f===null?Object.create(f):(_.prototype=f.prototype,new _)}}(),n=w&&w.__decorate||function(u,d,f,_){var y=arguments.length,g=y<3?d:_===null?_=Object.getOwnPropertyDescriptor(d,f):_,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(u,d,f,_);else for(var m=u.length-1;m>=0;m--)(v=u[m])&&(g=(y<3?v(g):y>3?v(d,f,g):v(d,f))||g);return y>3&&g&&Object.defineProperty(d,f,g),g},r=w&&w.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},i=w&&w.__param||function(u,d){return function(f,_){d(f,_,u)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=Se,c=tn;t.DIAMOND_ANCHOR_KIND="diamond",t.ELLIPTIC_ANCHOR_KIND="elliptic",t.RECTANGULAR_ANCHOR_KIND="rectangular";var s=function(u){e(d,u);function d(f){var _=u.call(this)||this;return f.forEach(function(y){return _.register(y.kind,y)}),_}return Object.defineProperty(d.prototype,"defaultAnchorKind",{get:function(){return t.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),d.prototype.get=function(f,_){return u.prototype.get.call(this,f+":"+(_||this.defaultAnchorKind))},d=n([o.injectable(),i(0,o.multiInject(a.TYPES.IAnchorComputer)),r("design:paramtypes",[Array])],d),d}(c.InstanceRegistry);t.AnchorComputerRegistry=s})(yr);var Qa={};(function(t){var e=w&&w.__decorate||function(y,g,v,m){var h=arguments.length,b=h<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,g,v,m);else for(var R=y.length-1;R>=0;R--)(p=y[R])&&(b=(h<3?p(b):h>3?p(g,v,b):p(g,v))||b);return h>3&&b&&Object.defineProperty(g,v,b),b},n=w&&w.__metadata||function(y,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,g)},r=w&&w.__spreadArrays||function(){for(var y=0,g=0,v=arguments.length;g<v;g++)y+=arguments[g].length;for(var m=Array(y),h=0,g=0;g<v;g++)for(var b=arguments[g],p=0,R=b.length;p<R;p++,h++)m[h]=b[p];return m};Object.defineProperty(t,"__esModule",{value:!0});var i=fe,o=nt,a=gt,c=bt,s=yr,u=bt,d;(function(y){y[y.RIGHT=0]="RIGHT",y[y.LEFT=1]="LEFT",y[y.TOP=2]="TOP",y[y.BOTTOM=3]="BOTTOM"})(d=t.Side||(t.Side={}));var f=function(){function y(g,v,m){this.element=g,this.kind=m;var h=g.bounds;this.bounds=a.translateBounds(h,g.parent,v),this.left={x:this.bounds.x,y:this.bounds.y+.5*this.bounds.height,kind:m},this.right={x:this.bounds.x+this.bounds.width,y:this.bounds.y+.5*this.bounds.height,kind:m},this.top={x:this.bounds.x+.5*this.bounds.width,y:this.bounds.y,kind:m},this.bottom={x:this.bounds.x+.5*this.bounds.width,y:this.bounds.y+this.bounds.height,kind:m}}return y.prototype.get=function(g){return this[d[g].toLowerCase()]},y.prototype.getNearestSide=function(g){var v=o.Point.euclideanDistance(g,this.left),m=o.Point.euclideanDistance(g,this.right),h=o.Point.euclideanDistance(g,this.top),b=o.Point.euclideanDistance(g,this.bottom),p=d.LEFT,R=v;return m<R&&(R=m,p=d.RIGHT),h<R&&(R=h,p=d.TOP),b<R&&(R=b,p=d.BOTTOM),p},y}();t.DefaultAnchors=f;var _=function(){function y(){}return y.prototype.pointAt=function(g,v){var m=this.calculateSegment(g,v);if(!!m){var h=m.segmentStart,b=m.segmentEnd,p=m.lambda;return o.Point.linear(h,b,p)}},y.prototype.derivativeAt=function(g,v){var m=this.calculateSegment(g,v);if(!!m){var h=m.segmentStart,b=m.segmentEnd;return{x:b.x-h.x,y:b.y-h.y}}},y.prototype.calculateSegment=function(g,v){if(!(v<0||v>1)){var m=this.route(g);if(!(m.length<2)){for(var h=[],b=0,p=0;p<m.length-1;++p)h[p]=o.Point.euclideanDistance(m[p],m[p+1]),b+=h[p];for(var R=0,O=v*b,p=0;p<m.length-1;++p){var A=R+h[p];if(h[p]>1e-8&&A>=O){var I=Math.max(0,O-R)/h[p];return{segmentStart:m[p],segmentEnd:m[p+1],lambda:I}}R=A}return{segmentEnd:m.pop(),segmentStart:m.pop(),lambda:1}}}},y.prototype.addHandle=function(g,v,m,h){var b=new c.SRoutingHandle;return b.kind=v,b.pointIndex=h,b.type=m,v==="target"&&g.id===c.edgeInProgressID&&(b.id=c.edgeInProgressTargetHandleID),g.add(b),b},y.prototype.getHandlePosition=function(g,v,m){switch(m.kind){case"source":return g.source instanceof c.SDanglingAnchor?g.source.position:v[0];case"target":return g.target instanceof c.SDanglingAnchor?g.target.position:v[v.length-1];default:var h=this.getInnerHandlePosition(g,v,m);if(h!==void 0)return h;if(m.pointIndex>=0&&m.pointIndex<g.routingPoints.length)return g.routingPoints[m.pointIndex]}},y.prototype.findRouteSegment=function(g,v,m){for(var h=function(j){return j.pointIndex!==void 0?j.pointIndex:j.kind==="target"?g.routingPoints.length:-2},b,p,R=0,O=v;R<O.length;R++){var A=O[R],I=h(A);I<=m&&(b===void 0||I>h(b))&&(b=A),I>m&&(p===void 0||I<h(p))&&(p=A)}return{start:b,end:p}},y.prototype.getTranslatedAnchor=function(g,v,m,h,b){b===void 0&&(b=0);var p=a.translatePoint(v,m,g.parent),R=this.getAnchorComputer(g),O=.5*g.strokeWidth,A=R.getAnchor(g,p,b+O);return a.translatePoint(A,g.parent,h.parent)},y.prototype.getAnchorComputer=function(g){return this.anchorRegistry.get(this.kind,g.anchorKind)},y.prototype.applyHandleMoves=function(g,v){var m=v.slice();v.forEach(function(h){var b=h.handle;if(b.kind==="source"&&!(g.source instanceof c.SDanglingAnchor)){var p=new c.SDanglingAnchor;p.id=g.id+"_dangling-source",p.original=g.source,p.position=h.toPosition,b.root.add(p),b.danglingAnchor=p,g.sourceId=p.id}else if(b.kind==="target"&&!(g.target instanceof c.SDanglingAnchor)){var p=new c.SDanglingAnchor;p.id=g.id+"_dangling-target",p.original=g.target,p.position=h.toPosition,b.root.add(p),b.danglingAnchor=p,g.targetId=p.id}b.danglingAnchor&&(b.danglingAnchor.position=h.toPosition,m.splice(m.indexOf(h),1))}),m.length>0&&this.applyInnerHandleMoves(g,m),this.cleanupRoutingPoints(g,g.routingPoints,!0,!0)},y.prototype.cleanupRoutingPoints=function(g,v,m,h){var b=new f(g.source,g.parent,"source"),p=new f(g.target,g.parent,"target");this.resetRoutingPointsOnReconnect(g,v,m,b,p)},y.prototype.resetRoutingPointsOnReconnect=function(g,v,m,h,b){if(v.length===0||g.source instanceof c.SDanglingAnchor||g.target instanceof c.SDanglingAnchor){var p=this.getOptions(g),R=this.calculateDefaultCorners(g,h,b,p);if(v.splice.apply(v,r([0,v.length],R)),m){var O=-2;g.children.forEach(function(I){I instanceof c.SRoutingHandle&&(I.kind==="target"?I.pointIndex=v.length:I.kind==="line"&&I.pointIndex>=v.length?g.remove(I):O=Math.max(I.pointIndex,O))});for(var A=O;A<v.length-1;++A)this.addHandle(g,"manhattan-50%","volatile-routing-point",A)}return!0}return!1},y.prototype.applyReconnect=function(g,v,m){var h=!1;if(v){var b=g.root.index.getById(v);b instanceof u.SConnectableElement&&(g.sourceId=b.id,h=!0)}if(m){var p=g.root.index.getById(m);p instanceof u.SConnectableElement&&(g.targetId=p.id,h=!0)}h&&(g.index.remove(g),g.index.add(g),this.getSelfEdgeIndex(g)>-1&&(g.routingPoints=[],this.cleanupRoutingPoints(g,g.routingPoints,!0,!0)))},y.prototype.takeSnapshot=function(g){return{routingPoints:g.routingPoints.slice(),routingHandles:g.children.filter(function(v){return v instanceof c.SRoutingHandle}).map(function(v){return v}),routedPoints:this.route(g),router:this,source:g.source,target:g.target}},y.prototype.applySnapshot=function(g,v){g.routingPoints=v.routingPoints,g.removeAll(function(m){return m instanceof c.SRoutingHandle}),g.routerKind=v.router.kind,v.routingHandles.forEach(function(m){return g.add(m)}),v.source&&(g.sourceId=v.source.id),v.target&&(g.targetId=v.target.id),g.root.index.remove(g),g.root.index.add(g)},y.prototype.calculateDefaultCorners=function(g,v,m,h){var b=this.getSelfEdgeIndex(g);if(b>=0){var p=h.standardDistance,R=h.selfEdgeOffset*Math.min(v.bounds.width,v.bounds.height);switch(b%4){case 0:return[{x:v.get(d.RIGHT).x+p,y:v.get(d.RIGHT).y+R},{x:v.get(d.RIGHT).x+p,y:v.get(d.BOTTOM).y+p},{x:v.get(d.BOTTOM).x+R,y:v.get(d.BOTTOM).y+p}];case 1:return[{x:v.get(d.BOTTOM).x-R,y:v.get(d.BOTTOM).y+p},{x:v.get(d.LEFT).x-p,y:v.get(d.BOTTOM).y+p},{x:v.get(d.LEFT).x-p,y:v.get(d.LEFT).y+R}];case 2:return[{x:v.get(d.LEFT).x-p,y:v.get(d.LEFT).y-R},{x:v.get(d.LEFT).x-p,y:v.get(d.TOP).y-p},{x:v.get(d.TOP).x-R,y:v.get(d.TOP).y-p}];case 3:return[{x:v.get(d.TOP).x+R,y:v.get(d.TOP).y-p},{x:v.get(d.RIGHT).x+p,y:v.get(d.TOP).y-p},{x:v.get(d.RIGHT).x+p,y:v.get(d.RIGHT).y-R}]}}return[]},y.prototype.getSelfEdgeIndex=function(g){return!g.source||g.source!==g.target?-1:g.source.outgoingEdges.filter(function(v){return v.target===g.source}).indexOf(g)},y.prototype.commitRoute=function(g,v){for(var m=[],h=1;h<v.length-1;++h)m.push({x:v[h].x,y:v[h].y});g.routingPoints=m},e([i.inject(s.AnchorComputerRegistry),n("design:type",s.AnchorComputerRegistry)],y.prototype,"anchorRegistry",void 0),y=e([i.injectable()],y),y}();t.AbstractEdgeRouter=_})(Qa);var yC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nh=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},mC=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(wo,"__esModule",{value:!0});var Fh=fe,Bi=nt,kh=bt,Bh=yr,vC=Qa,bC=function(t){yC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}n=e,Object.defineProperty(e.prototype,"kind",{get:function(){return n.KIND},enumerable:!0,configurable:!0}),e.prototype.getOptions=function(r){return{minimalPointDistance:2,removeAngleThreshold:.1,standardDistance:20,selfEdgeOffset:.25}},e.prototype.route=function(r){var i=r.source,o=r.target;if(i===void 0||o===void 0)return[];var a,c,s=this.getOptions(r),u=r.routingPoints.length>0?r.routingPoints:[];this.cleanupRoutingPoints(r,u,!1,!1);var d=u!==void 0?u.length:0;if(d===0){var f=Bi.Bounds.center(o.bounds);a=this.getTranslatedAnchor(i,f,o.parent,r,r.sourceAnchorCorrection);var _=Bi.Bounds.center(i.bounds);c=this.getTranslatedAnchor(o,_,i.parent,r,r.targetAnchorCorrection)}else{var y=u[0];a=this.getTranslatedAnchor(i,y,r.parent,r,r.sourceAnchorCorrection);var g=u[d-1];c=this.getTranslatedAnchor(o,g,r.parent,r,r.targetAnchorCorrection)}var v=[];v.push({kind:"source",x:a.x,y:a.y});for(var m=0;m<d;m++){var h=u[m];(m>0&&m<d-1||m===0&&Bi.Point.maxDistance(a,h)>=s.minimalPointDistance+(r.sourceAnchorCorrection||0)||m===d-1&&Bi.Point.maxDistance(h,c)>=s.minimalPointDistance+(r.targetAnchorCorrection||0))&&v.push({kind:"linear",x:h.x,y:h.y,pointIndex:m})}return v.push({kind:"target",x:c.x,y:c.y}),this.filterEditModeHandles(v,r,s)},e.prototype.filterEditModeHandles=function(r,i,o){if(i.children.length===0)return r;for(var a=0,c=function(){var s=r[a];if(s.pointIndex!==void 0){var u=i.children.find(function(v){return v instanceof kh.SRoutingHandle&&v.kind==="junction"&&v.pointIndex===s.pointIndex});if(u!==void 0&&u.editMode&&a>0&&a<r.length-1){var d=r[a-1],f=r[a+1],_={x:d.x-s.x,y:d.y-s.y},y={x:f.x-s.x,y:f.y-s.y},g=Bi.angleBetweenPoints(_,y);if(Math.abs(Math.PI-g)<o.removeAngleThreshold)return r.splice(a,1),"continue"}}a++};a<r.length;)c();return r},e.prototype.createRoutingHandles=function(r){var i=r.routingPoints.length;this.addHandle(r,"source","routing-point",-2),this.addHandle(r,"line","volatile-routing-point",-1);for(var o=0;o<i;o++)this.addHandle(r,"junction","routing-point",o),this.addHandle(r,"line","volatile-routing-point",o);this.addHandle(r,"target","routing-point",i)},e.prototype.getInnerHandlePosition=function(r,i,o){if(o.kind==="line"){var a=this.findRouteSegment(r,i,o.pointIndex),c=a.start,s=a.end;if(c!==void 0&&s!==void 0)return Bi.centerOfLine(c,s)}},e.prototype.applyInnerHandleMoves=function(r,i){var o=this;i.forEach(function(a){var c=a.handle,s=r.routingPoints,u=c.pointIndex;c.kind==="line"&&(c.kind="junction",c.type="routing-point",s.splice(u+1,0,a.fromPosition||s[Math.max(u,0)]),r.children.forEach(function(d){d instanceof kh.SRoutingHandle&&(d===c||d.pointIndex>u)&&d.pointIndex++}),o.addHandle(r,"line","volatile-routing-point",u),u++,o.addHandle(r,"line","volatile-routing-point",u)),u>=0&&u<s.length&&(s[u]=a.toPosition)})};var n;return e.KIND="polyline",Nh([Fh.inject(Bh.AnchorComputerRegistry),mC("design:type",Bh.AnchorComputerRegistry)],e.prototype,"anchorRegistry",void 0),e=n=Nh([Fh.injectable()],e),e}(vC.AbstractEdgeRouter);wo.PolylineEdgeRouter=bC;var PC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yh=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},$h=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},wC=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(mn,"__esModule",{value:!0});var Ts=fe,RC=Ze,Vh=Se,SC=jn,EC=tn,AC=bt,OC=wo;function IC(t){return t.routeAll!==void 0}var jC=function(t){PC(e,t);function e(n){var r=t.call(this)||this;return n.forEach(function(i){return r.register(i.kind,i)}),r}return Object.defineProperty(e.prototype,"defaultKind",{get:function(){return OC.PolylineEdgeRouter.KIND},enumerable:!0,configurable:!0}),e.prototype.get=function(n){return t.prototype.get.call(this,n||this.defaultKind)},e.prototype.routeAllChildren=function(n){for(var r=this.doRouteAllChildren(n),i=0,o=this.postProcessors;i<o.length;i++){var a=o[i];a.apply(r)}return r},e.prototype.doRouteAllChildren=function(n){for(var r=this,i=new fv,o=new Map,a=[n];a.length>0;)for(var c=a.shift(),s=0,u=c.children;s<u.length;s++){var d=u[s];if(d instanceof AC.SRoutableElement){var f=d.routerKind||this.defaultKind;o.has(f)?o.get(f).push(d):o.set(f,[d])}d instanceof RC.SParentElement&&a.push(d)}return o.forEach(function(_,y){var g=r.get(y);if(IC(g))i.setAll(g.routeAll(_,n));else for(var v=0,m=_;v<m.length;v++){var h=m[v];i.set(h.id,r.route(h))}}),i},e.prototype.route=function(n,r){var i=SC.findArgValue(r,"edgeRouting");if(i){var o=i.get(n.id);if(o)return o}var a=this.get(n.routerKind);return a.route(n)},Yh([Ts.multiInject(Vh.TYPES.IEdgeRoutePostprocessor),Ts.optional(),$h("design:type",Array)],e.prototype,"postProcessors",void 0),e=Yh([Ts.injectable(),wC(0,Ts.multiInject(Vh.TYPES.IEdgeRouter)),$h("design:paramtypes",[Array])],e),e}(EC.InstanceRegistry);mn.EdgeRouterRegistry=jC;var fv=function(){function t(){this.routesMap=new Map}return t.prototype.set=function(e,n){this.routesMap.set(e,n)},t.prototype.setAll=function(e){var n=this;e.routes.forEach(function(r,i){return n.set(i,r)})},t.prototype.get=function(e){return this.routesMap.get(e)},Object.defineProperty(t.prototype,"routes",{get:function(){return this.routesMap},enumerable:!0,configurable:!0}),t}();mn.EdgeRouting=fv;var Dc=w&&w.__assign||function(){return Dc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dc.apply(this,arguments)},Hh=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},MC=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(hu,"__esModule",{value:!0});var Kh=fe,Ft=nt,CC=Ze,xC=pt,DC=an,Ls=lt,zh=bo,Zh=mn,TC=function(){function t(){}return t.prototype.decorate=function(e,n){if(zh.isEdgeLayoutable(n)&&n.parent instanceof DC.SEdge&&n.bounds!==Ft.Bounds.EMPTY){var r=this.getEdgePlacement(n),i=n.parent,o=Math.min(1,Math.max(0,r.position)),a=this.edgeRouterRegistry.get(i.routerKind),c=a.pointAt(i,o),s=a.derivativeAt(i,o),u="";if(c&&s){u+="translate("+c.x+", "+c.y+")";var d=Ft.toDegrees(Math.atan2(s.y,s.x));if(r.rotate){var f=d;Math.abs(d)>90&&(d<0?f+=180:d>0&&(f-=180)),u+=" rotate("+f+")";var _=this.getRotatedAlignment(n,r,f!==d);u+=" translate("+_.x+", "+_.y+")"}else{var _=this.getAlignment(n,r,d);u+=" translate("+_.x+", "+_.y+")"}xC.setAttr(e,"transform",u)}}return e},t.prototype.getRotatedAlignment=function(e,n,r){var i=Ls.isAlignable(e)?e.alignment.x:0,o=Ls.isAlignable(e)?e.alignment.y:0,a=e.bounds;if(n.side==="on")return{x:i-.5*a.height,y:o-.5*a.height};if(r)switch(n.position<.3333333?i-=a.width+n.offset:n.position<.6666666?i-=.5*a.width:i+=n.offset,n.side){case"left":case"bottom":o-=n.offset+a.height;break;case"right":case"top":o+=n.offset}else switch(n.position<.3333333?i+=n.offset:n.position<.6666666?i-=.5*a.width:i-=a.width+n.offset,n.side){case"right":case"bottom":o+=-n.offset-a.height;break;case"left":case"top":o+=n.offset}return{x:i,y:o}},t.prototype.getEdgePlacement=function(e){for(var n=e,r=[];n!==void 0;){var i=n.edgePlacement;if(i!==void 0&&r.push(i),n instanceof CC.SChildElement)n=n.parent;else break}return r.reverse().reduce(function(o,a){return Dc(Dc({},o),a)},zh.DEFAULT_EDGE_PLACEMENT)},t.prototype.getAlignment=function(e,n,r){var i=e.bounds,o=Ls.isAlignable(e)?e.alignment.x-i.width:0,a=Ls.isAlignable(e)?e.alignment.y-i.height:0;if(n.side==="on")return{x:o+.5*i.height,y:a+.5*i.height};var c=this.getQuadrant(r),s={x:n.offset,y:a+.5*i.height},u={x:n.offset,y:a+i.height+n.offset},d={x:-i.width-n.offset,y:a+i.height+n.offset},f={x:-i.width-n.offset,y:a+.5*i.height},_={x:-i.width-n.offset,y:a-n.offset},y={x:n.offset,y:a-n.offset};switch(n.side){case"left":switch(c.orientation){case"west":return Ft.Point.linear(u,d,c.position);case"north":return Ft.Point.linear(d,_,c.position);case"east":return Ft.Point.linear(_,y,c.position);case"south":return Ft.Point.linear(y,u,c.position)}break;case"right":switch(c.orientation){case"west":return Ft.Point.linear(_,y,c.position);case"north":return Ft.Point.linear(y,u,c.position);case"east":return Ft.Point.linear(u,d,c.position);case"south":return Ft.Point.linear(d,_,c.position)}break;case"top":switch(c.orientation){case"west":return Ft.Point.linear(_,y,c.position);case"north":return this.linearFlip(y,s,f,_,c.position);case"east":return Ft.Point.linear(_,y,c.position);case"south":return this.linearFlip(y,s,f,_,c.position)}break;case"bottom":switch(c.orientation){case"west":return Ft.Point.linear(u,d,c.position);case"north":return this.linearFlip(d,f,s,u,c.position);case"east":return Ft.Point.linear(u,d,c.position);case"south":return this.linearFlip(d,f,s,u,c.position)}break}return{x:0,y:0}},t.prototype.getQuadrant=function(e){return Math.abs(e)>135?{orientation:"west",position:(e>0?e-135:e+225)/90}:e<-45?{orientation:"north",position:(e+135)/90}:e<45?{orientation:"east",position:(e+45)/90}:{orientation:"south",position:(e-45)/90}},t.prototype.linearFlip=function(e,n,r,i,o){return o<.5?Ft.Point.linear(e,n,2*o):Ft.Point.linear(r,i,2*o-1)},t.prototype.postUpdate=function(){},Hh([Kh.inject(Zh.EdgeRouterRegistry),MC("design:type",Zh.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=Hh([Kh.injectable()],t),t}();hu.EdgeLayoutPostprocessor=TC;Object.defineProperty(Da,"__esModule",{value:!0});var LC=fe,qh=Se,Ud=hu,UC=new LC.ContainerModule(function(t){t(Ud.EdgeLayoutPostprocessor).toSelf().inSingletonScope(),t(qh.TYPES.IVNodePostprocessor).toService(Ud.EdgeLayoutPostprocessor),t(qh.TYPES.HiddenVNodePostprocessor).toService(Ud.EdgeLayoutPostprocessor)});Da.default=UC;var _v={};(function(t){var e=w&&w.__extends||function(){var f=function(_,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var m in v)v.hasOwnProperty(m)&&(g[m]=v[m])},f(_,y)};return function(_,y){f(_,y);function g(){this.constructor=_}_.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),n=w&&w.__decorate||function(f,_,y,g){var v=arguments.length,m=v<3?_:g===null?g=Object.getOwnPropertyDescriptor(_,y):g,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(f,_,y,g);else for(var b=f.length-1;b>=0;b--)(h=f[b])&&(m=(v<3?h(m):v>3?h(_,y,m):h(_,y))||m);return v>3&&m&&Object.defineProperty(_,y,m),m},r=w&&w.__metadata||function(f,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,_)},i=w&&w.__param||function(f,_){return function(y,g){_(y,g,f)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=at,c=Ze,s=Se,u;(function(f){f.KIND="createElement";function _(y,g){return{kind:f.KIND,elementSchema:y,containerId:g.containerId}}f.create=_})(u=t.CreateElementAction||(t.CreateElementAction={}));var d=function(f){e(_,f);function _(y){var g=f.call(this)||this;return g.action=y,g}return _.prototype.execute=function(y){var g=y.root.index.getById(this.action.containerId);return g instanceof c.SParentElement&&(this.container=g,this.newElement=y.modelFactory.createElement(this.action.elementSchema),this.container.add(this.newElement)),y.root},_.prototype.undo=function(y){return this.container.remove(this.newElement),y.root},_.prototype.redo=function(y){return this.container.add(this.newElement),y.root},_.KIND=u.KIND,_=n([o.injectable(),i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[Object])],_),_}(a.Command);t.CreateElementCommand=d})(_v);var Gf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.creatingOnDragFeature=Symbol("creatingOnDragFeature");function e(n){return n.hasFeature(t.creatingOnDragFeature)&&n.createAction!==void 0}t.isCreatingOnDrag=e})(Gf);var Ro={},Vr={},Ri={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ORIGIN_POINT=Object.freeze({x:0,y:0});function e(M,x){return{x:M.x+x.x,y:M.y+x.y}}t.add=e;function n(M,x){return{x:M.x-x.x,y:M.y-x.y}}t.subtract=n;function r(M,x){return M.x===x.x&&M.y===x.y}t.pointEquals=r,t.EMPTY_DIMENSION=Object.freeze({width:-1,height:-1});function i(M){return M.width>=0&&M.height>=0}t.isValidDimension=i,t.EMPTY_BOUNDS=Object.freeze({x:0,y:0,width:-1,height:-1});function o(M){return"x"in M&&"y"in M&&"width"in M&&"height"in M}t.isBounds=o;function a(M,x){if(!i(M))return i(x)?x:t.EMPTY_BOUNDS;if(!i(x))return M;var D=Math.min(M.x,x.x),V=Math.min(M.y,x.y),q=Math.max(M.x+(M.width>=0?M.width:0),x.x+(x.width>=0?x.width:0)),ee=Math.max(M.y+(M.height>=0?M.height:0),x.y+(x.height>=0?x.height:0));return{x:D,y:V,width:q-D,height:ee-V}}t.combine=a;function c(M,x){return{x:M.x+x.x,y:M.y+x.y,width:M.width,height:M.height}}t.translate=c;function s(M){return{x:M.x+(M.width>=0?.5*M.width:0),y:M.y+(M.height>=0?.5*M.height:0)}}t.center=s;function u(M,x){var D={x:M.x>x.x?x.x:M.x,y:M.y>x.y?x.y:M.y,width:Math.abs(x.x-M.x),height:Math.abs(x.y-M.y)};return s(D)}t.centerOfLine=u;function d(M,x){return x.x>=M.x&&x.x<=M.x+M.width&&x.y>=M.y&&x.y<=M.y+M.height}t.includes=d,function(M){M[M.left=0]="left",M[M.right=1]="right",M[M.up=2]="up",M[M.down=3]="down"}(t.Direction||(t.Direction={}));function f(M,x){var D=x.x-M.x,V=x.y-M.y;return Math.sqrt(D*D+V*V)}t.euclideanDistance=f;function _(M,x){return Math.abs(x.x-M.x)+Math.abs(x.y-M.y)}t.manhattanDistance=_;function y(M,x){return Math.max(Math.abs(x.x-M.x),Math.abs(x.y-M.y))}t.maxDistance=y;function g(M){return Math.atan2(M.y,M.x)}t.angleOfPoint=g;function v(M,x){var D=Math.sqrt((M.x*M.x+M.y*M.y)*(x.x*x.x+x.y*x.y));if(isNaN(D)||D===0)return NaN;var V=M.x*x.x+M.y*x.y;return Math.acos(V/D)}t.angleBetweenPoints=v;function m(M,x,D){var V=n(x,M),q=h(V),ee={x:q.x*D,y:q.y*D};return e(M,ee)}t.shiftTowards=m;function h(M){var x=b(M);return x===0||x===1?t.ORIGIN_POINT:{x:M.x/x,y:M.y/x}}t.normalize=h;function b(M){return Math.sqrt(Math.pow(M.x,2)+Math.pow(M.y,2))}t.magnitude=b;function p(M){return M*180/Math.PI}t.toDegrees=p;function R(M){return M*Math.PI/180}t.toRadians=R;function O(M,x){return Math.abs(M-x)<.001}t.almostEquals=O;function A(M,x,D){return{x:(1-D)*M.x+D*x.x,y:(1-D)*M.y+D*x.y}}t.linear=A;var I=function(){function M(x){this.bounds=x}return Object.defineProperty(M.prototype,"topPoint",{get:function(){return{x:this.bounds.x+this.bounds.width/2,y:this.bounds.y}},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"rightPoint",{get:function(){return{x:this.bounds.x+this.bounds.width,y:this.bounds.y+this.bounds.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"bottomPoint",{get:function(){return{x:this.bounds.x+this.bounds.width/2,y:this.bounds.y+this.bounds.height}},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"leftPoint",{get:function(){return{x:this.bounds.x,y:this.bounds.y+this.bounds.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"topRightSideLine",{get:function(){return new j(this.topPoint,this.rightPoint)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"topLeftSideLine",{get:function(){return new j(this.topPoint,this.leftPoint)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"bottomRightSideLine",{get:function(){return new j(this.bottomPoint,this.rightPoint)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"bottomLeftSideLine",{get:function(){return new j(this.bottomPoint,this.leftPoint)},enumerable:!0,configurable:!0}),M.prototype.closestSideLine=function(x){var D=s(this.bounds);return x.x>D.x?x.y>D.y?this.bottomRightSideLine:this.topRightSideLine:x.y>D.y?this.bottomLeftSideLine:this.topLeftSideLine},M}();t.Diamond=I;var j=function(){function M(x,D){this.p1=x,this.p2=D}return Object.defineProperty(M.prototype,"a",{get:function(){return this.p1.y-this.p2.y},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"b",{get:function(){return this.p2.x-this.p1.x},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"c",{get:function(){return this.p2.x*this.p1.y-this.p1.x*this.p2.y},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"angle",{get:function(){return Math.atan2(-this.a,this.b)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"slope",{get:function(){if(this.b!==0)return this.a/this.b},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"slopeOrMax",{get:function(){return this.slope===void 0?Number.MAX_SAFE_INTEGER:this.slope},enumerable:!0,configurable:!0}),M.prototype.intersection=function(x){if(!this.hasIndistinctPoints(x)){var D=this.p1.x,V=this.p1.y,q=this.p2.x,ee=this.p2.y,ne=x.p1.x,se=x.p1.y,G=x.p2.x,Z=x.p2.y,K=(Z-se)*(q-D)-(G-ne)*(ee-V);if(K!==0){var B=(G-ne)*(V-se)-(Z-se)*(D-ne),Y=(q-D)*(V-se)-(ee-V)*(D-ne);if(!(B===0&&Y===0)){var L=B/K,C=Y/K;if(!(L<0||L>1||C<0||C>1)){var W=D+L*(q-D),ie=V+L*(ee-V);return{x:W,y:ie}}}}}},M.prototype.hasIndistinctPoints=function(x){return r(this.p1,x.p1)||r(this.p1,x.p2)||r(this.p2,x.p1)||r(this.p2,x.p2)},M}();t.PointToPointLine=j;function U(M,x){return{x:(M.c*x.b-x.c*M.b)/(M.a*x.b-x.a*M.b),y:(M.a*x.c-x.a*M.c)/(M.a*x.b-x.a*M.b)}}t.intersection=U})(Ri);var Jf=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),es=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Vr,"__esModule",{value:!0});var pr=rn,oo=an,Xf=go,NC=Ri,ts=fe,FC=function(){function t(){}return t.prototype.render=function(e,n,r){var i="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")";return pr.svg("svg",null,pr.svg("g",{transform:i},n.renderChildren(e)))},t=es([ts.injectable()],t),t}();Vr.SvgViewportView=FC;var kC=function(t){Jf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(!!this.isVisible(n,r)){var o=this.getRadius(n);return pr.svg("g",null,pr.svg("circle",{"class-sprotty-node":n instanceof oo.SNode,"class-sprotty-port":n instanceof oo.SPort,"class-mouseover":n.hoverFeedback,"class-selected":n.selected,r:o,cx:o,cy:o}),r.renderChildren(n))}},e.prototype.getRadius=function(n){var r=Math.min(n.size.width,n.size.height);return r>0?r/2:0},e=es([ts.injectable()],e),e}(Xf.ShapeView);Vr.CircularNodeView=kC;var BC=function(t){Jf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(!!this.isVisible(n,r))return pr.svg("g",null,pr.svg("rect",{"class-sprotty-node":n instanceof oo.SNode,"class-sprotty-port":n instanceof oo.SPort,"class-mouseover":n.hoverFeedback,"class-selected":n.selected,x:"0",y:"0",width:Math.max(n.size.width,0),height:Math.max(n.size.height,0)}),r.renderChildren(n))},e=es([ts.injectable()],e),e}(Xf.ShapeView);Vr.RectangularNodeView=BC;var YC=function(t){Jf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(!!this.isVisible(n,r)){var o=new NC.Diamond({height:Math.max(n.size.height,0),width:Math.max(n.size.width,0),x:0,y:0}),a=Us(o.topPoint)+" "+Us(o.rightPoint)+" "+Us(o.bottomPoint)+" "+Us(o.leftPoint);return pr.svg("g",null,pr.svg("polygon",{"class-sprotty-node":n instanceof oo.SNode,"class-sprotty-port":n instanceof oo.SPort,"class-mouseover":n.hoverFeedback,"class-selected":n.selected,points:a}),r.renderChildren(n))}},e=es([ts.injectable()],e),e}(Xf.ShapeView);Vr.DiamondNodeView=YC;function Us(t){return t.x+","+t.y}var $C=function(){function t(){}return t.prototype.render=function(e,n){return pr.svg("g",null)},t=es([ts.injectable()],t),t}();Vr.EmptyGroupView=$C;var yu={};(function(t){var e=w&&w.__extends||function(){var I=function(j,U){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,x){M.__proto__=x}||function(M,x){for(var D in x)x.hasOwnProperty(D)&&(M[D]=x[D])},I(j,U)};return function(j,U){I(j,U);function M(){this.constructor=j}j.prototype=U===null?Object.create(U):(M.prototype=U.prototype,new M)}}(),n=w&&w.__decorate||function(I,j,U,M){var x=arguments.length,D=x<3?j:M===null?M=Object.getOwnPropertyDescriptor(j,U):M,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(I,j,U,M);else for(var q=I.length-1;q>=0;q--)(V=I[q])&&(D=(x<3?V(D):x>3?V(j,U,D):V(j,U))||D);return x>3&&D&&Object.defineProperty(j,U,D),D},r=w&&w.__metadata||function(I,j){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,j)},i=w&&w.__param||function(I,j){return function(U,M){j(U,M,I)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=at,s=Se,u=Lt,d=yn,f=In,_=on,y=hi,g=Po,v;(function(I){I.KIND="EditLabel";function j(U){return{kind:I.KIND,labelId:U}}I.create=j})(v=t.EditLabelAction||(t.EditLabelAction={}));function m(I){return a.isAction(I)&&I.kind===v.KIND&&"labelId"in I}t.isEditLabelAction=m;var h=function(){function I(j,U){this.labelId=j,this.text=U,this.kind=I.KIND}return I.KIND="applyLabelEdit",I}();t.ApplyLabelEditAction=h;var b=function(){function I(){}return I}();t.ResolvedLabelEdit=b;var p=function(I){e(j,I);function j(U){var M=I.call(this)||this;return M.action=U,M}return j.prototype.execute=function(U){var M=U.root.index,x=M.getById(this.action.labelId);return x&&g.isEditableLabel(x)&&(this.resolvedLabelEdit={label:x,oldLabel:x.text,newLabel:this.action.text},x.text=this.action.text),U.root},j.prototype.undo=function(U){return this.resolvedLabelEdit&&(this.resolvedLabelEdit.label.text=this.resolvedLabelEdit.oldLabel),U.root},j.prototype.redo=function(U){return this.resolvedLabelEdit&&(this.resolvedLabelEdit.label.text=this.resolvedLabelEdit.newLabel),U.root},j.KIND=h.KIND,j=n([i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[h])],j),j}(c.Command);t.ApplyLabelEditCommand=p;var R=function(I){e(j,I);function j(){return I!==null&&I.apply(this,arguments)||this}return j.prototype.doubleClick=function(U,M){var x=A(U);return x?[v.create(x.id)]:[]},j}(u.MouseListener);t.EditLabelMouseListener=R;var O=function(I){e(j,I);function j(){return I!==null&&I.apply(this,arguments)||this}return j.prototype.keyDown=function(U,M){if(f.matchesKeystroke(M,"F2")){var x=y.toArray(U.index.all().filter(function(D){return _.isSelectable(D)&&D.selected})).map(A).filter(function(D){return D!==void 0});if(x.length===1)return[v.create(x[0].id)]}return[]},j}(d.KeyListener);t.EditLabelKeyListener=O;function A(I){if(g.isEditableLabel(I))return I;if(g.isWithEditableLabel(I)&&I.editableLabel)return I.editableLabel}t.getEditableLabel=A})(yu);var ns={},rs={},Hr={},Si={};(function(t){var e=w&&w.__decorate||function(d,f,_,y){var g=arguments.length,v=g<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,_):y,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,f,_,y);else for(var h=d.length-1;h>=0;h--)(m=d[h])&&(v=(g<3?m(v):g>3?m(f,_,v):m(f,_))||v);return g>3&&v&&Object.defineProperty(f,_,v),v},n=w&&w.__metadata||function(d,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,f)};Object.defineProperty(t,"__esModule",{value:!0});var r=fe,i=nt,o=lt,a=La,c=Se,s;(function(d){d.KIND="exportSvg";function f(_,y){return{kind:d.KIND,svg:_,responseId:y}}d.create=f})(s=t.ExportSvgAction||(t.ExportSvgAction={}));var u=function(){function d(){}return d.prototype.export=function(f,_){if(typeof document!="undefined"){var y=document.getElementById(this.options.hiddenDiv);if(y!==null&&y.firstElementChild&&y.firstElementChild.tagName==="svg"){var g=y.firstElementChild,v=this.createSvg(g,f);this.actionDispatcher.dispatch(s.create(v,_?_.requestId:""))}}},d.prototype.createSvg=function(f,_){var y=new XMLSerializer,g=y.serializeToString(f),v=document.createElement("iframe");if(document.body.appendChild(v),!v.contentWindow)throw new Error("IFrame has no contentWindow");var m=v.contentWindow.document;m.open(),m.write(g),m.close();var h=m.getElementById(f.id);h.removeAttribute("opacity"),this.copyStyles(f,h,["width","height","opacity"]),h.setAttribute("version","1.1");var b=this.getBounds(_);h.setAttribute("viewBox",b.x+" "+b.y+" "+b.width+" "+b.height);var p=y.serializeToString(h);return document.body.removeChild(v),p},d.prototype.copyStyles=function(f,_,y){for(var g=getComputedStyle(f),v=getComputedStyle(_),m="",h=0;h<g.length;h++){var b=g[h];if(y.indexOf(b)===-1){var p=g.getPropertyValue(b);v.getPropertyValue(b)!==p&&(m+=b+":"+p+";")}}m!==""&&_.setAttribute("style",m);for(var h=0;h<f.childNodes.length;++h){var R=f.childNodes[h],O=_.childNodes[h];R instanceof Element&&this.copyStyles(R,O,[])}},d.prototype.getBounds=function(f){var _=[i.Bounds.EMPTY];return f.children.forEach(function(y){o.isBoundsAware(y)&&_.push(y.bounds)}),_.reduce(function(y,g){return i.Bounds.combine(y,g)})},e([r.inject(c.TYPES.ViewerOptions),n("design:type",Object)],d.prototype,"options",void 0),e([r.inject(c.TYPES.IActionDispatcher),n("design:type",a.ActionDispatcher)],d.prototype,"actionDispatcher",void 0),e([r.inject(c.TYPES.ILogger),n("design:type",Object)],d.prototype,"log",void 0),d=e([r.injectable()],d),d}();t.SvgExporter=u})(Si);var Tc=w&&w.__assign||function(){return Tc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tc.apply(this,arguments)},rc=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Wh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Hr,"__esModule",{value:!0});var ic=fe,VC=St,HC=nn,Gh=Se,KC=Si,zC=function(){function t(){}return t.prototype.initialize=function(e){e.register(VC.RequestModelAction.KIND,this),e.register(KC.ExportSvgAction.KIND,this)},rc([ic.inject(Gh.TYPES.IActionDispatcher),Wh("design:type",Object)],t.prototype,"actionDispatcher",void 0),rc([ic.inject(Gh.TYPES.ViewerOptions),Wh("design:type",Object)],t.prototype,"viewerOptions",void 0),t=rc([ic.injectable()],t),t}();Hr.ModelSource=zC;var ZC=function(){function t(){}return t.prototype.apply=function(e,n){var r=new HC.SModelIndex;r.add(e);for(var i=0,o=n.bounds;i<o.length;i++){var a=o[i],c=r.getById(a.elementId);c!==void 0&&this.applyBounds(c,a.newPosition,a.newSize)}if(n.alignments!==void 0)for(var s=0,u=n.alignments;s<u.length;s++){var d=u[s],c=r.getById(d.elementId);c!==void 0&&this.applyAlignment(c,d.newAlignment)}return r},t.prototype.applyAlignment=function(e,n){var r=e;r.alignment={x:n.x,y:n.y}},t.prototype.applyBounds=function(e,n,r){var i=e;n&&(i.position=Tc({},n)),i.size=Tc({},r)},t=rc([ic.injectable()],t),t}();Hr.ComputedBoundsApplicator=ZC;(function(t){var e=w&&w.__extends||function(){var f=function(_,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var m in v)v.hasOwnProperty(m)&&(g[m]=v[m])},f(_,y)};return function(_,y){f(_,y);function g(){this.constructor=_}_.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),n=w&&w.__decorate||function(f,_,y,g){var v=arguments.length,m=v<3?_:g===null?g=Object.getOwnPropertyDescriptor(_,y):g,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(f,_,y,g);else for(var b=f.length-1;b>=0;b--)(h=f[b])&&(m=(v<3?h(m):v>3?h(_,y,m):h(_,y))||m);return v>3&&m&&Object.defineProperty(_,y,m),m},r=w&&w.__metadata||function(f,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,_)},i=w&&w.__param||function(f,_){return function(y,g){_(y,g,f)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=at,c=Se,s=Hr,u;(function(f){f.KIND="commitModel";function _(){return{kind:f.KIND}}f.create=_})(u=t.CommitModelAction||(t.CommitModelAction={}));var d=function(f){e(_,f);function _(y){var g=f.call(this)||this;return g.action=y,g}return _.prototype.execute=function(y){return this.newModel=y.modelFactory.createSchema(y.root),this.doCommit(this.newModel,y.root,!0)},_.prototype.doCommit=function(y,g,v){var m=this,h=this.modelSource.commitModel(y);return h instanceof Promise?h.then(function(b){return v&&(m.originalModel=b),g}):(v&&(this.originalModel=h),g)},_.prototype.undo=function(y){return this.doCommit(this.originalModel,y.root,!1)},_.prototype.redo=function(y){return this.doCommit(this.newModel,y.root,!1)},_.KIND=u.KIND,n([o.inject(c.TYPES.ModelSource),r("design:type",s.ModelSource)],_.prototype,"modelSource",void 0),_=n([o.injectable(),i(0,o.inject(c.TYPES.Action)),r("design:paramtypes",[Object])],_),_}(a.SystemCommand);t.CommitModelCommand=d})(rs);var Ei={},qC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ei,"__esModule",{value:!0});var WC=St,GC=qt,JC=Lt,pv=gt,hv=tr;function XC(t){return"zoom"in t}Ei.isZoomable=XC;function QC(t){var e=1,n=pv.findParentByFeature(t,hv.isViewport);return n&&(e=n.zoom),e}Ei.getZoom=QC;var ex=function(t){qC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.wheel=function(n,r){var i=pv.findParentByFeature(n,hv.isViewport);if(i){var o=this.getZoomFactor(r),a=this.getViewportOffset(n.root,r),c=1/(o*i.zoom)-1/i.zoom,s={scroll:{x:i.scroll.x-c*a.x,y:i.scroll.y-c*a.y},zoom:i.zoom*o};return[WC.SetViewportAction.create(i.id,s,{animate:!1})]}return[]},e.prototype.getViewportOffset=function(n,r){var i=n.canvasBounds,o=GC.getWindowScroll();return{x:r.clientX+o.x-i.x,y:r.clientY+o.y-i.y}},e.prototype.getZoomFactor=function(n){return n.deltaMode===n.DOM_DELTA_PAGE?Math.exp(-n.deltaY*.5):n.deltaMode===n.DOM_DELTA_LINE?Math.exp(-n.deltaY*.05):Math.exp(-n.deltaY*.005)},e}(JC.MouseListener);Ei.ZoomMouseListener=ex;var tx=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oi=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Wo=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Jh=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},Xh=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Qh=w&&w.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r};Object.defineProperty(ns,"__esModule",{value:!0});var dr=fe,Go=Se,nx=Va,rx=$a,ix=vi,ox=rs,eg=In,ax=lt,tg=Ei,gv=yu,sx=Po,cx=function(){function t(){}return t.prototype.handle=function(e){if(gv.isEditLabelAction(e))return rx.SetUIExtensionVisibilityAction.create({extensionId:yv.ID,visible:!0,contextElementsId:[e.labelId]})},t=oi([dr.injectable()],t),t}();ns.EditLabelActionHandler=cx;var yv=function(t){tx(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.validationTimeout=void 0,r.isActive=!1,r.blockApplyEditOnInvalidInput=!0,r.isCurrentLabelValid=!0,r}n=e,e.prototype.id=function(){return n.ID},e.prototype.containerClass=function(){return"label-edit"},Object.defineProperty(e.prototype,"labelId",{get:function(){return this.label?this.label.id:"unknown"},enumerable:!0,configurable:!0}),e.prototype.initializeContents=function(r){var i=this;r.style.position="absolute",this.inputElement=document.createElement("input"),this.textAreaElement=document.createElement("textarea"),[this.inputElement,this.textAreaElement].forEach(function(o){o.onkeydown=function(a){return i.applyLabelEditOnEvent(a,"Enter")},i.configureAndAdd(o,r)})},e.prototype.configureAndAdd=function(r,i){var o=this;r.style.visibility="hidden",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.addEventListener("keydown",function(a){return o.hideIfEscapeEvent(a)}),r.addEventListener("keyup",function(a){return o.validateLabelIfContentChange(a,r.value)}),r.addEventListener("blur",function(){return window.setTimeout(function(){return o.applyLabelEdit()},200)}),i.appendChild(r)},Object.defineProperty(e.prototype,"editControl",{get:function(){return this.label&&this.label.isMultiLine?this.textAreaElement:this.inputElement},enumerable:!0,configurable:!0}),e.prototype.hideIfEscapeEvent=function(r){eg.matchesKeystroke(r,"Escape")&&this.hide()},e.prototype.applyLabelEditOnEvent=function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];eg.matchesKeystroke.apply(void 0,Qh([r,i||"Enter"],o))&&(r.preventDefault(),this.applyLabelEdit())},e.prototype.validateLabelIfContentChange=function(r,i){(this.previousLabelContent===void 0||this.previousLabelContent!==i)&&(this.previousLabelContent=i,this.performLabelValidation(r,this.editControl.value))},e.prototype.applyLabelEdit=function(){return Jh(this,void 0,void 0,function(){var r,i=this;return Xh(this,function(o){switch(o.label){case 0:return this.isActive?this.blockApplyEditOnInvalidInput?[4,this.validateLabel(this.editControl.value)]:[3,2]:[2];case 1:if(r=o.sent(),r.severity==="error")return this.editControl.focus(),[2];o.label=2;case 2:return this.actionDispatcherProvider().then(function(a){return a.dispatchAll([new gv.ApplyLabelEditAction(i.labelId,i.editControl.value),ox.CommitModelAction.create()])}).catch(function(a){return i.logger.error(i,"No action dispatcher available to execute apply label edit action",a)}),this.hide(),[2]}})})},e.prototype.performLabelValidation=function(r,i){var o=this;this.validationTimeout&&window.clearTimeout(this.validationTimeout),this.validationTimeout=window.setTimeout(function(){return o.validateLabel(i)},200)},e.prototype.validateLabel=function(r){return Jh(this,void 0,void 0,function(){var i,o;return Xh(this,function(a){switch(a.label){case 0:if(!(this.labelValidator&&this.label))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.labelValidator.validate(r,this.label)];case 2:return i=a.sent(),this.isCurrentLabelValid=i.severity!=="error",this.showValidationResult(i),[2,i];case 3:return o=a.sent(),this.logger.error(this,"Error validating edited label",o),[3,4];case 4:return this.isCurrentLabelValid=!0,[2,{severity:"ok",message:void 0}]}})})},e.prototype.showValidationResult=function(r){this.clearValidationResult(),this.validationDecorator&&this.validationDecorator.decorate(this.editControl,r)},e.prototype.clearValidationResult=function(){this.validationDecorator&&this.validationDecorator.dispose(this.editControl)},e.prototype.show=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];!ux(i,r)||this.isActive||(t.prototype.show.apply(this,Qh([r],i)),this.isActive=!0)},e.prototype.hide=function(){this.editControl.style.visibility="hidden",t.prototype.hide.call(this),this.clearValidationResult(),this.isActive=!1,this.isCurrentLabelValid=!0,this.previousLabelContent=void 0,this.labelElement&&(this.labelElement.style.visibility="visible")},e.prototype.onBeforeShow=function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.label=mv(o,i)[0],this.previousLabelContent=this.label.text,this.setPosition(r),this.applyTextContents(),this.applyFontStyling(),this.editControl.style.visibility="visible",this.editControl.focus()},e.prototype.setPosition=function(r){var i=0,o=0,a=100,c=20;if(this.label){var s=tg.getZoom(this.label),u=ax.getAbsoluteClientBounds(this.label,this.domHelper,this.viewerOptions);i=u.x+(this.label.editControlPositionCorrection?this.label.editControlPositionCorrection.x:0)*s,o=u.y+(this.label.editControlPositionCorrection?this.label.editControlPositionCorrection.y:0)*s,c=(this.label.editControlDimension?this.label.editControlDimension.height:c)*s,a=(this.label.editControlDimension?this.label.editControlDimension.width:a)*s}r.style.left=i+"px",r.style.top=o+"px",r.style.width=a+"px",this.editControl.style.width=a+"px",r.style.height=c+"px",this.editControl.style.height=c+"px"},e.prototype.applyTextContents=function(){this.label&&(this.editControl.value=this.label.text,this.editControl instanceof HTMLTextAreaElement?(this.editControl.selectionStart=0,this.editControl.selectionEnd=0,this.editControl.scrollTop=0,this.editControl.scrollLeft=0):this.editControl.setSelectionRange(0,this.editControl.value.length))},e.prototype.applyFontStyling=function(){if(this.label&&(this.labelElement=document.getElementById(this.domHelper.createUniqueDOMElementId(this.label)),this.labelElement)){this.labelElement.style.visibility="hidden";var r=window.getComputedStyle(this.labelElement);this.editControl.style.font=r.font,this.editControl.style.fontStyle=r.fontStyle,this.editControl.style.fontFamily=r.fontFamily,this.editControl.style.fontSize=dx(r.fontSize,tg.getZoom(this.label)),this.editControl.style.fontWeight=r.fontWeight,this.editControl.style.lineHeight=r.lineHeight}};var n;return e.ID="editLabelUi",oi([dr.inject(Go.TYPES.IActionDispatcherProvider),Wo("design:type",Function)],e.prototype,"actionDispatcherProvider",void 0),oi([dr.inject(Go.TYPES.ViewerOptions),Wo("design:type",Object)],e.prototype,"viewerOptions",void 0),oi([dr.inject(Go.TYPES.DOMHelper),Wo("design:type",ix.DOMHelper)],e.prototype,"domHelper",void 0),oi([dr.inject(Go.TYPES.IEditLabelValidator),dr.optional(),Wo("design:type",Object)],e.prototype,"labelValidator",void 0),oi([dr.inject(Go.TYPES.IEditLabelValidationDecorator),dr.optional(),Wo("design:type",Object)],e.prototype,"validationDecorator",void 0),e=n=oi([dr.injectable()],e),e}(nx.AbstractUIExtension);ns.EditLabelUI=yv;function ux(t,e){return mv(t,e).length===1}function mv(t,e){return t.map(function(n){return e.index.getById(n)}).filter(sx.isEditableLabel)}function dx(t,e){return t.replace(/([0-9]+)/,function(n){return String(Number.parseInt(n,10)*e)})}var is={};(function(t){var e=w&&w.__extends||function(){var g=function(v,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,b){h.__proto__=b}||function(h,b){for(var p in b)b.hasOwnProperty(p)&&(h[p]=b[p])},g(v,m)};return function(v,m){g(v,m);function h(){this.constructor=v}v.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}(),n=w&&w.__decorate||function(g,v,m,h){var b=arguments.length,p=b<3?v:h===null?h=Object.getOwnPropertyDescriptor(v,m):h,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(g,v,m,h);else for(var O=g.length-1;O>=0;O--)(R=g[O])&&(p=(b<3?R(p):b>3?R(v,m,p):R(v,m))||p);return b>3&&p&&Object.defineProperty(v,m,p),p},r=w&&w.__metadata||function(g,v){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,v)},i=w&&w.__param||function(g,v){return function(m,h){v(m,h,g)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=at,c=Ze,s=Se,u=bt,d=mn,f=Po,_;(function(g){g.KIND="switchEditMode";function v(m){var h,b;return{kind:g.KIND,elementsToActivate:(h=m.elementsToActivate)!==null&&h!==void 0?h:[],elementsToDeactivate:(b=m.elementsToDeactivate)!==null&&b!==void 0?b:[]}}g.create=v})(_=t.SwitchEditModeAction||(t.SwitchEditModeAction={}));var y=function(g){e(v,g);function v(m){var h=g.call(this)||this;return h.action=m,h.elementsToActivate=[],h.elementsToDeactivate=[],h.handlesToRemove=[],h}return v.prototype.execute=function(m){var h=this,b=m.root.index;return this.action.elementsToActivate.forEach(function(p){var R=b.getById(p);R!==void 0&&h.elementsToActivate.push(R)}),this.action.elementsToDeactivate.forEach(function(p){var R=b.getById(p);if(R!==void 0&&h.elementsToDeactivate.push(R),R instanceof u.SRoutingHandle&&R.parent instanceof u.SRoutableElement){var O=R.parent;h.shouldRemoveHandle(R,O)&&(h.handlesToRemove.push({handle:R,parent:O}),h.elementsToDeactivate.push(O),h.elementsToActivate.push(O))}}),this.doExecute(m)},v.prototype.doExecute=function(m){var h=this;return this.handlesToRemove.forEach(function(b){b.point=b.parent.routingPoints.splice(b.handle.pointIndex,1)[0]}),this.elementsToDeactivate.forEach(function(b){b instanceof u.SRoutableElement?b.removeAll(function(p){return p instanceof u.SRoutingHandle}):b instanceof u.SRoutingHandle&&(b.editMode=!1,b.danglingAnchor&&b.parent instanceof u.SRoutableElement&&b.danglingAnchor.original&&(b.parent.source===b.danglingAnchor?b.parent.sourceId=b.danglingAnchor.original.id:b.parent.target===b.danglingAnchor&&(b.parent.targetId=b.danglingAnchor.original.id),b.danglingAnchor.parent.remove(b.danglingAnchor),b.danglingAnchor=void 0))}),this.elementsToActivate.forEach(function(b){if(f.canEditRouting(b)&&b instanceof c.SParentElement){var p=h.edgeRouterRegistry.get(b.routerKind);p.createRoutingHandles(b)}else b instanceof u.SRoutingHandle&&(b.editMode=!0)}),m.root},v.prototype.shouldRemoveHandle=function(m,h){if(m.kind==="junction"){var b=this.edgeRouterRegistry.route(h);return b.find(function(p){return p.pointIndex===m.pointIndex})===void 0}return!1},v.prototype.undo=function(m){var h=this;return this.handlesToRemove.forEach(function(b){b.point!==void 0&&b.parent.routingPoints.splice(b.handle.pointIndex,0,b.point)}),this.elementsToActivate.forEach(function(b){b instanceof u.SRoutableElement?b.removeAll(function(p){return p instanceof u.SRoutingHandle}):b instanceof u.SRoutingHandle&&(b.editMode=!1)}),this.elementsToDeactivate.forEach(function(b){if(f.canEditRouting(b)){var p=h.edgeRouterRegistry.get(b.routerKind);p.createRoutingHandles(b)}else b instanceof u.SRoutingHandle&&(b.editMode=!0)}),m.root},v.prototype.redo=function(m){return this.doExecute(m)},v.KIND=_.KIND,n([o.inject(d.EdgeRouterRegistry),r("design:type",d.EdgeRouterRegistry)],v.prototype,"edgeRouterRegistry",void 0),v=n([o.injectable(),i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[Object])],v),v}(a.Command);t.SwitchEditModeCommand=y})(is);var mu={};(function(t){var e=w&&w.__extends||function(){var _=function(y,g){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var h in m)m.hasOwnProperty(h)&&(v[h]=m[h])},_(y,g)};return function(y,g){_(y,g);function v(){this.constructor=y}y.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),n=w&&w.__decorate||function(_,y,g,v){var m=arguments.length,h=m<3?y:v===null?v=Object.getOwnPropertyDescriptor(y,g):v,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(_,y,g,v);else for(var p=_.length-1;p>=0;p--)(b=_[p])&&(h=(m<3?b(h):m>3?b(y,g,h):b(y,g))||h);return m>3&&h&&Object.defineProperty(y,g,h),h},r=w&&w.__metadata||function(_,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,y)},i=w&&w.__param||function(_,y){return function(g,v){y(g,v,_)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=at,c=Se,s=bt,u=mn,d;(function(_){_.KIND="reconnect";function y(g){return{kind:_.KIND,routableId:g.routableId,newSourceId:g.newSourceId,newTargetId:g.newTargetId}}_.create=y})(d=t.ReconnectAction||(t.ReconnectAction={}));var f=function(_){e(y,_);function y(g){var v=_.call(this)||this;return v.action=g,v}return y.prototype.execute=function(g){return this.doExecute(g),g.root},y.prototype.doExecute=function(g){var v=g.root.index,m=v.getById(this.action.routableId);if(m instanceof s.SRoutableElement){var h=this.edgeRouterRegistry.get(m.routerKind),b=h.takeSnapshot(m);h.applyReconnect(m,this.action.newSourceId,this.action.newTargetId);var p=h.takeSnapshot(m);this.memento={edge:m,before:b,after:p}}},y.prototype.undo=function(g){if(this.memento){var v=this.edgeRouterRegistry.get(this.memento.edge.routerKind);v.applySnapshot(this.memento.edge,this.memento.before)}return g.root},y.prototype.redo=function(g){if(this.memento){var v=this.edgeRouterRegistry.get(this.memento.edge.routerKind);v.applySnapshot(this.memento.edge,this.memento.after)}return g.root},y.KIND=d.KIND,n([o.inject(u.EdgeRouterRegistry),r("design:type",u.EdgeRouterRegistry)],y.prototype,"edgeRouterRegistry",void 0),y=n([o.injectable(),i(0,o.inject(c.TYPES.Action)),r("design:paramtypes",[Object])],y),y}(a.Command);t.ReconnectCommand=f})(mu);Object.defineProperty(Ro,"__esModule",{value:!0});var Qf=fe,Kl=Se,oc=Tt,lx=kr,fx=jn,_x=bt,px=Vr,hx=bi,ac=yu,Nd=ns,gx=is,yx=mu;Ro.edgeEditModule=new Qf.ContainerModule(function(t,e,n){var r={bind:t,isBound:n};oc.configureCommand(r,gx.SwitchEditModeCommand),oc.configureCommand(r,yx.ReconnectCommand),oc.configureCommand(r,hx.DeleteElementCommand),fx.configureModelElement(r,"dangling-anchor",_x.SDanglingAnchor,px.EmptyGroupView)});Ro.labelEditModule=new Qf.ContainerModule(function(t,e,n){t(Kl.TYPES.MouseListener).to(ac.EditLabelMouseListener),t(Kl.TYPES.KeyListener).to(ac.EditLabelKeyListener),oc.configureCommand({bind:t,isBound:n},ac.ApplyLabelEditCommand)});Ro.labelEditUiModule=new Qf.ContainerModule(function(t,e,n){var r={bind:t,isBound:n};lx.configureActionHandler(r,ac.EditLabelAction.KIND,Nd.EditLabelActionHandler),t(Nd.EditLabelUI).toSelf().inSingletonScope(),t(Kl.TYPES.IUIExtension).toService(Nd.EditLabelUI)});var So={},vu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.expandFeature=Symbol("expandFeature");function e(n){return n.hasFeature(t.expandFeature)&&"expanded"in n}t.isExpandable=e})(vu);var mx=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(So,"__esModule",{value:!0});var vx=fe,bx=gt,Px=vu,vv=function(){function t(e,n){this.expandIds=e,this.collapseIds=n,this.kind=t.KIND}return t.KIND="collapseExpand",t}();So.CollapseExpandAction=vv;var wx=function(){function t(e){e===void 0&&(e=!0),this.expand=e,this.kind=t.KIND}return t.KIND="collapseExpandAll",t}();So.CollapseExpandAllAction=wx;var Rx=function(){function t(){}return t.prototype.buttonPressed=function(e){var n=bx.findParentByFeature(e,Px.isExpandable);return n!==void 0?[new vv(n.expanded?[]:[n.id],n.expanded?[n.id]:[])]:[]},t.TYPE="button:expand",t=mx([vx.injectable()],t),t}();So.ExpandButtonHandler=Rx;var e_={},Sx=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e_,"__esModule",{value:!0});var Fd=rn,Ex=vu,Ax=gt,Ox=fe,Ix=function(){function t(){}return t.prototype.render=function(e,n){var r=Ax.findParentByFeature(e,Ex.isExpandable),i=r!==void 0&&r.expanded?"M 1,5 L 8,12 L 15,5 Z":"M 1,8 L 8,15 L 8,1 Z";return Fd.svg("g",{"class-sprotty-button":"{true}","class-enabled":"{button.enabled}"},Fd.svg("rect",{x:0,y:0,width:16,height:16,opacity:0}),Fd.svg("path",{d:i}))},t=Sx([Ox.injectable()],t),t}();e_.ExpandButtonView=Ix;var t_={};(function(t){var e=w&&w.__extends||function(){var O=function(A,I){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,U){j.__proto__=U}||function(j,U){for(var M in U)U.hasOwnProperty(M)&&(j[M]=U[M])},O(A,I)};return function(A,I){O(A,I);function j(){this.constructor=A}A.prototype=I===null?Object.create(I):(j.prototype=I.prototype,new j)}}(),n=w&&w.__decorate||function(O,A,I,j){var U=arguments.length,M=U<3?A:j===null?j=Object.getOwnPropertyDescriptor(A,I):j,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(O,A,I,j);else for(var D=O.length-1;D>=0;D--)(x=O[D])&&(M=(U<3?x(M):U>3?x(A,I,M):x(A,I))||M);return U>3&&M&&Object.defineProperty(A,I,M),M},r=w&&w.__metadata||function(O,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,A)},i=w&&w.__param||function(O,A){return function(I,j){A(I,j,O)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=at,s=on,u=Ze,d=yn,f=In,_=gu,y=Si,g=tr,v=Pi,m=Se,h=function(O){e(A,O);function A(){return O!==null&&O.apply(this,arguments)||this}return A.prototype.keyDown=function(I,j){return f.matchesKeystroke(j,"KeyE","ctrlCmd","shift")?[b.create()]:[]},A=n([o.injectable()],A),A}(d.KeyListener);t.ExportSvgKeyListener=h;var b;(function(O){O.KIND="requestExportSvg";function A(){return{kind:O.KIND,requestId:a.generateRequestId()}}O.create=A})(b=t.RequestExportSvgAction||(t.RequestExportSvgAction={}));var p=function(O){e(A,O);function A(I){var j=O.call(this)||this;return j.action=I,j}return A.prototype.execute=function(I){if(_.isExportable(I.root)){var j=I.modelFactory.createRoot(I.root);if(_.isExportable(j))return g.isViewport(j)&&(j.zoom=1,j.scroll={x:0,y:0}),j.index.all().forEach(function(U){s.isSelectable(U)&&U.selected&&(U.selected=!1),v.isHoverable(U)&&U.hoverFeedback&&(U.hoverFeedback=!1)}),{model:j,modelChanged:!0,cause:this.action}}return{model:I.root,modelChanged:!1}},A.KIND=b.KIND,A=n([i(0,o.inject(m.TYPES.Action)),r("design:paramtypes",[Object])],A),A}(c.HiddenCommand);t.ExportSvgCommand=p;var R=function(){function O(){}return O.prototype.decorate=function(A,I){return I instanceof u.SModelRoot&&(this.root=I),A},O.prototype.postUpdate=function(A){this.root&&A!==void 0&&A.kind===b.KIND&&this.svgExporter.export(this.root,A)},n([o.inject(m.TYPES.SvgExporter),r("design:type",y.SvgExporter)],O.prototype,"svgExporter",void 0),O=n([o.injectable()],O),O}();t.ExportSvgPostprocessor=R})(t_);var Eo={},jx=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mx=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Eo,"__esModule",{value:!0});var Cx=fe,xx=gr,Dx=Ze,Tx=pt,Lx=yo,Ux=function(t){jx(e,t);function e(n,r,i,o){o===void 0&&(o=!1);var a=t.call(this,i)||this;return a.model=n,a.elementFades=r,a.removeAfterFadeOut=o,a}return e.prototype.tween=function(n,r){for(var i=0,o=this.elementFades;i<o.length;i++){var a=o[i],c=a.element;a.type==="in"?c.opacity=n:a.type==="out"&&(c.opacity=1-n,n===1&&this.removeAfterFadeOut&&c instanceof Dx.SChildElement&&c.parent.remove(c))}return this.model},e}(xx.Animation);Eo.FadeAnimation=Ux;var Nx=function(){function t(){}return t.prototype.decorate=function(e,n){return Lx.isFadeable(n)&&n.opacity!==1&&Tx.setAttr(e,"opacity",n.opacity),e},t.prototype.postUpdate=function(){},t=Mx([Cx.injectable()],t),t}();Eo.ElementFader=Nx;var n_={};(function(t){var e=w&&w.__extends||function(){var D=function(V,q){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,ne){ee.__proto__=ne}||function(ee,ne){for(var se in ne)ne.hasOwnProperty(se)&&(ee[se]=ne[se])},D(V,q)};return function(V,q){D(V,q);function ee(){this.constructor=V}V.prototype=q===null?Object.create(q):(ee.prototype=q.prototype,new ee)}}(),n=w&&w.__decorate||function(D,V,q,ee){var ne=arguments.length,se=ne<3?V:ee===null?ee=Object.getOwnPropertyDescriptor(V,q):ee,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(D,V,q,ee);else for(var Z=D.length-1;Z>=0;Z--)(G=D[Z])&&(se=(ne<3?G(se):ne>3?G(V,q,se):G(V,q))||se);return ne>3&&se&&Object.defineProperty(V,q,se),se},r=w&&w.__metadata||function(D,V){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,V)},i=w&&w.__param||function(D,V){return function(q,ee){V(q,ee,D)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=nt,s=In,u=Se,d=Ze,f=Lt,_=at,y=en,g=yn,v=gt,m=lt,h=Pi,b;(function(D){D.KIND="hoverFeedback";function V(q){return{kind:D.KIND,mouseoverElement:q.mouseoverElement,mouseIsOver:q.mouseIsOver}}D.create=V})(b=t.HoverFeedbackAction||(t.HoverFeedbackAction={}));var p=function(D){e(V,D);function V(q){var ee=D.call(this)||this;return ee.action=q,ee}return V.prototype.execute=function(q){var ee=q.root,ne=ee.index.getById(this.action.mouseoverElement);return ne&&h.isHoverable(ne)&&(ne.hoverFeedback=this.action.mouseIsOver),this.redo(q)},V.prototype.undo=function(q){return q.root},V.prototype.redo=function(q){return q.root},V.KIND=b.KIND,V=n([o.injectable(),i(0,o.inject(u.TYPES.Action)),r("design:paramtypes",[Object])],V),V}(_.SystemCommand);t.HoverFeedbackCommand=p;var R=function(){function D(V,q,ee){ee===void 0&&(ee=""),this.elementId=V,this.bounds=q,this.requestId=ee,this.kind=D.KIND}return D.create=function(V,q){return new D(V,q,a.generateRequestId())},D.KIND="requestPopupModel",D}();t.RequestPopupModelAction=R;var O=function(){function D(V,q){q===void 0&&(q=""),this.newRoot=V,this.responseId=q,this.kind=D.KIND}return D.KIND="setPopupModel",D}();t.SetPopupModelAction=O;var A=function(D){e(V,D);function V(q){var ee=D.call(this)||this;return ee.action=q,ee}return V.prototype.execute=function(q){return this.oldRoot=q.root,this.newRoot=q.modelFactory.createRoot(this.action.newRoot),this.newRoot},V.prototype.undo=function(q){return this.oldRoot},V.prototype.redo=function(q){return this.newRoot},V.KIND=O.KIND,V=n([o.injectable(),i(0,o.inject(u.TYPES.Action)),r("design:paramtypes",[O])],V),V}(_.PopupCommand);t.SetPopupModelCommand=A;var I=function(D){e(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.mouseDown=function(q,ee){return this.mouseIsDown=!0,[]},V.prototype.mouseUp=function(q,ee){return this.mouseIsDown=!1,[]},V.prototype.stopMouseOutTimer=function(){this.state.mouseOutTimer!==void 0&&(window.clearTimeout(this.state.mouseOutTimer),this.state.mouseOutTimer=void 0)},V.prototype.startMouseOutTimer=function(){var q=this;return this.stopMouseOutTimer(),new Promise(function(ee){q.state.mouseOutTimer=window.setTimeout(function(){q.state.popupOpen=!1,q.state.previousPopupElement=void 0,ee(new O({type:y.EMPTY_ROOT.type,id:y.EMPTY_ROOT.id}))},q.options.popupCloseDelay)})},V.prototype.stopMouseOverTimer=function(){this.state.mouseOverTimer!==void 0&&(window.clearTimeout(this.state.mouseOverTimer),this.state.mouseOverTimer=void 0)},n([o.inject(u.TYPES.ViewerOptions),r("design:type",Object)],V.prototype,"options",void 0),n([o.inject(u.TYPES.HoverState),r("design:type",Object)],V.prototype,"state",void 0),V}(f.MouseListener);t.AbstractHoverMouseListener=I;var j=function(D){e(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.computePopupBounds=function(q,ee){var ne={x:-5,y:20},se=m.getAbsoluteBounds(q),G=q.root.canvasBounds,Z=c.Bounds.translate(se,G),K=Z.x+Z.width-ee.x,B=Z.y+Z.height-ee.y;B<=K&&this.allowSidePosition(q,"below",B)?ne={x:-5,y:Math.round(B+5)}:K<=B&&this.allowSidePosition(q,"right",K)&&(ne={x:Math.round(K+5),y:-5});var Y=ee.x+ne.x,L=G.x+G.width;Y>L&&(Y=L);var C=ee.y+ne.y,W=G.y+G.height;return C>W&&(C=W),{x:Y,y:C,width:-1,height:-1}},V.prototype.allowSidePosition=function(q,ee,ne){return!(q instanceof d.SModelRoot)&&ne<=150},V.prototype.startMouseOverTimer=function(q,ee){var ne=this;return this.stopMouseOverTimer(),new Promise(function(se){ne.state.mouseOverTimer=window.setTimeout(function(){var G=ne.computePopupBounds(q,{x:ee.pageX,y:ee.pageY});se(new R(q.id,G)),ne.state.popupOpen=!0,ne.state.previousPopupElement=q},ne.options.popupOpenDelay)})},V.prototype.mouseOver=function(q,ee){var ne=[];if(!this.mouseIsDown){var se=v.findParent(q,h.hasPopupFeature);this.state.popupOpen&&(se===void 0||this.state.previousPopupElement!==void 0&&this.state.previousPopupElement.id!==se.id)?ne.push(this.startMouseOutTimer()):(this.stopMouseOverTimer(),this.stopMouseOutTimer()),se!==void 0&&(this.state.previousPopupElement===void 0||this.state.previousPopupElement.id!==se.id)&&ne.push(this.startMouseOverTimer(se,ee)),this.lastHoverFeedbackElementId&&(ne.push(b.create({mouseoverElement:this.lastHoverFeedbackElementId,mouseIsOver:!1})),this.lastHoverFeedbackElementId=void 0);var G=v.findParentByFeature(q,h.isHoverable);G!==void 0&&(ne.push(b.create({mouseoverElement:G.id,mouseIsOver:!0})),this.lastHoverFeedbackElementId=G.id)}return ne},V.prototype.mouseOut=function(q,ee){var ne=[];if(!this.mouseIsDown){var se=document.elementFromPoint(ee.x,ee.y);if(!this.isSprottyPopup(se)){if(this.state.popupOpen){var G=v.findParent(q,h.hasPopupFeature);this.state.previousPopupElement!==void 0&&G!==void 0&&this.state.previousPopupElement.id===G.id&&ne.push(this.startMouseOutTimer())}this.stopMouseOverTimer();var Z=v.findParentByFeature(q,h.isHoverable);Z!==void 0&&(ne.push(b.create({mouseoverElement:Z.id,mouseIsOver:!1})),this.lastHoverFeedbackElementId=void 0)}}return ne},V.prototype.isSprottyPopup=function(q){return q?q.id===this.options.popupDiv||!!q.parentElement&&this.isSprottyPopup(q.parentElement):!1},V.prototype.mouseMove=function(q,ee){var ne=[];if(!this.mouseIsDown){this.state.previousPopupElement!==void 0&&this.closeOnMouseMove(this.state.previousPopupElement,ee)&&ne.push(this.startMouseOutTimer());var se=v.findParent(q,h.hasPopupFeature);se!==void 0&&(this.state.previousPopupElement===void 0||this.state.previousPopupElement.id!==se.id)&&ne.push(this.startMouseOverTimer(se,ee))}return ne},V.prototype.closeOnMouseMove=function(q,ee){return q instanceof d.SModelRoot},n([o.inject(u.TYPES.ViewerOptions),r("design:type",Object)],V.prototype,"options",void 0),V=n([o.injectable()],V),V}(I);t.HoverMouseListener=j;var U=function(D){e(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.mouseOut=function(q,ee){return[this.startMouseOutTimer()]},V.prototype.mouseOver=function(q,ee){return this.stopMouseOutTimer(),this.stopMouseOverTimer(),[]},V=n([o.injectable()],V),V}(I);t.PopupHoverMouseListener=U;var M=function(D){e(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.keyDown=function(q,ee){return s.matchesKeystroke(ee,"Escape")?[new O({type:y.EMPTY_ROOT.type,id:y.EMPTY_ROOT.id})]:[]},V}(g.KeyListener);t.HoverKeyListener=M;var x=function(){function D(){this.popupOpen=!1}return D.prototype.handle=function(V){if(V.kind===A.KIND)this.popupOpen=V.newRoot.type!==y.EMPTY_ROOT.type;else if(this.popupOpen)return new O({id:y.EMPTY_ROOT.id,type:y.EMPTY_ROOT.type})},D=n([o.injectable()],D),D}();t.ClosePopupActionHandler=x})(n_);var bu={};(function(t){var e=w&&w.__extends||function(){var s=function(u,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var y in _)_.hasOwnProperty(y)&&(f[y]=_[y])},s(u,d)};return function(u,d){s(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=Pi,r=lt;t.decorationFeature=Symbol("decorationFeature");function i(s){return s.hasFeature(t.decorationFeature)}t.isDecoration=i;var o=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u.DEFAULT_FEATURES=[t.decorationFeature,r.boundsFeature,n.hoverFeedbackFeature,n.popupFeature],u}(r.SShapeElement);t.SDecoration=o;var a=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u}(o);t.SIssueMarker=a;var c=function(){function s(){}return s}();t.SIssue=c})(bu);var Pu={},Fx=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Pu,"__esModule",{value:!0});var kd=rn,kx=pt,Bx=fe,Yx=function(){function t(){}return t.prototype.render=function(e,n){var r=.008928571428571428,i="scale("+r+", "+r+")",o=this.getMaxSeverity(e),a=kd.svg("g",{"class-sprotty-issue":!0},kd.svg("g",{transform:i},kd.svg("path",{d:this.getPath(o)})));return kx.setClass(a,"sprotty-"+o,!0),a},t.prototype.getMaxSeverity=function(e){for(var n="info",r=0,i=e.issues.map(function(a){return a.severity});r<i.length;r++){var o=i[r];(o==="error"||o==="warning"&&n==="info")&&(n=o)}return n},t.prototype.getPath=function(e){switch(e){case"error":case"warning":return"M768 128q209 0 385.5 103t279.5 279.5 103 385.5-103 385.5-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103zm128 1247v-190q0-14-9-23.5t-22-9.5h-192q-13 0-23 10t-10 23v190q0 13 10 23t23 10h192q13 0 22-9.5t9-23.5zm-2-344l18-621q0-12-10-18-10-8-24-8h-220q-14 0-24 8-10 6-10 18l17 621q0 10 10 17.5t24 7.5h185q14 0 23.5-7.5t10.5-17.5z";case"info":return"M1024 1376v-160q0-14-9-23t-23-9h-96v-512q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v160q0 14 9 23t23 9h96v320h-96q-14 0-23 9t-9 23v160q0 14 9 23t23 9h448q14 0 23-9t9-23zm-128-896v-160q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v160q0 14 9 23t23 9h192q14 0 23-9t9-23zm640 416q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"}},t=Fx([Bx.injectable()],t),t}();Pu.IssueMarkerView=Yx;var wu={},ng=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},$x=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(wu,"__esModule",{value:!0});var rg=fe,Vx=Ze,Hx=bu,Kx=pt,ig=lt,zx=bt,og=mn,ag=lo,Zx=function(){function t(){}return t.prototype.decorate=function(e,n){if(Hx.isDecoration(n)){var r=this.getPosition(n),i="translate("+r.x+", "+r.y+")";Kx.setAttr(e,"transform",i)}return e},t.prototype.getPosition=function(e){if(e instanceof Vx.SChildElement&&e.parent instanceof zx.SRoutableElement){var n=this.edgeRouterRegistry.route(e.parent);if(n.length>1){var r=Math.floor(.5*(n.length-1)),i=ig.isSizeable(e)?{x:-.5*e.bounds.width,y:-.5*e.bounds.width}:ag.Point.ORIGIN;return{x:.5*(n[r].x+n[r+1].x)+i.x,y:.5*(n[r].y+n[r+1].y)+i.y}}}return ig.isSizeable(e)?{x:-.666*e.bounds.width,y:-.666*e.bounds.height}:ag.Point.ORIGIN},t.prototype.postUpdate=function(){},ng([rg.inject(og.EdgeRouterRegistry),$x("design:type",og.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=ng([rg.injectable()],t),t}();wu.DecorationPlacer=Zx;var Ai={};class qx{constructor(e=[],n=Wx){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:r}=this,i=n[e];for(;e>0;){const o=e-1>>1,a=n[o];if(r(i,a)>=0)break;n[e]=a,e=o}n[e]=i}_down(e){const{data:n,compare:r}=this,i=this.length>>1,o=n[e];for(;e<i;){let a=(e<<1)+1,c=n[a];const s=a+1;if(s<this.length&&r(n[s],c)<0&&(a=s,c=n[s]),r(c,o)>=0)break;n[e]=c,e=a}n[e]=o}}function Wx(t,e){return t<e?-1:t>e?1:0}var Gx=Object.freeze(Object.defineProperty({__proto__:null,default:qx},Symbol.toStringTag,{value:"Module"})),bv=Of(Gx),Yn={},Jx=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yn,"__esModule",{value:!0});var Xx=Jx(bv),sg=Ri;function Qx(t,e,n){if(!(e.length<1))for(var r=e[0],i=void 0,o=0;o<e.length-1;o++){i=e[o+1];var a=new zl(t,r,o),c=new zl(t,i,o+1);a.otherEvent=c,c.otherEvent=a,Pv(a,c)>0?(c.isLeftEndpoint=!0,a.isLeftEndpoint=!1):(a.isLeftEndpoint=!0,c.isLeftEndpoint=!1),n.push(a),n.push(c),r=i}}Yn.addRoute=Qx;function Pv(t,e){return t.point.x>e.point.x?1:t.point.x<e.point.x?-1:t.point.y!==e.point.y?t.point.y>e.point.y?1:-1:1}Yn.checkWhichEventIsLeft=Pv;var zl=function(){function t(e,n,r){this.edgeId=e,this.point=n,this.segmentIndex=r}return t}();Yn.SweepEvent=zl;var wv=function(){function t(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}return t}();Yn.Segment=wv;function eD(t){for(var e=[],n=new Xx.default([],Rv);t.length;){var r=t.pop();if(r!=null&&r.isLeftEndpoint){for(var i=new wv(r),o=0;o<n.data.length;o++){var a=n.data[o],c=Sv(i,a);c&&e.push({routable1:r.edgeId,routable2:a.leftSweepEvent.edgeId,segmentIndex1:Zl(i),segmentIndex2:Zl(a),intersectionPoint:c})}n.push(i)}else(r==null?void 0:r.isLeftEndpoint)===!1&&n.pop()}return e}Yn.runSweep=eD;function Rv(t,e){return t.rightSweepEvent.point.x>e.rightSweepEvent.point.x?1:t.rightSweepEvent.point.x<e.rightSweepEvent.point.x?-1:t.rightSweepEvent.point.y!==e.rightSweepEvent.point.y?t.rightSweepEvent.point.y<e.rightSweepEvent.point.y?1:-1:1}Yn.checkWhichSegmentHasRightEndpointFirst=Rv;function Zl(t){return Math.min(t.leftSweepEvent.segmentIndex,t.rightSweepEvent.segmentIndex)}Yn.getSegmentIndex=Zl;function Sv(t,e){if(t.leftSweepEvent.edgeId!==e.leftSweepEvent.edgeId){var n=new sg.PointToPointLine(t.leftSweepEvent.point,t.rightSweepEvent.point),r=new sg.PointToPointLine(e.leftSweepEvent.point,e.rightSweepEvent.point);return n.intersection(r)}}Yn.intersectionOfSegments=Sv;var Lc=w&&w.__assign||function(){return Lc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lc.apply(this,arguments)},tD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},nD=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});var rD=fe,iD=nD(bv),Bd=Yn;function Ev(t){return t!==void 0&&"intersections"in t&&"kind"in t}Ai.isIntersectingRoutedPoint=Ev;Ai.BY_X_THEN_Y=function(t,e){return t.intersectionPoint.x===e.intersectionPoint.x?t.intersectionPoint.y-e.intersectionPoint.y:t.intersectionPoint.x-e.intersectionPoint.x};var oD=function(){function t(){}return t.prototype.apply=function(e){var n=this.find(e);this.addToRouting(n,e)},t.prototype.find=function(e){var n=new iD.default(void 0,Bd.checkWhichEventIsLeft);return e.routes.forEach(function(r,i){return Bd.addRoute(i,r,n)}),Bd.runSweep(n)},t.prototype.addToRouting=function(e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r],a=n.get(o.routable1),c=n.get(o.routable2);this.addIntersectionToRoutedPoint(o,a,o.segmentIndex1),this.addIntersectionToRoutedPoint(o,c,o.segmentIndex2)}},t.prototype.addIntersectionToRoutedPoint=function(e,n,r){if(n&&n.length>r){var i=n[r+1];if(Ev(i))i.intersections.push(e);else{var o=Lc(Lc({},i),{intersections:[e]});n[r+1]=o}}},t=tD([rD.injectable()],t),t}();Ai.IntersectionFinder=oD;var os={};(function(t){var e=w&&w.__extends||function(){var Z=function(K,B){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,L){Y.__proto__=L}||function(Y,L){for(var C in L)L.hasOwnProperty(C)&&(Y[C]=L[C])},Z(K,B)};return function(K,B){Z(K,B);function Y(){this.constructor=K}K.prototype=B===null?Object.create(B):(Y.prototype=B.prototype,new Y)}}(),n=w&&w.__assign||function(){return n=Object.assign||function(Z){for(var K,B=1,Y=arguments.length;B<Y;B++){K=arguments[B];for(var L in K)Object.prototype.hasOwnProperty.call(K,L)&&(Z[L]=K[L])}return Z},n.apply(this,arguments)},r=w&&w.__decorate||function(Z,K,B,Y){var L=arguments.length,C=L<3?K:Y===null?Y=Object.getOwnPropertyDescriptor(K,B):Y,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(Z,K,B,Y);else for(var ie=Z.length-1;ie>=0;ie--)(W=Z[ie])&&(C=(L<3?W(C):L>3?W(K,B,C):W(K,B))||C);return L>3&&C&&Object.defineProperty(K,B,C),C},i=w&&w.__metadata||function(Z,K){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Z,K)},o=w&&w.__param||function(Z,K){return function(B,Y){K(B,Y,Z)}};Object.defineProperty(t,"__esModule",{value:!0});var a=fe,c=nt,s=St,u=gr,d=at,f=Ze,_=gt,y=Se,g=Lt,v=pt,m=an,h=rs,b=lt,p=Gf,R=bi,O=is,A=mu,I=bt,j=mn,U=bo,M=on,x=tr,D=$r,V;(function(Z){Z.KIND="move";function K(B,Y){Y===void 0&&(Y={});var L,C;return{kind:Z.KIND,moves:B,animate:(L=Y.animate)!==null&&L!==void 0?L:!0,finished:(C=Y.finished)!==null&&C!==void 0?C:!1}}Z.create=K})(V=t.MoveAction||(t.MoveAction={}));var q=function(Z){e(K,Z);function K(Y){var L=Z.call(this)||this;return L.action=Y,L.resolvedMoves=new Map,L.edgeMementi=[],L}B=K,K.prototype.execute=function(Y){var L=this,C=Y.root.index,W=new Map,ie=new Map;return this.action.moves.forEach(function(ce){var ge=C.getById(ce.elementId);if(ge instanceof I.SRoutingHandle&&L.edgeRouterRegistry){var ve=ge.parent;if(ve instanceof I.SRoutableElement){var Ae=L.resolveHandleMove(ge,ve,ce);if(Ae){var je=W.get(ve);je||(je=[],W.set(ve,je)),je.push(Ae)}}}else if(ge&&D.isLocateable(ge)){var Me=L.resolveElementMove(ge,ce);Me&&(L.resolvedMoves.set(Me.element.id,Me),L.edgeRouterRegistry&&C.getAttachedElements(ge).forEach(function(T){if(T instanceof I.SRoutableElement){var H=ie.get(T),Q=c.Point.subtract(Me.toPosition,Me.fromPosition),ue=H?c.Point.linear(H,Q,.5):Q;ie.set(T,ue)}}))}}),this.doMove(W,ie),this.action.animate?(this.undoMove(),new u.CompoundAnimation(Y.root,Y,[new ee(Y.root,this.resolvedMoves,Y,!1),new ne(Y.root,this.edgeMementi,Y,!1)]).start()):Y.root},K.prototype.resolveHandleMove=function(Y,L,C){var W=C.fromPosition;if(!W){var ie=this.edgeRouterRegistry.get(L.routerKind);W=ie.getHandlePosition(L,ie.route(L),Y)}if(W)return{handle:Y,fromPosition:W,toPosition:C.toPosition}},K.prototype.resolveElementMove=function(Y,L){var C=L.fromPosition||{x:Y.position.x,y:Y.position.y};return{element:Y,fromPosition:C,toPosition:L.toPosition}},K.prototype.doMove=function(Y,L){var C=this;this.resolvedMoves.forEach(function(W){W.element.position=W.toPosition}),Y.forEach(function(W,ie){var ce=C.edgeRouterRegistry.get(ie.routerKind),ge=ce.takeSnapshot(ie);ce.applyHandleMoves(ie,W);var ve=ce.takeSnapshot(ie);C.edgeMementi.push({edge:ie,before:ge,after:ve})}),L.forEach(function(W,ie){if(!Y.get(ie)){var ce=C.edgeRouterRegistry.get(ie.routerKind),ge=ce.takeSnapshot(ie);if(ie.source&&ie.target&&C.resolvedMoves.get(ie.source.id)&&C.resolvedMoves.get(ie.target.id))ie.routingPoints=ie.routingPoints.map(function(je){return c.Point.add(je,W)});else{var ve=M.isSelectable(ie)&&ie.selected;ce.cleanupRoutingPoints(ie,ie.routingPoints,ve,C.action.finished)}var Ae=ce.takeSnapshot(ie);C.edgeMementi.push({edge:ie,before:ge,after:Ae})}})},K.prototype.undoMove=function(){var Y=this;this.resolvedMoves.forEach(function(L){L.element.position=L.fromPosition}),this.edgeMementi.forEach(function(L){var C=Y.edgeRouterRegistry.get(L.edge.routerKind);C.applySnapshot(L.edge,L.before)})},K.prototype.undo=function(Y){return new u.CompoundAnimation(Y.root,Y,[new ee(Y.root,this.resolvedMoves,Y,!0),new ne(Y.root,this.edgeMementi,Y,!0)]).start()},K.prototype.redo=function(Y){return new u.CompoundAnimation(Y.root,Y,[new ee(Y.root,this.resolvedMoves,Y,!1),new ne(Y.root,this.edgeMementi,Y,!1)]).start()},K.prototype.merge=function(Y,L){var C=this;if(!this.action.animate&&Y instanceof B)return Y.resolvedMoves.forEach(function(ce,ge){var ve=C.resolvedMoves.get(ge);ve?ve.toPosition=ce.toPosition:C.resolvedMoves.set(ge,ce)}),Y.edgeMementi.forEach(function(ce){var ge=C.edgeMementi.find(function(ve){return ve.edge.id===ce.edge.id});ge?ge.after=ce.after:C.edgeMementi.push(ce)}),!0;if(Y instanceof A.ReconnectCommand){var W=Y.memento;if(W){var ie=this.edgeMementi.find(function(ce){return ce.edge.id===W.edge.id});ie?ie.after=W.after:this.edgeMementi.push(W)}return!0}return!1};var B;return K.KIND=V.KIND,r([a.inject(j.EdgeRouterRegistry),a.optional(),i("design:type",j.EdgeRouterRegistry)],K.prototype,"edgeRouterRegistry",void 0),K=B=r([a.injectable(),o(0,a.inject(y.TYPES.Action)),i("design:paramtypes",[Object])],K),K}(d.MergeableCommand);t.MoveCommand=q;var ee=function(Z){e(K,Z);function K(B,Y,L,C){C===void 0&&(C=!1);var W=Z.call(this,L)||this;return W.model=B,W.elementMoves=Y,W.reverse=C,W}return K.prototype.tween=function(B){var Y=this;return this.elementMoves.forEach(function(L){Y.reverse?L.element.position={x:(1-B)*L.toPosition.x+B*L.fromPosition.x,y:(1-B)*L.toPosition.y+B*L.fromPosition.y}:L.element.position={x:(1-B)*L.fromPosition.x+B*L.toPosition.x,y:(1-B)*L.fromPosition.y+B*L.toPosition.y}}),this.model},K}(u.Animation);t.MoveAnimation=ee;var ne=function(Z){e(K,Z);function K(B,Y,L,C){C===void 0&&(C=!1);var W=Z.call(this,L)||this;return W.model=B,W.reverse=C,W.expanded=[],Y.forEach(function(ie){var ce=W.reverse?ie.after:ie.before,ge=W.reverse?ie.before:ie.after,ve=ce.routedPoints,Ae=ge.routedPoints,je=Math.max(ve.length,Ae.length);W.expanded.push({startExpandedRoute:W.growToSize(ve,je),endExpandedRoute:W.growToSize(Ae,je),memento:ie})}),W}return K.prototype.midPoint=function(B){var Y=B.edge,L=B.edge.source,C=B.edge.target;return c.Point.linear(_.translatePoint(c.Bounds.center(L.bounds),L.parent,Y.parent),_.translatePoint(c.Bounds.center(C.bounds),C.parent,Y.parent),.5)},K.prototype.start=function(){return this.expanded.forEach(function(B){B.memento.edge.removeAll(function(Y){return Y instanceof I.SRoutingHandle})}),Z.prototype.start.call(this)},K.prototype.tween=function(B){var Y=this;return B===1?this.expanded.forEach(function(L){var C=L.memento;Y.reverse?C.before.router.applySnapshot(C.edge,C.before):C.after.router.applySnapshot(C.edge,C.after)}):this.expanded.forEach(function(L){for(var C=[],W=1;W<L.startExpandedRoute.length-1;++W)C.push(c.Point.linear(L.startExpandedRoute[W],L.endExpandedRoute[W],B));var ie=B<.5?L.memento.before:L.memento.after,ce=n(n({},ie),{routingPoints:C,routingHandles:[]});ie.router.applySnapshot(L.memento.edge,ce)}),this.model},K.prototype.growToSize=function(B,Y){var L=Y-B.length;if(L<=0)return B;var C=[];C.push(B[0]);for(var W=1/(L+1),ie=1/(B.length-1),ce=1,ge=1;ge<B.length;++ge){for(var ve=ie*ge,Ae=0;ve>(ce+Ae)*W;)++Ae;ce+=Ae;for(var je=0;je<Ae;++je){var Me=c.Point.linear(B[ge-1],B[ge],(je+1)/(Ae+1));C.push(Me)}C.push(B[ge])}return C},K}(u.Animation);t.MorphEdgesAnimation=ne;var se=function(Z){e(K,Z);function K(){var B=Z!==null&&Z.apply(this,arguments)||this;return B.hasDragged=!1,B.elementId2startPos=new Map,B}return K.prototype.mouseDown=function(B,Y){var L=[];if(Y.button===0){var C=_.findParentByFeature(B,D.isMoveable),W=B instanceof I.SRoutingHandle;C!==void 0||W||p.isCreatingOnDrag(B)?this.startDragPosition={x:Y.pageX,y:Y.pageY}:this.startDragPosition=void 0,this.hasDragged=!1,p.isCreatingOnDrag(B)?(L.push(s.SelectAllAction.create({select:!1})),L.push(B.createAction(I.edgeInProgressID)),L.push(s.SelectAction.create({selectedElementsIDs:[I.edgeInProgressID]})),L.push(O.SwitchEditModeAction.create({elementsToActivate:[I.edgeInProgressID]})),L.push(s.SelectAction.create({selectedElementsIDs:[I.edgeInProgressTargetHandleID]})),L.push(O.SwitchEditModeAction.create({elementsToActivate:[I.edgeInProgressTargetHandleID]}))):W&&L.push(O.SwitchEditModeAction.create({elementsToActivate:[B.id]}))}return L},K.prototype.mouseMove=function(B,Y){var L=[];if(Y.buttons===0)this.mouseUp(B,Y);else if(this.startDragPosition){this.elementId2startPos.size===0&&this.collectStartPositions(B.root),this.hasDragged=!0;var C=this.getElementMoves(B,Y,!1);C&&L.push(C)}return L},K.prototype.collectStartPositions=function(B){var Y=this,L=new Set(B.index.all().filter(function(C){return M.isSelectable(C)&&C.selected}));L.forEach(function(C){if(!Y.isChildOfSelected(L,C)){if(D.isMoveable(C))Y.elementId2startPos.set(C.id,C.position);else if(C instanceof I.SRoutingHandle){var W=Y.getHandlePosition(C);W&&Y.elementId2startPos.set(C.id,W)}}})},K.prototype.isChildOfSelected=function(B,Y){for(;Y instanceof f.SChildElement;)if(Y=Y.parent,D.isMoveable(Y)&&B.has(Y))return!0;return!1},K.prototype.getElementMoves=function(B,Y,L){var C=this;if(!!this.startDragPosition){var W=[],ie=_.findParentByFeature(B,x.isViewport),ce=ie?ie.zoom:1,ge={x:(Y.pageX-this.startDragPosition.x)/ce,y:(Y.pageY-this.startDragPosition.y)/ce};if(this.elementId2startPos.forEach(function(ve,Ae){var je=B.root.index.getById(Ae);if(je){var Me=C.snap({x:ve.x+ge.x,y:ve.y+ge.y},je,!Y.shiftKey);if(D.isMoveable(je))W.push({elementId:je.id,fromPosition:{x:je.position.x,y:je.position.y},toPosition:Me});else if(je instanceof I.SRoutingHandle){var T=C.getHandlePosition(je);T!==void 0&&W.push({elementId:je.id,fromPosition:T,toPosition:Me})}}}),W.length>0)return V.create(W,{animate:!1,finished:L})}},K.prototype.snap=function(B,Y,L){return L&&this.snapper?this.snapper.snap(B,Y):B},K.prototype.getHandlePosition=function(B){if(this.edgeRouterRegistry){var Y=B.parent;if(!(Y instanceof I.SRoutableElement))return;var L=this.edgeRouterRegistry.get(Y.routerKind),C=L.route(Y);return L.getHandlePosition(Y,C,B)}},K.prototype.mouseEnter=function(B,Y){return B instanceof f.SModelRoot&&Y.buttons===0&&!this.startDragPosition&&this.mouseUp(B,Y),[]},K.prototype.mouseUp=function(B,Y){var L=this,C=[],W=!1;if(this.startDragPosition){var ie=this.getElementMoves(B,Y,!0);ie&&C.push(ie),B.root.index.all().forEach(function(ve){if(ve instanceof I.SRoutingHandle){var Ae=ve.parent;if(Ae instanceof I.SRoutableElement&&ve.danglingAnchor){var je=L.getHandlePosition(ve);if(je){var Me=_.translatePoint(je,ve.parent,ve.root),T=b.findChildrenAtPosition(B.root,Me).find(function(H){return I.isConnectable(H)&&H.canConnect(Ae,ve.kind)});T&&L.hasDragged&&(C.push(A.ReconnectAction.create({routableId:ve.parent.id,newSourceId:ve.kind==="source"?T.id:Ae.sourceId,newTargetId:ve.kind==="target"?T.id:Ae.targetId})),W=!0)}}ve.editMode&&C.push(O.SwitchEditModeAction.create({elementsToDeactivate:[ve.id]}))}})}if(!W){var ce=B.root.index.getById(I.edgeInProgressID);if(ce instanceof f.SChildElement){var ge=[];ge.push(I.edgeInProgressID),ce.children.forEach(function(ve){ve instanceof I.SRoutingHandle&&ve.danglingAnchor&&ge.push(ve.danglingAnchor.id)}),C.push(R.DeleteElementAction.create(ge))}}return this.hasDragged&&C.push(h.CommitModelAction.create()),this.hasDragged=!1,this.startDragPosition=void 0,this.elementId2startPos.clear(),C},K.prototype.decorate=function(B,Y){return B},r([a.inject(j.EdgeRouterRegistry),a.optional(),i("design:type",j.EdgeRouterRegistry)],K.prototype,"edgeRouterRegistry",void 0),r([a.inject(y.TYPES.ISnapper),a.optional(),i("design:type",Object)],K.prototype,"snapper",void 0),K}(g.MouseListener);t.MoveMouseListener=se;var G=function(){function Z(){}return Z.prototype.decorate=function(K,B){if(U.isEdgeLayoutable(B)&&B.parent instanceof m.SEdge)return K;var Y="";if(D.isLocateable(B)&&B instanceof f.SChildElement&&B.parent!==void 0){var L=B.position;(L.x!==0||L.y!==0)&&(Y="translate("+L.x+", "+L.y+")")}if(b.isAlignable(B)){var C=B.alignment;(C.x!==0||C.y!==0)&&(Y.length>0&&(Y+=" "),Y+="translate("+C.x+", "+C.y+")")}return Y.length>0&&v.setAttr(K,"transform",Y),K},Z.prototype.postUpdate=function(){},Z=r([a.injectable()],Z),Z}();t.LocationPostprocessor=G})(os);var r_={},aD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(r_,"__esModule",{value:!0});var sD=fe,cD=lt,uD=function(){function t(){}return Object.defineProperty(t.prototype,"gridX",{get:function(){return 10},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridY",{get:function(){return 10},enumerable:!0,configurable:!0}),t.prototype.snap=function(e,n){return n&&cD.isBoundsAware(n)?{x:Math.round((e.x+.5*n.bounds.width)/this.gridX)*this.gridX-.5*n.bounds.width,y:Math.round((e.y+.5*n.bounds.height)/this.gridY)*this.gridY-.5*n.bounds.height}:{x:Math.round(e.x/this.gridX)*this.gridX,y:Math.round(e.y/this.gridY)*this.gridY}},t=aD([sD.injectable()],t),t}();r_.CenterGridSnapper=uD;var Ru={},i_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.openFeature=Symbol("openFeature");function e(n){return n.hasFeature(t.openFeature)}t.isOpenable=e})(i_);(function(t){var e=w&&w.__extends||function(){var c=function(s,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var _ in f)f.hasOwnProperty(_)&&(d[_]=f[_])},c(s,u)};return function(s,u){c(s,u);function d(){this.constructor=s}s.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=Lt,r=gt,i=i_,o;(function(c){c.KIND="open";function s(u){return{kind:c.KIND,elementId:u}}c.create=s})(o=t.OpenAction||(t.OpenAction={}));var a=function(c){e(s,c);function s(){return c!==null&&c.apply(this,arguments)||this}return s.prototype.doubleClick=function(u,d){var f=r.findParentByFeature(u,i.isOpenable);return f!==void 0?[o.create(f.id)]:[]},s}(n.MouseListener);t.OpenMouseListener=a})(Ru);var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});var dD=nt,lD=gn,fD=Ze,ql=lt;function Av(t){return lD.hasOwnProperty(t,"projectionCssClasses")}Kr.isProjectable=Av;function Ov(t){for(var e,n=0,r=t.children;n<r.length;n++){var i=r[n];if(Av(i)&&ql.isBoundsAware(i)&&i.projectionCssClasses.length>0){var o={elementId:i.id,projectedBounds:Iv(i),cssClasses:i.projectionCssClasses};e?e.push(o):e=[o]}if(i.children.length>0){var a=Ov(i);a&&(e?e.push.apply(e,a):e=a)}}return e}Kr.getProjections=Ov;function Iv(t){for(var e=t.bounds,n=t.parent;n instanceof fD.SChildElement;)e=n.localToParent(e),n=n.parent;return e}Kr.getProjectedBounds=Iv;var Ns=1e9;function _D(t){var e=Ns,n=Ns,r=-Ns,i=-Ns,o=ql.isBoundsAware(t)?t.bounds:void 0;if(o&&dD.Dimension.isValid(o))e=o.x,n=o.y,r=e+o.width,i=n+o.height;else for(var a=0,c=t.children;a<c.length;a++){var s=c[a];if(ql.isBoundsAware(s)){var u=s.bounds;e=Math.min(e,u.x),n=Math.min(n,u.y),r=Math.max(r,u.x+u.width),i=Math.max(i,u.y+u.height)}}if(e=Math.min(e,t.scroll.x),n=Math.min(n,t.scroll.y),r=Math.max(r,t.scroll.x+t.canvasBounds.width/t.zoom),i=Math.max(i,t.scroll.y+t.canvasBounds.height/t.zoom),e<r&&n<i)return{x:e,y:n,width:r-e,height:i-n}}Kr.getModelBounds=_D;var o_={},pD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(o_,"__esModule",{value:!0});var Fs=rn,hD=fe,cg=Ka,gD=pt,ug=Kr,yD=function(){function t(){}return t.prototype.render=function(e,n,r){return Fs.html("div",{"class-sprotty-root":!0},this.renderSvg(e,n,r),this.renderProjections(e,n,r))},t.prototype.renderSvg=function(e,n,r){var i="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")",o="http://www.w3.org/2000/svg";return cg.h("svg",{ns:o},cg.h("g",{ns:o,attrs:{transform:i}},n.renderChildren(e)))},t.prototype.renderProjections=function(e,n,r){var i;if(e.zoom<=0)return[];var o=ug.getModelBounds(e);if(!o)return[];var a=(i=ug.getProjections(e))!==null&&i!==void 0?i:[];return[this.renderProjectionBar(a,e,o,"vertical"),this.renderProjectionBar(a,e,o,"horizontal")]},t.prototype.renderProjectionBar=function(e,n,r,i){var o=this,a={modelBounds:r,orientation:i};return a.factor=i==="horizontal"?n.canvasBounds.width/r.width:n.canvasBounds.height/r.height,a.zoomedFactor=a.factor/n.zoom,Fs.html("div",{"class-sprotty-projection-bar":!0,"class-horizontal":i==="horizontal","class-vertical":i==="vertical"},this.renderViewport(n,a),e.map(function(c){return o.renderProjection(c,n,a)}))},t.prototype.renderViewport=function(e,n){var r,i;n.orientation==="horizontal"?(r=e.canvasBounds.width,i=(e.scroll.x-n.modelBounds.x)*n.factor):(r=e.canvasBounds.height,i=(e.scroll.y-n.modelBounds.y)*n.factor);var o=r*n.zoomedFactor;i<0?(o+=i,i=0):i>r&&(i=r),o<0?o=0:i+o>r&&(o=r-i);var a=n.orientation==="horizontal"?{left:i+"px",width:o+"px"}:{top:i+"px",height:o+"px"};return Fs.html("div",{"class-sprotty-viewport":!0,style:a})},t.prototype.renderProjection=function(e,n,r){var i,o,a;r.orientation==="horizontal"?(i=n.canvasBounds.width,o=(e.projectedBounds.x-r.modelBounds.x)*r.factor,a=e.projectedBounds.width*r.factor):(i=n.canvasBounds.height,o=(e.projectedBounds.y-r.modelBounds.y)*r.factor,a=e.projectedBounds.height*r.factor),o<0?(a+=o,o=0):o>i&&(o=i),a<0?a=0:o+a>i&&(a=i-o);var c=r.orientation==="horizontal"?{left:o+"px",width:a+"px"}:{top:o+"px",height:a+"px"},s=Fs.html("div",{id:r.orientation+"-projection:"+e.elementId,"class-sprotty-projection":!0,style:c});return e.cssClasses.forEach(function(u){return gD.setClass(s,u,!0)}),s},t=pD([hD.injectable()],t),t}();o_.ProjectedViewportView=yD;var Ao={},Oi={},a_=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Oi,"__esModule",{value:!0});var s_=yr,Yd=Ri,c_=fe,u_=wo,no=nt,mD=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return u_.PolylineEdgeRouter.KIND+":"+s_.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,n,r){r===void 0&&(r=0);var i=e.bounds,o=no.Bounds.center(i),a=o.x-n.x,c=o.y-n.y,s=Math.sqrt(a*a+c*c),u=a/s||0,d=c/s||0;return{x:o.x-u*(.5*i.width+r),y:o.y-d*(.5*i.height+r)}},t=a_([c_.injectable()],t),t}();Oi.EllipseAnchor=mD;var vD=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return u_.PolylineEdgeRouter.KIND+":"+s_.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,n,r){r===void 0&&(r=0);var i=e.bounds,o=no.Bounds.center(i),a=new bD(o,n);if(!no.almostEquals(o.y,n.y)){var c=this.getXIntersection(i.y,o,n);c>=i.x&&c<=i.x+i.width&&a.addCandidate(c,i.y-r);var s=this.getXIntersection(i.y+i.height,o,n);s>=i.x&&s<=i.x+i.width&&a.addCandidate(s,i.y+i.height+r)}if(!no.almostEquals(o.x,n.x)){var u=this.getYIntersection(i.x,o,n);u>=i.y&&u<=i.y+i.height&&a.addCandidate(i.x-r,u);var d=this.getYIntersection(i.x+i.width,o,n);d>=i.y&&d<=i.y+i.height&&a.addCandidate(i.x+i.width+r,d)}return a.best},t.prototype.getXIntersection=function(e,n,r){var i=(e-n.y)/(r.y-n.y);return(r.x-n.x)*i+n.x},t.prototype.getYIntersection=function(e,n,r){var i=(e-n.x)/(r.x-n.x);return(r.y-n.y)*i+n.y},t=a_([c_.injectable()],t),t}();Oi.RectangleAnchor=vD;var bD=function(){function t(e,n){this.centerPoint=e,this.refPoint=n,this.currentDist=-1}return t.prototype.addCandidate=function(e,n){var r=this.refPoint.x-e,i=this.refPoint.y-n,o=r*r+i*i;(this.currentDist<0||o<this.currentDist)&&(this.currentBest={x:e,y:n},this.currentDist=o)},Object.defineProperty(t.prototype,"best",{get:function(){return this.currentBest===void 0?this.centerPoint:this.currentBest},enumerable:!0,configurable:!0}),t}(),PD=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return u_.PolylineEdgeRouter.KIND+":"+s_.DIAMOND_ANCHOR_KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,n,r){var i=e.bounds,o=new Yd.PointToPointLine(no.Bounds.center(i),n),a=new Yd.Diamond(i).closestSideLine(n),c=Yd.intersection(a,o);return no.Point.shiftTowards(c,n,r)},t=a_([c_.injectable()],t),t}();Oi.DiamondAnchor=PD;var Su={};(function(t){var e=w&&w.__extends||function(){var h=function(b,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var A in O)O.hasOwnProperty(A)&&(R[A]=O[A])},h(b,p)};return function(b,p){h(b,p);function R(){this.constructor=b}b.prototype=p===null?Object.create(p):(R.prototype=p.prototype,new R)}}(),n=w&&w.__decorate||function(h,b,p,R){var O=arguments.length,A=O<3?b:R===null?R=Object.getOwnPropertyDescriptor(b,p):R,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,b,p,R);else for(var j=h.length-1;j>=0;j--)(I=h[j])&&(A=(O<3?I(A):O>3?I(b,p,A):I(b,p))||A);return O>3&&A&&Object.defineProperty(b,p,A),A},r=w&&w.__metadata||function(h,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,b)},i=w&&w.__param||function(h,b){return function(p,R){b(p,R,h)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=nt,c=bt,s=mn,u=Qa,d=Lt,f=at,_=Se,y=function(h){e(b,h);function b(){return h!==null&&h.apply(this,arguments)||this}p=b,Object.defineProperty(b.prototype,"kind",{get:function(){return p.KIND},enumerable:!0,configurable:!0}),b.prototype.route=function(R){if(!R.source||!R.target)return[];var O=R.routingPoints.length,A=R.source,I=R.target,j=[];if(j.push({kind:"source",x:0,y:0}),O===0){var U=this.createDefaultBezierHandles(A.position,I.position),M=U[0],x=U[1];j.push({kind:"bezier-control-after",x:M.x,y:M.y,pointIndex:0}),j.push({kind:"bezier-control-before",x:x.x,y:x.y,pointIndex:1}),R.routingPoints.push(M),R.routingPoints.push(x)}else if(O>=2)for(var D=0;D<O;D++){var V=R.routingPoints[D];D%3===0&&j.push({kind:"bezier-control-after",x:V.x,y:V.y,pointIndex:D}),(D+1)%3===0?j.push({kind:"bezier-junction",x:V.x,y:V.y,pointIndex:D}):(D+2)%3===0&&j.push({kind:"bezier-control-before",x:V.x,y:V.y,pointIndex:D})}j.push({kind:"target",x:0,y:0});var q=O>2?R.routingPoints[2]:I.position,ee=O>2?R.routingPoints[R.routingPoints.length-3]:A.position,ne=this.getTranslatedAnchor(A,q,I.parent,R,R.sourceAnchorCorrection),se=this.getTranslatedAnchor(I,ee,A.parent,R,R.targetAnchorCorrection);return j[0]={kind:"source",x:ne.x,y:ne.y},j[j.length-1]={kind:"target",x:se.x,y:se.y},j},b.prototype.createDefaultBezierHandles=function(R,O){var A={x:R.x-p.DEFAULT_BEZIER_HANDLE_OFFSET,y:R.y},I={x:O.x+p.DEFAULT_BEZIER_HANDLE_OFFSET,y:O.y};return[A,I]},b.prototype.createRoutingHandles=function(R){this.route(R),this.rebuildHandles(R)},b.prototype.rebuildHandles=function(R){this.addHandle(R,"source","routing-point",-2),this.addHandle(R,"bezier-control-after","bezier-routing-point",0),this.addHandle(R,"bezier-add","bezier-create-routing-point",0);var O=R.routingPoints.length;if(O>2)for(var A=1;A<O-1;A+=3)this.addHandle(R,"bezier-control-before","bezier-routing-point",A),this.addHandle(R,"bezier-add","bezier-create-routing-point",A+1),this.addHandle(R,"bezier-junction","routing-point",A+1),this.addHandle(R,"bezier-remove","bezier-remove-routing-point",A+1),this.addHandle(R,"bezier-control-after","bezier-routing-point",A+2),this.moveBezierControlPair(R.routingPoints[A],A,R);this.addHandle(R,"bezier-control-before","bezier-routing-point",O-1),this.addHandle(R,"target","routing-point",-1)},b.prototype.getInnerHandlePosition=function(R,O,A){if(A.kind==="bezier-control-before"||A.kind==="bezier-junction"||A.kind==="bezier-control-after")for(var I=0;I<O.length;I++){var j=O[I];if(j.pointIndex===A.pointIndex&&j.kind===A.kind)return j}else if(A.kind==="bezier-add"){var U=this.findBezierControl(R,O,A.pointIndex);return{x:U.x,y:U.y+12.5}}else if(A.kind==="bezier-remove"){var U=this.findBezierControl(R,O,A.pointIndex);return{x:U.x,y:U.y-12.5}}},b.prototype.findBezierControl=function(R,O,A){var I={x:O[0].x,y:O[0].y};if(A>0)for(var j=0,U=O;j<U.length;j++){var M=U[j];if(M.pointIndex!==void 0&&M.pointIndex===A&&M.kind==="bezier-junction"){I={x:M.x,y:M.y};break}}return I},b.prototype.applyHandleMoves=function(R,O){var A=this;O.forEach(function(I){var j=I.handle,U={x:0,y:0},M,x,D,V=I.toPosition;switch(j.kind){case"bezier-control-before":case"bezier-control-after":A.moveBezierControlPair(V,I.handle.pointIndex,R);break;case"bezier-junction":var q=j.pointIndex;q>=0&&q<R.routingPoints.length&&(D=q-1,U=R.routingPoints[q],M=R.routingPoints[D],x=A.calcRelativeMove(U,V,M),R.routingPoints[q]=V,A.moveBezierControlPair(x,D,R));break;case"source":if(D=0,M=R.routingPoints[D],R.source instanceof c.SDanglingAnchor)j.danglingAnchor&&(U=j.danglingAnchor.position,j.danglingAnchor.position=V);else{var ee=new c.SDanglingAnchor;ee.id=R.id+"_dangling-source",ee.original=R.source,ee.position=I.toPosition,j.root.add(ee),j.danglingAnchor=ee,R.sourceId=ee.id,R.source&&(U=R.source.position)}x=A.calcRelativeMove(U,V,M),A.moveBezierControlPair(x,D,R);break;case"target":if(D=R.routingPoints.length-1,M=R.routingPoints[D],R.target instanceof c.SDanglingAnchor)j.danglingAnchor&&(U=j.danglingAnchor.position,j.danglingAnchor.position=V);else{var ee=new c.SDanglingAnchor;ee.id=R.id+"_dangling-target",ee.original=R.target,ee.position=V,j.root.add(ee),j.danglingAnchor=ee,R.targetId=ee.id,R.target&&(U=R.target.position)}x=A.calcRelativeMove(U,V,M),A.moveBezierControlPair(x,D,R);break}})},b.prototype.applyInnerHandleMoves=function(R,O){},b.prototype.getOptions=function(R){return{minimalPointDistance:2,standardDistance:.1,selfEdgeOffset:20}},b.prototype.calcRelativeMove=function(R,O,A){return{x:A.x-(R.x-O.x),y:A.y-(R.y-O.y)}},b.prototype.createNewBezierSegment=function(R,O){var A=O.routingPoints,I,j,U;A.length===2?(j=A[R<0?0:R],U=A[A.length-1],I=a.centerOfLine(j,U)):(j=A[R],U=A[R+2],I=a.centerOfLine(j,U));var M=this.createDefaultBezierHandles(I,I),x=M[0],D=M[1];A.splice(R+1,0,x),A.splice(R+2,0,I),A.splice(R+3,0,D),this.moveBezierControlPair(x,R+1,O),O.removeAll(function(V){return V instanceof c.SRoutingHandle}),this.rebuildHandles(O)},b.prototype.removeBezierSegment=function(R,O){var A=O.routingPoints;A.splice(R-1,3),O.removeAll(function(I){return I instanceof c.SRoutingHandle}),this.rebuildHandles(O)},b.prototype.moveBezierControlPair=function(R,O,A){if(O>=0&&O<A.routingPoints.length){var I=O-1,j=O+1;I<0||j===A.routingPoints.length?A.routingPoints[O]=R:O%3===0?this.setBezierMirror(A,R,O,!1):(O+2)%3===0&&this.setBezierMirror(A,R,O,!0)}},b.prototype.setBezierMirror=function(R,O,A,I){R.routingPoints[A]=O;var j=R.routingPoints[I?A+1:A-1];R.routingPoints[I?A+2:A-2]={x:j.x-(O.x-j.x),y:j.y-(O.y-j.y)}};var p;return b.KIND="bezier",b.DEFAULT_BEZIER_HANDLE_OFFSET=25,b=p=n([o.injectable()],b),b}(u.AbstractEdgeRouter);t.BezierEdgeRouter=y;var g=function(h){e(b,h);function b(){return h!==null&&h.apply(this,arguments)||this}return b.prototype.mouseDown=function(p,R){var O=[];return p instanceof c.SRoutingHandle&&(p.kind==="bezier-add"||p.kind==="bezier-remove")&&(p.type==="bezier-create-routing-point"?O.push(v.create("add",p.id)):p.type==="bezier-remove-routing-point"&&O.push(v.create("remove",p.id))),O},b}(d.MouseListener);t.BezierMouseListener=g;var v;(function(h){h.KIND="addRemoveBezierSegment";function b(p,R){return{kind:h.KIND,actionTask:p,targetId:R}}h.create=b})(v=t.AddRemoveBezierSegmentAction||(t.AddRemoveBezierSegmentAction={}));var m=function(h){e(b,h);function b(p,R){var O=h.call(this)||this;return O.action=p,O.edgeRouterRegistry=R,O}return b.prototype.execute=function(p){var R=p.root.index,O=R.getById(this.action.targetId);if(this.edgeRouterRegistry&&O instanceof c.SRoutingHandle){var A=this.edgeRouterRegistry.get(O.parent.routerKind);if(A instanceof y)for(var I=A,j=0,U=p.root.children;j<U.length;j++){var M=U[j];if(M.id===O.parent.id){this.action.actionTask==="add"?I.createNewBezierSegment(O.pointIndex,M):this.action.actionTask==="remove"&&I.removeBezierSegment(O.pointIndex,M);break}}}return p.root},b.prototype.undo=function(p){throw new Error("Method not implemented.")},b.prototype.redo=function(p){throw new Error("Method not implemented.")},b.KIND=v.KIND,b=n([o.injectable(),i(0,o.inject(_.TYPES.Action)),i(1,o.inject(s.EdgeRouterRegistry)),r("design:paramtypes",[Object,s.EdgeRouterRegistry])],b),b}(f.Command);t.AddRemoveBezierSegmentCommand=m})(Su);var d_=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),l_=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Ao,"__esModule",{value:!0});var f_=yr,__=fe,p_=Oi,h_=Su,wD=function(t){d_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return h_.BezierEdgeRouter.KIND+":"+f_.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),e=l_([__.injectable()],e),e}(p_.EllipseAnchor);Ao.BezierEllipseAnchor=wD;var RD=function(t){d_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return h_.BezierEdgeRouter.KIND+":"+f_.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),e=l_([__.injectable()],e),e}(p_.RectangleAnchor);Ao.BezierRectangleAnchor=RD;var SD=function(t){d_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return h_.BezierEdgeRouter.KIND+":"+f_.DIAMOND_ANCHOR_KIND},enumerable:!0,configurable:!0}),e=l_([__.injectable()],e),e}(p_.DiamondAnchor);Ao.BezierDiamondAnchor=SD;var Oo={},as={},ED=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wi=w&&w.__assign||function(){return Wi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wi.apply(this,arguments)};Object.defineProperty(as,"__esModule",{value:!0});var mt=nt,dg=gt,he=Qa,$d=bt,AD=function(t){ED(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),e.prototype.getOptions=function(n){return{standardDistance:20,minimalPointDistance:3,selfEdgeOffset:.25}},e.prototype.route=function(n){if(!n.source||!n.target)return[];var r=this.createRoutedCorners(n),i=r[0]||dg.translatePoint(mt.Bounds.center(n.target.bounds),n.target.parent,n.parent),o=this.getTranslatedAnchor(n.source,i,n.parent,n,n.sourceAnchorCorrection),a=r[r.length-1]||dg.translatePoint(mt.Bounds.center(n.source.bounds),n.source.parent,n.parent),c=this.getTranslatedAnchor(n.target,a,n.parent,n,n.targetAnchorCorrection);if(!o||!c)return[];var s=[];return s.push(Wi({kind:"source"},o)),r.forEach(function(u){return s.push(u)}),s.push(Wi({kind:"target"},c)),s},e.prototype.createRoutedCorners=function(n){var r=new he.DefaultAnchors(n.source,n.parent,"source"),i=new he.DefaultAnchors(n.target,n.parent,"target");if(n.routingPoints.length>0){var o=n.routingPoints.slice();if(this.cleanupRoutingPoints(n,o,!1,!0),o.length>0)return o.map(function(s,u){return Wi({kind:"linear",pointIndex:u},s)})}var a=this.getOptions(n),c=this.calculateDefaultCorners(n,r,i,a);return c.map(function(s){return Wi({kind:"linear"},s)})},e.prototype.createRoutingHandles=function(n){var r=this.route(n);if(this.commitRoute(n,r),r.length>0){this.addHandle(n,"source","routing-point",-2);for(var i=0;i<r.length-1;++i)this.addHandle(n,"manhattan-50%","volatile-routing-point",i-1);this.addHandle(n,"target","routing-point",r.length-2)}},e.prototype.getInnerHandlePosition=function(n,r,i){var o=this.getFraction(i.kind);if(o!==void 0){var a=this.findRouteSegment(n,r,i.pointIndex),c=a.start,s=a.end;if(c!==void 0&&s!==void 0)return mt.Point.linear(c,s,o)}},e.prototype.getFraction=function(n){switch(n){case"manhattan-50%":return .5;default:return}},e.prototype.applyInnerHandleMoves=function(n,r){var i=this,o=this.route(n),a=n.routingPoints,c=this.getOptions(n).minimalPointDistance;r.forEach(function(s){var u=s.handle,d=u.pointIndex,f=i.correctX(a,d,s.toPosition.x,c),_=i.correctY(a,d,s.toPosition.y,c);switch(u.kind){case"manhattan-50%":d<0?mt.almostEquals(o[0].x,o[1].x)?i.alignX(a,0,f):i.alignY(a,0,_):d<a.length-1?mt.almostEquals(a[d].x,a[d+1].x)?(i.alignX(a,d,f),i.alignX(a,d+1,f)):(i.alignY(a,d,_),i.alignY(a,d+1,_)):mt.almostEquals(o[o.length-2].x,o[o.length-1].x)?i.alignX(a,a.length-1,f):i.alignY(a,a.length-1,_);break}})},e.prototype.correctX=function(n,r,i,o){return r>0&&Math.abs(i-n[r-1].x)<o?n[r-1].x:r<n.length-2&&Math.abs(i-n[r+2].x)<o?n[r+2].x:i},e.prototype.alignX=function(n,r,i){r>=0&&r<n.length&&(n[r]={x:i,y:n[r].y})},e.prototype.correctY=function(n,r,i,o){return r>0&&Math.abs(i-n[r-1].y)<o?n[r-1].y:r<n.length-2&&Math.abs(i-n[r+2].y)<o?n[r+2].y:i},e.prototype.alignY=function(n,r,i){r>=0&&r<n.length&&(n[r]={x:n[r].x,y:i})},e.prototype.cleanupRoutingPoints=function(n,r,i,o){var a=new he.DefaultAnchors(n.source,n.parent,"source"),c=new he.DefaultAnchors(n.target,n.parent,"target");if(!this.resetRoutingPointsOnReconnect(n,r,i,a,c)){for(var s=0;s<r.length&&mt.Bounds.includes(a.bounds,r[s]);++s)r.splice(0,1),i&&this.removeHandle(n,-1);for(var s=r.length-1;s>=0&&mt.Bounds.includes(c.bounds,r[s]);--s)r.splice(s,1),i&&this.removeHandle(n,s);if(r.length>=2)for(var u=this.getOptions(n),s=r.length-2;s>=0;--s)mt.Point.manhattanDistance(r[s],r[s+1])<u.minimalPointDistance&&(r.splice(s,2),--s,i&&(this.removeHandle(n,s-1),this.removeHandle(n,s)));o&&(this.addAdditionalCorner(n,r,a,c,i),this.addAdditionalCorner(n,r,c,a,i),this.manhattanify(n,r))}},e.prototype.removeHandle=function(n,r){var i=[];n.children.forEach(function(o){o instanceof $d.SRoutingHandle&&(o.pointIndex>r?--o.pointIndex:o.pointIndex===r&&i.push(o))}),i.forEach(function(o){return n.remove(o)})},e.prototype.addAdditionalCorner=function(n,r,i,o,a){if(r.length!==0){var c=i.kind==="source"?r[0]:r[r.length-1],s=i.kind==="source"?0:r.length,u=s-(i.kind==="source"?1:0),d;if(r.length>1)d=s===0?mt.almostEquals(r[0].x,r[1].x):mt.almostEquals(r[r.length-1].x,r[r.length-2].x);else{var f=o.getNearestSide(c);d=f===he.Side.TOP||f===he.Side.BOTTOM}if(d){if(c.y<i.get(he.Side.TOP).y||c.y>i.get(he.Side.BOTTOM).y){var _={x:i.get(he.Side.TOP).x,y:c.y};r.splice(s,0,_),a&&(n.children.forEach(function(y){y instanceof $d.SRoutingHandle&&y.pointIndex>=u&&++y.pointIndex}),this.addHandle(n,"manhattan-50%","volatile-routing-point",u))}}else if(c.x<i.get(he.Side.LEFT).x||c.x>i.get(he.Side.RIGHT).x){var _={x:c.x,y:i.get(he.Side.LEFT).y};r.splice(s,0,_),a&&(n.children.forEach(function(g){g instanceof $d.SRoutingHandle&&g.pointIndex>=u&&++g.pointIndex}),this.addHandle(n,"manhattan-50%","volatile-routing-point",u))}}},e.prototype.manhattanify=function(n,r){for(var i=1;i<r.length;++i){var o=Math.abs(r[i-1].x-r[i].x)<1,a=Math.abs(r[i-1].y-r[i].y)<1;!o&&!a&&(r.splice(i,0,{x:r[i-1].x,y:r[i].y}),++i)}},e.prototype.calculateDefaultCorners=function(n,r,i,o){var a=t.prototype.calculateDefaultCorners.call(this,n,r,i,o);if(a.length>0)return a;var c=this.getBestConnectionAnchors(n,r,i,o),s=c.source,u=c.target,d=[],f=r.get(s),_=i.get(u);switch(s){case he.Side.RIGHT:switch(u){case he.Side.BOTTOM:d.push({x:_.x,y:f.y});break;case he.Side.TOP:d.push({x:_.x,y:f.y});break;case he.Side.RIGHT:d.push({x:Math.max(f.x,_.x)+1.5*o.standardDistance,y:f.y}),d.push({x:Math.max(f.x,_.x)+1.5*o.standardDistance,y:_.y});break;case he.Side.LEFT:_.y!==f.y&&(d.push({x:(f.x+_.x)/2,y:f.y}),d.push({x:(f.x+_.x)/2,y:_.y}));break}break;case he.Side.LEFT:switch(u){case he.Side.BOTTOM:d.push({x:_.x,y:f.y});break;case he.Side.TOP:d.push({x:_.x,y:f.y});break;default:_=i.get(he.Side.RIGHT),_.y!==f.y&&(d.push({x:(f.x+_.x)/2,y:f.y}),d.push({x:(f.x+_.x)/2,y:_.y}));break}break;case he.Side.TOP:switch(u){case he.Side.RIGHT:_.x-f.x>0?(d.push({x:f.x,y:f.y-o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:f.y-o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;case he.Side.LEFT:_.x-f.x<0?(d.push({x:f.x,y:f.y-o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:f.y-o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;case he.Side.TOP:d.push({x:f.x,y:Math.min(f.y,_.y)-1.5*o.standardDistance}),d.push({x:_.x,y:Math.min(f.y,_.y)-1.5*o.standardDistance});break;case he.Side.BOTTOM:_.x!==f.x&&(d.push({x:f.x,y:(f.y+_.y)/2}),d.push({x:_.x,y:(f.y+_.y)/2}));break}break;case he.Side.BOTTOM:switch(u){case he.Side.RIGHT:_.x-f.x>0?(d.push({x:f.x,y:f.y+o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:f.y+o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;case he.Side.LEFT:_.x-f.x<0?(d.push({x:f.x,y:f.y+o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:f.y+o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;default:_=i.get(he.Side.TOP),_.x!==f.x&&(d.push({x:f.x,y:(f.y+_.y)/2}),d.push({x:_.x,y:(f.y+_.y)/2}));break}break}return d},e.prototype.getBestConnectionAnchors=function(n,r,i,o){var a=r.get(he.Side.RIGHT),c=i.get(he.Side.LEFT);if(c.x-a.x>o.standardDistance)return{source:he.Side.RIGHT,target:he.Side.LEFT};if(a=r.get(he.Side.LEFT),c=i.get(he.Side.RIGHT),a.x-c.x>o.standardDistance)return{source:he.Side.LEFT,target:he.Side.RIGHT};if(a=r.get(he.Side.TOP),c=i.get(he.Side.BOTTOM),a.y-c.y>o.standardDistance)return{source:he.Side.TOP,target:he.Side.BOTTOM};if(a=r.get(he.Side.BOTTOM),c=i.get(he.Side.TOP),c.y-a.y>o.standardDistance)return{source:he.Side.BOTTOM,target:he.Side.TOP};if(a=r.get(he.Side.RIGHT),c=i.get(he.Side.TOP),c.x-a.x>.5*o.standardDistance&&c.y-a.y>o.standardDistance)return{source:he.Side.RIGHT,target:he.Side.TOP};if(c=i.get(he.Side.BOTTOM),c.x-a.x>.5*o.standardDistance&&a.y-c.y>o.standardDistance)return{source:he.Side.RIGHT,target:he.Side.BOTTOM};if(a=r.get(he.Side.LEFT),c=i.get(he.Side.BOTTOM),a.x-c.x>.5*o.standardDistance&&a.y-c.y>o.standardDistance)return{source:he.Side.LEFT,target:he.Side.BOTTOM};if(c=i.get(he.Side.TOP),a.x-c.x>.5*o.standardDistance&&c.y-a.y>o.standardDistance)return{source:he.Side.LEFT,target:he.Side.TOP};if(a=r.get(he.Side.TOP),c=i.get(he.Side.RIGHT),a.y-c.y>.5*o.standardDistance&&a.x-c.x>o.standardDistance)return{source:he.Side.TOP,target:he.Side.RIGHT};if(c=i.get(he.Side.LEFT),a.y-c.y>.5*o.standardDistance&&c.x-a.x>o.standardDistance)return{source:he.Side.TOP,target:he.Side.LEFT};if(a=r.get(he.Side.BOTTOM),c=i.get(he.Side.RIGHT),c.y-a.y>.5*o.standardDistance&&a.x-c.x>o.standardDistance)return{source:he.Side.BOTTOM,target:he.Side.RIGHT};if(c=i.get(he.Side.LEFT),c.y-a.y>.5*o.standardDistance&&c.x-a.x>o.standardDistance)return{source:he.Side.BOTTOM,target:he.Side.LEFT};if(a=r.get(he.Side.TOP),c=i.get(he.Side.TOP),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)){if(a.y-c.y<0){if(Math.abs(a.x-c.x)>(r.bounds.width+o.standardDistance)/2)return{source:he.Side.TOP,target:he.Side.TOP}}else if(Math.abs(a.x-c.x)>i.bounds.width/2)return{source:he.Side.TOP,target:he.Side.TOP}}if(a=r.get(he.Side.RIGHT),c=i.get(he.Side.RIGHT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)){if(a.x-c.x>0){if(Math.abs(a.y-c.y)>(r.bounds.height+o.standardDistance)/2)return{source:he.Side.RIGHT,target:he.Side.RIGHT}}else if(Math.abs(a.y-c.y)>i.bounds.height/2)return{source:he.Side.RIGHT,target:he.Side.RIGHT}}return a=r.get(he.Side.TOP),c=i.get(he.Side.RIGHT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.TOP,target:he.Side.RIGHT}:(c=i.get(he.Side.LEFT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.TOP,target:he.Side.LEFT}:(a=r.get(he.Side.BOTTOM),c=i.get(he.Side.RIGHT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.BOTTOM,target:he.Side.RIGHT}:(c=i.get(he.Side.LEFT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.BOTTOM,target:he.Side.LEFT}:{source:he.Side.RIGHT,target:he.Side.BOTTOM})))},e.KIND="manhattan",e}(he.AbstractEdgeRouter);as.ManhattanEdgeRouter=AD;var g_=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Oo,"__esModule",{value:!0});var Uc=nt,fn=Ri,y_=yr,m_=as,v_=fe,OD=function(){function t(){}e=t,Object.defineProperty(t.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(n,r,i){var o=n.bounds;if(o.width<=0||o.height<=0)return o;var a={x:o.x-i,y:o.y-i,width:o.width+2*i,height:o.height+2*i};return r.x>=a.x&&a.x+a.width>=r.x?r.y<a.y+.5*a.height?{x:r.x,y:a.y}:{x:r.x,y:a.y+a.height}:r.y>=a.y&&a.y+a.height>=r.y?r.x<a.x+.5*a.width?{x:a.x,y:r.y}:{x:a.x+a.width,y:r.y}:Uc.Bounds.center(a)};var e;return t.KIND=m_.ManhattanEdgeRouter.KIND+":"+y_.RECTANGULAR_ANCHOR_KIND,t=e=g_([v_.injectable()],t),t}();Oo.ManhattanRectangularAnchor=OD;var ID=function(){function t(){}e=t,Object.defineProperty(t.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(n,r,i){i===void 0&&(i=0);var o=n.bounds;if(o.width<=0||o.height<=0)return o;var a={x:o.x-i,y:o.y-i,width:o.width+2*i,height:o.height+2*i},c=Uc.Bounds.center(a),s=void 0,u=void 0;return r.x>=a.x&&r.x<=a.x+a.width?a.x+.5*a.width>=r.x?(u=new fn.PointToPointLine(r,{x:r.x,y:c.y}),r.y<c.y?s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y}):s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y+a.height})):(u=new fn.PointToPointLine(r,{x:r.x,y:c.y}),r.y<c.y?s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y}):s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y+a.height})):r.y>=a.y&&r.y<=a.y+a.height&&(a.y+.5*a.height>=r.y?(u=new fn.PointToPointLine(r,{x:c.x,y:r.y}),r.x<c.x?s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y}):s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y})):(u=new fn.PointToPointLine(r,{x:c.x,y:r.y}),r.x<c.x?s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y+a.height}):s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y+a.height}))),!!u&&!!s?fn.intersection(s,u):c};var e;return t.KIND=m_.ManhattanEdgeRouter.KIND+":"+y_.DIAMOND_ANCHOR_KIND,t=e=g_([v_.injectable()],t),t}();Oo.ManhattanDiamondAnchor=ID;var jD=function(){function t(){}e=t,Object.defineProperty(t.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(n,r,i){i===void 0&&(i=0);var o=n.bounds;if(o.width<=0||o.height<=0)return o;var a={x:o.x-i,y:o.y-i,width:o.width+2*i,height:o.height+2*i},c=Uc.Bounds.center(a),s=Uc.Point.subtract(r,c),u=c.x,d=c.y;if(r.x>=a.x&&a.x+a.width>=r.x){u+=s.x;var f=.5*a.height*Math.sqrt(1-s.x*s.x/(.25*a.width*a.width));s.y<0?d-=f:d+=f}else if(r.y>=a.y&&a.y+a.height>=r.y){d+=s.y;var _=.5*a.width*Math.sqrt(1-s.y*s.y/(.25*a.height*a.height));s.x<0?u-=_:u+=_}return{x:u,y:d}};var e;return t.KIND=m_.ManhattanEdgeRouter.KIND+":"+y_.ELLIPTIC_ANCHOR_KIND,t=e=g_([v_.injectable()],t),t}();Oo.ManhattanEllipticAnchor=jD;var Eu={},MD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Eu,"__esModule",{value:!0});var CD=fe,xD=bt,DD=function(){function t(){}return t.prototype.isVisible=function(e,n,r){if(r.targetKind==="hidden"||n.length===0)return!0;var i=xD.getAbsoluteRouteBounds(e,n),o=e.root.canvasBounds;return i.x<=o.width&&i.x+i.width>=0&&i.y<=o.height&&i.y+i.height>=0},t=MD([CD.injectable()],t),t}();Eu.RoutableView=DD;var Au={},Ou={},TD=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lg=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},LD=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ou,"__esModule",{value:!0});var fg=fe,UD=Se,ND=at,FD=function(t){TD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execute=function(n){var r=this.retrieveResult(n);return this.actionDispatcher.dispatch(r),{model:n.root,modelChanged:!1}},e.prototype.undo=function(n){return{model:n.root,modelChanged:!1}},e.prototype.redo=function(n){return{model:n.root,modelChanged:!1}},lg([fg.inject(UD.TYPES.IActionDispatcher),LD("design:type",Object)],e.prototype,"actionDispatcher",void 0),e=lg([fg.injectable()],e),e}(ND.SystemCommand);Ou.ModelRequestCommand=FD;var Iu={};(function(t){var e=w&&w.__extends||function(){var _=function(y,g){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var h in m)m.hasOwnProperty(h)&&(v[h]=m[h])},_(y,g)};return function(y,g){_(y,g);function v(){this.constructor=y}y.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),n=w&&w.__decorate||function(_,y,g,v){var m=arguments.length,h=m<3?y:v===null?v=Object.getOwnPropertyDescriptor(y,g):v,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(_,y,g,v);else for(var p=_.length-1;p>=0;p--)(b=_[p])&&(h=(m<3?b(h):m>3?b(y,g,h):b(y,g))||h);return m>3&&h&&Object.defineProperty(y,g,h),h},r=w&&w.__metadata||function(_,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,y)},i=w&&w.__param||function(_,y){return function(g,v){y(g,v,_)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=Se,c=Ze,s=at,u=bt,d;(function(_){_.KIND="bringToFront";function y(g){return{kind:_.KIND,elementIDs:g}}_.create=y})(d=t.BringToFrontAction||(t.BringToFrontAction={}));var f=function(_){e(y,_);function y(g){var v=_.call(this)||this;return v.action=g,v.selected=[],v}return y.prototype.execute=function(g){var v=this,m=g.root;return this.action.elementIDs.forEach(function(h){var b=m.index.getById(h);b instanceof u.SRoutableElement&&(b.source&&v.addToSelection(b.source),b.target&&v.addToSelection(b.target)),b instanceof c.SChildElement&&v.addToSelection(b),v.includeConnectedEdges(b)}),this.redo(g)},y.prototype.includeConnectedEdges=function(g){var v=this;if(g instanceof u.SConnectableElement&&(g.incomingEdges.forEach(function(p){return v.addToSelection(p)}),g.outgoingEdges.forEach(function(p){return v.addToSelection(p)})),g instanceof c.SParentElement)for(var m=0,h=g.children;m<h.length;m++){var b=h[m];this.includeConnectedEdges(b)}},y.prototype.addToSelection=function(g){this.selected.push({element:g,index:g.parent.children.indexOf(g)})},y.prototype.undo=function(g){for(var v=this.selected.length-1;v>=0;v--){var m=this.selected[v],h=m.element;h.parent.move(h,m.index)}return g.root},y.prototype.redo=function(g){for(var v=0;v<this.selected.length;v++)this.bringToFront(this.selected[v]);return g.root},y.prototype.bringToFront=function(g){var v=g.element,m=v.parent.children.length;v.parent.move(v,m-1)},y.KIND=d.KIND,y=n([o.injectable(),i(0,o.inject(a.TYPES.Action)),r("design:paramtypes",[Object])],y),y}(s.Command);t.BringToFrontCommand=f})(Iu);(function(t){var e=w&&w.__extends||function(){var G=function(Z,K){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,Y){B.__proto__=Y}||function(B,Y){for(var L in Y)Y.hasOwnProperty(L)&&(B[L]=Y[L])},G(Z,K)};return function(Z,K){G(Z,K);function B(){this.constructor=Z}Z.prototype=K===null?Object.create(K):(B.prototype=K.prototype,new B)}}(),n=w&&w.__decorate||function(G,Z,K,B){var Y=arguments.length,L=Y<3?Z:B===null?B=Object.getOwnPropertyDescriptor(Z,K):B,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(G,Z,K,B);else for(var W=G.length-1;W>=0;W--)(C=G[W])&&(L=(Y<3?C(L):Y>3?C(Z,K,L):C(Z,K))||L);return Y>3&&L&&Object.defineProperty(Z,K,L),L},r=w&&w.__metadata||function(G,Z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(G,Z)},i=w&&w.__param||function(G,Z){return function(K,B){Z(K,B,G)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=at,s=Ou,u=Ze,d=gt,f=Se,_=yn,y=Lt,g=pt,v=qt,m=hi,h=In,b=qa,p=Wa,R=is,O=bt,A=bt,I=Iu,j=on,U=function(){function G(Z,K){Z===void 0&&(Z=[]),K===void 0&&(K=[]),this.selectedElementsIDs=Z,this.deselectedElementsIDs=K,this.kind=G.KIND}return G.KIND="elementSelected",G}();t.SelectAction=U;var M=function(){function G(Z){Z===void 0&&(Z=!0),this.select=Z,this.kind=G.KIND}return G.KIND="allSelected",G}();t.SelectAllAction=M;var x;(function(G){G.KIND="getSelection";function Z(){return{kind:G.KIND,requestId:a.generateRequestId()}}G.create=Z})(x=t.GetSelectionAction||(t.GetSelectionAction={}));var D;(function(G){G.KIND="selectionResult";function Z(K,B){return{kind:G.KIND,selectedElementsIDs:K,responseId:B}}G.create=Z})(D=t.SelectionResult||(t.SelectionResult={}));var V=function(G){e(Z,G);function Z(K){var B=G.call(this)||this;return B.action=K,B.selected=[],B.deselected=[],B}return Z.prototype.execute=function(K){var B=this,Y=K.root;return this.action.selectedElementsIDs.forEach(function(L){var C=Y.index.getById(L);C instanceof u.SChildElement&&j.isSelectable(C)&&B.selected.push(C)}),this.action.deselectedElementsIDs.forEach(function(L){var C=Y.index.getById(L);C instanceof u.SChildElement&&j.isSelectable(C)&&B.deselected.push(C)}),this.redo(K)},Z.prototype.undo=function(K){for(var B=0,Y=this.selected;B<Y.length;B++){var L=Y[B];L.selected=!1}for(var C=0,W=this.deselected;C<W.length;C++){var L=W[C];L.selected=!0}return K.root},Z.prototype.redo=function(K){for(var B=0,Y=this.deselected;B<Y.length;B++){var L=Y[B];L.selected=!1}for(var C=0,W=this.selected;C<W.length;C++){var L=W[C];L.selected=!0}return K.root},Z.KIND=U.KIND,Z=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[U])],Z),Z}(c.Command);t.SelectCommand=V;var q=function(G){e(Z,G);function Z(K){var B=G.call(this)||this;return B.action=K,B.previousSelection={},B}return Z.prototype.execute=function(K){return this.selectAll(K.root,this.action.select),K.root},Z.prototype.selectAll=function(K,B){j.isSelectable(K)&&(this.previousSelection[K.id]=K.selected,K.selected=B);for(var Y=0,L=K.children;Y<L.length;Y++){var C=L[Y];this.selectAll(C,B)}},Z.prototype.undo=function(K){var B=this,Y=K.root.index;return Object.keys(this.previousSelection).forEach(function(L){var C=Y.getById(L);C!==void 0&&j.isSelectable(C)&&(C.selected=B.previousSelection[L])}),K.root},Z.prototype.redo=function(K){return this.selectAll(K.root,this.action.select),K.root},Z.KIND=M.KIND,Z=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[M])],Z),Z}(c.Command);t.SelectAllCommand=q;var ee=function(G){e(Z,G);function Z(){var K=G!==null&&G.apply(this,arguments)||this;return K.wasSelected=!1,K.hasDragged=!1,K}return Z.prototype.mouseDown=function(K,B){var Y=[];if(B.button===0){if(this.buttonHandlerRegistry!==void 0&&K instanceof p.SButton&&K.enabled){var L=this.buttonHandlerRegistry.get(K.type);if(L!==void 0)return L.buttonPressed(K)}var C=d.findParentByFeature(K,j.isSelectable);if(C!==void 0||K instanceof u.SModelRoot){this.hasDragged=!1;var W=[];if(v.isCtrlOrCmd(B)||(W=m.toArray(K.root.index.all().filter(function(ce){return j.isSelectable(ce)&&ce.selected&&!(C instanceof O.SRoutingHandle&&ce===C.parent)}))),C!==void 0)if(C.selected)v.isCtrlOrCmd(B)?(this.wasSelected=!1,Y.push(new U([],[C.id])),C instanceof A.SRoutableElement&&Y.push(R.SwitchEditModeAction.create({elementsToDeactivate:[C.id]}))):this.wasSelected=!0;else{this.wasSelected=!1,Y.push(new U([C.id],W.map(function(ce){return ce.id}))),Y.push(I.BringToFrontAction.create([C.id]));var ie=W.filter(function(ce){return ce instanceof A.SRoutableElement}).map(function(ce){return ce.id});C instanceof A.SRoutableElement?Y.push(R.SwitchEditModeAction.create({elementsToActivate:[C.id],elementsToDeactivate:ie})):ie.length>0&&Y.push(R.SwitchEditModeAction.create({elementsToDeactivate:ie}))}else{Y.push(new U([],W.map(function(ge){return ge.id})));var ie=W.filter(function(ge){return ge instanceof A.SRoutableElement}).map(function(ge){return ge.id});ie.length>0&&Y.push(R.SwitchEditModeAction.create({elementsToDeactivate:ie}))}}}return Y},Z.prototype.mouseMove=function(K,B){return this.hasDragged=!0,[]},Z.prototype.mouseUp=function(K,B){if(B.button===0&&!this.hasDragged){var Y=d.findParentByFeature(K,j.isSelectable);if(Y!==void 0&&this.wasSelected)return[new U([Y.id],[])]}return this.hasDragged=!1,[]},Z.prototype.decorate=function(K,B){var Y=d.findParentByFeature(B,j.isSelectable);return Y!==void 0&&g.setClass(K,"selected",Y.selected),K},n([o.inject(b.ButtonHandlerRegistry),o.optional(),r("design:type",b.ButtonHandlerRegistry)],Z.prototype,"buttonHandlerRegistry",void 0),Z}(y.MouseListener);t.SelectMouseListener=ee;var ne=function(G){e(Z,G);function Z(K){var B=G.call(this)||this;return B.action=K,B.previousSelection={},B}return Z.prototype.retrieveResult=function(K){var B=K.root.index.all().filter(function(Y){return j.isSelectable(Y)&&Y.selected}).map(function(Y){return Y.id});return D.create(m.toArray(B),this.action.requestId)},Z.KIND=x.KIND,Z=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[Object])],Z),Z}(s.ModelRequestCommand);t.GetSelectionCommand=ne;var se=function(G){e(Z,G);function Z(){return G!==null&&G.apply(this,arguments)||this}return Z.prototype.keyDown=function(K,B){return h.matchesKeystroke(B,"KeyA","ctrlCmd")?[new M]:[]},Z}(_.KeyListener);t.SelectKeyboardListener=se})(Au);var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});var Wl=Ze,kD=lo;function BD(t,e){Object.keys(t).forEach(function(n){return e(n,t[n])})}Ii.forEachMatch=BD;var YD=function(){function t(){}return t.prototype.match=function(e,n){var r={};return this.matchLeft(e,r),this.matchRight(n,r),r},t.prototype.matchLeft=function(e,n,r){var i=n[e.id];if(i!==void 0?(i.left=e,i.leftParentId=r):(i={left:e,leftParentId:r},n[e.id]=i),Wl.isParent(e))for(var o=0,a=e.children;o<a.length;o++){var c=a[o];this.matchLeft(c,n,e.id)}},t.prototype.matchRight=function(e,n,r){var i=n[e.id];if(i!==void 0?(i.right=e,i.rightParentId=r):(i={right:e,rightParentId:r},n[e.id]=i),Wl.isParent(e))for(var o=0,a=e.children;o<a.length;o++){var c=a[o];this.matchRight(c,n,e.id)}},t}();Ii.ModelMatcher=YD;function $D(t,e,n){t instanceof Wl.SModelRoot?n=t.index:n===void 0&&(n=new kD.SModelIndex,n.add(t));for(var r=0,i=e;r<i.length;r++){var o=i[r],a=!1;if(o.left!==void 0&&o.leftParentId!==void 0){var c=n.getById(o.leftParentId);if(c!==void 0&&c.children!==void 0){var s=c.children.indexOf(o.left);s>=0&&(o.right!==void 0&&o.leftParentId===o.rightParentId?(c.children.splice(s,1,o.right),a=!0):c.children.splice(s,1)),n.remove(o.left)}}if(!a&&o.right!==void 0&&o.rightParentId!==void 0){var u=n.getById(o.rightParentId);u!==void 0&&(u.children===void 0&&(u.children=[]),u.children.push(o.right))}}}Ii.applyMatches=$D;var Io={},b_={},VD=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(b_,"__esModule",{value:!0});var HD=gr,KD=function(t){VD(e,t);function e(n,r,i,o){o===void 0&&(o=!1);var a=t.call(this,i)||this;return a.model=n,a.elementResizes=r,a.reverse=o,a}return e.prototype.tween=function(n){var r=this;return this.elementResizes.forEach(function(i){var o=i.element,a=r.reverse?{width:(1-n)*i.toDimension.width+n*i.fromDimension.width,height:(1-n)*i.toDimension.height+n*i.fromDimension.height}:{width:(1-n)*i.fromDimension.width+n*i.toDimension.width,height:(1-n)*i.fromDimension.height+n*i.toDimension.height};o.bounds={x:o.bounds.x,y:o.bounds.y,width:a.width,height:a.height}}),this.model},e}(HD.Animation);b_.ResizeAnimation=KD;var zD=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_g=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},pg=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},ZD=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Io,"__esModule",{value:!0});var ks=fe,Yi=nt,hg=gr,qD=at,WD=Eo,$i=Ze,gg=os,yg=yo,mg=$r,vg=lt,bg=Ja,Pg=on,wg=Ii,GD=b_,JD=Se,Rg=tr,Sg=mn,Eg=bt,XD=gt,Gl=function(){function t(e,n,r){n===void 0&&(n=!0),this.animate=n,this.cause=r,this.kind=t.KIND,e.id!==void 0?this.newRoot=e:this.matches=e}return t.KIND="updateModel",t}();Io.UpdateModelAction=Gl;var QD=function(t){zD(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r}return e.prototype.execute=function(n){var r;return this.action.newRoot!==void 0?r=n.modelFactory.createRoot(this.action.newRoot):(r=n.modelFactory.createRoot(n.root),this.action.matches!==void 0&&this.applyMatches(r,this.action.matches,n)),this.oldRoot=n.root,this.newRoot=r,this.performUpdate(this.oldRoot,this.newRoot,n)},e.prototype.performUpdate=function(n,r,i){if((this.action.animate===void 0||this.action.animate)&&n.id===r.id){var o=void 0;if(this.action.matches===void 0){var a=new wg.ModelMatcher;o=a.match(n,r)}else o=this.convertToMatchResult(this.action.matches,n,r);var c=this.computeAnimation(r,o,i);return c instanceof hg.Animation?c.start():c}else return n.type===r.type&&Yi.Dimension.isValid(n.canvasBounds)&&(r.canvasBounds=n.canvasBounds),Rg.isViewport(n)&&Rg.isViewport(r)&&(r.zoom=n.zoom,r.scroll=n.scroll),r},e.prototype.applyMatches=function(n,r,i){for(var o=n.index,a=0,c=r;a<c.length;a++){var s=c[a];if(s.left!==void 0){var u=o.getById(s.left.id);u instanceof $i.SChildElement&&u.parent.remove(u)}}for(var d=0,f=r;d<f.length;d++){var s=f[d];if(s.right!==void 0){var u=i.modelFactory.createElement(s.right),_=void 0;s.rightParentId!==void 0&&(_=o.getById(s.rightParentId)),_ instanceof $i.SParentElement?_.add(u):n.add(u)}}},e.prototype.convertToMatchResult=function(n,r,i){for(var o={},a=0,c=n;a<c.length;a++){var s=c[a],u={},d=void 0;s.left!==void 0&&(d=s.left.id,u.left=r.index.getById(d),u.leftParentId=s.leftParentId),s.right!==void 0&&(d=s.right.id,u.right=i.index.getById(d),u.rightParentId=s.rightParentId),d!==void 0&&(o[d]=u)}return o},e.prototype.computeAnimation=function(n,r,i){var o=this,a={fades:[]};wg.forEachMatch(r,function(s,u){if(u.left!==void 0&&u.right!==void 0)o.updateElement(u.left,u.right,a);else if(u.right!==void 0){var d=u.right;yg.isFadeable(d)&&(d.opacity=0,a.fades.push({element:d,type:"in"}))}else if(u.left instanceof $i.SChildElement){var f=u.left;if(yg.isFadeable(f)&&u.leftParentId!==void 0&&!XD.containsSome(n,f)){var _=n.index.getById(u.leftParentId);if(_ instanceof $i.SParentElement){var y=i.modelFactory.createElement(f);_.add(y),a.fades.push({element:y,type:"out"})}}}});var c=this.createAnimations(a,n,i);return c.length>=2?new hg.CompoundAnimation(n,i,c):c.length===1?c[0]:n},e.prototype.updateElement=function(n,r,i){if(mg.isLocateable(n)&&mg.isLocateable(r)){var o=n.position,a=r.position;(!Yi.almostEquals(o.x,a.x)||!Yi.almostEquals(o.y,a.y))&&(i.moves===void 0&&(i.moves=[]),i.moves.push({element:r,fromPosition:o,toPosition:a}),r.position=o)}vg.isSizeable(n)&&vg.isSizeable(r)&&(Yi.Dimension.isValid(r.bounds)?(!Yi.almostEquals(n.bounds.width,r.bounds.width)||!Yi.almostEquals(n.bounds.height,r.bounds.height))&&(i.resizes===void 0&&(i.resizes=[]),i.resizes.push({element:r,fromDimension:{width:n.bounds.width,height:n.bounds.height},toDimension:{width:r.bounds.width,height:r.bounds.height}})):r.bounds={x:r.bounds.x,y:r.bounds.y,width:n.bounds.width,height:n.bounds.height}),n instanceof Eg.SRoutableElement&&r instanceof Eg.SRoutableElement&&this.edgeRouterRegistry&&(i.edgeMementi===void 0&&(i.edgeMementi=[]),i.edgeMementi.push({edge:r,before:this.takeSnapshot(n),after:this.takeSnapshot(r)})),Pg.isSelectable(n)&&Pg.isSelectable(r)&&(r.selected=n.selected),n instanceof $i.SModelRoot&&r instanceof $i.SModelRoot&&(r.canvasBounds=n.canvasBounds),n instanceof bg.ViewportRootElement&&r instanceof bg.ViewportRootElement&&(r.scroll=n.scroll,r.zoom=n.zoom)},e.prototype.takeSnapshot=function(n){var r=this.edgeRouterRegistry.get(n.routerKind);return r.takeSnapshot(n)},e.prototype.createAnimations=function(n,r,i){var o=[];if(n.fades.length>0&&o.push(new WD.FadeAnimation(r,n.fades,i,!0)),n.moves!==void 0&&n.moves.length>0){for(var a=new Map,c=0,s=n.moves;c<s.length;c++){var u=s[c];a.set(u.element.id,u)}o.push(new gg.MoveAnimation(r,a,i,!1))}if(n.resizes!==void 0&&n.resizes.length>0){for(var d=new Map,f=0,_=n.resizes;f<_.length;f++){var y=_[f];d.set(y.element.id,y)}o.push(new GD.ResizeAnimation(r,d,i,!1))}return n.edgeMementi!==void 0&&n.edgeMementi.length>0&&o.push(new gg.MorphEdgesAnimation(r,n.edgeMementi,i,!1)),o},e.prototype.undo=function(n){return this.performUpdate(this.newRoot,this.oldRoot,n)},e.prototype.redo=function(n){return this.performUpdate(this.oldRoot,this.newRoot,n)},e.KIND=Gl.KIND,_g([ks.inject(Sg.EdgeRouterRegistry),ks.optional(),pg("design:type",Sg.EdgeRouterRegistry)],e.prototype,"edgeRouterRegistry",void 0),e=_g([ks.injectable(),ZD(0,ks.inject(JD.TYPES.Action)),pg("design:paramtypes",[Gl])],e),e}(qD.Command);Io.UpdateModelCommand=QD;var nr={},jo={};(function(t){var e=w&&w.__extends||function(){var p=function(R,O){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var j in I)I.hasOwnProperty(j)&&(A[j]=I[j])},p(R,O)};return function(R,O){p(R,O);function A(){this.constructor=R}R.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)}}(),n=w&&w.__decorate||function(p,R,O,A){var I=arguments.length,j=I<3?R:A===null?A=Object.getOwnPropertyDescriptor(R,O):A,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(p,R,O,A);else for(var M=p.length-1;M>=0;M--)(U=p[M])&&(j=(I<3?U(j):I>3?U(R,O,j):U(R,O))||j);return I>3&&j&&Object.defineProperty(R,O,j),j},r=w&&w.__metadata||function(p,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,R)},i=w&&w.__param||function(p,R){return function(O,A){R(O,A,p)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=nt,s=at,u=gr,d=tr,f=Se,_=Ou,y=function(){function p(R,O,A){this.elementId=R,this.newViewport=O,this.animate=A,this.kind=p.KIND}return p.KIND="viewport",p}();t.SetViewportAction=y;var g;(function(p){p.KIND="getViewport";function R(){return{kind:p.KIND,requestId:a.generateRequestId()}}p.create=R})(g=t.GetViewportAction||(t.GetViewportAction={}));var v;(function(p){p.KIND="viewportResult";function R(O,A,I){return{kind:p.KIND,viewport:O,canvasBounds:A,responseId:I}}p.create=R})(v=t.ViewportResult||(t.ViewportResult={}));var m=function(p){e(R,p);function R(A){var I=p.call(this)||this;return I.action=A,I.newViewport=A.newViewport,I}O=R,R.prototype.execute=function(A){var I=A.root,j=I.index.getById(this.action.elementId);if(j&&d.isViewport(j)){if(this.element=j,this.oldViewport={scroll:this.element.scroll,zoom:this.element.zoom},this.action.animate)return new b(this.element,this.oldViewport,this.newViewport,A).start();this.element.scroll=this.newViewport.scroll,this.element.zoom=this.newViewport.zoom}return I},R.prototype.undo=function(A){return new b(this.element,this.newViewport,this.oldViewport,A).start()},R.prototype.redo=function(A){return new b(this.element,this.oldViewport,this.newViewport,A).start()},R.prototype.merge=function(A,I){return!this.action.animate&&A instanceof O&&this.element===A.element?(this.newViewport=A.newViewport,!0):!1};var O;return R.KIND=y.KIND,R=O=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[y])],R),R}(s.MergeableCommand);t.SetViewportCommand=m;var h=function(p){e(R,p);function R(O){var A=p.call(this)||this;return A.action=O,A}return R.prototype.retrieveResult=function(O){var A=O.root,I;return d.isViewport(A)?I={scroll:A.scroll,zoom:A.zoom}:I={scroll:c.Point.ORIGIN,zoom:1},v.create(I,A.canvasBounds,this.action.requestId)},R.KIND=g.KIND,R=n([i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[Object])],R),R}(_.ModelRequestCommand);t.GetViewportCommand=h;var b=function(p){e(R,p);function R(O,A,I,j){var U=p.call(this,j)||this;return U.element=O,U.oldViewport=A,U.newViewport=I,U.context=j,U.zoomFactor=Math.log(I.zoom/A.zoom),U}return R.prototype.tween=function(O,A){return this.element.scroll={x:(1-O)*this.oldViewport.scroll.x+O*this.newViewport.scroll.x,y:(1-O)*this.oldViewport.scroll.y+O*this.newViewport.scroll.y},this.element.zoom=this.oldViewport.zoom*Math.exp(O*this.zoomFactor),A.root},R}(u.Animation);t.ViewportAnimation=b})(jo);var ju=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),P_=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},w_=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},jv=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(nr,"__esModule",{value:!0});var ao=nt,Ag=In,eT=Ze,tT=at,nT=yn,Vd=lt,rT=on,Og=jo,sc=tr,R_=fe,Mv=Se,Nc=function(){function t(e,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.elementIds=e,this.animate=n,this.retainZoom=r,this.kind=t.KIND}return t.KIND="center",t}();nr.CenterAction=Nc;var Fc=function(){function t(e,n,r,i){i===void 0&&(i=!0),this.elementIds=e,this.padding=n,this.maxZoom=r,this.animate=i,this.kind=t.KIND}return t.KIND="fit",t}();nr.FitToScreenAction=Fc;var S_=function(t){ju(e,t);function e(n){var r=t.call(this)||this;return r.animate=n,r}return e.prototype.initialize=function(n){var r=this;if(sc.isViewport(n)){this.oldViewport={scroll:n.scroll,zoom:n.zoom};var i=[];if(this.getElementIds().forEach(function(a){var c=n.index.getById(a);c&&Vd.isBoundsAware(c)&&i.push(r.boundsInViewport(c,c.bounds,n))}),i.length===0&&n.index.all().forEach(function(a){rT.isSelectable(a)&&a.selected&&Vd.isBoundsAware(a)&&i.push(r.boundsInViewport(a,a.bounds,n))}),i.length===0&&n.index.all().forEach(function(a){Vd.isBoundsAware(a)&&i.push(r.boundsInViewport(a,a.bounds,n))}),i.length!==0){var o=i.reduce(function(a,c){return ao.Bounds.combine(a,c)});ao.Dimension.isValid(o)&&(this.newViewport=this.getNewViewport(o,n))}}},e.prototype.boundsInViewport=function(n,r,i){return n instanceof eT.SChildElement&&n.parent!==i?this.boundsInViewport(n.parent,n.parent.localToParent(r),i):r},e.prototype.execute=function(n){return this.initialize(n.root),this.redo(n)},e.prototype.undo=function(n){var r=n.root;if(sc.isViewport(r)&&this.newViewport!==void 0&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new Og.ViewportAnimation(r,this.newViewport,this.oldViewport,n).start();r.scroll=this.oldViewport.scroll,r.zoom=this.oldViewport.zoom}return r},e.prototype.redo=function(n){var r=n.root;if(sc.isViewport(r)&&this.newViewport!==void 0&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new Og.ViewportAnimation(r,this.oldViewport,this.newViewport,n).start();r.scroll=this.newViewport.scroll,r.zoom=this.newViewport.zoom}return r},e.prototype.equal=function(n,r){return n.zoom===r.zoom&&n.scroll.x===r.scroll.x&&n.scroll.y===r.scroll.y},e=P_([R_.injectable(),w_("design:paramtypes",[Boolean])],e),e}(tT.Command);nr.BoundsAwareViewportCommand=S_;var iT=function(t){ju(e,t);function e(n){var r=t.call(this,n.animate)||this;return r.action=n,r}return e.prototype.getElementIds=function(){return this.action.elementIds},e.prototype.getNewViewport=function(n,r){if(!!ao.Dimension.isValid(r.canvasBounds)){var i=this.action.retainZoom&&sc.isViewport(r)?r.zoom:1,o=ao.Bounds.center(n);return{scroll:{x:o.x-.5*r.canvasBounds.width/i,y:o.y-.5*r.canvasBounds.height/i},zoom:i}}},e.KIND=Nc.KIND,e=P_([jv(0,R_.inject(Mv.TYPES.Action)),w_("design:paramtypes",[Nc])],e),e}(S_);nr.CenterCommand=iT;var oT=function(t){ju(e,t);function e(n){var r=t.call(this,n.animate)||this;return r.action=n,r}return e.prototype.getElementIds=function(){return this.action.elementIds},e.prototype.getNewViewport=function(n,r){if(!!ao.Dimension.isValid(r.canvasBounds)){var i=ao.Bounds.center(n),o=this.action.padding===void 0?0:2*this.action.padding,a=Math.min(r.canvasBounds.width/(n.width+o),r.canvasBounds.height/(n.height+o));return this.action.maxZoom!==void 0&&(a=Math.min(a,this.action.maxZoom)),a===1/0&&(a=1),{scroll:{x:i.x-.5*r.canvasBounds.width/a,y:i.y-.5*r.canvasBounds.height/a},zoom:a}}},e.KIND=Fc.KIND,e=P_([jv(0,R_.inject(Mv.TYPES.Action)),w_("design:paramtypes",[Fc])],e),e}(S_);nr.FitToScreenCommand=oT;var aT=function(t){ju(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.keyDown=function(n,r){return Ag.matchesKeystroke(r,"KeyC","ctrlCmd","shift")?[new Nc([])]:Ag.matchesKeystroke(r,"KeyF","ctrlCmd","shift")?[new Fc([])]:[]},e}(nT.KeyListener);nr.CenterKeyboardListener=aT;var ss={},sT=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ss,"__esModule",{value:!0});var Hd=St,cT=Ze,uT=Lt,Jo=gt,Bs=tr,dT=$r,lT=bt,fT=Kr,_T=qt;function pT(t){return"scroll"in t}ss.isScrollable=pT;var hT=function(t){sT(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scrollbarMouseDownDelay=200,n}return e.prototype.mouseDown=function(n,r){var i=this,o=Jo.findParentByFeature(n,dT.isMoveable);if(o===void 0&&!(n instanceof lT.SRoutingHandle)){var a=Jo.findParentByFeature(n,Bs.isViewport);if(a){if(this.lastScrollPosition={x:r.pageX,y:r.pageY},this.scrollbar=this.getScrollbar(r),this.scrollbar)return window.clearTimeout(this.scrollbarMouseDownTimeout),this.moveScrollBar(a,r,this.scrollbar,!0).map(function(c){return new Promise(function(s){i.scrollbarMouseDownTimeout=window.setTimeout(function(){return s(c)},i.scrollbarMouseDownDelay)})})}else this.lastScrollPosition=void 0,this.scrollbar=void 0}return[]},e.prototype.mouseMove=function(n,r){if(r.buttons===0)return this.mouseUp(n,r);if(this.scrollbar){window.clearTimeout(this.scrollbarMouseDownTimeout);var i=Jo.findParentByFeature(n,Bs.isViewport);if(i)return this.moveScrollBar(i,r,this.scrollbar)}if(this.lastScrollPosition){var i=Jo.findParentByFeature(n,Bs.isViewport);if(i)return this.dragCanvas(i,r,this.lastScrollPosition)}return[]},e.prototype.mouseEnter=function(n,r){return n instanceof cT.SModelRoot&&r.buttons===0&&this.mouseUp(n,r),[]},e.prototype.mouseUp=function(n,r){return this.lastScrollPosition=void 0,this.scrollbar=void 0,[]},e.prototype.doubleClick=function(n,r){var i=Jo.findParentByFeature(n,Bs.isViewport);if(i){var o=this.getScrollbar(r);if(o){window.clearTimeout(this.scrollbarMouseDownTimeout);var a=this.findClickTarget(o,r),c=void 0;if(a&&a.id.startsWith("horizontal-projection:")?c=a.id.substring(22):a&&a.id.startsWith("vertical-projection:")&&(c=a.id.substring(20)),c)return[Hd.CenterAction.create([c],{animate:!0,retainZoom:!0})]}}return[]},e.prototype.dragCanvas=function(n,r,i){var o=(r.pageX-i.x)/n.zoom,a=(r.pageY-i.y)/n.zoom,c={scroll:{x:n.scroll.x-o,y:n.scroll.y-a},zoom:n.zoom};return this.lastScrollPosition={x:r.pageX,y:r.pageY},[Hd.SetViewportAction.create(n.id,c,{animate:!1})]},e.prototype.moveScrollBar=function(n,r,i,o){o===void 0&&(o=!1);var a=fT.getModelBounds(n);if(!a||n.zoom<=0)return[];var c=i.getBoundingClientRect(),s;if(this.getScrollbarOrientation(i)==="horizontal"){if(c.width<=0)return[];var u=n.canvasBounds.width/(n.zoom*a.width)*c.width,d=r.clientX-c.x-u/2;d<0?d=0:d>c.width-u&&(d=c.width-u),s={x:a.x+d/c.width*a.width,y:n.scroll.y}}else{if(c.height<=0)return[];var u=n.canvasBounds.height/(n.zoom*a.height)*c.height,d=r.clientY-c.y-u/2;d<0?d=0:d>c.height-u&&(d=c.height-u),s={x:n.scroll.x,y:a.y+d/c.height*a.height}}return[Hd.SetViewportAction.create(n.id,{scroll:s,zoom:n.zoom},{animate:o})]},e.prototype.getScrollbar=function(n){for(var r=n.target;r;){if(r.classList&&r.classList.contains("sprotty-projection-bar"))return r;r=r.parentElement}},e.prototype.getScrollbarOrientation=function(n){return n.classList.contains("horizontal")?"horizontal":"vertical"},e.prototype.findClickTarget=function(n,r){var i=Array.from(n.children).filter(function(o){return o.id&&o.classList.contains("sprotty-projection")&&_T.hitsMouseEvent(o,r)});if(i.length>0)return i[i.length-1]},e}(uT.MouseListener);ss.ScrollMouseListener=hT;var E_={},Mu={},gT=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yT=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Mu,"__esModule",{value:!0});var mT=fe,ni=nn,Ir=en,Ys=Ze,Rn=an,Ig=Wa,vT=function(t){gT(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.defaultGraphFeatures=Ir.createFeatureSet(Rn.SGraph.DEFAULT_FEATURES),n.defaultNodeFeatures=Ir.createFeatureSet(Rn.SNode.DEFAULT_FEATURES),n.defaultPortFeatures=Ir.createFeatureSet(Rn.SPort.DEFAULT_FEATURES),n.defaultEdgeFeatures=Ir.createFeatureSet(Rn.SEdge.DEFAULT_FEATURES),n.defaultLabelFeatures=Ir.createFeatureSet(Rn.SLabel.DEFAULT_FEATURES),n.defaultCompartmentFeatures=Ir.createFeatureSet(Rn.SCompartment.DEFAULT_FEATURES),n.defaultButtonFeatures=Ir.createFeatureSet(Ig.SButton.DEFAULT_FEATURES),n}return e.prototype.createElement=function(n,r){var i;if(this.registry.hasKey(n.type)){var o=this.registry.get(n.type,void 0);if(!(o instanceof Ys.SChildElement))throw new Error("Element with type "+n.type+" was expected to be an SChildElement.");i=o}else this.isNodeSchema(n)?(i=new Rn.SNode,i.features=this.defaultNodeFeatures):this.isPortSchema(n)?(i=new Rn.SPort,i.features=this.defaultPortFeatures):this.isEdgeSchema(n)?(i=new Rn.SEdge,i.features=this.defaultEdgeFeatures):this.isLabelSchema(n)?(i=new Rn.SLabel,i.features=this.defaultLabelFeatures):this.isCompartmentSchema(n)?(i=new Rn.SCompartment,i.features=this.defaultCompartmentFeatures):this.isButtonSchema(n)?(i=new Ig.SButton,i.features=this.defaultButtonFeatures):i=new Ys.SChildElement;return this.initializeChild(i,n,r)},e.prototype.createRoot=function(n){var r;if(this.registry.hasKey(n.type)){var i=this.registry.get(n.type,void 0);if(!(i instanceof Ys.SModelRoot))throw new Error("Element with type "+n.type+" was expected to be an SModelRoot.");r=i}else this.isGraphSchema(n)?(r=new Rn.SGraph,r.features=this.defaultGraphFeatures):r=new Ys.SModelRoot;return this.initializeRoot(r,n)},e.prototype.isGraphSchema=function(n){return ni.getBasicType(n)==="graph"},e.prototype.isNodeSchema=function(n){return ni.getBasicType(n)==="node"},e.prototype.isPortSchema=function(n){return ni.getBasicType(n)==="port"},e.prototype.isEdgeSchema=function(n){return ni.getBasicType(n)==="edge"},e.prototype.isLabelSchema=function(n){return ni.getBasicType(n)==="label"},e.prototype.isCompartmentSchema=function(n){return ni.getBasicType(n)==="comp"},e.prototype.isButtonSchema=function(n){return ni.getBasicType(n)==="button"},e=yT([mT.injectable()],e),e}(Ir.SModelFactory);Mu.SGraphFactory=vT;Object.defineProperty(E_,"__esModule",{value:!0});var bT=fe,PT=Se,wT=Mu,RT=new bT.ContainerModule(function(t,e,n,r){r(PT.TYPES.IModelFactory).to(wT.SGraphFactory).inSingletonScope()});E_.default=RT;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});var ST=fe,Kd=Se,jg=er,Mg=za,Xo=Yr,Cg=Tt,xg=fu,Dg=lu,Tg=_u,ET=new ST.ContainerModule(function(t,e,n){Cg.configureCommand({bind:t,isBound:n},jg.SetBoundsCommand),Cg.configureCommand({bind:t,isBound:n},jg.RequestBoundsCommand),t(Mg.HiddenBoundsUpdater).toSelf().inSingletonScope(),t(Kd.TYPES.HiddenVNodePostprocessor).toService(Mg.HiddenBoundsUpdater),t(Kd.TYPES.Layouter).to(Xo.Layouter).inSingletonScope(),t(Kd.TYPES.LayoutRegistry).to(Xo.LayoutRegistry).inSingletonScope(),Xo.configureLayout({bind:t,isBound:n},Dg.VBoxLayouter.KIND,Dg.VBoxLayouter),Xo.configureLayout({bind:t,isBound:n},xg.HBoxLayouter.KIND,xg.HBoxLayouter),Xo.configureLayout({bind:t,isBound:n},Tg.StackLayouter.KIND,Tg.StackLayouter)});Cu.default=ET;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});var AT=fe,OT=qa,IT=new AT.ContainerModule(function(t){t(OT.ButtonHandlerRegistry).toSelf().inSingletonScope()});xu.default=IT;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});var jT=fe,zd=Se,Lg=mo,Zd=Ga,MT=new jT.ContainerModule(function(t){t(Zd.CommandPalette).toSelf().inSingletonScope(),t(zd.TYPES.IUIExtension).toService(Zd.CommandPalette),t(zd.TYPES.KeyListener).to(Zd.CommandPaletteKeyListener),t(Lg.CommandPaletteActionProviderRegistry).toSelf().inSingletonScope(),t(zd.TYPES.ICommandPaletteActionProviderRegistry).toService(Lg.CommandPaletteActionProviderRegistry)});Du.default=MT;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});var CT=fe,xT=vo,DT=pu,Qo=Se,TT=new CT.ContainerModule(function(t){t(Qo.TYPES.IContextMenuServiceProvider).toProvider(function(e){return function(){return new Promise(function(n,r){e.container.isBound(Qo.TYPES.IContextMenuService)?n(e.container.get(Qo.TYPES.IContextMenuService)):r()})}}),t(Qo.TYPES.MouseListener).to(DT.ContextMenuMouseListener),t(Qo.TYPES.IContextMenuProviderRegistry).to(xT.ContextMenuProviderRegistry)});Tu.default=TT;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});var LT=jn,UT=fe,NT=bu,FT=Pu,kT=Se,Ug=wu,BT=new UT.ContainerModule(function(t,e,n){LT.configureModelElement({bind:t,isBound:n},"marker",NT.SIssueMarker,FT.IssueMarkerView),t(Ug.DecorationPlacer).toSelf().inSingletonScope(),t(kT.TYPES.IVNodePostprocessor).toService(Ug.DecorationPlacer)});Lu.default=BT;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});var YT=fe,$T=Se,Ng=Ai,VT=new YT.ContainerModule(function(t){t(Ng.IntersectionFinder).toSelf().inSingletonScope(),t($T.TYPES.IEdgeRoutePostprocessor).toService(Ng.IntersectionFinder)});A_.default=VT;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});var HT=fe,KT=Se,zT=So,ZT=new HT.ContainerModule(function(t){t(KT.TYPES.IButtonHandler).toConstructor(zT.ExpandButtonHandler)});Uu.default=ZT;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});var qT=fe,qd=Se,Wd=t_,WT=Si,GT=Tt,JT=new qT.ContainerModule(function(t,e,n){t(qd.TYPES.KeyListener).to(Wd.ExportSvgKeyListener).inSingletonScope(),t(qd.TYPES.HiddenVNodePostprocessor).to(Wd.ExportSvgPostprocessor).inSingletonScope(),GT.configureCommand({bind:t,isBound:n},Wd.ExportSvgCommand),t(qd.TYPES.SvgExporter).to(WT.SvgExporter).inSingletonScope()});Nu.default=JT;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});var XT=fe,QT=Se,eL=Eo,tL=new XT.ContainerModule(function(t){t(QT.TYPES.IVNodePostprocessor).to(eL.ElementFader).inSingletonScope()});Fu.default=tL;var ku={},O_={},Fg=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},nL=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(O_,"__esModule",{value:!0});var kg=fe,rL=Se,iL=function(){function t(){}return t.prototype.decorate=function(e,n){return e},t.prototype.postUpdate=function(){var e=document.getElementById(this.options.popupDiv);if(e!==null&&typeof window!="undefined"){var n=e.getBoundingClientRect();window.innerHeight<n.height+n.top&&(e.style.top=window.pageYOffset+window.innerHeight-n.height-5+"px"),window.innerWidth<n.left+n.width&&(e.style.left=window.pageXOffset+window.innerWidth-n.width-5+"px"),n.left<0&&(e.style.left="0px"),n.top<0&&(e.style.top="0px")}},Fg([kg.inject(rL.TYPES.ViewerOptions),nL("design:type",Object)],t.prototype,"options",void 0),t=Fg([kg.injectable()],t),t}();O_.PopupPositionUpdater=iL;Object.defineProperty(ku,"__esModule",{value:!0});var oL=fe,ea=Se,Sn=n_,aL=O_,Bg=Tt,ta=kr,Yg=nr,sL=jo,cL=os,uL=new oL.ContainerModule(function(t,e,n){t(ea.TYPES.PopupVNodePostprocessor).to(aL.PopupPositionUpdater).inSingletonScope(),t(ea.TYPES.MouseListener).to(Sn.HoverMouseListener),t(ea.TYPES.PopupMouseListener).to(Sn.PopupHoverMouseListener),t(ea.TYPES.KeyListener).to(Sn.HoverKeyListener),t(ea.TYPES.HoverState).toConstantValue({mouseOverTimer:void 0,mouseOutTimer:void 0,popupOpen:!1,previousPopupElement:void 0}),t(Sn.ClosePopupActionHandler).toSelf().inSingletonScope();var r={bind:t,isBound:n};Bg.configureCommand(r,Sn.HoverFeedbackCommand),Bg.configureCommand(r,Sn.SetPopupModelCommand),ta.configureActionHandler(r,Sn.SetPopupModelCommand.KIND,Sn.ClosePopupActionHandler),ta.configureActionHandler(r,Yg.FitToScreenCommand.KIND,Sn.ClosePopupActionHandler),ta.configureActionHandler(r,Yg.CenterCommand.KIND,Sn.ClosePopupActionHandler),ta.configureActionHandler(r,sL.SetViewportCommand.KIND,Sn.ClosePopupActionHandler),ta.configureActionHandler(r,cL.MoveCommand.KIND,Sn.ClosePopupActionHandler)});ku.default=uL;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});var dL=fe,Gd=Se,na=os,lL=Tt,fL=new dL.ContainerModule(function(t,e,n){t(Gd.TYPES.MouseListener).to(na.MoveMouseListener),lL.configureCommand({bind:t,isBound:n},na.MoveCommand),t(na.LocationPostprocessor).toSelf().inSingletonScope(),t(Gd.TYPES.IVNodePostprocessor).toService(na.LocationPostprocessor),t(Gd.TYPES.HiddenVNodePostprocessor).toService(na.LocationPostprocessor)});Bu.default=fL;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});var _L=fe,pL=Se,hL=Ru,gL=new _L.ContainerModule(function(t){t(pL.TYPES.MouseListener).to(hL.OpenMouseListener)});Yu.default=gL;var $u={};Object.defineProperty($u,"__esModule",{value:!0});var yL=fe,En=Se,$g=as,Vg=wo,Jd=Oo,Xd=Oi,mL=yr,vL=mn,Qd=Su,el=Ao,bL=Tt,PL=new yL.ContainerModule(function(t,e,n){t(vL.EdgeRouterRegistry).toSelf().inSingletonScope(),t(mL.AnchorComputerRegistry).toSelf().inSingletonScope(),t($g.ManhattanEdgeRouter).toSelf().inSingletonScope(),t(En.TYPES.IEdgeRouter).toService($g.ManhattanEdgeRouter),t(En.TYPES.IAnchorComputer).to(Jd.ManhattanEllipticAnchor).inSingletonScope(),t(En.TYPES.IAnchorComputer).to(Jd.ManhattanRectangularAnchor).inSingletonScope(),t(En.TYPES.IAnchorComputer).to(Jd.ManhattanDiamondAnchor).inSingletonScope(),t(Vg.PolylineEdgeRouter).toSelf().inSingletonScope(),t(En.TYPES.IEdgeRouter).toService(Vg.PolylineEdgeRouter),t(En.TYPES.IAnchorComputer).to(Xd.EllipseAnchor),t(En.TYPES.IAnchorComputer).to(Xd.RectangleAnchor),t(En.TYPES.IAnchorComputer).to(Xd.DiamondAnchor),t(Qd.BezierEdgeRouter).toSelf().inSingletonScope(),t(En.TYPES.IEdgeRouter).toService(Qd.BezierEdgeRouter),t(En.TYPES.IAnchorComputer).to(el.BezierEllipseAnchor),t(En.TYPES.IAnchorComputer).to(el.BezierRectangleAnchor),t(En.TYPES.IAnchorComputer).to(el.BezierDiamondAnchor),bL.configureCommand({bind:t,isBound:n},Qd.AddRemoveBezierSegmentCommand)});$u.default=PL;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});var wL=fe,Hg=Se,ra=Au,tl=Tt,RL=new wL.ContainerModule(function(t,e,n){tl.configureCommand({bind:t,isBound:n},ra.SelectCommand),tl.configureCommand({bind:t,isBound:n},ra.SelectAllCommand),tl.configureCommand({bind:t,isBound:n},ra.GetSelectionCommand),t(Hg.TYPES.KeyListener).to(ra.SelectKeyboardListener),t(Hg.TYPES.MouseListener).to(ra.SelectMouseListener)});Vu.default=RL;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});var SL=fe,EL=Se,AL=Qc,OL=new SL.ContainerModule(function(t){t(EL.TYPES.KeyListener).to(AL.UndoRedoKeyListener)});Hu.default=OL;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});var IL=fe,jL=Tt,ML=Io,CL=new IL.ContainerModule(function(t,e,n){jL.configureCommand({bind:t,isBound:n},ML.UpdateModelCommand)});Ku.default=CL;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});var xL=fe,nl=Se,rl=nr,Kg=jo,DL=ss,TL=Ei,$s=Tt,LL=new xL.ContainerModule(function(t,e,n){$s.configureCommand({bind:t,isBound:n},rl.CenterCommand),$s.configureCommand({bind:t,isBound:n},rl.FitToScreenCommand),$s.configureCommand({bind:t,isBound:n},Kg.SetViewportCommand),$s.configureCommand({bind:t,isBound:n},Kg.GetViewportCommand),t(nl.TYPES.KeyListener).to(rl.CenterKeyboardListener),t(nl.TYPES.MouseListener).to(DL.ScrollMouseListener),t(nl.TYPES.MouseListener).to(TL.ZoomMouseListener)});zu.default=LL;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});var UL=fe,NL=Tt,FL=Iu,kL=new UL.ContainerModule(function(t,e,n){NL.configureCommand({bind:t,isBound:n},FL.BringToFrontCommand)});Zu.default=kL;var Mn={},ji=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},qu=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Mn,"__esModule",{value:!0});var Qt=fe,Gi=nt,Cv=nn,cs=pt,BL=go,zg=Ai,YL=bo,Wu=bt,Nr=mn,xv=Eu,yt=rn,$L=Ri,VL=function(){function t(){}return t.prototype.render=function(e,n,r){var i=this.edgeRouterRegistry.routeAllChildren(e),o="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")";return yt.svg("svg",{"class-sprotty-graph":!0},yt.svg("g",{transform:o},n.renderChildren(e,{edgeRouting:i})))},Xt([Qt.inject(Nr.EdgeRouterRegistry),qu("design:type",Nr.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=Xt([Qt.injectable()],t),t}();Mn.SGraphView=VL;var Dv=function(t){ji(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){var o=this.edgeRouterRegistry.route(n,i);return o.length===0?this.renderDanglingEdge("Cannot compute route",n,r):this.isVisible(n,o,r)?yt.svg("g",{"class-sprotty-edge":!0,"class-mouseover":n.hoverFeedback},this.renderLine(n,o,r,i),this.renderAdditionals(n,o,r),r.renderChildren(n,{route:o})):n.children.length===0?void 0:yt.svg("g",null,r.renderChildren(n,{route:o}))},e.prototype.renderLine=function(n,r,i,o){for(var a=r[0],c="M "+a.x+","+a.y,s=1;s<r.length;s++){var u=r[s];c+=" L "+u.x+","+u.y}return yt.svg("path",{d:c})},e.prototype.renderAdditionals=function(n,r,i){return[]},e.prototype.renderDanglingEdge=function(n,r,i){return yt.svg("text",{"class-sprotty-edge-dangling":!0,title:n},"?")},Xt([Qt.inject(Nr.EdgeRouterRegistry),qu("design:type",Nr.EdgeRouterRegistry)],e.prototype,"edgeRouterRegistry",void 0),e=Xt([Qt.injectable()],e),e}(xv.RoutableView);Mn.PolylineEdgeView=Dv;var Tv=function(t){ji(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.jumpOffsetBefore=5,n.jumpOffsetAfter=5,n.skipOffsetBefore=3,n.skipOffsetAfter=2,n}return e.prototype.renderLine=function(n,r,i,o){for(var a="",c=0;c<r.length;c++){var s=r[c];c===0&&(a="M "+s.x+","+s.y),zg.isIntersectingRoutedPoint(s)&&(a+=this.intersectionPath(n,r,s,o)),c!==0&&(a+=" L "+s.x+","+s.y)}return yt.svg("path",{d:a})},e.prototype.intersectionPath=function(n,r,i,o){for(var a="",c=0,s=i.intersections.sort(zg.BY_X_THEN_Y);c<s.length;c++){var u=s[c],d=this.getOtherLineSegment(n,u,o);if(d!==void 0){var f=this.getLineSegment(n,u,o,r),_=u.intersectionPoint;Math.abs(f.slopeOrMax)<Math.abs(d.slopeOrMax)?a+=this.createJumpPath(_,f):a+=this.createSkipPath(_,f)}}return a},e.prototype.getOtherLineSegment=function(n,r,i){var o=r.routable1===n.id?r.routable2:r.routable1,a=n.index.getById(o);if(a instanceof Wu.SRoutableElement)return this.getLineSegment(a,r,i)},e.prototype.getLineSegment=function(n,r,i,o){var a=o||this.edgeRouterRegistry.route(n,i),c=r.routable1===n.id?r.segmentIndex1:r.segmentIndex2;return new $L.PointToPointLine(a[c],a[c+1])},e.prototype.createJumpPath=function(n,r){var i=Gi.Point.shiftTowards(n,r.p1,this.jumpOffsetBefore),o=Gi.Point.shiftTowards(n,r.p2,this.jumpOffsetAfter),a=r.p1.x<r.p2.x?1:0;return" L "+i.x+","+i.y+" A 1,1 0,0 "+a+" "+o.x+","+o.y},e.prototype.createSkipPath=function(n,r){var i,o;n.y<r.p1.y?(i=-this.skipOffsetBefore,o=this.jumpOffsetAfter+this.skipOffsetAfter):(i=this.jumpOffsetBefore+this.skipOffsetAfter,o=-this.skipOffsetBefore);var a=Gi.Point.shiftTowards(n,r.p1,i),c=Gi.Point.shiftTowards(n,r.p2,o);return" L "+a.x+","+a.y+" M "+c.x+","+c.y},e=Xt([Qt.injectable()],e),e}(Dv);Mn.JumpingPolylineEdgeView=Tv;var HL=function(t){ji(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.skipOffsetBefore=3,n.skipOffsetAfter=3,n}return e.prototype.createJumpPath=function(n,r){return""},e.prototype.createSkipPath=function(n,r){var i=Gi.Point.shiftTowards(n,r.p1,this.skipOffsetBefore),o=Gi.Point.shiftTowards(n,r.p2,this.skipOffsetAfter);return" L "+i.x+","+i.y+" M "+o.x+","+o.y},e=Xt([Qt.injectable()],e),e}(Tv);Mn.PolylineEdgeViewWithGapsOnIntersections=HL;var KL=function(t){ji(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){var o=this.edgeRouterRegistry.route(n,i);return o.length===0?this.renderDanglingEdge("Cannot compute route",n,r):this.isVisible(n,o,r)?yt.svg("g",{"class-sprotty-edge":!0,"class-mouseover":n.hoverFeedback},this.renderLine(n,o,r,i),this.renderAdditionals(n,o,r),r.renderChildren(n,{route:o})):n.children.length===0?void 0:yt.svg("g",null,r.renderChildren(n,{route:o}))},e.prototype.renderLine=function(n,r,i,o){var a="";if(r.length>=4){a+=this.buildMainSegment(r);var c=r.length-4;if(c>0&&c%3===0)for(var s=4;s<r.length;s+=3)a+=this.addSpline(r,s)}return yt.svg("path",{d:a})},e.prototype.buildMainSegment=function(n){var r=n[0],i=n[1],o=n[2],a=n[3];return"M"+r.x+","+r.y+" C"+i.x+","+i.y+" "+o.x+","+o.y+" "+a.x+","+a.y},e.prototype.addSpline=function(n,r){var i=n[r+1],o=n[r+2];return" S"+i.x+","+i.y+" "+o.x+","+o.y},e.prototype.renderAdditionals=function(n,r,i){return[]},e.prototype.renderDanglingEdge=function(n,r,i){return yt.svg("text",{"class-sprotty-edge-dangling":!0,title:n},"?")},Xt([Qt.inject(Nr.EdgeRouterRegistry),qu("design:type",Nr.EdgeRouterRegistry)],e.prototype,"edgeRouterRegistry",void 0),e=Xt([Qt.injectable()],e),e}(xv.RoutableView);Mn.BezierCurveEdgeView=KL;var I_=function(){function t(){this.minimalPointDistance=10}return t.prototype.render=function(e,n,r){if(r&&r.route&&e.parent instanceof Wu.SRoutableElement){var i=this.edgeRouterRegistry.get(e.parent.routerKind),o=r.route===void 0?this.edgeRouterRegistry.route(e.parent,r):r.route,a=i.getHandlePosition(e.parent,o,e);if(a!==void 0){var c=yt.svg("circle",{"class-sprotty-routing-handle":!0,"class-selected":e.selected,"class-mouseover":e.hoverFeedback,cx:a.x,cy:a.y,r:this.getRadius()});return cs.setAttr(c,"data-kind",e.kind),c}}return yt.svg("g",null)},t.prototype.getRadius=function(){return 7},Xt([Qt.inject(Nr.EdgeRouterRegistry),qu("design:type",Nr.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=Xt([Qt.injectable()],t),t}();Mn.SRoutingHandleView=I_;var zL=function(t){ji(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){if(!(!YL.isEdgeLayoutable(n)&&!this.isVisible(n,r))){var i=yt.svg("text",{"class-sprotty-label":!0},n.text),o=Cv.getSubType(n);return o&&cs.setAttr(i,"class",o),i}},e=Xt([Qt.injectable()],e),e}(BL.ShapeView);Mn.SLabelView=zL;var ZL=function(){function t(){}return t.prototype.render=function(e,n,r){var i="translate("+e.bounds.x+", "+e.bounds.y+")",o=yt.svg("g",{transform:i,"class-sprotty-comp":"{true}"},n.renderChildren(e)),a=Cv.getSubType(e);return a&&cs.setAttr(o,"class",a),o},t=Xt([Qt.injectable()],t),t}();Mn.SCompartmentView=ZL;var qL=function(t){ji(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(i){var o=i.route;if(o&&n.parent instanceof Wu.SRoutableElement){var a=this.edgeRouterRegistry.get(n.parent.routerKind),c=a.getHandlePosition(n.parent,o,n);if(c!==void 0){var s="translate("+c.x+", "+c.y+")",u=-5.5,d=5.5,f=n.kind==="bezier-add"?"+":"-",_=yt.svg("g",{transform:s,"class-sprotty-routing-handle":!0,"class-selected":n.selected,"class-mouseover":n.hoverFeedback},yt.svg("circle",{r:this.getRadius()}),yt.svg("text",{x:u,y:d,"attrs-text-align":"middle","style-font-family":"monospace","style-pointer-events":"none","style-fill":"white"},f));return cs.setAttr(_,"data-kind",n.kind),_}}}return yt.svg("g",null)},e=Xt([Qt.injectable()],e),e}(I_);Mn.SBezierCreateHandleView=qL;var WL=function(t){ji(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(i){var o=i.route;if(o&&n.parent instanceof Wu.SRoutableElement){var a=this.edgeRouterRegistry.get(n.parent.routerKind),c=a.getHandlePosition(n.parent,o,n);if(c!==void 0){for(var s=void 0,u=0;u<o.length;u++){var d=o[u];if(d.kind===c.kind&&d.pointIndex===c.pointIndex){n.kind==="bezier-control-before"?s=o[u+1]:s=o[u-1];break}}var f=void 0;if(s){var _="M "+c.x+", "+c.y+" L "+s.x+", "+s.y;f=yt.svg("g",{"class-sprotty-routing-handle":!0,"class-selected":n.selected,"class-mouseover":n.hoverFeedback},yt.svg("path",{d:_,stroke:"grey","style-stroke-width":"2px"}),yt.svg("circle",{cx:c.x,cy:c.y,r:this.getRadius()}))}else f=yt.svg("circle",{"class-sprotty-routing-handle":!0,"class-selected":n.selected,"class-mouseover":n.hoverFeedback,cx:c.x,cy:c.y,r:this.getRadius()});return cs.setAttr(f,"data-kind",n.kind),f}}}return yt.svg("g",null)},e=Xt([Qt.injectable()],e),e}(I_);Mn.SBezierControlHandleView=WL;var j_={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});var GL=fe,JL=Tt,Vs=Se,XL=rs,QL=Hr,e3=new GL.ContainerModule(function(t,e,n){t(Vs.TYPES.ModelSourceProvider).toProvider(function(r){return function(){return new Promise(function(i){i(r.container.get(Vs.TYPES.ModelSource))})}}),JL.configureCommand({bind:t,isBound:n},XL.CommitModelCommand),t(Vs.TYPES.IActionHandlerInitializer).toService(Vs.TYPES.ModelSource),t(QL.ComputedBoundsApplicator).toSelf().inSingletonScope()});Gu.default=e3;var It=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j_,"__esModule",{value:!0});var t3=It(uu),n3=It(Gu),r3=It(Cu),i3=It(xu),o3=It(Du),a3=It(Tu),s3=It(Lu),c3=It(Da),il=Ro,u3=It(Uu),d3=It(Nu),l3=It(Fu),f3=It(ku),_3=It(Bu),p3=It(Yu),h3=It($u),g3=It(Vu),y3=It(Hu),m3=It(Ku),v3=It(zu),b3=It(Zu);function P3(t,e){var n=[t3.default,n3.default,r3.default,i3.default,o3.default,a3.default,s3.default,il.edgeEditModule,c3.default,u3.default,d3.default,l3.default,f3.default,il.labelEditModule,il.labelEditUiModule,_3.default,p3.default,h3.default,g3.default,y3.default,m3.default,v3.default,b3.default];if(e&&e.exclude)for(var r=0,i=e.exclude;r<i.length;r++){var o=i[r],a=n.indexOf(o);a>=0&&n.splice(a,1)}t.load.apply(t,n)}j_.loadDefaultModules=P3;var Ju={},M_={};Object.defineProperty(M_,"__esModule",{value:!0});var cc=Ka;function w3(t){var e={},n=function(a,c){var s;if(c!=="style"&&c!=="class"){var u=O3(t[c]);a?a[c]=u:a=(s={},s[c]=u,s)}return a},r=Object.keys(t).reduce(n,null);r&&(e.attrs=r);var i=R3(t);i&&(e.style=i);var o=S3(t);return o&&(e.class=o),e}function R3(t){var e=function(n,r){var i,o=r.split(":"),a=E3(o[0].trim());if(a){var c=o[1].replace("!important","").trim();n?n[a]=c:n=(i={},i[a]=c,i)}return n};try{return t.style.split(";").reduce(e,null)}catch{return null}}function S3(t){var e=function(n,r){var i;return r=r.trim(),r&&(n?n[r]=!0:n=(i={},i[r]=!0,i)),n};try{return t.class.split(" ").reduce(e,null)}catch{return null}}function E3(t){t=t.replace(/-(\w)/g,function(r,i){return i.toUpperCase()});var e=t.charAt(0).toLowerCase();return""+e+t.substring(1)}var A3=new RegExp("&[a-z0-9#]+;","gi"),Vi=null;function O3(t){return Vi||(Vi=document.createElement("div")),t.replace(A3,function(e){return Vi===null?"":(Vi.innerHTML=e,Vi.textContent===null?"":Vi.textContent)})}function I3(t,e){var n=t,r=null,i=[],o=function(s){var u=s.firstChild;u!==null&&(r=s),n=u};for(e(n,r),o(n);;){for(;n;)i.push(n),e(n,r),o(n);var a=i.pop();if(n=a||null,!i.length)break;if(r=i[i.length-1],n){var c=n.nextSibling;c==null&&(r=i[i.length-1]),n=c}}}var va=null,ol=new Map,uc=!1;function j3(t,e){var n;switch(e!==null&&(n=ol.get(e)),t==null?void 0:t.nodeType){case 1:{if(n===void 0)return;n.children=n.children?n.children:[];for(var r=n.children,i=t.attributes,o={},a=0;a<i.length;a++){var c=i.item(a);c&&(o[c.name]=c.value)}var s=cc.h(t.nodeName,w3(o));r.push(s),ol.set(t,s);break}case 3:{var u=t.textContent;if(u!==null&&n!==void 0){n.children=n.children?n.children:[];var r=n.children,d=r.length>0?r[r.length-1]:null;!uc&&typeof d!="string"&&d!==null&&d.sel===void 0?d.text=d.text+u:r.push(cc.vnode(void 0,void 0,void 0,u,void 0)),uc=!1}break}case 8:{uc=!0;break}case 9:{va=cc.vnode(void 0,void 0,[],void 0,void 0),ol.set(t,va);break}}}function M3(t){var e=t==null?void 0:t.children;return typeof e=="undefined"?null:e.length===1&&typeof e[0]!="string"?e[0]:null}function C3(t){var e,n,r=new window.DOMParser;if(r===void 0||t===void 0||t==="")return null;var i=r.parseFromString(t,"application/xml");if(((e=i==null?void 0:i.firstChild)===null||e===void 0?void 0:e.nodeName)==="parsererror"){var o=""+((n=i==null?void 0:i.firstChild)===null||n===void 0?void 0:n.textContent);return cc.h("parsererror",[o])}return uc=!1,va=null,I3(i,j3),va===null?null:M3(va)}M_.default=C3;var Cn={},mr=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Cn,"__esModule",{value:!0});var ba=nt,Lv=Ze,Jl=lt,x3=$r,D3=on,us=an,ds=yr,T3=function(t){mr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ds.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(us.SNode);Cn.CircularNode=T3;var L3=function(t){mr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ds.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(us.SNode);Cn.RectangularNode=L3;var U3=function(t){mr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ds.DIAMOND_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(us.SNode);Cn.DiamondNode=U3;var N3=function(t){mr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ds.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(us.SPort);Cn.CircularPort=N3;var F3=function(t){mr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ds.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(us.SPort);Cn.RectangularPort=F3;var k3=function(t){mr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.classes=[],n}return e}(Lv.SModelRoot);Cn.HtmlRoot=k3;var Uv=function(t){mr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Lv.SChildElement);Cn.PreRenderedElement=Uv;var Nv=function(t){mr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.position=ba.Point.ORIGIN,n.size=ba.Dimension.EMPTY,n.selected=!1,n.alignment=ba.Point.ORIGIN,n}return Object.defineProperty(e.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(n){this.position={x:n.x,y:n.y},this.size={width:n.width,height:n.height}},enumerable:!0,configurable:!0}),e.DEFAULT_FEATURES=[x3.moveFeature,Jl.boundsFeature,D3.selectFeature,Jl.alignFeature],e}(Uv);Cn.ShapedPreRenderedElement=Nv;var B3=function(t){mr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"bounds",{get:function(){return ba.Dimension.isValid(this.size)?{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}:Jl.isBoundsAware(this.parent)?{x:this.position.x,y:this.position.y,width:this.parent.bounds.width,height:this.parent.bounds.height}:ba.Bounds.EMPTY},enumerable:!0,configurable:!0}),e}(Nv);Cn.ForeignObjectElement=B3;var Y3=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fv=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},$3=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ju,"__esModule",{value:!0});var Zg=rn,kv=fe,Bv=$3(M_),Xl=pt,V3=go,H3=Cn,K3=function(t){Y3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){if(!(n instanceof H3.ShapedPreRenderedElement&&!this.isVisible(n,r))){var i=Bv.default(n.code);if(i!==null)return this.correctNamespace(i),i}},e.prototype.correctNamespace=function(n){(n.sel==="svg"||n.sel==="g")&&Xl.setNamespace(n,"http://www.w3.org/2000/svg")},e=Fv([kv.injectable()],e),e}(V3.ShapeView);Ju.PreRenderedView=K3;var z3=function(){function t(){}return t.prototype.render=function(e,n){var r=Bv.default(e.code);if(r!==null){var i=Zg.svg("g",null,Zg.svg("foreignObject",{requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",height:e.bounds.height,width:e.bounds.width,x:0,y:0},r),n.renderChildren(e));return Xl.setAttr(i,"class",e.type),Xl.setNamespace(r,e.namespace),i}},t=Fv([kv.injectable()],t),t}();Ju.ForeignObjectView=z3;var C_={},Z3=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(C_,"__esModule",{value:!0});var q3=rn,W3=fe,G3=pt,J3=function(){function t(){}return t.prototype.render=function(e,n){for(var r=q3.html("div",null,n.renderChildren(e)),i=0,o=e.classes;i<o.length;i++){var a=o[i];G3.setClass(r,a,!0)}return r},t=Z3([W3.injectable()],t),t}();C_.HtmlRootView=J3;var Mi={},x_={exports:{}};(function(t,e){(function(n,r){r()})(w,function(){function n(u,d){return typeof d=="undefined"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,f){var _=new XMLHttpRequest;_.open("GET",u),_.responseType="blob",_.onload=function(){s(_.response,d,f)},_.onerror=function(){console.error("could not download file")},_.send()}function i(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof w=="object"&&w.global===w?w:void 0,c=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,d,f){var _=a.URL||a.webkitURL,y=document.createElement("a");d=d||u.name||"download",y.download=d,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?o(y):i(y.href)?r(u,d,f):o(y,y.target="_blank")):(y.href=_.createObjectURL(u),setTimeout(function(){_.revokeObjectURL(y.href)},4e4),setTimeout(function(){o(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,f){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),d);else if(i(u))r(u,d,f);else{var _=document.createElement("a");_.href=u,_.target="_blank",setTimeout(function(){o(_)})}}:function(u,d,f,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,f);var y=u.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||y&&g||c)&&typeof FileReader!="undefined"){var m=new FileReader;m.onloadend=function(){var p=m.result;p=v?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=p:location=p,_=null},m.readAsDataURL(u)}else{var h=a.URL||a.webkitURL,b=h.createObjectURL(u);_?_.location=b:location.href=b,_=null,setTimeout(function(){h.revokeObjectURL(b)},4e4)}});a.saveAs=s.saveAs=s,t.exports=s})})(x_);var X3=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pa=w&&w.__assign||function(){return Pa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pa.apply(this,arguments)},al=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},qg=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Mi,"__esModule",{value:!0});var Q3=x_.exports,sl=fe,jr=St,eU=gn,Wg=mi,tU=Se,cl=er,nU=Si,rU=Ru,Gg=Io,ul=Hr;function Yv(t){return eU.hasOwnProperty(t,"action")}Mi.isActionMessage=Yv;var Ql=function(){function t(){this.kind=t.KIND}return t.KIND="serverStatus",t}();Mi.ServerStatusAction=Ql;var Jg="__receivedFromServer",$v=function(t){X3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.currentRoot={type:"NONE",id:"ROOT"},n}return e.prototype.initialize=function(n){t.prototype.initialize.call(this,n),n.register(jr.ComputedBoundsAction.KIND,this),n.register(cl.RequestBoundsCommand.KIND,this),n.register(jr.RequestPopupModelAction.KIND,this),n.register(jr.CollapseExpandAction.KIND,this),n.register(jr.CollapseExpandAllAction.KIND,this),n.register(rU.OpenAction.KIND,this),n.register(Ql.KIND,this),this.clientId||(this.clientId=this.viewerOptions.baseDiv)},e.prototype.handle=function(n){var r=this.handleLocally(n);r&&this.forwardToServer(n)},e.prototype.forwardToServer=function(n){var r={clientId:this.clientId,action:n};this.logger.log(this,"sending",r),this.sendMessage(r)},e.prototype.messageReceived=function(n){var r=this,i=typeof n=="string"?JSON.parse(n):n;Yv(i)&&i.action?(!i.clientId||i.clientId===this.clientId)&&(i.action[Jg]=!0,this.logger.log(this,"receiving",i),this.actionDispatcher.dispatch(i.action).then(function(){r.storeNewModel(i.action)})):this.logger.error(this,"received data is not an action message",i)},e.prototype.handleLocally=function(n){switch(this.storeNewModel(n),n.kind){case jr.ComputedBoundsAction.KIND:return this.handleComputedBounds(n);case jr.RequestModelAction.KIND:return this.handleRequestModel(n);case cl.RequestBoundsCommand.KIND:return!1;case nU.ExportSvgAction.KIND:return this.handleExportSvgAction(n);case Ql.KIND:return this.handleServerStateAction(n)}return!n[Jg]},e.prototype.storeNewModel=function(n){if(n.kind===Wg.SetModelCommand.KIND||n.kind===Gg.UpdateModelCommand.KIND||n.kind===cl.RequestBoundsCommand.KIND){var r=n.newRoot;r&&(this.currentRoot=r,(n.kind===Wg.SetModelCommand.KIND||n.kind===Gg.UpdateModelCommand.KIND)&&(this.lastSubmittedModelType=r.type))}},e.prototype.handleRequestModel=function(n){var r=Pa({needsClientLayout:this.viewerOptions.needsClientLayout,needsServerLayout:this.viewerOptions.needsServerLayout},n.options),i=Pa(Pa({},n),{options:r});return this.forwardToServer(i),!1},e.prototype.handleComputedBounds=function(n){if(this.viewerOptions.needsServerLayout)return!0;var r=this.currentRoot;return this.computedBoundsApplicator.apply(r,n),r.type===this.lastSubmittedModelType?this.actionDispatcher.dispatch(jr.UpdateModelAction.create(r)):this.actionDispatcher.dispatch(jr.SetModelAction.create(r)),this.lastSubmittedModelType=r.type,!1},e.prototype.handleExportSvgAction=function(n){var r=new Blob([n.svg],{type:"text/plain;charset=utf-8"});return Q3.saveAs(r,"diagram.svg"),!1},e.prototype.handleServerStateAction=function(n){return!1},e.prototype.commitModel=function(n){var r=this.currentRoot;return this.currentRoot=n,r},al([sl.inject(tU.TYPES.ILogger),qg("design:type",Object)],e.prototype,"logger",void 0),al([sl.inject(ul.ComputedBoundsApplicator),qg("design:type",ul.ComputedBoundsApplicator)],e.prototype,"computedBoundsApplicator",void 0),e=al([sl.injectable()],e),e}(ul.ModelSource);Mi.DiagramServerProxy=$v;Mi.DiagramServer=$v;var D_={},iU=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ia=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Hs=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Ks=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},zs=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(D_,"__esModule",{value:!0});var oU=x_.exports,ri=fe,Tn=St,Xg=nn,dl=Se,aU=en,sU=jo,cU=Si,uU=Ii,dU=Au,ll=Hr,lU=function(t){iU(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.currentRoot=aU.EMPTY_ROOT,n}return Object.defineProperty(e.prototype,"model",{get:function(){return this.currentRoot},set:function(n){this.setModel(n)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(n){t.prototype.initialize.call(this,n),n.register(Tn.ComputedBoundsAction.KIND,this),n.register(Tn.RequestPopupModelAction.KIND,this)},e.prototype.setModel=function(n){return this.currentRoot=n,this.submitModel(n,!1)},e.prototype.commitModel=function(n){var r=this.currentRoot;return this.currentRoot=n,r},e.prototype.updateModel=function(n){return n===void 0?this.submitModel(this.currentRoot,!0):(this.currentRoot=n,this.submitModel(n,!0))},e.prototype.getSelection=function(){return Ks(this,void 0,void 0,function(){var n,r;return zs(this,function(i){switch(i.label){case 0:return[4,this.actionDispatcher.request(dU.GetSelectionAction.create())];case 1:return n=i.sent(),r=[],this.gatherSelectedElements(this.currentRoot,new Set(n.selectedElementsIDs),r),[2,r]}})})},e.prototype.gatherSelectedElements=function(n,r,i){if(r.has(n.id)&&i.push(n),n.children)for(var o=0,a=n.children;o<a.length;o++){var c=a[o];this.gatherSelectedElements(c,r,i)}},e.prototype.getViewport=function(){return Ks(this,void 0,void 0,function(){var n;return zs(this,function(r){switch(r.label){case 0:return[4,this.actionDispatcher.request(sU.GetViewportAction.create())];case 1:return n=r.sent(),[2,{scroll:n.viewport.scroll,zoom:n.viewport.zoom,canvasBounds:n.canvasBounds}]}})})},e.prototype.submitModel=function(n,r,i){return Ks(this,void 0,void 0,function(){var o,a;return zs(this,function(c){switch(c.label){case 0:return this.viewerOptions.needsClientLayout?[4,this.actionDispatcher.request(Tn.RequestBoundsAction.create(n))]:[3,3];case 1:return o=c.sent(),a=this.computedBoundsApplicator.apply(this.currentRoot,o),[4,this.doSubmitModel(n,!0,i,a)];case 2:return c.sent(),[3,5];case 3:return[4,this.doSubmitModel(n,r,i)];case 4:c.sent(),c.label=5;case 5:return[2]}})})},e.prototype.doSubmitModel=function(n,r,i,o){return Ks(this,void 0,void 0,function(){var a,c,s,u,d;return zs(this,function(f){switch(f.label){case 0:if(this.layoutEngine===void 0)return[3,6];f.label=1;case 1:return f.trys.push([1,5,,6]),a=this.layoutEngine.layout(n,o),a instanceof Promise?[4,a]:[3,3];case 2:return n=f.sent(),[3,4];case 3:a!==void 0&&(n=a),f.label=4;case 4:return[3,6];case 5:return c=f.sent(),this.logger.error(this,c.toString(),c.stack),[3,6];case 6:return s=this.lastSubmittedModelType,this.lastSubmittedModelType=n.type,i&&i.kind===Tn.RequestModelAction.KIND&&i.requestId?(u=i,[4,this.actionDispatcher.dispatch(Tn.SetModelAction.create(n,u.requestId))]):[3,8];case 7:return f.sent(),[3,12];case 8:return r&&n.type===s?(d=Array.isArray(r)?r:n,[4,this.actionDispatcher.dispatch(Tn.UpdateModelAction.create(d,{animate:!0,cause:i}))]):[3,10];case 9:return f.sent(),[3,12];case 10:return[4,this.actionDispatcher.dispatch(Tn.SetModelAction.create(n))];case 11:f.sent(),f.label=12;case 12:return[2]}})})},e.prototype.applyMatches=function(n){var r=this.currentRoot;return uU.applyMatches(r,n),this.submitModel(r,n)},e.prototype.addElements=function(n){for(var r=[],i=0,o=n;i<o.length;i++){var a=o[i],c=a;c.element!==void 0&&c.parentId!==void 0?r.push({right:c.element,rightParentId:c.parentId}):c.id!==void 0&&r.push({right:c,rightParentId:this.currentRoot.id})}return this.applyMatches(r)},e.prototype.removeElements=function(n){var r=[],i=new Xg.SModelIndex;i.add(this.currentRoot);for(var o=0,a=n;o<a.length;o++){var c=a[o],s=c;if(s.elementId!==void 0&&s.parentId!==void 0){var u=i.getById(s.elementId);u!==void 0&&r.push({left:u,leftParentId:s.parentId})}else{var u=i.getById(s);u!==void 0&&r.push({left:u,leftParentId:this.currentRoot.id})}}return this.applyMatches(r)},e.prototype.handle=function(n){switch(n.kind){case Tn.RequestModelAction.KIND:this.handleRequestModel(n);break;case Tn.ComputedBoundsAction.KIND:this.computedBoundsApplicator.apply(this.currentRoot,n);break;case Tn.RequestPopupModelAction.KIND:this.handleRequestPopupModel(n);break;case cU.ExportSvgAction.KIND:this.handleExportSvgAction(n);break}},e.prototype.handleRequestModel=function(n){this.submitModel(this.currentRoot,!1,n)},e.prototype.handleRequestPopupModel=function(n){if(this.popupModelProvider!==void 0){var r=Xg.findElement(this.currentRoot,n.elementId),i=this.popupModelProvider.getPopupModel(n,r);i!==void 0&&(i.canvasBounds=n.bounds,this.actionDispatcher.dispatch(Tn.SetPopupModelAction.create(i,n.requestId)))}},e.prototype.handleExportSvgAction=function(n){var r=new Blob([n.svg],{type:"text/plain;charset=utf-8"});oU.saveAs(r,"diagram.svg")},ia([ri.inject(dl.TYPES.ILogger),Hs("design:type",Object)],e.prototype,"logger",void 0),ia([ri.inject(ll.ComputedBoundsApplicator),Hs("design:type",ll.ComputedBoundsApplicator)],e.prototype,"computedBoundsApplicator",void 0),ia([ri.inject(dl.TYPES.IPopupModelProvider),ri.optional(),Hs("design:type",Object)],e.prototype,"popupModelProvider",void 0),ia([ri.inject(dl.TYPES.IModelLayoutEngine),ri.optional(),Hs("design:type",Object)],e.prototype,"layoutEngine",void 0),e=ia([ri.injectable()],e),e}(ll.ModelSource);D_.LocalModelSource=lU;var Vv={};(function(t){var e=w&&w.__assign||function(){return e=Object.assign||function(d){for(var f,_=1,y=arguments.length;_<y;_++){f=arguments[_];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(d[g]=f[g])}return d},e.apply(this,arguments)},n=w&&w.__decorate||function(d,f,_,y){var g=arguments.length,v=g<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,_):y,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,f,_,y);else for(var h=d.length-1;h>=0;h--)(m=d[h])&&(v=(g<3?m(v):g>3?m(f,_,v):m(f,_))||v);return g>3&&v&&Object.defineProperty(f,_,v),v},r=w&&w.__metadata||function(d,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,f)},i=w&&w.__spreadArrays||function(){for(var d=0,f=0,_=arguments.length;f<_;f++)d+=arguments[f].length;for(var y=Array(d),g=0,f=0;f<_;f++)for(var v=arguments[f],m=0,h=v.length;m<h;m++,g++)y[g]=v[m];return y};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=du,c=Se,s;(function(d){d.KIND="logging";function f(_){return e({kind:d.KIND},_)}d.create=f})(s=t.LoggingAction||(t.LoggingAction={}));var u=function(){function d(){}return d.prototype.error=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];this.logLevel>=a.LogLevel.error&&this.forward(f,_,a.LogLevel.error,y)},d.prototype.warn=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];this.logLevel>=a.LogLevel.warn&&this.forward(f,_,a.LogLevel.warn,y)},d.prototype.info=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];this.logLevel>=a.LogLevel.info&&this.forward(f,_,a.LogLevel.info,y)},d.prototype.log=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];if(this.logLevel>=a.LogLevel.log)try{var v=typeof f=="object"?f.constructor.name:String(f);console.log.apply(f,i([v+": "+_],y))}catch{}},d.prototype.forward=function(f,_,y,g){var v=new Date,m=s.create({message:_,severity:a.LogLevel[y],time:v.toLocaleTimeString(),caller:typeof f=="object"?f.constructor.name:String(f),params:g.map(function(h){return JSON.stringify(h)})});this.modelSourceProvider().then(function(h){try{h.handle(m)}catch(b){try{console.log.apply(f,[_,m,b])}catch{}}})},n([o.inject(c.TYPES.ModelSourceProvider),r("design:type",Function)],d.prototype,"modelSourceProvider",void 0),n([o.inject(c.TYPES.LogLevel),r("design:type",Number)],d.prototype,"logLevel",void 0),d=n([o.injectable()],d),d}();t.ForwardingLogger=u})(Vv);var Xu={},fU=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_U=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Xu,"__esModule",{value:!0});var pU=fe,hU=Mi,Hv=function(t){fU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.listen=function(n){var r=this;n.addEventListener("message",function(i){r.messageReceived(i.data)}),n.addEventListener("error",function(i){r.logger.error(r,"error event received",i)}),this.webSocket=n},e.prototype.disconnect=function(){this.webSocket&&(this.webSocket.close(),this.webSocket=void 0)},e.prototype.sendMessage=function(n){if(this.webSocket)this.webSocket.send(JSON.stringify(n));else throw new Error("WebSocket is not connected")},e=_U([pU.injectable()],e),e}(hU.DiagramServerProxy);Xu.WebSocketDiagramServerProxy=Hv;Xu.WebSocketDiagramServer=Hv;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});function gU(t,e,n){return{red:t,green:e,blue:n}}ls.rgb=gU;function yU(t){return"rgb("+t.red+","+t.green+","+t.blue+")"}ls.toSVG=yU;var mU=function(){function t(e){this.stops=e}return t.prototype.getColor=function(e){e=Math.max(0,Math.min(.99999999,e));var n=Math.floor(e*this.stops.length);return this.stops[n]},t}();ls.ColorMap=mU;(function(t){function e(U){for(var M in U)t.hasOwnProperty(M)||(t[M]=U[M])}var n=w&&w.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(t,"__esModule",{value:!0}),e(Bn),e(La),e(kr),e(tu),e(gi),e(gr),e(nu),e(at),e(Tt),e(Ff),e(ru),e(Ya),e(mi),e(en),e(gt),e(Ze),e(ho),e(iu),e($a),e(Va),e(yn),e(Lt),e(Ha),e(jn),e(au),e(Vf),e(Br),e(cu),e(pt),e(Se);var r=n(uu);t.defaultModule=r.default,e(er),e(za),e(Yr),e(lt),e(lu),e(fu),e(_u),e(go),e(qa),e(Wa),e(mo),e(Ga),e(qf),e(vo),e(pu),e(Da),e(hu),e(bo),e(_v),e(Gf),e(Ro),e(bi),e(yu),e(ns),e(is),e(Po),e(mu),e(So),e(vu),e(e_),e(t_),e(gu),e(Si),e(Eo),e(yo),e(n_),e(Pi),e(bu),e(Pu),e(wu),e(Ai),e(Yn),e($r),e(os),e(r_),e(zf),e(Ru),e(i_),e(Kr),e(o_),e(yr),e(Qa),e(Ao),e(Su),e(Oo),e(as),e(bt),e(Oi),e(wo),e(mn),e(Eu),e(on),e(Au),e(Qc),e(Ii),e(Io),e(nr),e(tr),e(ss),e(Ja),e(jo),e(Ei),e(Iu);var i=n(E_);t.graphModule=i.default;var o=n(Cu);t.boundsModule=o.default;var a=n(xu);t.buttonModule=a.default;var c=n(Du);t.commandPaletteModule=c.default;var s=n(Tu);t.contextMenuModule=s.default;var u=n(Lu);t.decorationModule=u.default;var d=n(A_);t.edgeIntersectionModule=d.default;var f=n(Da);t.edgeLayoutModule=f.default;var _=n(Uu);t.expandModule=_.default;var y=n(Nu);t.exportModule=y.default;var g=n(Fu);t.fadeModule=g.default;var v=n(ku);t.hoverModule=v.default;var m=n(Bu);t.moveModule=m.default;var h=n(Yu);t.openModule=h.default;var b=n($u);t.routingModule=b.default;var p=n(Vu);t.selectModule=p.default;var R=n(Hu);t.undoRedoModule=R.default;var O=n(Ku);t.updateModule=O.default;var A=n(zu);t.viewportModule=A.default;var I=n(Zu);t.zorderModule=I.default,e(Mu),e(an),e(Mn),e(j_),e(Ju),e(C_),e(rn),e(Cn),e(Vr),e(rs),e(Mi),e(D_),e(Vv),e(Hr),e(Xu);var j=n(Gu);t.modelSourceModule=j.default,e(qt),e(Zf),e(ls),e(Ri),e(yi),e(du),e(tn)})(dt);var T_={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={3915:(a,c,s)=>{a.exports=s(3366)},2010:(a,c,s)=>{a.exports=s(2038)},4559:(a,c,s)=>{a.exports=s(9842)},1884:(a,c,s)=>{a.exports=s(4263)},9837:(a,c,s)=>{a.exports=s(7757)},7423:(a,c,s)=>{a.exports=s(6970)},5391:(a,c,s)=>{a.exports=s(5838)},5268:(a,c,s)=>{a.exports=s(9053)},6028:(a,c,s)=>{a.exports=s(671)},5157:(a,c,s)=>{a.exports=s(2672)},5407:(a,c,s)=>{a.exports=s(925)},3033:(a,c,s)=>{a.exports=s(8900)},3815:(a,c,s)=>{a.exports=s(9229)},2926:(a,c,s)=>{a.exports=s(995)},1246:(a,c,s)=>{a.exports=s(8730)},3576:(a,c,s)=>{a.exports=s(1066)},5629:(a,c,s)=>{a.exports=s(8531)},337:(a,c,s)=>{a.exports=s(3751)},2250:(a,c,s)=>{a.exports=s(4731)},1022:(a,c,s)=>{a.exports=s(3394)},7093:(a,c,s)=>{a.exports=s(7391)},3933:(a,c,s)=>{a.exports=s(5390)},5534:(a,c,s)=>{a.exports=s(5213)},4215:(a,c,s)=>{a.exports=s(156)},6496:(a,c,s)=>{a.exports=s(7754)},2043:(a,c,s)=>{a.exports=s(6248)},3641:(a,c,s)=>{s(3075);var u=s(2018);a.exports=u("Array").concat},9984:(a,c,s)=>{s(4458);var u=s(2018);a.exports=u("Array").copyWithin},6678:(a,c,s)=>{s(7042);var u=s(2018);a.exports=u("Array").forEach},3147:(a,c,s)=>{s(7670);var u=s(2018);a.exports=u("Array").includes},5197:(a,c,s)=>{s(194);var u=s(2018);a.exports=u("Array").indexOf},5958:(a,c,s)=>{s(5280);var u=s(2018);a.exports=u("Array").lastIndexOf},1001:(a,c,s)=>{s(5313);var u=s(2018);a.exports=u("Array").slice},5441:(a,c,s)=>{s(9177);var u=s(9081);a.exports=u.Date.now},4248:(a,c,s)=>{s(7157);var u=s(2018);a.exports=u("Function").bind},4452:(a,c,s)=>{var u=s(4248),d=Function.prototype;a.exports=function(f){var _=f.bind;return f===d||f instanceof Function&&_===d.bind?u:_}},7543:(a,c,s)=>{var u=s(3641),d=Array.prototype;a.exports=function(f){var _=f.concat;return f===d||f instanceof Array&&_===d.concat?u:_}},4571:(a,c,s)=>{var u=s(9984),d=Array.prototype;a.exports=function(f){var _=f.copyWithin;return f===d||f instanceof Array&&_===d.copyWithin?u:_}},9109:(a,c,s)=>{var u=s(3147),d=s(5520),f=Array.prototype,_=String.prototype;a.exports=function(y){var g=y.includes;return y===f||y instanceof Array&&g===f.includes?u:typeof y=="string"||y===_||y instanceof String&&g===_.includes?d:g}},4825:(a,c,s)=>{var u=s(5197),d=Array.prototype;a.exports=function(f){var _=f.indexOf;return f===d||f instanceof Array&&_===d.indexOf?u:_}},3742:(a,c,s)=>{var u=s(5958),d=Array.prototype;a.exports=function(f){var _=f.lastIndexOf;return f===d||f instanceof Array&&_===d.lastIndexOf?u:_}},1285:(a,c,s)=>{var u=s(1001),d=Array.prototype;a.exports=function(f){var _=f.slice;return f===d||f instanceof Array&&_===d.slice?u:_}},1879:(a,c,s)=>{var u=s(4840),d=String.prototype;a.exports=function(f){var _=f.startsWith;return typeof f=="string"||f===d||f instanceof String&&_===d.startsWith?u:_}},3411:(a,c,s)=>{s(5670);var u=s(9081);a.exports=u.Math.clz32},8159:(a,c,s)=>{s(5098);var u=s(9081);a.exports=u.Math.fround},8410:(a,c,s)=>{s(2556);var u=s(9081);a.exports=u.Math.imul},7209:(a,c,s)=>{s(6554);var u=s(9081);a.exports=u.Math.trunc},2529:(a,c,s)=>{s(8524);var u=s(9081);a.exports=u.Object.assign},5886:(a,c,s)=>{s(7559);var u=s(9081).Object;a.exports=function(d,f){return u.create(d,f)}},6854:(a,c,s)=>{s(6764);var u=s(9081).Object,d=a.exports=function(f,_,y){return u.defineProperty(f,_,y)};u.defineProperty.sham&&(d.sham=!0)},2744:(a,c,s)=>{s(554);var u=s(9081).Object,d=a.exports=function(f,_){return u.getOwnPropertyDescriptor(f,_)};u.getOwnPropertyDescriptor.sham&&(d.sham=!0)},7281:(a,c,s)=>{s(6454),s(2228),s(2575),s(3658),s(4465),s(8359),s(5203),s(8109);var u=s(9081);a.exports=u.Promise},5520:(a,c,s)=>{s(688);var u=s(2018);a.exports=u("String").includes},4840:(a,c,s)=>{s(6525);var u=s(2018);a.exports=u("String").startsWith},1442:(a,c,s)=>{s(3075),s(2575),s(8318),s(5762),s(2181),s(8848),s(3719),s(2362),s(346),s(888),s(909),s(1992),s(8512),s(6165),s(6044),s(4676),s(263),s(3596),s(1227),s(6268);var u=s(9081);a.exports=u.Symbol},1190:(a,c,s)=>{s(2228),s(2575),s(8109),s(2362);var u=s(3379);a.exports=u.f("iterator")},9490:(a,c,s)=>{s(2228),s(2575),s(5124);var u=s(9081);a.exports=u.WeakMap},5213:(a,c,s)=>{var u=s(4731);s(1152),s(8561),s(5543),s(8302),a.exports=u},156:(a,c,s)=>{var u=s(3355);s(8812),s(9085),s(7384),s(4719),s(2994),s(9431),s(4803),a.exports=u},7754:(a,c,s)=>{var u=s(6888);a.exports=u},5222:(a,c,s)=>{var u=s(8307),d=s(7265);a.exports=function(f){if(u(f))return f;throw TypeError(d(f)+" is not a function")}},2736:(a,c,s)=>{var u=s(1775),d=s(7265);a.exports=function(f){if(u(f))return f;throw TypeError(d(f)+" is not a constructor")}},9154:(a,c,s)=>{var u=s(8307);a.exports=function(d){if(typeof d=="object"||u(d))return d;throw TypeError("Can't set "+String(d)+" as a prototype")}},7710:a=>{a.exports=function(){}},8792:a=>{a.exports=function(c,s,u){if(c instanceof s)return c;throw TypeError("Incorrect "+(u?u+" ":"")+"invocation")}},1912:(a,c,s)=>{var u=s(3359);a.exports=function(d){if(u(d))return d;throw TypeError(String(d)+" is not an object")}},8303:(a,c,s)=>{var u=s(2058),d=s(3055),f=s(9876),_=Math.min;a.exports=[].copyWithin||function(y,g){var v=u(this),m=f(v),h=d(y,m),b=d(g,m),p=arguments.length>2?arguments[2]:void 0,R=_((p===void 0?m:d(p,m))-b,m-h),O=1;for(b<h&&h<b+R&&(O=-1,b+=R-1,h+=R-1);R-- >0;)b in v?v[h]=v[b]:delete v[h],h+=O,b+=O;return v}},5621:(a,c,s)=>{var u=s(4206).forEach,d=s(6628)("forEach");a.exports=d?[].forEach:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}},7075:(a,c,s)=>{var u=s(3861),d=s(3055),f=s(9876),_=function(y){return function(g,v,m){var h,b=u(g),p=f(b),R=d(m,p);if(y&&v!=v){for(;p>R;)if((h=b[R++])!=h)return!0}else for(;p>R;R++)if((y||R in b)&&b[R]===v)return y||R||0;return!y&&-1}};a.exports={includes:_(!0),indexOf:_(!1)}},4206:(a,c,s)=>{var u=s(7673),d=s(1251),f=s(2058),_=s(9876),y=s(8136),g=[].push,v=function(m){var h=m==1,b=m==2,p=m==3,R=m==4,O=m==6,A=m==7,I=m==5||O;return function(j,U,M,x){for(var D,V,q=f(j),ee=d(q),ne=u(U,M,3),se=_(ee),G=0,Z=x||y,K=h?Z(j,se):b||A?Z(j,0):void 0;se>G;G++)if((I||G in ee)&&(V=ne(D=ee[G],G,q),m))if(h)K[G]=V;else if(V)switch(m){case 3:return!0;case 5:return D;case 6:return G;case 2:g.call(K,D)}else switch(m){case 4:return!1;case 7:g.call(K,D)}return O?-1:p||R?R:K}};a.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},7965:(a,c,s)=>{var u=s(3861),d=s(5511),f=s(9876),_=s(6628),y=Math.min,g=[].lastIndexOf,v=!!g&&1/[1].lastIndexOf(1,-0)<0,m=_("lastIndexOf"),h=v||!m;a.exports=h?function(b){if(v)return g.apply(this,arguments)||0;var p=u(this),R=f(p),O=R-1;for(arguments.length>1&&(O=y(O,d(arguments[1]))),O<0&&(O=R+O);O>=0;O--)if(O in p&&p[O]===b)return O||0;return-1}:g},2143:(a,c,s)=>{var u=s(6530),d=s(5712),f=s(8233),_=d("species");a.exports=function(y){return f>=51||!u(function(){var g=[];return(g.constructor={})[_]=function(){return{foo:1}},g[y](Boolean).foo!==1})}},6628:(a,c,s)=>{var u=s(6530);a.exports=function(d,f){var _=[][d];return!!_&&u(function(){_.call(null,f||function(){throw 1},1)})}},3400:(a,c,s)=>{var u=s(1054),d=s(1775),f=s(3359),_=s(5712)("species");a.exports=function(y){var g;return u(y)&&(g=y.constructor,(d(g)&&(g===Array||u(g.prototype))||f(g)&&(g=g[_])===null)&&(g=void 0)),g===void 0?Array:g}},8136:(a,c,s)=>{var u=s(3400);a.exports=function(d,f){return new(u(d))(f===0?0:f)}},8908:(a,c,s)=>{var u=s(5712)("iterator"),d=!1;try{var f=0,_={next:function(){return{done:!!f++}},return:function(){d=!0}};_[u]=function(){return this},Array.from(_,function(){throw 2})}catch{}a.exports=function(y,g){if(!g&&!d)return!1;var v=!1;try{var m={};m[u]=function(){return{next:function(){return{done:v=!0}}}},y(m)}catch{}return v}},1570:a=>{var c={}.toString;a.exports=function(s){return c.call(s).slice(8,-1)}},7499:(a,c,s)=>{var u=s(8889),d=s(8307),f=s(1570),_=s(5712)("toStringTag"),y=f(function(){return arguments}())=="Arguments";a.exports=u?f:function(g){var v,m,h;return g===void 0?"Undefined":g===null?"Null":typeof(m=function(b,p){try{return b[p]}catch{}}(v=Object(g),_))=="string"?m:y?f(v):(h=f(v))=="Object"&&d(v.callee)?"Arguments":h}},240:(a,c,s)=>{var u=s(9248),d=s(9446).getWeakData,f=s(1912),_=s(3359),y=s(8792),g=s(3906),v=s(4206),m=s(5584),h=s(5875),b=h.set,p=h.getterFor,R=v.find,O=v.findIndex,A=0,I=function(M){return M.frozen||(M.frozen=new j)},j=function(){this.entries=[]},U=function(M,x){return R(M.entries,function(D){return D[0]===x})};j.prototype={get:function(M){var x=U(this,M);if(x)return x[1]},has:function(M){return!!U(this,M)},set:function(M,x){var D=U(this,M);D?D[1]=x:this.entries.push([M,x])},delete:function(M){var x=O(this.entries,function(D){return D[0]===M});return~x&&this.entries.splice(x,1),!!~x}},a.exports={getConstructor:function(M,x,D,V){var q=M(function(se,G){y(se,q,x),b(se,{type:x,id:A++,frozen:void 0}),G!=null&&g(G,se[V],{that:se,AS_ENTRIES:D})}),ee=p(x),ne=function(se,G,Z){var K=ee(se),B=d(f(G),!0);return B===!0?I(K).set(G,Z):B[K.id]=Z,se};return u(q.prototype,{delete:function(se){var G=ee(this);if(!_(se))return!1;var Z=d(se);return Z===!0?I(G).delete(se):Z&&m(Z,G.id)&&delete Z[G.id]},has:function(se){var G=ee(this);if(!_(se))return!1;var Z=d(se);return Z===!0?I(G).has(se):Z&&m(Z,G.id)}}),u(q.prototype,D?{get:function(se){var G=ee(this);if(_(se)){var Z=d(se);return Z===!0?I(G).get(se):Z?Z[G.id]:void 0}},set:function(se,G){return ne(this,se,G)}}:{add:function(se){return ne(this,se,!0)}}),q}}},1390:(a,c,s)=>{var u=s(390),d=s(2868),f=s(9446),_=s(6530),y=s(8518),g=s(3906),v=s(8792),m=s(8307),h=s(3359),b=s(6738),p=s(7550).f,R=s(4206).forEach,O=s(7001),A=s(5875),I=A.set,j=A.getterFor;a.exports=function(U,M,x){var D,V=U.indexOf("Map")!==-1,q=U.indexOf("Weak")!==-1,ee=V?"set":"add",ne=d[U],se=ne&&ne.prototype,G={};if(O&&m(ne)&&(q||se.forEach&&!_(function(){new ne().entries().next()}))){D=M(function(K,B){I(v(K,D,U),{type:U,collection:new ne}),B!=null&&g(B,K[ee],{that:K,AS_ENTRIES:V})});var Z=j(U);R(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(K){var B=K=="add"||K=="set";!(K in se)||q&&K=="clear"||y(D.prototype,K,function(Y,L){var C=Z(this).collection;if(!B&&q&&!h(Y))return K=="get"&&void 0;var W=C[K](Y===0?0:Y,L);return B?this:W})}),q||p(D.prototype,"size",{configurable:!0,get:function(){return Z(this).collection.size}})}else D=x.getConstructor(M,U,V,ee),f.enable();return b(D,U,!1,!0),G[U]=D,u({global:!0,forced:!0},G),q||x.setStrong(D,U,V),D}},4498:(a,c,s)=>{var u=s(5584),d=s(5340),f=s(5904),_=s(7550);a.exports=function(y,g){for(var v=d(g),m=_.f,h=f.f,b=0;b<v.length;b++){var p=v[b];u(y,p)||m(y,p,h(g,p))}}},1722:(a,c,s)=>{var u=s(5712)("match");a.exports=function(d){var f=/./;try{"/./"[d](f)}catch{try{return f[u]=!1,"/./"[d](f)}catch{}}return!1}},872:(a,c,s)=>{var u=s(6530);a.exports=!u(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},8611:(a,c,s)=>{var u=s(7300).IteratorPrototype,d=s(2491),f=s(5595),_=s(6738),y=s(9418),g=function(){return this};a.exports=function(v,m,h){var b=m+" Iterator";return v.prototype=d(u,{next:f(1,h)}),_(v,b,!1,!0),y[b]=g,v}},8518:(a,c,s)=>{var u=s(7001),d=s(7550),f=s(5595);a.exports=u?function(_,y,g){return d.f(_,y,f(1,g))}:function(_,y,g){return _[y]=g,_}},5595:a=>{a.exports=function(c,s){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:s}}},409:(a,c,s)=>{var u=s(5623),d=s(7550),f=s(5595);a.exports=function(_,y,g){var v=u(y);v in _?d.f(_,v,f(0,g)):_[v]=g}},8277:(a,c,s)=>{var u=s(390),d=s(8367),f=s(7730),_=s(8307),y=s(8611),g=s(2629),v=s(5255),m=s(6738),h=s(8518),b=s(9791),p=s(5712),R=s(9418),O=s(7300),A=f.PROPER,I=f.CONFIGURABLE,j=O.IteratorPrototype,U=O.BUGGY_SAFARI_ITERATORS,M=p("iterator"),x="keys",D="values",V="entries",q=function(){return this};a.exports=function(ee,ne,se,G,Z,K,B){y(se,ne,G);var Y,L,C,W=function(Me){if(Me===Z&&Ae)return Ae;if(!U&&Me in ge)return ge[Me];switch(Me){case x:case D:case V:return function(){return new se(this,Me)}}return function(){return new se(this)}},ie=ne+" Iterator",ce=!1,ge=ee.prototype,ve=ge[M]||ge["@@iterator"]||Z&&ge[Z],Ae=!U&&ve||W(Z),je=ne=="Array"&&ge.entries||ve;if(je&&(Y=g(je.call(new ee)))!==Object.prototype&&Y.next&&(d||g(Y)===j||(v?v(Y,j):_(Y[M])||b(Y,M,q)),m(Y,ie,!0,!0),d&&(R[ie]=q)),A&&Z==D&&ve&&ve.name!==D&&(!d&&I?h(ge,"name",D):(ce=!0,Ae=function(){return ve.call(this)})),Z)if(L={values:W(D),keys:K?Ae:W(x),entries:W(V)},B)for(C in L)(U||ce||!(C in ge))&&b(ge,C,L[C]);else u({target:ne,proto:!0,forced:U||ce},L);return d&&!B||ge[M]===Ae||b(ge,M,Ae,{name:Z}),R[ne]=Ae,L}},1412:(a,c,s)=>{var u=s(9081),d=s(5584),f=s(3379),_=s(7550).f;a.exports=function(y){var g=u.Symbol||(u.Symbol={});d(g,y)||_(g,y,{value:f.f(y)})}},7001:(a,c,s)=>{var u=s(6530);a.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},231:(a,c,s)=>{var u=s(2868),d=s(3359),f=u.document,_=d(f)&&d(f.createElement);a.exports=function(y){return _?f.createElement(y):{}}},315:a=>{a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6610:a=>{a.exports=typeof window=="object"},6405:(a,c,s)=>{var u=s(6900),d=s(2868);a.exports=/ipad|iphone|ipod/i.test(u)&&d.Pebble!==void 0},6540:(a,c,s)=>{var u=s(6900);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},6521:(a,c,s)=>{var u=s(1570),d=s(2868);a.exports=u(d.process)=="process"},4010:(a,c,s)=>{var u=s(6900);a.exports=/web0s(?!.*chrome)/i.test(u)},6900:(a,c,s)=>{var u=s(8104);a.exports=u("navigator","userAgent")||""},8233:(a,c,s)=>{var u,d,f=s(2868),_=s(6900),y=f.process,g=f.Deno,v=y&&y.versions||g&&g.version,m=v&&v.v8;m?d=(u=m.split("."))[0]<4?1:u[0]+u[1]:_&&(!(u=_.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=_.match(/Chrome\/(\d+)/))&&(d=u[1]),a.exports=d&&+d},2018:(a,c,s)=>{var u=s(9081);a.exports=function(d){return u[d+"Prototype"]}},2712:a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},390:(a,c,s)=>{var u=s(2868),d=s(8307),f=s(5904).f,_=s(1011),y=s(9081),g=s(7673),v=s(8518),m=s(5584),h=function(b){var p=function(R,O,A){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(R);case 2:return new b(R,O)}return new b(R,O,A)}return b.apply(this,arguments)};return p.prototype=b.prototype,p};a.exports=function(b,p){var R,O,A,I,j,U,M,x,D=b.target,V=b.global,q=b.stat,ee=b.proto,ne=V?u:q?u[D]:(u[D]||{}).prototype,se=V?y:y[D]||v(y,D,{})[D],G=se.prototype;for(A in p)R=!_(V?A:D+(q?".":"#")+A,b.forced)&&ne&&m(ne,A),j=se[A],R&&(U=b.noTargetGet?(x=f(ne,A))&&x.value:ne[A]),I=R&&U?U:p[A],R&&typeof j==typeof I||(M=b.bind&&R?g(I,u):b.wrap&&R?h(I):ee&&d(I)?g(Function.call,I):I,(b.sham||I&&I.sham||j&&j.sham)&&v(M,"sham",!0),v(se,A,M),ee&&(m(y,O=D+"Prototype")||v(y,O,{}),v(y[O],A,I),b.real&&G&&!G[A]&&v(G,A,I)))}},6530:a=>{a.exports=function(c){try{return!!c()}catch{return!0}}},6558:(a,c,s)=>{var u=s(6530);a.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},7673:(a,c,s)=>{var u=s(5222);a.exports=function(d,f,_){if(u(d),f===void 0)return d;switch(_){case 0:return function(){return d.call(f)};case 1:return function(y){return d.call(f,y)};case 2:return function(y,g){return d.call(f,y,g)};case 3:return function(y,g,v){return d.call(f,y,g,v)}}return function(){return d.apply(f,arguments)}}},3455:(a,c,s)=>{var u=s(5222),d=s(3359),f=[].slice,_={},y=function(g,v,m){if(!(v in _)){for(var h=[],b=0;b<v;b++)h[b]="a["+b+"]";_[v]=Function("C,a","return new C("+h.join(",")+")")}return _[v](g,m)};a.exports=Function.bind||function(g){var v=u(this),m=f.call(arguments,1),h=function(){var b=m.concat(f.call(arguments));return this instanceof h?y(v,b.length,b):v.apply(g,b)};return d(v.prototype)&&(h.prototype=v.prototype),h}},7730:(a,c,s)=>{var u=s(7001),d=s(5584),f=Function.prototype,_=u&&Object.getOwnPropertyDescriptor,y=d(f,"name"),g=y&&function(){}.name==="something",v=y&&(!u||u&&_(f,"name").configurable);a.exports={EXISTS:y,PROPER:g,CONFIGURABLE:v}},8104:(a,c,s)=>{var u=s(9081),d=s(2868),f=s(8307),_=function(y){return f(y)?y:void 0};a.exports=function(y,g){return arguments.length<2?_(u[y])||_(d[y]):u[y]&&u[y][g]||d[y]&&d[y][g]}},5018:(a,c,s)=>{var u=s(7499),d=s(2809),f=s(9418),_=s(5712)("iterator");a.exports=function(y){if(y!=null)return d(y,_)||d(y,"@@iterator")||f[u(y)]}},5945:(a,c,s)=>{var u=s(5222),d=s(1912),f=s(5018);a.exports=function(_,y){var g=arguments.length<2?f(_):y;if(u(g))return d(g.call(_));throw TypeError(String(_)+" is not iterable")}},2809:(a,c,s)=>{var u=s(5222);a.exports=function(d,f){var _=d[f];return _==null?void 0:u(_)}},2868:(a,c,s)=>{var u=function(d){return d&&d.Math==Math&&d};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},5584:(a,c,s)=>{var u=s(2058),d={}.hasOwnProperty;a.exports=Object.hasOwn||function(f,_){return d.call(u(f),_)}},7048:a=>{a.exports={}},8471:(a,c,s)=>{var u=s(2868);a.exports=function(d,f){var _=u.console;_&&_.error&&(arguments.length===1?_.error(d):_.error(d,f))}},5644:(a,c,s)=>{var u=s(8104);a.exports=u("document","documentElement")},640:(a,c,s)=>{var u=s(7001),d=s(6530),f=s(231);a.exports=!u&&!d(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},1251:(a,c,s)=>{var u=s(6530),d=s(1570),f="".split;a.exports=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(_){return d(_)=="String"?f.call(_,""):Object(_)}:Object},1494:(a,c,s)=>{var u=s(8307),d=s(2656),f=Function.toString;u(d.inspectSource)||(d.inspectSource=function(_){return f.call(_)}),a.exports=d.inspectSource},8525:(a,c,s)=>{var u=s(3359),d=s(8518);a.exports=function(f,_){u(_)&&"cause"in _&&d(f,"cause",_.cause)}},9446:(a,c,s)=>{var u=s(390),d=s(7048),f=s(3359),_=s(5584),y=s(7550).f,g=s(9035),v=s(6159),m=s(9),h=s(6558),b=!1,p=m("meta"),R=0,O=Object.isExtensible||function(){return!0},A=function(j){y(j,p,{value:{objectID:"O"+R++,weakData:{}}})},I=a.exports={enable:function(){I.enable=function(){},b=!0;var j=g.f,U=[].splice,M={};M[p]=1,j(M).length&&(g.f=function(x){for(var D=j(x),V=0,q=D.length;V<q;V++)if(D[V]===p){U.call(D,V,1);break}return D},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:v.f}))},fastKey:function(j,U){if(!f(j))return typeof j=="symbol"?j:(typeof j=="string"?"S":"P")+j;if(!_(j,p)){if(!O(j))return"F";if(!U)return"E";A(j)}return j[p].objectID},getWeakData:function(j,U){if(!_(j,p)){if(!O(j))return!0;if(!U)return!1;A(j)}return j[p].weakData},onFreeze:function(j){return h&&b&&O(j)&&!_(j,p)&&A(j),j}};d[p]=!0},5875:(a,c,s)=>{var u,d,f,_=s(2297),y=s(2868),g=s(3359),v=s(8518),m=s(5584),h=s(2656),b=s(5039),p=s(7048),R="Object already initialized",O=y.WeakMap;if(_||h.state){var A=h.state||(h.state=new O),I=A.get,j=A.has,U=A.set;u=function(x,D){if(j.call(A,x))throw new TypeError(R);return D.facade=x,U.call(A,x,D),D},d=function(x){return I.call(A,x)||{}},f=function(x){return j.call(A,x)}}else{var M=b("state");p[M]=!0,u=function(x,D){if(m(x,M))throw new TypeError(R);return D.facade=x,v(x,M,D),D},d=function(x){return m(x,M)?x[M]:{}},f=function(x){return m(x,M)}}a.exports={set:u,get:d,has:f,enforce:function(x){return f(x)?d(x):u(x,{})},getterFor:function(x){return function(D){var V;if(!g(D)||(V=d(D)).type!==x)throw TypeError("Incompatible receiver, "+x+" required");return V}}}},6475:(a,c,s)=>{var u=s(5712),d=s(9418),f=u("iterator"),_=Array.prototype;a.exports=function(y){return y!==void 0&&(d.Array===y||_[f]===y)}},1054:(a,c,s)=>{var u=s(1570);a.exports=Array.isArray||function(d){return u(d)=="Array"}},8307:a=>{a.exports=function(c){return typeof c=="function"}},1775:(a,c,s)=>{var u=s(6530),d=s(8307),f=s(7499),_=s(8104),y=s(1494),g=[],v=_("Reflect","construct"),m=/^\s*(?:class|function)\b/,h=m.exec,b=!m.exec(function(){}),p=function(R){if(!d(R))return!1;try{return v(Object,g,R),!0}catch{return!1}};a.exports=!v||u(function(){var R;return p(p.call)||!p(Object)||!p(function(){R=!0})||R})?function(R){if(!d(R))return!1;switch(f(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return b||!!h.call(m,y(R))}:p},1011:(a,c,s)=>{var u=s(6530),d=s(8307),f=/#|\.prototype\./,_=function(h,b){var p=g[y(h)];return p==m||p!=v&&(d(b)?u(b):!!b)},y=_.normalize=function(h){return String(h).replace(f,".").toLowerCase()},g=_.data={},v=_.NATIVE="N",m=_.POLYFILL="P";a.exports=_},3359:(a,c,s)=>{var u=s(8307);a.exports=function(d){return typeof d=="object"?d!==null:u(d)}},8367:a=>{a.exports=!0},6858:(a,c,s)=>{var u=s(3359),d=s(1570),f=s(5712)("match");a.exports=function(_){var y;return u(_)&&((y=_[f])!==void 0?!!y:d(_)=="RegExp")}},1149:(a,c,s)=>{var u=s(8307),d=s(8104),f=s(6046);a.exports=f?function(_){return typeof _=="symbol"}:function(_){var y=d("Symbol");return u(y)&&Object(_)instanceof y}},3906:(a,c,s)=>{var u=s(1912),d=s(6475),f=s(9876),_=s(7673),y=s(5945),g=s(5018),v=s(309),m=function(h,b){this.stopped=h,this.result=b};a.exports=function(h,b,p){var R,O,A,I,j,U,M,x=p&&p.that,D=!(!p||!p.AS_ENTRIES),V=!(!p||!p.IS_ITERATOR),q=!(!p||!p.INTERRUPTED),ee=_(b,x,1+D+q),ne=function(G){return R&&v(R,"normal",G),new m(!0,G)},se=function(G){return D?(u(G),q?ee(G[0],G[1],ne):ee(G[0],G[1])):q?ee(G,ne):ee(G)};if(V)R=h;else{if(!(O=g(h)))throw TypeError(String(h)+" is not iterable");if(d(O)){for(A=0,I=f(h);I>A;A++)if((j=se(h[A]))&&j instanceof m)return j;return new m(!1)}R=y(h,O)}for(U=R.next;!(M=U.call(R)).done;){try{j=se(M.value)}catch(G){v(R,"throw",G)}if(typeof j=="object"&&j&&j instanceof m)return j}return new m(!1)}},309:(a,c,s)=>{var u=s(1912),d=s(2809);a.exports=function(f,_,y){var g,v;u(f);try{if(!(g=d(f,"return"))){if(_==="throw")throw y;return y}g=g.call(f)}catch(m){v=!0,g=m}if(_==="throw")throw y;if(v)throw g;return u(g),y}},7300:(a,c,s)=>{var u,d,f,_=s(6530),y=s(8307),g=s(2491),v=s(2629),m=s(9791),h=s(5712),b=s(8367),p=h("iterator"),R=!1;[].keys&&("next"in(f=[].keys())?(d=v(v(f)))!==Object.prototype&&(u=d):R=!0),u==null||_(function(){var O={};return u[p].call(O)!==O})?u={}:b&&(u=g(u)),y(u[p])||m(u,p,function(){return this}),a.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:R}},9418:a=>{a.exports={}},9876:(a,c,s)=>{var u=s(3746);a.exports=function(d){return u(d.length)}},8243:(a,c,s)=>{var u=s(8377),d=Math.abs,f=Math.pow,_=f(2,-52),y=f(2,-23),g=f(2,127)*(2-y),v=f(2,-126);a.exports=Math.fround||function(m){var h,b,p=d(m),R=u(m);return p<v?R*(p/v/y+1/_-1/_)*v*y:(b=(h=(1+y/_)*p)-(h-p))>g||b!=b?R*(1/0):R*b}},8377:a=>{a.exports=Math.sign||function(c){return(c=+c)==0||c!=c?c:c<0?-1:1}},8054:(a,c,s)=>{var u,d,f,_,y,g,v,m,h=s(2868),b=s(5904).f,p=s(6569).set,R=s(6540),O=s(6405),A=s(4010),I=s(6521),j=h.MutationObserver||h.WebKitMutationObserver,U=h.document,M=h.process,x=h.Promise,D=b(h,"queueMicrotask"),V=D&&D.value;V||(u=function(){var q,ee;for(I&&(q=M.domain)&&q.exit();d;){ee=d.fn,d=d.next;try{ee()}catch(ne){throw d?_():f=void 0,ne}}f=void 0,q&&q.enter()},R||I||A||!j||!U?!O&&x&&x.resolve?((v=x.resolve(void 0)).constructor=x,m=v.then,_=function(){m.call(v,u)}):_=I?function(){M.nextTick(u)}:function(){p.call(h,u)}:(y=!0,g=U.createTextNode(""),new j(u).observe(g,{characterData:!0}),_=function(){g.data=y=!y})),a.exports=V||function(q){var ee={fn:q,next:void 0};f&&(f.next=ee),d||(d=ee,_()),f=ee}},3104:(a,c,s)=>{var u=s(2868);a.exports=u.Promise},3216:(a,c,s)=>{var u=s(8233),d=s(6530);a.exports=!!Object.getOwnPropertySymbols&&!d(function(){var f=Symbol();return!String(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&u&&u<41})},2297:(a,c,s)=>{var u=s(2868),d=s(8307),f=s(1494),_=u.WeakMap;a.exports=d(_)&&/native code/.test(f(_))},4130:(a,c,s)=>{var u=s(5222),d=function(f){var _,y;this.promise=new f(function(g,v){if(_!==void 0||y!==void 0)throw TypeError("Bad Promise constructor");_=g,y=v}),this.resolve=u(_),this.reject=u(y)};a.exports.f=function(f){return new d(f)}},9611:(a,c,s)=>{var u=s(6858);a.exports=function(d){if(u(d))throw TypeError("The method doesn't accept regular expressions");return d}},3210:(a,c,s)=>{var u=s(7001),d=s(6530),f=s(461),_=s(3764),y=s(1156),g=s(2058),v=s(1251),m=Object.assign,h=Object.defineProperty;a.exports=!m||d(function(){if(u&&m({b:1},m(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},p={},R=Symbol(),O="abcdefghijklmnopqrst";return b[R]=7,O.split("").forEach(function(A){p[A]=A}),m({},b)[R]!=7||f(m({},p)).join("")!=O})?function(b,p){for(var R=g(b),O=arguments.length,A=1,I=_.f,j=y.f;O>A;)for(var U,M=v(arguments[A++]),x=I?f(M).concat(I(M)):f(M),D=x.length,V=0;D>V;)U=x[V++],u&&!j.call(M,U)||(R[U]=M[U]);return R}:m},2491:(a,c,s)=>{var u,d=s(1912),f=s(4686),_=s(2712),y=s(7048),g=s(5644),v=s(231),m=s(5039)("IE_PROTO"),h=function(){},b=function(O){return"<script>"+O+"<\/script>"},p=function(O){O.write(b("")),O.close();var A=O.parentWindow.Object;return O=null,A},R=function(){try{u=new ActiveXObject("htmlfile")}catch{}var O,A;R=typeof document!="undefined"?document.domain&&u?p(u):((A=v("iframe")).style.display="none",g.appendChild(A),A.src=String("javascript:"),(O=A.contentWindow.document).open(),O.write(b("document.F=Object")),O.close(),O.F):p(u);for(var I=_.length;I--;)delete R.prototype[_[I]];return R()};y[m]=!0,a.exports=Object.create||function(O,A){var I;return O!==null?(h.prototype=d(O),I=new h,h.prototype=null,I[m]=O):I=R(),A===void 0?I:f(I,A)}},4686:(a,c,s)=>{var u=s(7001),d=s(7550),f=s(1912),_=s(461);a.exports=u?Object.defineProperties:function(y,g){f(y);for(var v,m=_(g),h=m.length,b=0;h>b;)d.f(y,v=m[b++],g[v]);return y}},7550:(a,c,s)=>{var u=s(7001),d=s(640),f=s(1912),_=s(5623),y=Object.defineProperty;c.f=u?y:function(g,v,m){if(f(g),v=_(v),f(m),d)try{return y(g,v,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(g[v]=m.value),g}},5904:(a,c,s)=>{var u=s(7001),d=s(1156),f=s(5595),_=s(3861),y=s(5623),g=s(5584),v=s(640),m=Object.getOwnPropertyDescriptor;c.f=u?m:function(h,b){if(h=_(h),b=y(b),v)try{return m(h,b)}catch{}if(g(h,b))return f(!d.f.call(h,b),h[b])}},6159:(a,c,s)=>{var u=s(3861),d=s(9035).f,f={}.toString,_=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(y){return _&&f.call(y)=="[object Window]"?function(g){try{return d(g)}catch{return _.slice()}}(y):d(u(y))}},9035:(a,c,s)=>{var u=s(1247),d=s(2712).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(f){return u(f,d)}},3764:(a,c)=>{c.f=Object.getOwnPropertySymbols},2629:(a,c,s)=>{var u=s(5584),d=s(8307),f=s(2058),_=s(5039),y=s(872),g=_("IE_PROTO"),v=Object.prototype;a.exports=y?Object.getPrototypeOf:function(m){var h=f(m);if(u(h,g))return h[g];var b=h.constructor;return d(b)&&h instanceof b?b.prototype:h instanceof Object?v:null}},1247:(a,c,s)=>{var u=s(5584),d=s(3861),f=s(7075).indexOf,_=s(7048);a.exports=function(y,g){var v,m=d(y),h=0,b=[];for(v in m)!u(_,v)&&u(m,v)&&b.push(v);for(;g.length>h;)u(m,v=g[h++])&&(~f(b,v)||b.push(v));return b}},461:(a,c,s)=>{var u=s(1247),d=s(2712);a.exports=Object.keys||function(f){return u(f,d)}},1156:(a,c)=>{var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!s.call({1:2},1);c.f=d?function(f){var _=u(this,f);return!!_&&_.enumerable}:s},5255:(a,c,s)=>{var u=s(1912),d=s(9154);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,_=!1,y={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),_=y instanceof Array}catch{}return function(g,v){return u(g),d(v),_?f.call(g,v):g.__proto__=v,g}}():void 0)},2204:(a,c,s)=>{var u=s(8889),d=s(7499);a.exports=u?{}.toString:function(){return"[object "+d(this)+"]"}},9466:(a,c,s)=>{var u=s(8307),d=s(3359);a.exports=function(f,_){var y,g;if(_==="string"&&u(y=f.toString)&&!d(g=y.call(f))||u(y=f.valueOf)&&!d(g=y.call(f))||_!=="string"&&u(y=f.toString)&&!d(g=y.call(f)))return g;throw TypeError("Can't convert object to primitive value")}},5340:(a,c,s)=>{var u=s(8104),d=s(9035),f=s(3764),_=s(1912);a.exports=u("Reflect","ownKeys")||function(y){var g=d.f(_(y)),v=f.f;return v?g.concat(v(y)):g}},9081:a=>{a.exports={}},4618:a=>{a.exports=function(c){try{return{error:!1,value:c()}}catch(s){return{error:!0,value:s}}}},4567:(a,c,s)=>{var u=s(1912),d=s(3359),f=s(4130);a.exports=function(_,y){if(u(_),d(y)&&y.constructor===_)return y;var g=f.f(_);return(0,g.resolve)(y),g.promise}},9248:(a,c,s)=>{var u=s(9791);a.exports=function(d,f,_){for(var y in f)_&&_.unsafe&&d[y]?d[y]=f[y]:u(d,y,f[y],_);return d}},9791:(a,c,s)=>{var u=s(8518);a.exports=function(d,f,_,y){y&&y.enumerable?d[f]=_:u(d,f,_)}},3604:a=>{a.exports=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}},2643:(a,c,s)=>{var u=s(2868);a.exports=function(d,f){try{Object.defineProperty(u,d,{value:f,configurable:!0,writable:!0})}catch{u[d]=f}return f}},3918:(a,c,s)=>{var u=s(8104),d=s(7550),f=s(5712),_=s(7001),y=f("species");a.exports=function(g){var v=u(g),m=d.f;_&&v&&!v[y]&&m(v,y,{configurable:!0,get:function(){return this}})}},6738:(a,c,s)=>{var u=s(8889),d=s(7550).f,f=s(8518),_=s(5584),y=s(2204),g=s(5712)("toStringTag");a.exports=function(v,m,h,b){if(v){var p=h?v:v.prototype;_(p,g)||d(p,g,{configurable:!0,value:m}),b&&!u&&f(p,"toString",y)}}},5039:(a,c,s)=>{var u=s(6315),d=s(9),f=u("keys");a.exports=function(_){return f[_]||(f[_]=d(_))}},2656:(a,c,s)=>{var u=s(2868),d=s(2643),f="__core-js_shared__",_=u[f]||d(f,{});a.exports=_},6315:(a,c,s)=>{var u=s(8367),d=s(2656);(a.exports=function(f,_){return d[f]||(d[f]=_!==void 0?_:{})})("versions",[]).push({version:"3.18.3",mode:u?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},5462:(a,c,s)=>{var u=s(1912),d=s(2736),f=s(5712)("species");a.exports=function(_,y){var g,v=u(_).constructor;return v===void 0||(g=u(v)[f])==null?y:d(g)}},1420:(a,c,s)=>{var u=s(5511),d=s(5264),f=s(3604),_=function(y){return function(g,v){var m,h,b=d(f(g)),p=u(v),R=b.length;return p<0||p>=R?y?"":void 0:(m=b.charCodeAt(p))<55296||m>56319||p+1===R||(h=b.charCodeAt(p+1))<56320||h>57343?y?b.charAt(p):m:y?b.slice(p,p+2):h-56320+(m-55296<<10)+65536}};a.exports={codeAt:_(!1),charAt:_(!0)}},6569:(a,c,s)=>{var u,d,f,_,y=s(2868),g=s(8307),v=s(6530),m=s(7673),h=s(5644),b=s(231),p=s(6540),R=s(6521),O=y.setImmediate,A=y.clearImmediate,I=y.process,j=y.MessageChannel,U=y.Dispatch,M=0,x={};try{u=y.location}catch{}var D=function(ne){if(x.hasOwnProperty(ne)){var se=x[ne];delete x[ne],se()}},V=function(ne){return function(){D(ne)}},q=function(ne){D(ne.data)},ee=function(ne){y.postMessage(String(ne),u.protocol+"//"+u.host)};O&&A||(O=function(ne){for(var se=[],G=arguments.length,Z=1;G>Z;)se.push(arguments[Z++]);return x[++M]=function(){(g(ne)?ne:Function(ne)).apply(void 0,se)},d(M),M},A=function(ne){delete x[ne]},R?d=function(ne){I.nextTick(V(ne))}:U&&U.now?d=function(ne){U.now(V(ne))}:j&&!p?(_=(f=new j).port2,f.port1.onmessage=q,d=m(_.postMessage,_,1)):y.addEventListener&&g(y.postMessage)&&!y.importScripts&&u&&u.protocol!=="file:"&&!v(ee)?(d=ee,y.addEventListener("message",q,!1)):d="onreadystatechange"in b("script")?function(ne){h.appendChild(b("script")).onreadystatechange=function(){h.removeChild(this),D(ne)}}:function(ne){setTimeout(V(ne),0)}),a.exports={set:O,clear:A}},3055:(a,c,s)=>{var u=s(5511),d=Math.max,f=Math.min;a.exports=function(_,y){var g=u(_);return g<0?d(g+y,0):f(g,y)}},3861:(a,c,s)=>{var u=s(1251),d=s(3604);a.exports=function(f){return u(d(f))}},5511:a=>{var c=Math.ceil,s=Math.floor;a.exports=function(u){var d=+u;return d!=d||d===0?0:(d>0?s:c)(d)}},3746:(a,c,s)=>{var u=s(5511),d=Math.min;a.exports=function(f){return f>0?d(u(f),9007199254740991):0}},2058:(a,c,s)=>{var u=s(3604);a.exports=function(d){return Object(u(d))}},3957:(a,c,s)=>{var u=s(3359),d=s(1149),f=s(2809),_=s(9466),y=s(5712)("toPrimitive");a.exports=function(g,v){if(!u(g)||d(g))return g;var m,h=f(g,y);if(h){if(v===void 0&&(v="default"),m=h.call(g,v),!u(m)||d(m))return m;throw TypeError("Can't convert object to primitive value")}return v===void 0&&(v="number"),_(g,v)}},5623:(a,c,s)=>{var u=s(3957),d=s(1149);a.exports=function(f){var _=u(f,"string");return d(_)?_:String(_)}},8889:(a,c,s)=>{var u={};u[s(5712)("toStringTag")]="z",a.exports=String(u)==="[object z]"},5264:(a,c,s)=>{var u=s(7499);a.exports=function(d){if(u(d)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(d)}},7265:a=>{a.exports=function(c){try{return String(c)}catch{return"Object"}}},9:a=>{var c=0,s=Math.random();a.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++c+s).toString(36)}},6046:(a,c,s)=>{var u=s(3216);a.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3379:(a,c,s)=>{var u=s(5712);c.f=u},5712:(a,c,s)=>{var u=s(2868),d=s(6315),f=s(5584),_=s(9),y=s(3216),g=s(6046),v=d("wks"),m=u.Symbol,h=g?m:m&&m.withoutSetter||_;a.exports=function(b){return f(v,b)&&(y||typeof v[b]=="string")||(y&&f(m,b)?v[b]=m[b]:v[b]=h("Symbol."+b)),v[b]}},6454:(a,c,s)=>{var u=s(390),d=s(2629),f=s(5255),_=s(4498),y=s(2491),g=s(8518),v=s(5595),m=s(8525),h=s(3906),b=s(5264),p=function(R,O){var A=this,I=arguments.length>2?arguments[2]:void 0;if(!(A instanceof p))return new p(R,O,I);f&&(A=f(new Error(void 0),d(A))),O!==void 0&&g(A,"message",b(O)),m(A,I);var j=[];return h(R,j.push,{that:j}),g(A,"errors",j),A};f?f(p,Error):_(p,Error),p.prototype=y(Error.prototype,{constructor:v(1,p),message:v(1,""),name:v(1,"AggregateError")}),u({global:!0},{AggregateError:p})},3075:(a,c,s)=>{var u=s(390),d=s(6530),f=s(1054),_=s(3359),y=s(2058),g=s(9876),v=s(409),m=s(8136),h=s(2143),b=s(5712),p=s(8233),R=b("isConcatSpreadable"),O=9007199254740991,A="Maximum allowed index exceeded",I=p>=51||!d(function(){var M=[];return M[R]=!1,M.concat()[0]!==M}),j=h("concat"),U=function(M){if(!_(M))return!1;var x=M[R];return x!==void 0?!!x:f(M)};u({target:"Array",proto:!0,forced:!I||!j},{concat:function(M){var x,D,V,q,ee,ne=y(this),se=m(ne,0),G=0;for(x=-1,V=arguments.length;x<V;x++)if(U(ee=x===-1?ne:arguments[x])){if(G+(q=g(ee))>O)throw TypeError(A);for(D=0;D<q;D++,G++)D in ee&&v(se,G,ee[D])}else{if(G>=O)throw TypeError(A);v(se,G++,ee)}return se.length=G,se}})},4458:(a,c,s)=>{var u=s(390),d=s(8303),f=s(7710);u({target:"Array",proto:!0},{copyWithin:d}),f("copyWithin")},7042:(a,c,s)=>{var u=s(390),d=s(5621);u({target:"Array",proto:!0,forced:[].forEach!=d},{forEach:d})},7670:(a,c,s)=>{var u=s(390),d=s(7075).includes,f=s(7710);u({target:"Array",proto:!0},{includes:function(_){return d(this,_,arguments.length>1?arguments[1]:void 0)}}),f("includes")},194:(a,c,s)=>{var u=s(390),d=s(7075).indexOf,f=s(6628),_=[].indexOf,y=!!_&&1/[1].indexOf(1,-0)<0,g=f("indexOf");u({target:"Array",proto:!0,forced:y||!g},{indexOf:function(v){return y?_.apply(this,arguments)||0:d(this,v,arguments.length>1?arguments[1]:void 0)}})},2228:(a,c,s)=>{var u=s(3861),d=s(7710),f=s(9418),_=s(5875),y=s(8277),g="Array Iterator",v=_.set,m=_.getterFor(g);a.exports=y(Array,"Array",function(h,b){v(this,{type:g,target:u(h),index:0,kind:b})},function(){var h=m(this),b=h.target,p=h.kind,R=h.index++;return!b||R>=b.length?(h.target=void 0,{value:void 0,done:!0}):p=="keys"?{value:R,done:!1}:p=="values"?{value:b[R],done:!1}:{value:[R,b[R]],done:!1}},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},5280:(a,c,s)=>{var u=s(390),d=s(7965);u({target:"Array",proto:!0,forced:d!==[].lastIndexOf},{lastIndexOf:d})},5313:(a,c,s)=>{var u=s(390),d=s(1054),f=s(1775),_=s(3359),y=s(3055),g=s(9876),v=s(3861),m=s(409),h=s(5712),b=s(2143)("slice"),p=h("species"),R=[].slice,O=Math.max;u({target:"Array",proto:!0,forced:!b},{slice:function(A,I){var j,U,M,x=v(this),D=g(x),V=y(A,D),q=y(I===void 0?D:I,D);if(d(x)&&(j=x.constructor,(f(j)&&(j===Array||d(j.prototype))||_(j)&&(j=j[p])===null)&&(j=void 0),j===Array||j===void 0))return R.call(x,V,q);for(U=new(j===void 0?Array:j)(O(q-V,0)),M=0;V<q;V++,M++)V in x&&m(U,M,x[V]);return U.length=M,U}})},9177:(a,c,s)=>{s(390)({target:"Date",stat:!0},{now:function(){return new Date().getTime()}})},7157:(a,c,s)=>{s(390)({target:"Function",proto:!0},{bind:s(3455)})},3596:(a,c,s)=>{var u=s(2868);s(6738)(u.JSON,"JSON",!0)},5670:(a,c,s)=>{var u=s(390),d=Math.floor,f=Math.log,_=Math.LOG2E;u({target:"Math",stat:!0},{clz32:function(y){return(y>>>=0)?31-d(f(y+.5)*_):32}})},5098:(a,c,s)=>{s(390)({target:"Math",stat:!0},{fround:s(8243)})},2556:(a,c,s)=>{var u=s(390),d=s(6530),f=Math.imul;u({target:"Math",stat:!0,forced:d(function(){return f(4294967295,5)!=-5||f.length!=2})},{imul:function(_,y){var g=65535,v=+_,m=+y,h=g&v,b=g&m;return 0|h*b+((g&v>>>16)*b+h*(g&m>>>16)<<16>>>0)}})},1227:()=>{},6554:(a,c,s)=>{var u=s(390),d=Math.ceil,f=Math.floor;u({target:"Math",stat:!0},{trunc:function(_){return(_>0?f:d)(_)}})},8524:(a,c,s)=>{var u=s(390),d=s(3210);u({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},7559:(a,c,s)=>{s(390)({target:"Object",stat:!0,sham:!s(7001)},{create:s(2491)})},6764:(a,c,s)=>{var u=s(390),d=s(7001);u({target:"Object",stat:!0,forced:!d,sham:!d},{defineProperty:s(7550).f})},554:(a,c,s)=>{var u=s(390),d=s(6530),f=s(3861),_=s(5904).f,y=s(7001),g=d(function(){_(1)});u({target:"Object",stat:!0,forced:!y||g,sham:!y},{getOwnPropertyDescriptor:function(v,m){return _(f(v),m)}})},2575:()=>{},4465:(a,c,s)=>{var u=s(390),d=s(5222),f=s(4130),_=s(4618),y=s(3906);u({target:"Promise",stat:!0},{allSettled:function(g){var v=this,m=f.f(v),h=m.resolve,b=m.reject,p=_(function(){var R=d(v.resolve),O=[],A=0,I=1;y(g,function(j){var U=A++,M=!1;O.push(void 0),I++,R.call(v,j).then(function(x){M||(M=!0,O[U]={status:"fulfilled",value:x},--I||h(O))},function(x){M||(M=!0,O[U]={status:"rejected",reason:x},--I||h(O))})}),--I||h(O)});return p.error&&b(p.value),m.promise}})},8359:(a,c,s)=>{var u=s(390),d=s(5222),f=s(8104),_=s(4130),y=s(4618),g=s(3906),v="No one promise resolved";u({target:"Promise",stat:!0},{any:function(m){var h=this,b=_.f(h),p=b.resolve,R=b.reject,O=y(function(){var A=d(h.resolve),I=[],j=0,U=1,M=!1;g(m,function(x){var D=j++,V=!1;I.push(void 0),U++,A.call(h,x).then(function(q){V||M||(M=!0,p(q))},function(q){V||M||(V=!0,I[D]=q,--U||R(new(f("AggregateError"))(I,v)))})}),--U||R(new(f("AggregateError"))(I,v))});return O.error&&R(O.value),b.promise}})},5203:(a,c,s)=>{var u=s(390),d=s(8367),f=s(3104),_=s(6530),y=s(8104),g=s(8307),v=s(5462),m=s(4567),h=s(9791);if(u({target:"Promise",proto:!0,real:!0,forced:!!f&&_(function(){f.prototype.finally.call({then:function(){}},function(){})})},{finally:function(p){var R=v(this,y("Promise")),O=g(p);return this.then(O?function(A){return m(R,p()).then(function(){return A})}:p,O?function(A){return m(R,p()).then(function(){throw A})}:p)}}),!d&&g(f)){var b=y("Promise").prototype.finally;f.prototype.finally!==b&&h(f.prototype,"finally",b,{unsafe:!0})}},3658:(a,c,s)=>{var u,d,f,_,y=s(390),g=s(8367),v=s(2868),m=s(8104),h=s(3104),b=s(9791),p=s(9248),R=s(5255),O=s(6738),A=s(3918),I=s(5222),j=s(8307),U=s(3359),M=s(8792),x=s(1494),D=s(3906),V=s(8908),q=s(5462),ee=s(6569).set,ne=s(8054),se=s(4567),G=s(8471),Z=s(4130),K=s(4618),B=s(5875),Y=s(1011),L=s(5712),C=s(6610),W=s(6521),ie=s(8233),ce=L("species"),ge="Promise",ve=B.get,Ae=B.set,je=B.getterFor(ge),Me=h&&h.prototype,T=h,H=Me,Q=v.TypeError,ue=v.document,te=v.process,ye=Z.f,we=ye,be=!!(ue&&ue.createEvent&&v.dispatchEvent),Pe=j(v.PromiseRejectionEvent),le="unhandledrejection",Ce=!1,N=Y(ge,function(){var de=x(T),Ie=de!==String(T);if(!Ie&&ie===66||g&&!H.finally)return!0;if(ie>=51&&/native code/.test(de))return!1;var Ne=new T(function(Oe){Oe(1)}),_e=function(Oe){Oe(function(){},function(){})};return(Ne.constructor={})[ce]=_e,!(Ce=Ne.then(function(){})instanceof _e)||!Ie&&C&&!Pe}),z=N||!V(function(de){T.all(de).catch(function(){})}),J=function(de){var Ie;return!(!U(de)||!j(Ie=de.then))&&Ie},ae=function(de,Ie){if(!de.notified){de.notified=!0;var Ne=de.reactions;ne(function(){for(var _e=de.value,Oe=de.state==1,Te=0;Ne.length>Te;){var He,ft,k,jt=Ne[Te++],Et=Oe?jt.ok:jt.fail,vr=jt.resolve,vn=jt.reject,ke=jt.domain;try{Et?(Oe||(de.rejection===2&&xe(de),de.rejection=1),Et===!0?He=_e:(ke&&ke.enter(),He=Et(_e),ke&&(ke.exit(),k=!0)),He===jt.promise?vn(Q("Promise-chain cycle")):(ft=J(He))?ft.call(He,vr,vn):vr(He)):vn(_e)}catch(Mo){ke&&!k&&ke.exit(),vn(Mo)}}de.reactions=[],de.notified=!1,Ie&&!de.rejection&&Le(de)})}},l=function(de,Ie,Ne){var _e,Oe;be?((_e=ue.createEvent("Event")).promise=Ie,_e.reason=Ne,_e.initEvent(de,!1,!0),v.dispatchEvent(_e)):_e={promise:Ie,reason:Ne},!Pe&&(Oe=v["on"+de])?Oe(_e):de===le&&G("Unhandled promise rejection",Ne)},Le=function(de){ee.call(v,function(){var Ie,Ne=de.facade,_e=de.value;if(Re(de)&&(Ie=K(function(){W?te.emit("unhandledRejection",_e,Ne):l(le,Ne,_e)}),de.rejection=W||Re(de)?2:1,Ie.error))throw Ie.value})},Re=function(de){return de.rejection!==1&&!de.parent},xe=function(de){ee.call(v,function(){var Ie=de.facade;W?te.emit("rejectionHandled",Ie):l("rejectionhandled",Ie,de.value)})},Ee=function(de,Ie,Ne){return function(_e){de(Ie,_e,Ne)}},De=function(de,Ie,Ne){de.done||(de.done=!0,Ne&&(de=Ne),de.value=Ie,de.state=2,ae(de,!0))},$e=function(de,Ie,Ne){if(!de.done){de.done=!0,Ne&&(de=Ne);try{if(de.facade===Ie)throw Q("Promise can't be resolved itself");var _e=J(Ie);_e?ne(function(){var Oe={done:!1};try{_e.call(Ie,Ee($e,Oe,de),Ee(De,Oe,de))}catch(Te){De(Oe,Te,de)}}):(de.value=Ie,de.state=1,ae(de,!1))}catch(Oe){De({done:!1},Oe,de)}}};if(N&&(H=(T=function(de){M(this,T,ge),I(de),u.call(this);var Ie=ve(this);try{de(Ee($e,Ie),Ee(De,Ie))}catch(Ne){De(Ie,Ne)}}).prototype,(u=function(de){Ae(this,{type:ge,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(H,{then:function(de,Ie){var Ne=je(this),_e=ye(q(this,T));return _e.ok=!j(de)||de,_e.fail=j(Ie)&&Ie,_e.domain=W?te.domain:void 0,Ne.parent=!0,Ne.reactions.push(_e),Ne.state!=0&&ae(Ne,!1),_e.promise},catch:function(de){return this.then(void 0,de)}}),d=function(){var de=new u,Ie=ve(de);this.promise=de,this.resolve=Ee($e,Ie),this.reject=Ee(De,Ie)},Z.f=ye=function(de){return de===T||de===f?new d(de):we(de)},!g&&j(h)&&Me!==Object.prototype)){_=Me.then,Ce||(b(Me,"then",function(de,Ie){var Ne=this;return new T(function(_e,Oe){_.call(Ne,_e,Oe)}).then(de,Ie)},{unsafe:!0}),b(Me,"catch",H.catch,{unsafe:!0}));try{delete Me.constructor}catch{}R&&R(Me,H)}y({global:!0,wrap:!0,forced:N},{Promise:T}),O(T,ge,!1,!0),A(ge),f=m(ge),y({target:ge,stat:!0,forced:N},{reject:function(de){var Ie=ye(this);return Ie.reject.call(void 0,de),Ie.promise}}),y({target:ge,stat:!0,forced:g||N},{resolve:function(de){return se(g&&this===f?T:this,de)}}),y({target:ge,stat:!0,forced:z},{all:function(de){var Ie=this,Ne=ye(Ie),_e=Ne.resolve,Oe=Ne.reject,Te=K(function(){var He=I(Ie.resolve),ft=[],k=0,jt=1;D(de,function(Et){var vr=k++,vn=!1;ft.push(void 0),jt++,He.call(Ie,Et).then(function(ke){vn||(vn=!0,ft[vr]=ke,--jt||_e(ft))},Oe)}),--jt||_e(ft)});return Te.error&&Oe(Te.value),Ne.promise},race:function(de){var Ie=this,Ne=ye(Ie),_e=Ne.reject,Oe=K(function(){var Te=I(Ie.resolve);D(de,function(He){Te.call(Ie,He).then(Ne.resolve,_e)})});return Oe.error&&_e(Oe.value),Ne.promise}})},6268:()=>{},688:(a,c,s)=>{var u=s(390),d=s(9611),f=s(3604),_=s(5264);u({target:"String",proto:!0,forced:!s(1722)("includes")},{includes:function(y){return!!~_(f(this)).indexOf(_(d(y)),arguments.length>1?arguments[1]:void 0)}})},8109:(a,c,s)=>{var u=s(1420).charAt,d=s(5264),f=s(5875),_=s(8277),y="String Iterator",g=f.set,v=f.getterFor(y);_(String,"String",function(m){g(this,{type:y,string:d(m),index:0})},function(){var m,h=v(this),b=h.string,p=h.index;return p>=b.length?{value:void 0,done:!0}:(m=u(b,p),h.index+=m.length,{value:m,done:!1})})},6525:(a,c,s)=>{var u,d=s(390),f=s(5904).f,_=s(3746),y=s(5264),g=s(9611),v=s(3604),m=s(1722),h=s(8367),b="".startsWith,p=Math.min,R=m("startsWith");d({target:"String",proto:!0,forced:!(!h&&!R&&(u=f(String.prototype,"startsWith"),u&&!u.writable)||R)},{startsWith:function(O){var A=y(v(this));g(O);var I=_(p(arguments.length>1?arguments[1]:void 0,A.length)),j=y(O);return b?b.call(A,j,I):A.slice(I,I+j.length)===j}})},5762:(a,c,s)=>{s(1412)("asyncIterator")},2181:()=>{},8848:(a,c,s)=>{s(1412)("hasInstance")},3719:(a,c,s)=>{s(1412)("isConcatSpreadable")},2362:(a,c,s)=>{s(1412)("iterator")},8318:(a,c,s)=>{var u=s(390),d=s(2868),f=s(8104),_=s(8367),y=s(7001),g=s(3216),v=s(6530),m=s(5584),h=s(1054),b=s(8307),p=s(3359),R=s(1149),O=s(1912),A=s(2058),I=s(3861),j=s(5623),U=s(5264),M=s(5595),x=s(2491),D=s(461),V=s(9035),q=s(6159),ee=s(3764),ne=s(5904),se=s(7550),G=s(1156),Z=s(9791),K=s(6315),B=s(5039),Y=s(7048),L=s(9),C=s(5712),W=s(3379),ie=s(1412),ce=s(6738),ge=s(5875),ve=s(4206).forEach,Ae=B("hidden"),je="Symbol",Me=C("toPrimitive"),T=ge.set,H=ge.getterFor(je),Q=Object.prototype,ue=d.Symbol,te=f("JSON","stringify"),ye=ne.f,we=se.f,be=q.f,Pe=G.f,le=K("symbols"),Ce=K("op-symbols"),N=K("string-to-symbol-registry"),z=K("symbol-to-string-registry"),J=K("wks"),ae=d.QObject,l=!ae||!ae.prototype||!ae.prototype.findChild,Le=y&&v(function(){return x(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a!=7})?function(_e,Oe,Te){var He=ye(Q,Oe);He&&delete Q[Oe],we(_e,Oe,Te),He&&_e!==Q&&we(Q,Oe,He)}:we,Re=function(_e,Oe){var Te=le[_e]=x(ue.prototype);return T(Te,{type:je,tag:_e,description:Oe}),y||(Te.description=Oe),Te},xe=function(_e,Oe,Te){_e===Q&&xe(Ce,Oe,Te),O(_e);var He=j(Oe);return O(Te),m(le,He)?(Te.enumerable?(m(_e,Ae)&&_e[Ae][He]&&(_e[Ae][He]=!1),Te=x(Te,{enumerable:M(0,!1)})):(m(_e,Ae)||we(_e,Ae,M(1,{})),_e[Ae][He]=!0),Le(_e,He,Te)):we(_e,He,Te)},Ee=function(_e,Oe){O(_e);var Te=I(Oe),He=D(Te).concat(Ie(Te));return ve(He,function(ft){y&&!De.call(Te,ft)||xe(_e,ft,Te[ft])}),_e},De=function(_e){var Oe=j(_e),Te=Pe.call(this,Oe);return!(this===Q&&m(le,Oe)&&!m(Ce,Oe))&&(!(Te||!m(this,Oe)||!m(le,Oe)||m(this,Ae)&&this[Ae][Oe])||Te)},$e=function(_e,Oe){var Te=I(_e),He=j(Oe);if(Te!==Q||!m(le,He)||m(Ce,He)){var ft=ye(Te,He);return!ft||!m(le,He)||m(Te,Ae)&&Te[Ae][He]||(ft.enumerable=!0),ft}},de=function(_e){var Oe=be(I(_e)),Te=[];return ve(Oe,function(He){m(le,He)||m(Y,He)||Te.push(He)}),Te},Ie=function(_e){var Oe=_e===Q,Te=be(Oe?Ce:I(_e)),He=[];return ve(Te,function(ft){!m(le,ft)||Oe&&!m(Q,ft)||He.push(le[ft])}),He};if(g||(Z((ue=function(){if(this instanceof ue)throw TypeError("Symbol is not a constructor");var _e=arguments.length&&arguments[0]!==void 0?U(arguments[0]):void 0,Oe=L(_e),Te=function(He){this===Q&&Te.call(Ce,He),m(this,Ae)&&m(this[Ae],Oe)&&(this[Ae][Oe]=!1),Le(this,Oe,M(1,He))};return y&&l&&Le(Q,Oe,{configurable:!0,set:Te}),Re(Oe,_e)}).prototype,"toString",function(){return H(this).tag}),Z(ue,"withoutSetter",function(_e){return Re(L(_e),_e)}),G.f=De,se.f=xe,ne.f=$e,V.f=q.f=de,ee.f=Ie,W.f=function(_e){return Re(C(_e),_e)},y&&(we(ue.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),_||Z(Q,"propertyIsEnumerable",De,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:ue}),ve(D(J),function(_e){ie(_e)}),u({target:je,stat:!0,forced:!g},{for:function(_e){var Oe=U(_e);if(m(N,Oe))return N[Oe];var Te=ue(Oe);return N[Oe]=Te,z[Te]=Oe,Te},keyFor:function(_e){if(!R(_e))throw TypeError(_e+" is not a symbol");if(m(z,_e))return z[_e]},useSetter:function(){l=!0},useSimple:function(){l=!1}}),u({target:"Object",stat:!0,forced:!g,sham:!y},{create:function(_e,Oe){return Oe===void 0?x(_e):Ee(x(_e),Oe)},defineProperty:xe,defineProperties:Ee,getOwnPropertyDescriptor:$e}),u({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:de,getOwnPropertySymbols:Ie}),u({target:"Object",stat:!0,forced:v(function(){ee.f(1)})},{getOwnPropertySymbols:function(_e){return ee.f(A(_e))}}),te&&u({target:"JSON",stat:!0,forced:!g||v(function(){var _e=ue();return te([_e])!="[null]"||te({a:_e})!="{}"||te(Object(_e))!="{}"})},{stringify:function(_e,Oe,Te){for(var He,ft=[_e],k=1;arguments.length>k;)ft.push(arguments[k++]);if(He=Oe,(p(Oe)||_e!==void 0)&&!R(_e))return h(Oe)||(Oe=function(jt,Et){if(b(He)&&(Et=He.call(this,jt,Et)),!R(Et))return Et}),ft[1]=Oe,te.apply(null,ft)}}),!ue.prototype[Me]){var Ne=ue.prototype.valueOf;Z(ue.prototype,Me,function(){return Ne.apply(this,arguments)})}ce(ue,je),Y[Ae]=!0},888:(a,c,s)=>{s(1412)("matchAll")},346:(a,c,s)=>{s(1412)("match")},909:(a,c,s)=>{s(1412)("replace")},1992:(a,c,s)=>{s(1412)("search")},8512:(a,c,s)=>{s(1412)("species")},6165:(a,c,s)=>{s(1412)("split")},6044:(a,c,s)=>{s(1412)("toPrimitive")},4676:(a,c,s)=>{s(1412)("toStringTag")},263:(a,c,s)=>{s(1412)("unscopables")},5124:(a,c,s)=>{var u,d=s(2868),f=s(9248),_=s(9446),y=s(1390),g=s(240),v=s(3359),m=s(5875).enforce,h=s(2297),b=!d.ActiveXObject&&"ActiveXObject"in d,p=Object.isExtensible,R=function(x){return function(){return x(this,arguments.length?arguments[0]:void 0)}},O=a.exports=y("WeakMap",R,g);if(h&&b){u=g.getConstructor(R,"WeakMap",!0),_.enable();var A=O.prototype,I=A.delete,j=A.has,U=A.get,M=A.set;f(A,{delete:function(x){if(v(x)&&!p(x)){var D=m(this);return D.frozen||(D.frozen=new u),I.call(this,x)||D.frozen.delete(x)}return I.call(this,x)},has:function(x){if(v(x)&&!p(x)){var D=m(this);return D.frozen||(D.frozen=new u),j.call(this,x)||D.frozen.has(x)}return j.call(this,x)},get:function(x){if(v(x)&&!p(x)){var D=m(this);return D.frozen||(D.frozen=new u),j.call(this,x)?U.call(this,x):D.frozen.get(x)}return U.call(this,x)},set:function(x,D){if(v(x)&&!p(x)){var V=m(this);V.frozen||(V.frozen=new u),j.call(this,x)?M.call(this,x,D):V.frozen.set(x,D)}else M.call(this,x,D);return this}})}},1152:(a,c,s)=>{s(6454)},8561:(a,c,s)=>{s(4465)},8302:(a,c,s)=>{s(8359)},5543:(a,c,s)=>{var u=s(390),d=s(4130),f=s(4618);u({target:"Promise",stat:!0},{try:function(_){var y=d.f(this),g=f(_);return(g.error?y.reject:y.resolve)(g.value),y.promise}})},8812:(a,c,s)=>{s(1412)("asyncDispose")},9085:(a,c,s)=>{s(1412)("dispose")},7384:(a,c,s)=>{s(1412)("matcher")},4719:(a,c,s)=>{s(1412)("metadata")},2994:(a,c,s)=>{s(1412)("observable")},9431:(a,c,s)=>{s(1412)("patternMatch")},4803:(a,c,s)=>{s(1412)("replaceAll")},9702:(a,c,s)=>{s(2228);var u=s(315),d=s(2868),f=s(7499),_=s(8518),y=s(9418),g=s(5712)("toStringTag");for(var v in u){var m=d[v],h=m&&m.prototype;h&&f(h)!==g&&_(h,g,v),y[v]=y.Array}},5592:(a,c,s)=>{var u=s(390),d=s(2868),f=s(8307),_=s(6900),y=[].slice,g=function(v){return function(m,h){var b=arguments.length>2,p=b?y.call(arguments,2):void 0;return v(b?function(){(f(m)?m:Function(m)).apply(this,p)}:m,h)}};u({global:!0,bind:!0,forced:/MSIE .\./.test(_)},{setTimeout:g(d.setTimeout),setInterval:g(d.setInterval)})},504:(a,c,s)=>{var u=s(6678);a.exports=u},3366:(a,c,s)=>{var u=s(5441);a.exports=u},2038:(a,c,s)=>{var u=s(4452);a.exports=u},9842:(a,c,s)=>{var u=s(7543);a.exports=u},4263:(a,c,s)=>{var u=s(4571);a.exports=u},7757:(a,c,s)=>{s(9702);var u=s(504),d=s(7499),f=Array.prototype,_={DOMTokenList:!0,NodeList:!0};a.exports=function(y){var g=y.forEach;return y===f||y instanceof Array&&g===f.forEach||_.hasOwnProperty(d(y))?u:g}},6970:(a,c,s)=>{var u=s(9109);a.exports=u},5838:(a,c,s)=>{var u=s(4825);a.exports=u},9053:(a,c,s)=>{var u=s(3742);a.exports=u},671:(a,c,s)=>{var u=s(1285);a.exports=u},2672:(a,c,s)=>{var u=s(1879);a.exports=u},925:(a,c,s)=>{var u=s(3411);a.exports=u},8900:(a,c,s)=>{var u=s(8159);a.exports=u},9229:(a,c,s)=>{var u=s(8410);a.exports=u},995:(a,c,s)=>{var u=s(7209);a.exports=u},8730:(a,c,s)=>{var u=s(2529);a.exports=u},1066:(a,c,s)=>{var u=s(5886);a.exports=u},8531:(a,c,s)=>{var u=s(6854);a.exports=u},3751:(a,c,s)=>{var u=s(2744);a.exports=u},4731:(a,c,s)=>{var u=s(7281);s(9702),a.exports=u},3394:(a,c,s)=>{s(5592);var u=s(9081);a.exports=u.setInterval},7391:(a,c,s)=>{s(5592);var u=s(9081);a.exports=u.setTimeout},3355:(a,c,s)=>{var u=s(1442);s(9702),a.exports=u},6888:(a,c,s)=>{var u=s(1190);s(9702),a.exports=u},5390:(a,c,s)=>{var u=s(9490);s(9702),a.exports=u},6248:a=>{var c=function(s){var u,d=Object.prototype,f=d.hasOwnProperty,_=typeof Symbol=="function"?Symbol:{},y=_.iterator||"@@iterator",g=_.asyncIterator||"@@asyncIterator",v=_.toStringTag||"@@toStringTag";function m(L,C,W){return Object.defineProperty(L,C,{value:W,enumerable:!0,configurable:!0,writable:!0}),L[C]}try{m({},"")}catch{m=function(C,W,ie){return C[W]=ie}}function h(L,C,W,ie){var ce=C&&C.prototype instanceof j?C:j,ge=Object.create(ce.prototype),ve=new K(ie||[]);return ge._invoke=function(Ae,je,Me){var T=p;return function(H,Q){if(T===O)throw new Error("Generator is already running");if(T===A){if(H==="throw")throw Q;return Y()}for(Me.method=H,Me.arg=Q;;){var ue=Me.delegate;if(ue){var te=se(ue,Me);if(te){if(te===I)continue;return te}}if(Me.method==="next")Me.sent=Me._sent=Me.arg;else if(Me.method==="throw"){if(T===p)throw T=A,Me.arg;Me.dispatchException(Me.arg)}else Me.method==="return"&&Me.abrupt("return",Me.arg);T=O;var ye=b(Ae,je,Me);if(ye.type==="normal"){if(T=Me.done?A:R,ye.arg===I)continue;return{value:ye.arg,done:Me.done}}ye.type==="throw"&&(T=A,Me.method="throw",Me.arg=ye.arg)}}}(L,W,ve),ge}function b(L,C,W){try{return{type:"normal",arg:L.call(C,W)}}catch(ie){return{type:"throw",arg:ie}}}s.wrap=h;var p="suspendedStart",R="suspendedYield",O="executing",A="completed",I={};function j(){}function U(){}function M(){}var x={};x[y]=function(){return this};var D=Object.getPrototypeOf,V=D&&D(D(B([])));V&&V!==d&&f.call(V,y)&&(x=V);var q=M.prototype=j.prototype=Object.create(x);function ee(L){["next","throw","return"].forEach(function(C){m(L,C,function(W){return this._invoke(C,W)})})}function ne(L,C){function W(ce,ge,ve,Ae){var je=b(L[ce],L,ge);if(je.type!=="throw"){var Me=je.arg,T=Me.value;return T&&typeof T=="object"&&f.call(T,"__await")?C.resolve(T.__await).then(function(H){W("next",H,ve,Ae)},function(H){W("throw",H,ve,Ae)}):C.resolve(T).then(function(H){Me.value=H,ve(Me)},function(H){return W("throw",H,ve,Ae)})}Ae(je.arg)}var ie;this._invoke=function(ce,ge){function ve(){return new C(function(Ae,je){W(ce,ge,Ae,je)})}return ie=ie?ie.then(ve,ve):ve()}}function se(L,C){var W=L.iterator[C.method];if(W===u){if(C.delegate=null,C.method==="throw"){if(L.iterator.return&&(C.method="return",C.arg=u,se(L,C),C.method==="throw"))return I;C.method="throw",C.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var ie=b(W,L.iterator,C.arg);if(ie.type==="throw")return C.method="throw",C.arg=ie.arg,C.delegate=null,I;var ce=ie.arg;return ce?ce.done?(C[L.resultName]=ce.value,C.next=L.nextLoc,C.method!=="return"&&(C.method="next",C.arg=u),C.delegate=null,I):ce:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,I)}function G(L){var C={tryLoc:L[0]};1 in L&&(C.catchLoc=L[1]),2 in L&&(C.finallyLoc=L[2],C.afterLoc=L[3]),this.tryEntries.push(C)}function Z(L){var C=L.completion||{};C.type="normal",delete C.arg,L.completion=C}function K(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(G,this),this.reset(!0)}function B(L){if(L){var C=L[y];if(C)return C.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var W=-1,ie=function ce(){for(;++W<L.length;)if(f.call(L,W))return ce.value=L[W],ce.done=!1,ce;return ce.value=u,ce.done=!0,ce};return ie.next=ie}}return{next:Y}}function Y(){return{value:u,done:!0}}return U.prototype=q.constructor=M,M.constructor=U,U.displayName=m(M,v,"GeneratorFunction"),s.isGeneratorFunction=function(L){var C=typeof L=="function"&&L.constructor;return!!C&&(C===U||(C.displayName||C.name)==="GeneratorFunction")},s.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,M):(L.__proto__=M,m(L,v,"GeneratorFunction")),L.prototype=Object.create(q),L},s.awrap=function(L){return{__await:L}},ee(ne.prototype),ne.prototype[g]=function(){return this},s.AsyncIterator=ne,s.async=function(L,C,W,ie,ce){ce===void 0&&(ce=Promise);var ge=new ne(h(L,C,W,ie),ce);return s.isGeneratorFunction(C)?ge:ge.next().then(function(ve){return ve.done?ve.value:ge.next()})},ee(q),m(q,v,"Generator"),q[y]=function(){return this},q.toString=function(){return"[object Generator]"},s.keys=function(L){var C=[];for(var W in L)C.push(W);return C.reverse(),function ie(){for(;C.length;){var ce=C.pop();if(ce in L)return ie.value=ce,ie.done=!1,ie}return ie.done=!0,ie}},s.values=B,K.prototype={constructor:K,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(Z),!L)for(var C in this)C.charAt(0)==="t"&&f.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=u)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var C=this;function W(je,Me){return ge.type="throw",ge.arg=L,C.next=je,Me&&(C.method="next",C.arg=u),!!Me}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var ce=this.tryEntries[ie],ge=ce.completion;if(ce.tryLoc==="root")return W("end");if(ce.tryLoc<=this.prev){var ve=f.call(ce,"catchLoc"),Ae=f.call(ce,"finallyLoc");if(ve&&Ae){if(this.prev<ce.catchLoc)return W(ce.catchLoc,!0);if(this.prev<ce.finallyLoc)return W(ce.finallyLoc)}else if(ve){if(this.prev<ce.catchLoc)return W(ce.catchLoc,!0)}else{if(!Ae)throw new Error("try statement without catch or finally");if(this.prev<ce.finallyLoc)return W(ce.finallyLoc)}}}},abrupt:function(L,C){for(var W=this.tryEntries.length-1;W>=0;--W){var ie=this.tryEntries[W];if(ie.tryLoc<=this.prev&&f.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var ce=ie;break}}ce&&(L==="break"||L==="continue")&&ce.tryLoc<=C&&C<=ce.finallyLoc&&(ce=null);var ge=ce?ce.completion:{};return ge.type=L,ge.arg=C,ce?(this.method="next",this.next=ce.finallyLoc,I):this.complete(ge)},complete:function(L,C){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&C&&(this.next=C),I},finish:function(L){for(var C=this.tryEntries.length-1;C>=0;--C){var W=this.tryEntries[C];if(W.finallyLoc===L)return this.complete(W.completion,W.afterLoc),Z(W),I}},catch:function(L){for(var C=this.tryEntries.length-1;C>=0;--C){var W=this.tryEntries[C];if(W.tryLoc===L){var ie=W.completion;if(ie.type==="throw"){var ce=ie.arg;Z(W)}return ce}}throw new Error("illegal catch attempt")},delegateYield:function(L,C,W){return this.delegate={iterator:B(L),resultName:C,nextLoc:W},this.method==="next"&&(this.arg=u),I}},s}(a.exports);try{regeneratorRuntime=c}catch{Function("r","regeneratorRuntime = r")(c)}}},r={};function i(a){var c=r[a];if(c!==void 0)return c.exports;var s=r[a]={exports:{}};return n[a](s,s.exports,i),s.exports}i.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return i.d(c,{a:c}),c},i.d=(a,c)=>{for(var s in c)i.o(c,s)&&!i.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:c[s]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{AvoidLib:()=>Ce});var a=i(5534);function c(N,z,J,ae,l,Le,Re){try{var xe=N[Le](Re),Ee=xe.value}catch(De){return void J(De)}xe.done?z(Ee):a.resolve(Ee).then(ae,l)}var s=i(2043),u=i.n(s),d=i(4215),f=i(6496);function _(N){return(_=typeof d=="function"&&typeof f=="symbol"?function(z){return typeof z}:function(z){return z&&typeof d=="function"&&z.constructor===d&&z!==d.prototype?"symbol":typeof z})(N)}var y,g=i(2250),v=i.n(g),m=i(337),h=i.n(m),b=i(5629),p=i.n(b),R=i(1246),O=i.n(R),A=i(5391),I=i.n(A),j=i(5268),U=i.n(j),M=i(2010),x=i.n(M),D=i(3815),V=i.n(D),q=i(3033),ee=i.n(q),ne=i(5407),se=i.n(ne),G=i(2926),Z=i.n(G),K=i(1022),B=i.n(K),Y=i(5157),L=i.n(Y),C=i(6028),W=i.n(C),ie=i(7423),ce=i.n(ie),ge=i(3915),ve=i.n(ge),Ae=i(1884),je=i.n(Ae),Me=i(9837),T=i.n(Me),H=i(7093),Q=i.n(H),ue=i(3576),te=i.n(ue),ye=i(3933),we=i.n(ye),be=i(4559),Pe=i.n(be);const le=(y=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0,function(N){var z,J,ae,l,Le,Re;N=N||{},l||(l=N!==void 0?N:{}),l.ready=new(v())(function(P,E){Le=P,Re=E}),h()(l.ready,"_emscripten_bind_VoidPtr___destroy___0")||(p()(l.ready,"_emscripten_bind_VoidPtr___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VoidPtr___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VoidPtr___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VoidPtr___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover_HyperedgeImprover_0")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover_HyperedgeImprover_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover_HyperedgeImprover_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover_HyperedgeImprover_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover_HyperedgeImprover_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover_clear_0")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover_clear_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover_clear_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover_setRouter_1")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover_setRouter_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover_setRouter_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover_setRouter_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover_setRouter_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_Box_0")||(p()(l.ready,"_emscripten_bind_Box_Box_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_Box_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_Box_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_Box_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_length_1")||(p()(l.ready,"_emscripten_bind_Box_length_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_length_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_length_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_length_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_width_0")||(p()(l.ready,"_emscripten_bind_Box_width_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_width_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_width_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_width_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_height_0")||(p()(l.ready,"_emscripten_bind_Box_height_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_height_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_height_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_height_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_get_min_0")||(p()(l.ready,"_emscripten_bind_Box_get_min_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_get_min_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_get_min_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_get_min_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_set_min_1")||(p()(l.ready,"_emscripten_bind_Box_set_min_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_set_min_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_set_min_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_set_min_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_get_max_0")||(p()(l.ready,"_emscripten_bind_Box_get_max_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_get_max_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_get_max_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_get_max_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_set_max_1")||(p()(l.ready,"_emscripten_bind_Box_set_max_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_set_max_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_set_max_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_set_max_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box___destroy___0")||(p()(l.ready,"_emscripten_bind_Box___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_clear_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_clear_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_clear_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_empty_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_empty_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_empty_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_empty_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_empty_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_size_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_size_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_size_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_id_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_at_1")||(p()(l.ready,"_emscripten_bind_PolygonInterface_at_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_at_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_at_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_at_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_boundingRectPolygon_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_boundingRectPolygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_boundingRectPolygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_boundingRectPolygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_boundingRectPolygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_offsetBoundingBox_1")||(p()(l.ready,"_emscripten_bind_PolygonInterface_offsetBoundingBox_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_offsetBoundingBox_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_offsetBoundingBox_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_offsetBoundingBox_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_offsetPolygon_1")||(p()(l.ready,"_emscripten_bind_PolygonInterface_offsetPolygon_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_offsetPolygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_offsetPolygon_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_offsetPolygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface___destroy___0")||(p()(l.ready,"_emscripten_bind_PolygonInterface___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_Polygon_0")||(p()(l.ready,"_emscripten_bind_Polygon_Polygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_Polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_Polygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_Polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_Polygon_1")||(p()(l.ready,"_emscripten_bind_Polygon_Polygon_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_Polygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_Polygon_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_Polygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_setPoint_2")||(p()(l.ready,"_emscripten_bind_Polygon_setPoint_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_setPoint_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_setPoint_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_setPoint_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_size_0")||(p()(l.ready,"_emscripten_bind_Polygon_size_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_size_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_get_ps_1")||(p()(l.ready,"_emscripten_bind_Polygon_get_ps_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_get_ps_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_get_ps_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_get_ps_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_set_ps_2")||(p()(l.ready,"_emscripten_bind_Polygon_set_ps_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_set_ps_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_set_ps_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_set_ps_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon___destroy___0")||(p()(l.ready,"_emscripten_bind_Polygon___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_Point_0")||(p()(l.ready,"_emscripten_bind_Point_Point_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_Point_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_Point_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_Point_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_Point_2")||(p()(l.ready,"_emscripten_bind_Point_Point_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_Point_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_Point_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_Point_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_equal_1")||(p()(l.ready,"_emscripten_bind_Point_equal_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_equal_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_equal_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_equal_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_x_0")||(p()(l.ready,"_emscripten_bind_Point_get_x_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_x_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_x_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_x_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_x_1")||(p()(l.ready,"_emscripten_bind_Point_set_x_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_x_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_x_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_x_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_y_0")||(p()(l.ready,"_emscripten_bind_Point_get_y_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_y_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_y_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_y_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_y_1")||(p()(l.ready,"_emscripten_bind_Point_set_y_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_y_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_y_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_y_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_id_0")||(p()(l.ready,"_emscripten_bind_Point_get_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_id_1")||(p()(l.ready,"_emscripten_bind_Point_set_id_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_id_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_id_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_id_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_vn_0")||(p()(l.ready,"_emscripten_bind_Point_get_vn_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_vn_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_vn_1")||(p()(l.ready,"_emscripten_bind_Point_set_vn_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_vn_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point___destroy___0")||(p()(l.ready,"_emscripten_bind_Point___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Rectangle_Rectangle_3")||(p()(l.ready,"_emscripten_bind_Rectangle_Rectangle_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Rectangle_Rectangle_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Rectangle_Rectangle_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Rectangle_Rectangle_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Rectangle___destroy___0")||(p()(l.ready,"_emscripten_bind_Rectangle___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Rectangle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Rectangle___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Rectangle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeNode___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeNode___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeNode___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeNode___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeNode___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeEdge___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeEdge___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeEdge___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_AStarPath_AStarPath_0")||(p()(l.ready,"_emscripten_bind_AStarPath_AStarPath_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_AStarPath_AStarPath_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_AStarPath_AStarPath_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_AStarPath_AStarPath_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_AStarPath_search_4")||(p()(l.ready,"_emscripten_bind_AStarPath_search_4",{configurable:!0,get:function(){S("You are getting _emscripten_bind_AStarPath_search_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_AStarPath_search_4",{configurable:!0,set:function(){S("You are setting _emscripten_bind_AStarPath_search_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_AStarPath___destroy___0")||(p()(l.ready,"_emscripten_bind_AStarPath___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_AStarPath___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_AStarPath___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_AStarPath___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_1")||(p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnEnd_ConnEnd_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnEnd_ConnEnd_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_2")||(p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnEnd_ConnEnd_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnEnd_ConnEnd_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnEnd___destroy___0")||(p()(l.ready,"_emscripten_bind_ConnEnd___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnEnd___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnEnd___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnEnd___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_2")||(p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_ActionInfo_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_ActionInfo_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_3")||(p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_ActionInfo_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_ActionInfo_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_4")||(p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_4",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_ActionInfo_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_4",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_ActionInfo_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_obstacle_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_obstacle_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_obstacle_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_obstacle_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_obstacle_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_shape_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_shape_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_shape_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_shape_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_shape_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_conn_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_conn_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_conn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_conn_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_conn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_junction_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_junction_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_junction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_junction_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_junction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_addConnEndUpdate_3")||(p()(l.ready,"_emscripten_bind_ActionInfo_addConnEndUpdate_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_addConnEndUpdate_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_addConnEndUpdate_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_addConnEndUpdate_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_type_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_type_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_type_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_type_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_type_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_type_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_type_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_type_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_type_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_type_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_objPtr_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_objPtr_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_objPtr_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_objPtr_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_objPtr_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_objPtr_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_objPtr_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_objPtr_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_objPtr_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_objPtr_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_newPoly_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_newPoly_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_newPoly_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_newPoly_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_newPoly_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_newPoly_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_newPoly_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_newPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_newPoly_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_newPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_newPosition_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_newPosition_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_newPosition_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_newPosition_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_newPosition_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_newPosition_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_newPosition_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_newPosition_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_newPosition_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_newPosition_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_firstMove_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_firstMove_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_firstMove_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_firstMove_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_firstMove_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_firstMove_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_firstMove_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_firstMove_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_firstMove_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_firstMove_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo___destroy___0")||(p()(l.ready,"_emscripten_bind_ActionInfo___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_setConnectionCost_1")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setConnectionCost_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_setConnectionCost_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setConnectionCost_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_setConnectionCost_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_1")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_position_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_position_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_directions_0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_directions_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_directions_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_directions_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_directions_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_setExclusive_1")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setExclusive_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_setExclusive_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setExclusive_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_setExclusive_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_isExclusive_0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_isExclusive_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_isExclusive_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_isExclusive_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_isExclusive_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin___destroy___0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_id_0")||(p()(l.ready,"_emscripten_bind_Obstacle_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_polygon_0")||(p()(l.ready,"_emscripten_bind_Obstacle_polygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_polygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_router_0")||(p()(l.ready,"_emscripten_bind_Obstacle_router_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_router_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_router_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_router_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_position_0")||(p()(l.ready,"_emscripten_bind_Obstacle_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle___destroy___0")||(p()(l.ready,"_emscripten_bind_Obstacle___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_2")||(p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef_JunctionRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef_JunctionRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_3")||(p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef_JunctionRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef_JunctionRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef_position_0")||(p()(l.ready,"_emscripten_bind_JunctionRef_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef___destroy___0")||(p()(l.ready,"_emscripten_bind_JunctionRef___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_2")||(p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_ShapeRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_ShapeRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_3")||(p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_ShapeRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_ShapeRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_polygon_0")||(p()(l.ready,"_emscripten_bind_ShapeRef_polygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_polygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_position_0")||(p()(l.ready,"_emscripten_bind_ShapeRef_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef___destroy___0")||(p()(l.ready,"_emscripten_bind_ShapeRef___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0")||(p()(l.ready,"_emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1")||(p()(l.ready,"_emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeRerouter___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeRerouter___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeRerouter___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeRerouter___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeRerouter___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertInf___destroy___0")||(p()(l.ready,"_emscripten_bind_VertInf___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertInf___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_VertID_0")||(p()(l.ready,"_emscripten_bind_VertID_VertID_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_VertID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_VertID_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_VertID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_VertID_2")||(p()(l.ready,"_emscripten_bind_VertID_VertID_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_VertID_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_VertID_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_VertID_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_VertID_3")||(p()(l.ready,"_emscripten_bind_VertID_VertID_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_VertID_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_VertID_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_VertID_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_objID_0")||(p()(l.ready,"_emscripten_bind_VertID_get_objID_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_objID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_objID_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_objID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_set_objID_1")||(p()(l.ready,"_emscripten_bind_VertID_set_objID_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_set_objID_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_set_objID_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_set_objID_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_vn_0")||(p()(l.ready,"_emscripten_bind_VertID_get_vn_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_vn_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_set_vn_1")||(p()(l.ready,"_emscripten_bind_VertID_set_vn_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_set_vn_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_props_0")||(p()(l.ready,"_emscripten_bind_VertID_get_props_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_props_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_props_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_props_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_set_props_1")||(p()(l.ready,"_emscripten_bind_VertID_set_props_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_set_props_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_set_props_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_set_props_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_src_0")||(p()(l.ready,"_emscripten_bind_VertID_get_src_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_src_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_src_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_src_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_tar_0")||(p()(l.ready,"_emscripten_bind_VertID_get_tar_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_tar_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_tar_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_tar_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnPoint_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnPoint_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_ConnPoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnPoint_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_ConnPoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_OrthShapeEdge_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_OrthShapeEdge_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_OrthShapeEdge_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_OrthShapeEdge_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_OrthShapeEdge_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnectionPin_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnectionPin_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_ConnectionPin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnectionPin_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_ConnectionPin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnCheckpoint_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnCheckpoint_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_ConnCheckpoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnCheckpoint_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_ConnCheckpoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_DummyPinHelper_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_DummyPinHelper_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_DummyPinHelper_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_DummyPinHelper_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_DummyPinHelper_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID___destroy___0")||(p()(l.ready,"_emscripten_bind_VertID___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_MinimumTerminalSpanningTree___destroy___0")||(p()(l.ready,"_emscripten_bind_MinimumTerminalSpanningTree___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_MinimumTerminalSpanningTree___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_MinimumTerminalSpanningTree___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_MinimumTerminalSpanningTree___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Checkpoint_Checkpoint_1")||(p()(l.ready,"_emscripten_bind_Checkpoint_Checkpoint_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Checkpoint_Checkpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Checkpoint_Checkpoint_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Checkpoint_Checkpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Checkpoint___destroy___0")||(p()(l.ready,"_emscripten_bind_Checkpoint___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Checkpoint___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Checkpoint___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Checkpoint___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_ConnRef_3")||(p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_ConnRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_ConnRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_ConnRef_4")||(p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_4",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_ConnRef_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_4",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_ConnRef_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_id_0")||(p()(l.ready,"_emscripten_bind_ConnRef_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setCallback_2")||(p()(l.ready,"_emscripten_bind_ConnRef_setCallback_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setCallback_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setCallback_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setCallback_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setSourceEndpoint_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setSourceEndpoint_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setSourceEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setSourceEndpoint_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setSourceEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setDestEndpoint_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setDestEndpoint_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setDestEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setDestEndpoint_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setDestEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_routingType_0")||(p()(l.ready,"_emscripten_bind_ConnRef_routingType_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_routingType_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_routingType_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_routingType_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setRoutingType_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setRoutingType_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setRoutingType_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setRoutingType_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setRoutingType_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_displayRoute_0")||(p()(l.ready,"_emscripten_bind_ConnRef_displayRoute_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_displayRoute_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_displayRoute_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_displayRoute_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setHateCrossings_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setHateCrossings_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setHateCrossings_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setHateCrossings_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setHateCrossings_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_doesHateCrossings_0")||(p()(l.ready,"_emscripten_bind_ConnRef_doesHateCrossings_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_doesHateCrossings_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_doesHateCrossings_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_doesHateCrossings_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef___destroy___0")||(p()(l.ready,"_emscripten_bind_ConnRef___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_2")||(p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_EdgeInf_EdgeInf_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_EdgeInf_EdgeInf_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_3")||(p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_EdgeInf_EdgeInf_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_EdgeInf_EdgeInf_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_EdgeInf___destroy___0")||(p()(l.ready,"_emscripten_bind_EdgeInf___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_EdgeInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_EdgeInf___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_EdgeInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_get_begin_0")||(p()(l.ready,"_emscripten_bind_LineRep_get_begin_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_get_begin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_get_begin_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_get_begin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_set_begin_1")||(p()(l.ready,"_emscripten_bind_LineRep_set_begin_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_set_begin_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_set_begin_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_set_begin_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_get_end_0")||(p()(l.ready,"_emscripten_bind_LineRep_get_end_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_get_end_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_get_end_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_get_end_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_set_end_1")||(p()(l.ready,"_emscripten_bind_LineRep_set_end_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_set_end_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_set_end_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_set_end_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep___destroy___0")||(p()(l.ready,"_emscripten_bind_LineRep___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_Router_1")||(p()(l.ready,"_emscripten_bind_Router_Router_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_Router_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_Router_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_Router_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_processTransaction_0")||(p()(l.ready,"_emscripten_bind_Router_processTransaction_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_processTransaction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_processTransaction_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_processTransaction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_printInfo_0")||(p()(l.ready,"_emscripten_bind_Router_printInfo_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_printInfo_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_printInfo_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_printInfo_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_deleteConnector_1")||(p()(l.ready,"_emscripten_bind_Router_deleteConnector_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_deleteConnector_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_deleteConnector_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_deleteConnector_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_moveShape_3")||(p()(l.ready,"_emscripten_bind_Router_moveShape_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_moveShape_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_moveShape_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_moveShape_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_setRoutingParameter_2")||(p()(l.ready,"_emscripten_bind_Router_setRoutingParameter_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_setRoutingParameter_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_setRoutingParameter_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_setRoutingParameter_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_setRoutingOption_2")||(p()(l.ready,"_emscripten_bind_Router_setRoutingOption_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_setRoutingOption_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_setRoutingOption_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_setRoutingOption_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router___destroy___0")||(p()(l.ready,"_emscripten_bind_Router___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirNone")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirNone",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirNone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirNone",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirNone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirUp")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirUp",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirUp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirUp",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirUp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirDown")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirDown",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirDown on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirDown",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirDown on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirRight")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirRight",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirRight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirRight",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirRight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirAll")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirAll",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirAll on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirAll",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirAll on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndPoint")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndPoint",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndPoint",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndShapePin")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndShapePin",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndShapePin on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndShapePin",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndShapePin on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndJunction")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndJunction",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndJunction on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndJunction",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndJunction on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndEmpty")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndEmpty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndEmpty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndEmpty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndEmpty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeMove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeMove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ShapeMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeMove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ShapeMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeAdd")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeAdd",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ShapeAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeAdd",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ShapeAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeRemove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeRemove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ShapeRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeRemove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ShapeRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionMove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionMove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_JunctionMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionMove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_JunctionMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionAdd")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionAdd",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_JunctionAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionAdd",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_JunctionAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionRemove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionRemove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_JunctionRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionRemove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_JunctionRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnChange")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnChange",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ConnChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnChange",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ConnChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnectionPinChange")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnectionPinChange",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ConnectionPinChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnectionPinChange",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ConnectionPinChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_None")||(p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_None",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnType_ConnType_None on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_None",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnType_ConnType_None on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_PolyLine")||(p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_PolyLine",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnType_ConnType_PolyLine on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_PolyLine",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnType_ConnType_PolyLine on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_Orthogonal")||(p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_Orthogonal",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnType_ConnType_Orthogonal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_Orthogonal",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnType_ConnType_Orthogonal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RouterFlag_PolyLineRouting")||(p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_PolyLineRouting",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RouterFlag_PolyLineRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_PolyLineRouting",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RouterFlag_PolyLineRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RouterFlag_OrthogonalRouting")||(p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_OrthogonalRouting",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RouterFlag_OrthogonalRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_OrthogonalRouting",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RouterFlag_OrthogonalRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_segmentPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_segmentPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_segmentPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_segmentPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_segmentPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_anglePenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_anglePenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_anglePenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_anglePenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_anglePenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_crossingPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_crossingPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_crossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_crossingPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_crossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"___stdio_exit")||(p()(l.ready,"___stdio_exit",{configurable:!0,get:function(){S("You are getting ___stdio_exit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"___stdio_exit",{configurable:!0,set:function(){S("You are setting ___stdio_exit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"onRuntimeInitialized")||(p()(l.ready,"onRuntimeInitialized",{configurable:!0,get:function(){S("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"onRuntimeInitialized",{configurable:!0,set:function(){S("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var xe=O()({},l),Ee="./this.program";if(l.ENVIRONMENT)throw Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var De="";if(typeof document!="undefined"&&document.currentScript&&(De=document.currentScript.src),y&&(De=y),De=I()(De).call(De,"blob:")!==0?De.substr(0,U()(z=De.replace(/[?#].*/,"")).call(z,"/")+1):"",(typeof window=="undefined"?"undefined":_(window))!="object"&&typeof importScripts!="function")throw Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var $e=l.print||x()(J=console.log).call(J,console),de=l.printErr||x()(ae=console.warn).call(ae,console);function Ie(P){Ne||(Ne={}),Ne[P]||(Ne[P]=1,de(P))}O()(l,xe),xe=null,h()(l,"fetchSettings")&&S("`Module.fetchSettings` was supplied but `fetchSettings` not included in INCOMING_MODULE_JS_API"),Te("arguments","arguments_"),l.thisProgram&&(Ee=l.thisProgram),Te("thisProgram","thisProgram"),Te("quit","quit_"),ke(l.memoryInitializerPrefixURL===void 0,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),ke(l.pthreadMainPrefixURL===void 0,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),ke(l.cdInitializerPrefixURL===void 0,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),ke(l.filePackagePrefixURL===void 0,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),ke(l.read===void 0,"Module.read option was removed (modify read_ in JS)"),ke(l.readAsync===void 0,"Module.readAsync option was removed (modify readAsync in JS)"),ke(l.readBinary===void 0,"Module.readBinary option was removed (modify readBinary in JS)"),ke(l.setWindowTitle===void 0,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),ke(l.TOTAL_MEMORY===void 0,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Te("read","read_"),Te("readAsync","readAsync"),Te("readBinary","readBinary"),Te("setWindowTitle","setWindowTitle"),ke(!0,"worker environment detected but not enabled at build time.  Add 'worker' to `-s ENVIRONMENT` to enable."),ke(!0,"node environment detected but not enabled at build time.  Add 'node' to `-s ENVIRONMENT` to enable."),ke(!0,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.");var Ne,_e,Oe=[];function Te(P,E){h()(l,P)||p()(l,P,{configurable:!0,get:function(){S("Module."+P+" has been replaced with plain "+E+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function He(P,E){return P="'"+P+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)",E&&(P+=". Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you"),P}function ft(P){h()(l,P)||p()(l,P,{configurable:!0,get:function(){S(He(P,!1))}})}function k(P,E){h()(l,P)||(l[P]=function(){return S(He(P,E))})}var jt,Et=0;l.wasmBinary&&(jt=l.wasmBinary),Te("wasmBinary","wasmBinary"),l.noExitRuntime,Te("noExitRuntime","noExitRuntime"),(typeof WebAssembly=="undefined"?"undefined":_(WebAssembly))!="object"&&S("no native wasm support detected");var vr,vn=!1;function ke(P,E){P||S("Assertion failed"+(E?": "+E:""))}var Mo,br,Ci,Je,Qu,L_=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function U_(P,E,F){var X=E+F;for(F=E;P[F]&&!(F>=X);)++F;if(16<F-E&&P.buffer&&L_)return L_.decode(P.subarray(E,F));for(X="";E<F;){var re=P[E++];if(128&re){var pe=63&P[E++];if((224&re)==192)X+=String.fromCharCode((31&re)<<6|pe);else{var me=63&P[E++];(240&re)==224?re=(15&re)<<12|pe<<6|me:((248&re)!=240&&Ie("Invalid UTF-8 leading byte 0x"+re.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),re=(7&re)<<18|pe<<12|me<<6|63&P[E++]),65536>re?X+=String.fromCharCode(re):(re-=65536,X+=String.fromCharCode(55296|re>>10,56320|1023&re))}}else X+=String.fromCharCode(re)}return X}function Co(P){return P?U_(Ci,P,void 0):""}function N_(){var P=vr.buffer;Mo=P,l.HEAP8=br=new Int8Array(P),l.HEAP16=new Int16Array(P),l.HEAP32=Je=new Int32Array(P),l.HEAPU8=Ci=new Uint8Array(P),l.HEAPU16=new Uint16Array(P),l.HEAPU32=Qu=new Uint32Array(P),l.HEAPF32=new Float32Array(P),l.HEAPF64=new Float64Array(P)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),l.TOTAL_STACK&&ke(l.TOTAL_STACK===5242880,"the stack size can no longer be determined at runtime");var Pr,ed=l.INITIAL_MEMORY||16777216;function F_(){var P=od();ke((3&P)==0),Je[P>>2]=34821223,Je[P+4>>2]=2310721022,Je[0]=1668509029}function fs(){if(!vn){var P=od(),E=Qu[P>>2];P=Qu[P+4>>2],E==34821223&&P==2310721022||S("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+P.toString(16)+" 0x"+E.toString(16)),Je[0]!==1668509029&&S("Runtime error: The application has corrupted its heap memory area (address zero)!")}}Te("INITIAL_MEMORY","INITIAL_MEMORY"),ke(5242880<=ed,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+ed+"! (TOTAL_STACK=5242880)"),ke(typeof Int32Array!="undefined"&&typeof Float64Array!="undefined"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),ke(!l.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),ke(ed==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var k_=new Int16Array(1),B_=new Int8Array(k_.buffer);if(k_[0]=25459,B_[0]!==115||B_[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)";var Y_=[],td=[],$_=[],_s=!1;function qv(){var P=l.preRun.shift();Y_.unshift(P)}ke(V(),"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),ke(ee(),"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),ke(se(),"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),ke(Z(),"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var sn,zr=0,Zr=null,xo=null,Do={};function S(P){throw l.onAbort&&l.onAbort(P),de(P="Aborted("+P+")"),vn=!0,P=new WebAssembly.RuntimeError(P),Re(P),P}function V_(){S("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")}function H_(){return L()(sn).call(sn,"data:application/octet-stream;base64,")}function $(P){return function(){var E=l.asm;return ke(_s,"native function `"+P+"` called before runtime initialization"),E[P]||ke(E[P],"exported native function `"+P+"` not found"),E[P].apply(null,arguments)}}if(l.preloadedImages={},l.preloadedAudios={},l.FS_createDataFile=function(){V_()},l.FS_createPreloadedFile=function(){V_()},sn="libavoid.wasm",!H_()){var K_=sn;sn=l.locateFile?l.locateFile(K_,De):De+K_}function z_(){var P=sn;try{if(P==sn&&jt)return new Uint8Array(jt);throw"both async and sync fetching of the wasm failed"}catch(E){S(E)}}function nd(P){for(;0<P.length;){var E=P.shift();if(typeof E=="function")E(l);else{var F=E.Ka;typeof F=="number"?E.H===void 0?Xe(F)():Xe(F)(E.H):F(E.H===void 0?null:E.H)}}}var xi=[];function Xe(P){var E=xi[P];return E||(P>=xi.length&&(xi.length=P+1),xi[P]=E=Pr.get(P)),ke(Pr.get(P)==E,"JavaScript-side Wasm function table mirror is out of date!"),E}function To(P){this.P=P,this.g=P-16,this.M=function(E){Je[this.g+4>>2]=E},this.A=function(){return Je[this.g+4>>2]},this.C=function(E){Je[this.g+8>>2]=E},this.aa=function(){return Je[this.g+8>>2]},this.D=function(){Je[this.g>>2]=0},this.K=function(E){br[this.g+12>>0]=E?1:0},this.$=function(){return br[this.g+12>>0]!=0},this.L=function(E){br[this.g+13>>0]=E?1:0},this.R=function(){return br[this.g+13>>0]!=0},this.u=function(E,F){this.M(E),this.C(F),this.D(),this.K(!1),this.L(!1)},this.T=function(){Je[this.g>>2]+=1},this.ra=function(){var E=Je[this.g>>2];return Je[this.g>>2]=E-1,ke(0<E),E===1}}function Lo(P){this.I=function(){Q_(this.g),this.g=0},this.S=function(E){Je[this.g>>2]=E},this.v=function(){return Je[this.g>>2]},this.u=function(E){Je[this.g+4>>2]=E},this.C=function(){return this.g+4},this.qa=function(){return Je[this.g+4>>2]},this.D=function(){if(Mw(this.B().A()))return Je[this.v()>>2];var E=this.qa();return E!==0?E:this.v()},this.B=function(){return new To(this.v())},P===void 0?(this.g=X_(8),this.u(0)):this.g=P}var Uo=[],ps=0,qr=0;function Z_(P){try{return Q_(new To(P).g)}catch(E){de("exception during cxa_free_exception: "+E)}}var rd={};function q_(){if(!id){var P,E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:((typeof navigator=="undefined"?"undefined":_(navigator))=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ee||"./this.program"};for(P in rd)rd[P]===void 0?delete E[P]:E[P]=rd[P];var F=[];for(P in E)F.push(P+"="+E[P]);id=F}return id}var id,Wv=[null,[],[]];function hs(P){return P%4==0&&(P%100!=0||P%400==0)}var W_=[31,29,31,30,31,30,31,31,30,31,30,31],G_=[31,28,31,30,31,30,31,31,30,31,30,31],J_={__assert_fail:function(P,E,F,X){S("Assertion failed: "+Co(P)+", at: "+[E?Co(E):"unknown filename",F,X?Co(X):"unknown function"])},__cxa_allocate_exception:function(P){return X_(P+16)+16},__cxa_begin_catch:function(P){var E=(P=new Lo(P)).B();return E.$()||(E.K(!0),ps--),E.L(!1),Uo.push(P),E.T(),P.D()},__cxa_end_catch:function(){tt(0),ke(0<Uo.length);var P=Uo.pop(),E=P.B();if(E.ra()&&!E.R()){var F=E.aa();F&&Xe(F)(E.P),Z_(E.P)}P.I(),qr=0},__cxa_find_matching_catch_2:function(){var P=qr;if(!P)return Et=0;var E=new To(P).A(),F=new Lo;if(F.S(P),F.u(P),!E)return Et=0,0|F.g;P=W()(Array.prototype).call(arguments);for(var X=0;X<P.length;X++){var re=P[X];if(re===0||re===E)break;if(tp(re,E,F.C()))return Et=re,0|F.g}return Et=E,0|F.g},__cxa_find_matching_catch_3:function(){var P=qr;if(!P)return Et=0;var E=new To(P).A(),F=new Lo;if(F.S(P),F.u(P),!E)return Et=0,0|F.g;P=W()(Array.prototype).call(arguments);for(var X=0;X<P.length;X++){var re=P[X];if(re===0||re===E)break;if(tp(re,E,F.C()))return Et=re,0|F.g}return Et=E,0|F.g},__cxa_free_exception:Z_,__cxa_get_exception_ptr:function(P){return new Lo(P).D()},__cxa_rethrow:function(){var P=Uo.pop();P||S("no exception to throw");var E=P.B(),F=P.v();throw E.R()?P.I():(Uo.push(P),E.L(!0),E.K(!1),ps++),qr=F,F},__cxa_throw:function(P,E,F){throw new To(P).u(E,F),qr=P,ps++,P},__cxa_uncaught_exceptions:function(){return ps},__resumeException:function(P){var E=(P=new Lo(P)).v();throw qr||(qr=E),P.I(),E},_emscripten_date_now:function(){return ve()()},abort:function(){S("native code called abort()")},array_bounds_check_error:function(P,E){throw"Array index "+P+" out of bounds: [0,"+E+")"},emscripten_memcpy_big:function(P,E,F){je()(Ci).call(Ci,P,E,E+F)},emscripten_resize_heap:function(P){var E=Ci.length;if(ke((P>>>=0)>E),2147483648<P)return de("Cannot enlarge memory, asked to go up to "+P+" bytes, but the limit is 2147483648 bytes!"),!1;for(var F=1;4>=F;F*=2){var X=E*(1+.2/F);X=Math.min(X,P+100663296);var re=Math;X=Math.max(P,X);e:{X=re=re.min.call(re,2147483648,X+(65536-X%65536)%65536);try{vr.grow(X-Mo.byteLength+65535>>>16),N_();var pe=1;break e}catch(me){de("emscripten_realloc_buffer: Attempted to grow heap from "+Mo.byteLength+" bytes to "+X+" bytes, but got error: "+me)}pe=void 0}if(pe)return!0}return de("Failed to grow the heap from "+E+" bytes to "+re+" bytes, not enough memory!"),!1},environ_get:function(P,E){var F,X=0;return T()(F=q_()).call(F,function(re,pe){var me=E+X;for(pe=Je[P+4*pe>>2]=me,me=0;me<re.length;++me)ke(re.charCodeAt(me)===(255&re.charCodeAt(me))),br[pe++>>0]=re.charCodeAt(me);br[pe>>0]=0,X+=re.length+1}),0},environ_sizes_get:function(P,E){var F=q_();Je[P>>2]=F.length;var X=0;return T()(F).call(F,function(re){X+=re.length+1}),Je[E>>2]=X,0},fd_close:function(){return S("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM"),0},fd_seek:function(){S("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")},fd_write:function(P,E,F,X){for(var re=0,pe=0;pe<F;pe++){var me=Je[E>>2],Fe=Je[E+4>>2];E+=8;for(var st=0;st<Fe;st++){var Qe=P,wn=Ci[me+st],un=Wv[Qe];ke(un),wn===0||wn===10?((Qe===1?$e:de)(U_(un,0)),un.length=0):un.push(wn)}re+=Fe}return Je[X>>2]=re,0},getTempRet0:function(){return Et},invoke_di:function(P,E){var F=rt();try{return Xe(P)(E)}catch(X){if(it(F),X!==X+0)throw X;tt(1,0)}},invoke_didiii:function(P,E,F,X,re,pe){var me=rt();try{return Xe(P)(E,F,X,re,pe)}catch(Fe){if(it(me),Fe!==Fe+0)throw Fe;tt(1,0)}},invoke_dii:function(P,E,F){var X=rt();try{return Xe(P)(E,F)}catch(re){if(it(X),re!==re+0)throw re;tt(1,0)}},invoke_diiii:function(P,E,F,X,re){var pe=rt();try{return Xe(P)(E,F,X,re)}catch(me){if(it(pe),me!==me+0)throw me;tt(1,0)}},invoke_i:function(P){var E=rt();try{return Xe(P)()}catch(F){if(it(E),F!==F+0)throw F;tt(1,0)}},invoke_iddddddd:function(P,E,F,X,re,pe,me,Fe){var st=rt();try{return Xe(P)(E,F,X,re,pe,me,Fe)}catch(Qe){if(it(st),Qe!==Qe+0)throw Qe;tt(1,0)}},invoke_ii:function(P,E){var F=rt();try{return Xe(P)(E)}catch(X){if(it(F),X!==X+0)throw X;tt(1,0)}},invoke_iid:function(P,E,F){var X=rt();try{return Xe(P)(E,F)}catch(re){if(it(X),re!==re+0)throw re;tt(1,0)}},invoke_iii:function(P,E,F){var X=rt();try{return Xe(P)(E,F)}catch(re){if(it(X),re!==re+0)throw re;tt(1,0)}},invoke_iiid:function(P,E,F,X){var re=rt();try{return Xe(P)(E,F,X)}catch(pe){if(it(re),pe!==pe+0)throw pe;tt(1,0)}},invoke_iiii:function(P,E,F,X){var re=rt();try{return Xe(P)(E,F,X)}catch(pe){if(it(re),pe!==pe+0)throw pe;tt(1,0)}},invoke_iiiii:function(P,E,F,X,re){var pe=rt();try{return Xe(P)(E,F,X,re)}catch(me){if(it(pe),me!==me+0)throw me;tt(1,0)}},invoke_iiiiid:function(P,E,F,X,re,pe){var me=rt();try{return Xe(P)(E,F,X,re,pe)}catch(Fe){if(it(me),Fe!==Fe+0)throw Fe;tt(1,0)}},invoke_iiiiii:function(P,E,F,X,re,pe){var me=rt();try{return Xe(P)(E,F,X,re,pe)}catch(Fe){if(it(me),Fe!==Fe+0)throw Fe;tt(1,0)}},invoke_iiiiiii:function(P,E,F,X,re,pe,me){var Fe=rt();try{return Xe(P)(E,F,X,re,pe,me)}catch(st){if(it(Fe),st!==st+0)throw st;tt(1,0)}},invoke_iiiiiiii:function(P,E,F,X,re,pe,me,Fe){var st=rt();try{return Xe(P)(E,F,X,re,pe,me,Fe)}catch(Qe){if(it(st),Qe!==Qe+0)throw Qe;tt(1,0)}},invoke_iiiiiiiiiiii:function(P,E,F,X,re,pe,me,Fe,st,Qe,wn,un){var Hn=rt();try{return Xe(P)(E,F,X,re,pe,me,Fe,st,Qe,wn,un)}catch(dn){if(it(Hn),dn!==dn+0)throw dn;tt(1,0)}},invoke_iiij:function(P,E,F,X,re){var pe=rt();try{return Cw(P,E,F,X,re)}catch(me){if(it(pe),me!==me+0)throw me;tt(1,0)}},invoke_v:function(P){var E=rt();try{Xe(P)()}catch(F){if(it(E),F!==F+0)throw F;tt(1,0)}},invoke_vi:function(P,E){var F=rt();try{Xe(P)(E)}catch(X){if(it(F),X!==X+0)throw X;tt(1,0)}},invoke_vii:function(P,E,F){var X=rt();try{Xe(P)(E,F)}catch(re){if(it(X),re!==re+0)throw re;tt(1,0)}},invoke_viid:function(P,E,F,X){var re=rt();try{Xe(P)(E,F,X)}catch(pe){if(it(re),pe!==pe+0)throw pe;tt(1,0)}},invoke_viiddi:function(P,E,F,X,re,pe){var me=rt();try{Xe(P)(E,F,X,re,pe)}catch(Fe){if(it(me),Fe!==Fe+0)throw Fe;tt(1,0)}},invoke_viii:function(P,E,F,X){var re=rt();try{Xe(P)(E,F,X)}catch(pe){if(it(re),pe!==pe+0)throw pe;tt(1,0)}},invoke_viiid:function(P,E,F,X,re){var pe=rt();try{Xe(P)(E,F,X,re)}catch(me){if(it(pe),me!==me+0)throw me;tt(1,0)}},invoke_viiii:function(P,E,F,X,re){var pe=rt();try{Xe(P)(E,F,X,re)}catch(me){if(it(pe),me!==me+0)throw me;tt(1,0)}},invoke_viiiii:function(P,E,F,X,re,pe){var me=rt();try{Xe(P)(E,F,X,re,pe)}catch(Fe){if(it(me),Fe!==Fe+0)throw Fe;tt(1,0)}},invoke_viiiiiii:function(P,E,F,X,re,pe,me,Fe){var st=rt();try{Xe(P)(E,F,X,re,pe,me,Fe)}catch(Qe){if(it(st),Qe!==Qe+0)throw Qe;tt(1,0)}},invoke_viiiiiiiiii:function(P,E,F,X,re,pe,me,Fe,st,Qe,wn){var un=rt();try{Xe(P)(E,F,X,re,pe,me,Fe,st,Qe,wn)}catch(Hn){if(it(un),Hn!==Hn+0)throw Hn;tt(1,0)}},invoke_viiiiiiiiiiiiiii:function(P,E,F,X,re,pe,me,Fe,st,Qe,wn,un,Hn,dn,Dn,ys){var ms=rt();try{Xe(P)(E,F,X,re,pe,me,Fe,st,Qe,wn,un,Hn,dn,Dn,ys)}catch(oe){if(it(ms),oe!==oe+0)throw oe;tt(1,0)}},llvm_eh_typeid_for:function(P){return P},setTempRet0:function(P){Et=P},strftime_l:function(P,E,F,X){return function(re,pe,me,Fe){function st(oe,Ve,ze){for(oe=typeof oe=="number"?oe.toString():oe||"";oe.length<Ve;)oe=ze[0]+oe;return oe}function Qe(oe,Ve){return st(oe,Ve,"0")}function wn(oe,Ve){function ze(Wr){return 0>Wr?-1:0<Wr?1:0}var Rt;return(Rt=ze(oe.getFullYear()-Ve.getFullYear()))===0&&(Rt=ze(oe.getMonth()-Ve.getMonth()))===0&&(Rt=ze(oe.getDate()-Ve.getDate())),Rt}function un(oe){switch(oe.getDay()){case 0:return new Date(oe.getFullYear()-1,11,29);case 1:return oe;case 2:return new Date(oe.getFullYear(),0,3);case 3:return new Date(oe.getFullYear(),0,2);case 4:return new Date(oe.getFullYear(),0,1);case 5:return new Date(oe.getFullYear()-1,11,31);case 6:return new Date(oe.getFullYear()-1,11,30)}}function Hn(oe){var Ve=oe.o;for(oe=new Date(new Date(oe.s+1900,0,1).getTime());0<Ve;){var ze=oe.getMonth(),Rt=(hs(oe.getFullYear())?W_:G_)[ze];if(!(Ve>Rt-oe.getDate())){oe.setDate(oe.getDate()+Ve);break}Ve-=Rt-oe.getDate()+1,oe.setDate(1),11>ze?oe.setMonth(ze+1):(oe.setMonth(0),oe.setFullYear(oe.getFullYear()+1))}return ze=new Date(oe.getFullYear()+1,0,4),Ve=un(new Date(oe.getFullYear(),0,4)),ze=un(ze),0>=wn(Ve,oe)?0>=wn(ze,oe)?oe.getFullYear()+1:oe.getFullYear():oe.getFullYear()-1}var dn=Je[Fe+40>>2];for(var Dn in Fe={Ia:Je[Fe>>2],Ha:Je[Fe+4>>2],F:Je[Fe+8>>2],O:Je[Fe+12>>2],G:Je[Fe+16>>2],s:Je[Fe+20>>2],m:Je[Fe+24>>2],o:Je[Fe+28>>2],La:Je[Fe+32>>2],Ga:Je[Fe+36>>2],Ja:dn?Co(dn):""},me=Co(me),dn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})me=me.replace(new RegExp(Dn,"g"),dn[Dn]);var ys="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ms="January February March April May June July August September October November December".split(" ");for(Dn in dn={"%a":function(oe){return ys[oe.m].substring(0,3)},"%A":function(oe){return ys[oe.m]},"%b":function(oe){return ms[oe.G].substring(0,3)},"%B":function(oe){return ms[oe.G]},"%C":function(oe){return Qe((oe.s+1900)/100|0,2)},"%d":function(oe){return Qe(oe.O,2)},"%e":function(oe){return st(oe.O,2," ")},"%g":function(oe){return Hn(oe).toString().substring(2)},"%G":function(oe){return Hn(oe)},"%H":function(oe){return Qe(oe.F,2)},"%I":function(oe){return(oe=oe.F)==0?oe=12:12<oe&&(oe-=12),Qe(oe,2)},"%j":function(oe){for(var Ve=0,ze=0;ze<=oe.G-1;Ve+=(hs(oe.s+1900)?W_:G_)[ze++]);return Qe(oe.O+Ve,3)},"%m":function(oe){return Qe(oe.G+1,2)},"%M":function(oe){return Qe(oe.Ha,2)},"%n":function(){return`
`},"%p":function(oe){return 0<=oe.F&&12>oe.F?"AM":"PM"},"%S":function(oe){return Qe(oe.Ia,2)},"%t":function(){return"	"},"%u":function(oe){return oe.m||7},"%U":function(oe){return Qe(Math.floor((oe.o+7-oe.m)/7),2)},"%V":function(oe){var Ve=Math.floor((oe.o+7-(oe.m+6)%7)/7);if(2>=(oe.m+371-oe.o-2)%7&&Ve++,Ve)Ve==53&&((ze=(oe.m+371-oe.o)%7)==4||ze==3&&hs(oe.s)||(Ve=1));else{Ve=52;var ze=(oe.m+7-oe.o-1)%7;(ze==4||ze==5&&hs(oe.s%400-1))&&Ve++}return Qe(Ve,2)},"%w":function(oe){return oe.m},"%W":function(oe){return Qe(Math.floor((oe.o+7-(oe.m+6)%7)/7),2)},"%y":function(oe){return(oe.s+1900).toString().substring(2)},"%Y":function(oe){return oe.s+1900},"%z":function(oe){var Ve,ze=0<=(oe=oe.Ga);return oe=Math.abs(oe)/60,(ze?"+":"-")+W()(Ve=String("0000"+(oe/60*100+oe%60))).call(Ve,-4)},"%Z":function(oe){return oe.Ja},"%%":function(){return"%"}},me=me.replace(/%%/g,"\0\0"),dn)ce()(me).call(me,Dn)&&(me=me.replace(new RegExp(Dn,"g"),dn[Dn](Fe)));return(Dn=function(oe){for(var Ve=0,ze=0;ze<oe.length;++ze){var Rt=oe.charCodeAt(ze);55296<=Rt&&57343>=Rt&&(Rt=65536+((1023&Rt)<<10)|1023&oe.charCodeAt(++ze)),127>=Rt?++Ve:Ve=2047>=Rt?Ve+2:65535>=Rt?Ve+3:Ve+4}if(ze=0,0<(Rt=(Ve=Array(Ve+1)).length)){Rt=ze+Rt-1;for(var Wr=0;Wr<oe.length;++Wr){var Nt=oe.charCodeAt(Wr);if(55296<=Nt&&57343>=Nt&&(Nt=65536+((1023&Nt)<<10)|1023&oe.charCodeAt(++Wr)),127>=Nt){if(ze>=Rt)break;Ve[ze++]=Nt}else{if(2047>=Nt){if(ze+1>=Rt)break;Ve[ze++]=192|Nt>>6}else{if(65535>=Nt){if(ze+2>=Rt)break;Ve[ze++]=224|Nt>>12}else{if(ze+3>=Rt)break;1114111<Nt&&Ie("Invalid Unicode code point 0x"+Nt.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),Ve[ze++]=240|Nt>>18,Ve[ze++]=128|Nt>>12&63}Ve[ze++]=128|Nt>>6&63}Ve[ze++]=128|63&Nt}}Ve[ze]=0}return Ve}(me=me.replace(/\0\0/g,"%"))).length>pe?0:(function(oe,Ve){ke(0<=oe.length,"writeArrayToMemory array must have a length (should be an array or typed array)"),br.set(oe,Ve)}(Dn,re),Dn.length-1)}(P,E,F,X)}};(function(){function P(pe){l.asm=pe.exports,ke(vr=l.asm.memory,"memory not found in wasm exports"),N_(),ke(Pr=l.asm.__indirect_function_table,"table not found in wasm exports"),td.unshift(l.asm.__wasm_call_ctors),zr--,l.monitorRunDependencies&&l.monitorRunDependencies(zr),ke(Do["wasm-instantiate"]),delete Do["wasm-instantiate"],zr==0&&(Zr!==null&&(clearInterval(Zr),Zr=null),xo&&(pe=xo,xo=null,pe()))}function E(pe){ke(l===re,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),re=null,P(pe.instance)}function F(pe){return(jt||typeof fetch!="function"?v().resolve().then(function(){return z_()}):fetch(sn,{credentials:"same-origin"}).then(function(me){if(!me.ok)throw"failed to load wasm binary file at '"+sn+"'";return me.arrayBuffer()}).catch(function(){return z_()})).then(function(me){return WebAssembly.instantiate(me,X)}).then(function(me){return me}).then(pe,function(me){de("failed to asynchronously prepare wasm: "+me),L()(sn).call(sn,"file://")&&de("warning: Loading from a file URI ("+sn+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),S(me)})}var X={env:J_,wasi_snapshot_preview1:J_};zr++,l.monitorRunDependencies&&l.monitorRunDependencies(zr),ke(!Do["wasm-instantiate"]),Do["wasm-instantiate"]=1,Zr===null&&B()!==void 0&&(Zr=B()(function(){if(vn)clearInterval(Zr),Zr=null;else{var pe,me=!1;for(pe in Do)me||(me=!0,de("still waiting on run dependencies:")),de("dependency: "+pe);me&&de("(end of list)")}},1e4));var re=l;if(l.instantiateWasm)try{return l.instantiateWasm(X,P)}catch(pe){return de("Module.instantiateWasm callback failed with error: "+pe),!1}(jt||typeof WebAssembly.instantiateStreaming!="function"||H_()||typeof fetch!="function"?F(E):fetch(sn,{credentials:"same-origin"}).then(function(pe){return WebAssembly.instantiateStreaming(pe,X).then(E,function(me){return de("wasm streaming compile failed: "+me),de("falling back to ArrayBuffer instantiation"),F(E)})})).catch(Re)})(),l.___wasm_call_ctors=$("__wasm_call_ctors");var X_=l._malloc=$("malloc"),Q_=l._free=$("free"),Gv=l._emscripten_bind_VoidPtr___destroy___0=$("emscripten_bind_VoidPtr___destroy___0"),Jv=l._emscripten_bind_HyperedgeImprover_HyperedgeImprover_0=$("emscripten_bind_HyperedgeImprover_HyperedgeImprover_0"),Xv=l._emscripten_bind_HyperedgeImprover_clear_0=$("emscripten_bind_HyperedgeImprover_clear_0"),Qv=l._emscripten_bind_HyperedgeImprover_setRouter_1=$("emscripten_bind_HyperedgeImprover_setRouter_1"),eb=l._emscripten_bind_HyperedgeImprover___destroy___0=$("emscripten_bind_HyperedgeImprover___destroy___0"),tb=l._emscripten_bind_Box_Box_0=$("emscripten_bind_Box_Box_0"),nb=l._emscripten_bind_Box_length_1=$("emscripten_bind_Box_length_1"),rb=l._emscripten_bind_Box_width_0=$("emscripten_bind_Box_width_0"),ib=l._emscripten_bind_Box_height_0=$("emscripten_bind_Box_height_0"),ob=l._emscripten_bind_Box_get_min_0=$("emscripten_bind_Box_get_min_0"),ab=l._emscripten_bind_Box_set_min_1=$("emscripten_bind_Box_set_min_1"),sb=l._emscripten_bind_Box_get_max_0=$("emscripten_bind_Box_get_max_0"),cb=l._emscripten_bind_Box_set_max_1=$("emscripten_bind_Box_set_max_1"),ub=l._emscripten_bind_Box___destroy___0=$("emscripten_bind_Box___destroy___0"),db=l._emscripten_bind_PolygonInterface_clear_0=$("emscripten_bind_PolygonInterface_clear_0"),lb=l._emscripten_bind_PolygonInterface_empty_0=$("emscripten_bind_PolygonInterface_empty_0"),fb=l._emscripten_bind_PolygonInterface_size_0=$("emscripten_bind_PolygonInterface_size_0"),_b=l._emscripten_bind_PolygonInterface_id_0=$("emscripten_bind_PolygonInterface_id_0"),pb=l._emscripten_bind_PolygonInterface_at_1=$("emscripten_bind_PolygonInterface_at_1"),hb=l._emscripten_bind_PolygonInterface_boundingRectPolygon_0=$("emscripten_bind_PolygonInterface_boundingRectPolygon_0"),gb=l._emscripten_bind_PolygonInterface_offsetBoundingBox_1=$("emscripten_bind_PolygonInterface_offsetBoundingBox_1"),yb=l._emscripten_bind_PolygonInterface_offsetPolygon_1=$("emscripten_bind_PolygonInterface_offsetPolygon_1"),mb=l._emscripten_bind_PolygonInterface___destroy___0=$("emscripten_bind_PolygonInterface___destroy___0"),vb=l._emscripten_bind_Polygon_Polygon_0=$("emscripten_bind_Polygon_Polygon_0"),bb=l._emscripten_bind_Polygon_Polygon_1=$("emscripten_bind_Polygon_Polygon_1"),Pb=l._emscripten_bind_Polygon_setPoint_2=$("emscripten_bind_Polygon_setPoint_2"),wb=l._emscripten_bind_Polygon_size_0=$("emscripten_bind_Polygon_size_0"),Rb=l._emscripten_bind_Polygon_get_ps_1=$("emscripten_bind_Polygon_get_ps_1"),Sb=l._emscripten_bind_Polygon_set_ps_2=$("emscripten_bind_Polygon_set_ps_2"),Eb=l._emscripten_bind_Polygon___destroy___0=$("emscripten_bind_Polygon___destroy___0"),Ab=l._emscripten_bind_Point_Point_0=$("emscripten_bind_Point_Point_0"),Ob=l._emscripten_bind_Point_Point_2=$("emscripten_bind_Point_Point_2"),Ib=l._emscripten_bind_Point_equal_1=$("emscripten_bind_Point_equal_1"),jb=l._emscripten_bind_Point_get_x_0=$("emscripten_bind_Point_get_x_0"),Mb=l._emscripten_bind_Point_set_x_1=$("emscripten_bind_Point_set_x_1"),Cb=l._emscripten_bind_Point_get_y_0=$("emscripten_bind_Point_get_y_0"),xb=l._emscripten_bind_Point_set_y_1=$("emscripten_bind_Point_set_y_1"),Db=l._emscripten_bind_Point_get_id_0=$("emscripten_bind_Point_get_id_0"),Tb=l._emscripten_bind_Point_set_id_1=$("emscripten_bind_Point_set_id_1"),Lb=l._emscripten_bind_Point_get_vn_0=$("emscripten_bind_Point_get_vn_0"),Ub=l._emscripten_bind_Point_set_vn_1=$("emscripten_bind_Point_set_vn_1"),Nb=l._emscripten_bind_Point___destroy___0=$("emscripten_bind_Point___destroy___0"),Fb=l._emscripten_bind_Rectangle_Rectangle_3=$("emscripten_bind_Rectangle_Rectangle_3"),kb=l._emscripten_bind_Rectangle___destroy___0=$("emscripten_bind_Rectangle___destroy___0"),Bb=l._emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0=$("emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0"),Yb=l._emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2=$("emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2"),$b=l._emscripten_bind_HyperedgeTreeNode___destroy___0=$("emscripten_bind_HyperedgeTreeNode___destroy___0"),Vb=l._emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3=$("emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3"),Hb=l._emscripten_bind_HyperedgeTreeEdge___destroy___0=$("emscripten_bind_HyperedgeTreeEdge___destroy___0"),Kb=l._emscripten_bind_AStarPath_AStarPath_0=$("emscripten_bind_AStarPath_AStarPath_0"),zb=l._emscripten_bind_AStarPath_search_4=$("emscripten_bind_AStarPath_search_4"),Zb=l._emscripten_bind_AStarPath___destroy___0=$("emscripten_bind_AStarPath___destroy___0"),qb=l._emscripten_bind_ConnEnd_ConnEnd_1=$("emscripten_bind_ConnEnd_ConnEnd_1"),Wb=l._emscripten_bind_ConnEnd_ConnEnd_2=$("emscripten_bind_ConnEnd_ConnEnd_2"),Gb=l._emscripten_bind_ConnEnd___destroy___0=$("emscripten_bind_ConnEnd___destroy___0"),Jb=l._emscripten_bind_ActionInfo_ActionInfo_2=$("emscripten_bind_ActionInfo_ActionInfo_2"),Xb=l._emscripten_bind_ActionInfo_ActionInfo_3=$("emscripten_bind_ActionInfo_ActionInfo_3"),Qb=l._emscripten_bind_ActionInfo_ActionInfo_4=$("emscripten_bind_ActionInfo_ActionInfo_4"),e0=l._emscripten_bind_ActionInfo_obstacle_0=$("emscripten_bind_ActionInfo_obstacle_0"),t0=l._emscripten_bind_ActionInfo_shape_0=$("emscripten_bind_ActionInfo_shape_0"),n0=l._emscripten_bind_ActionInfo_conn_0=$("emscripten_bind_ActionInfo_conn_0"),r0=l._emscripten_bind_ActionInfo_junction_0=$("emscripten_bind_ActionInfo_junction_0"),i0=l._emscripten_bind_ActionInfo_addConnEndUpdate_3=$("emscripten_bind_ActionInfo_addConnEndUpdate_3"),o0=l._emscripten_bind_ActionInfo_get_type_0=$("emscripten_bind_ActionInfo_get_type_0"),a0=l._emscripten_bind_ActionInfo_set_type_1=$("emscripten_bind_ActionInfo_set_type_1"),s0=l._emscripten_bind_ActionInfo_get_objPtr_0=$("emscripten_bind_ActionInfo_get_objPtr_0"),c0=l._emscripten_bind_ActionInfo_set_objPtr_1=$("emscripten_bind_ActionInfo_set_objPtr_1"),u0=l._emscripten_bind_ActionInfo_get_newPoly_0=$("emscripten_bind_ActionInfo_get_newPoly_0"),d0=l._emscripten_bind_ActionInfo_set_newPoly_1=$("emscripten_bind_ActionInfo_set_newPoly_1"),l0=l._emscripten_bind_ActionInfo_get_newPosition_0=$("emscripten_bind_ActionInfo_get_newPosition_0"),f0=l._emscripten_bind_ActionInfo_set_newPosition_1=$("emscripten_bind_ActionInfo_set_newPosition_1"),_0=l._emscripten_bind_ActionInfo_get_firstMove_0=$("emscripten_bind_ActionInfo_get_firstMove_0"),p0=l._emscripten_bind_ActionInfo_set_firstMove_1=$("emscripten_bind_ActionInfo_set_firstMove_1"),h0=l._emscripten_bind_ActionInfo___destroy___0=$("emscripten_bind_ActionInfo___destroy___0"),g0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2=$("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2"),y0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3=$("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3"),m0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6=$("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6"),v0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7=$("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7"),b0=l._emscripten_bind_ShapeConnectionPin_setConnectionCost_1=$("emscripten_bind_ShapeConnectionPin_setConnectionCost_1"),P0=l._emscripten_bind_ShapeConnectionPin_position_0=$("emscripten_bind_ShapeConnectionPin_position_0"),w0=l._emscripten_bind_ShapeConnectionPin_position_1=$("emscripten_bind_ShapeConnectionPin_position_1"),R0=l._emscripten_bind_ShapeConnectionPin_directions_0=$("emscripten_bind_ShapeConnectionPin_directions_0"),S0=l._emscripten_bind_ShapeConnectionPin_setExclusive_1=$("emscripten_bind_ShapeConnectionPin_setExclusive_1"),E0=l._emscripten_bind_ShapeConnectionPin_isExclusive_0=$("emscripten_bind_ShapeConnectionPin_isExclusive_0"),A0=l._emscripten_bind_ShapeConnectionPin___destroy___0=$("emscripten_bind_ShapeConnectionPin___destroy___0"),O0=l._emscripten_bind_Obstacle_id_0=$("emscripten_bind_Obstacle_id_0"),I0=l._emscripten_bind_Obstacle_polygon_0=$("emscripten_bind_Obstacle_polygon_0"),j0=l._emscripten_bind_Obstacle_router_0=$("emscripten_bind_Obstacle_router_0"),M0=l._emscripten_bind_Obstacle_position_0=$("emscripten_bind_Obstacle_position_0"),C0=l._emscripten_bind_Obstacle___destroy___0=$("emscripten_bind_Obstacle___destroy___0"),x0=l._emscripten_bind_JunctionRef_JunctionRef_2=$("emscripten_bind_JunctionRef_JunctionRef_2"),D0=l._emscripten_bind_JunctionRef_JunctionRef_3=$("emscripten_bind_JunctionRef_JunctionRef_3"),T0=l._emscripten_bind_JunctionRef_position_0=$("emscripten_bind_JunctionRef_position_0"),L0=l._emscripten_bind_JunctionRef___destroy___0=$("emscripten_bind_JunctionRef___destroy___0"),U0=l._emscripten_bind_ShapeRef_ShapeRef_2=$("emscripten_bind_ShapeRef_ShapeRef_2"),N0=l._emscripten_bind_ShapeRef_ShapeRef_3=$("emscripten_bind_ShapeRef_ShapeRef_3"),F0=l._emscripten_bind_ShapeRef_polygon_0=$("emscripten_bind_ShapeRef_polygon_0"),k0=l._emscripten_bind_ShapeRef_position_0=$("emscripten_bind_ShapeRef_position_0"),B0=l._emscripten_bind_ShapeRef___destroy___0=$("emscripten_bind_ShapeRef___destroy___0"),Y0=l._emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0=$("emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0"),$0=l._emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0=$("emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0"),V0=l._emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1=$("emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1"),H0=l._emscripten_bind_HyperedgeRerouter___destroy___0=$("emscripten_bind_HyperedgeRerouter___destroy___0"),K0=l._emscripten_bind_VertInf___destroy___0=$("emscripten_bind_VertInf___destroy___0"),z0=l._emscripten_bind_VertID_VertID_0=$("emscripten_bind_VertID_VertID_0"),Z0=l._emscripten_bind_VertID_VertID_2=$("emscripten_bind_VertID_VertID_2"),q0=l._emscripten_bind_VertID_VertID_3=$("emscripten_bind_VertID_VertID_3"),W0=l._emscripten_bind_VertID_get_objID_0=$("emscripten_bind_VertID_get_objID_0"),G0=l._emscripten_bind_VertID_set_objID_1=$("emscripten_bind_VertID_set_objID_1"),J0=l._emscripten_bind_VertID_get_vn_0=$("emscripten_bind_VertID_get_vn_0"),X0=l._emscripten_bind_VertID_set_vn_1=$("emscripten_bind_VertID_set_vn_1"),Q0=l._emscripten_bind_VertID_get_props_0=$("emscripten_bind_VertID_get_props_0"),eP=l._emscripten_bind_VertID_set_props_1=$("emscripten_bind_VertID_set_props_1"),tP=l._emscripten_bind_VertID_get_src_0=$("emscripten_bind_VertID_get_src_0"),nP=l._emscripten_bind_VertID_get_tar_0=$("emscripten_bind_VertID_get_tar_0"),rP=l._emscripten_bind_VertID_get_PROP_ConnPoint_0=$("emscripten_bind_VertID_get_PROP_ConnPoint_0"),iP=l._emscripten_bind_VertID_get_PROP_OrthShapeEdge_0=$("emscripten_bind_VertID_get_PROP_OrthShapeEdge_0"),oP=l._emscripten_bind_VertID_get_PROP_ConnectionPin_0=$("emscripten_bind_VertID_get_PROP_ConnectionPin_0"),aP=l._emscripten_bind_VertID_get_PROP_ConnCheckpoint_0=$("emscripten_bind_VertID_get_PROP_ConnCheckpoint_0"),sP=l._emscripten_bind_VertID_get_PROP_DummyPinHelper_0=$("emscripten_bind_VertID_get_PROP_DummyPinHelper_0"),cP=l._emscripten_bind_VertID___destroy___0=$("emscripten_bind_VertID___destroy___0"),uP=l._emscripten_bind_MinimumTerminalSpanningTree___destroy___0=$("emscripten_bind_MinimumTerminalSpanningTree___destroy___0"),dP=l._emscripten_bind_Checkpoint_Checkpoint_1=$("emscripten_bind_Checkpoint_Checkpoint_1"),lP=l._emscripten_bind_Checkpoint___destroy___0=$("emscripten_bind_Checkpoint___destroy___0"),fP=l._emscripten_bind_ConnRef_ConnRef_3=$("emscripten_bind_ConnRef_ConnRef_3"),_P=l._emscripten_bind_ConnRef_ConnRef_4=$("emscripten_bind_ConnRef_ConnRef_4"),pP=l._emscripten_bind_ConnRef_id_0=$("emscripten_bind_ConnRef_id_0"),hP=l._emscripten_bind_ConnRef_setCallback_2=$("emscripten_bind_ConnRef_setCallback_2"),gP=l._emscripten_bind_ConnRef_setSourceEndpoint_1=$("emscripten_bind_ConnRef_setSourceEndpoint_1"),yP=l._emscripten_bind_ConnRef_setDestEndpoint_1=$("emscripten_bind_ConnRef_setDestEndpoint_1"),mP=l._emscripten_bind_ConnRef_routingType_0=$("emscripten_bind_ConnRef_routingType_0"),vP=l._emscripten_bind_ConnRef_setRoutingType_1=$("emscripten_bind_ConnRef_setRoutingType_1"),bP=l._emscripten_bind_ConnRef_displayRoute_0=$("emscripten_bind_ConnRef_displayRoute_0"),PP=l._emscripten_bind_ConnRef_setHateCrossings_1=$("emscripten_bind_ConnRef_setHateCrossings_1"),wP=l._emscripten_bind_ConnRef_doesHateCrossings_0=$("emscripten_bind_ConnRef_doesHateCrossings_0"),RP=l._emscripten_bind_ConnRef___destroy___0=$("emscripten_bind_ConnRef___destroy___0"),SP=l._emscripten_bind_EdgeInf_EdgeInf_2=$("emscripten_bind_EdgeInf_EdgeInf_2"),EP=l._emscripten_bind_EdgeInf_EdgeInf_3=$("emscripten_bind_EdgeInf_EdgeInf_3"),AP=l._emscripten_bind_EdgeInf___destroy___0=$("emscripten_bind_EdgeInf___destroy___0"),OP=l._emscripten_bind_LineRep_get_begin_0=$("emscripten_bind_LineRep_get_begin_0"),IP=l._emscripten_bind_LineRep_set_begin_1=$("emscripten_bind_LineRep_set_begin_1"),jP=l._emscripten_bind_LineRep_get_end_0=$("emscripten_bind_LineRep_get_end_0"),MP=l._emscripten_bind_LineRep_set_end_1=$("emscripten_bind_LineRep_set_end_1"),CP=l._emscripten_bind_LineRep___destroy___0=$("emscripten_bind_LineRep___destroy___0"),xP=l._emscripten_bind_Router_Router_1=$("emscripten_bind_Router_Router_1"),DP=l._emscripten_bind_Router_processTransaction_0=$("emscripten_bind_Router_processTransaction_0"),TP=l._emscripten_bind_Router_printInfo_0=$("emscripten_bind_Router_printInfo_0"),LP=l._emscripten_bind_Router_deleteConnector_1=$("emscripten_bind_Router_deleteConnector_1"),UP=l._emscripten_bind_Router_moveShape_3=$("emscripten_bind_Router_moveShape_3"),NP=l._emscripten_bind_Router_setRoutingParameter_2=$("emscripten_bind_Router_setRoutingParameter_2"),FP=l._emscripten_bind_Router_setRoutingOption_2=$("emscripten_bind_Router_setRoutingOption_2"),kP=l._emscripten_bind_Router___destroy___0=$("emscripten_bind_Router___destroy___0"),BP=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirNone=$("emscripten_enum_Avoid_ConnDirFlag_ConnDirNone"),YP=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirUp=$("emscripten_enum_Avoid_ConnDirFlag_ConnDirUp"),$P=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirDown=$("emscripten_enum_Avoid_ConnDirFlag_ConnDirDown"),VP=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft=$("emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft"),HP=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirRight=$("emscripten_enum_Avoid_ConnDirFlag_ConnDirRight"),KP=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirAll=$("emscripten_enum_Avoid_ConnDirFlag_ConnDirAll"),zP=l._emscripten_enum_Avoid_ConnEndType_ConnEndPoint=$("emscripten_enum_Avoid_ConnEndType_ConnEndPoint"),ZP=l._emscripten_enum_Avoid_ConnEndType_ConnEndShapePin=$("emscripten_enum_Avoid_ConnEndType_ConnEndShapePin"),qP=l._emscripten_enum_Avoid_ConnEndType_ConnEndJunction=$("emscripten_enum_Avoid_ConnEndType_ConnEndJunction"),WP=l._emscripten_enum_Avoid_ConnEndType_ConnEndEmpty=$("emscripten_enum_Avoid_ConnEndType_ConnEndEmpty"),GP=l._emscripten_enum_Avoid_ActionType_ShapeMove=$("emscripten_enum_Avoid_ActionType_ShapeMove"),JP=l._emscripten_enum_Avoid_ActionType_ShapeAdd=$("emscripten_enum_Avoid_ActionType_ShapeAdd"),XP=l._emscripten_enum_Avoid_ActionType_ShapeRemove=$("emscripten_enum_Avoid_ActionType_ShapeRemove"),QP=l._emscripten_enum_Avoid_ActionType_JunctionMove=$("emscripten_enum_Avoid_ActionType_JunctionMove"),ew=l._emscripten_enum_Avoid_ActionType_JunctionAdd=$("emscripten_enum_Avoid_ActionType_JunctionAdd"),tw=l._emscripten_enum_Avoid_ActionType_JunctionRemove=$("emscripten_enum_Avoid_ActionType_JunctionRemove"),nw=l._emscripten_enum_Avoid_ActionType_ConnChange=$("emscripten_enum_Avoid_ActionType_ConnChange"),rw=l._emscripten_enum_Avoid_ActionType_ConnectionPinChange=$("emscripten_enum_Avoid_ActionType_ConnectionPinChange"),iw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90=$("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90"),ow=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180=$("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180"),aw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270=$("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270"),sw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX=$("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX"),cw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY=$("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY"),uw=l._emscripten_enum_Avoid_ConnType_ConnType_None=$("emscripten_enum_Avoid_ConnType_ConnType_None"),dw=l._emscripten_enum_Avoid_ConnType_ConnType_PolyLine=$("emscripten_enum_Avoid_ConnType_ConnType_PolyLine"),lw=l._emscripten_enum_Avoid_ConnType_ConnType_Orthogonal=$("emscripten_enum_Avoid_ConnType_ConnType_Orthogonal"),fw=l._emscripten_enum_Avoid_RouterFlag_PolyLineRouting=$("emscripten_enum_Avoid_RouterFlag_PolyLineRouting"),_w=l._emscripten_enum_Avoid_RouterFlag_OrthogonalRouting=$("emscripten_enum_Avoid_RouterFlag_OrthogonalRouting"),pw=l._emscripten_enum_Avoid_RoutingParameter_segmentPenalty=$("emscripten_enum_Avoid_RoutingParameter_segmentPenalty"),hw=l._emscripten_enum_Avoid_RoutingParameter_anglePenalty=$("emscripten_enum_Avoid_RoutingParameter_anglePenalty"),gw=l._emscripten_enum_Avoid_RoutingParameter_crossingPenalty=$("emscripten_enum_Avoid_RoutingParameter_crossingPenalty"),yw=l._emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty=$("emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty"),mw=l._emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty=$("emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty"),vw=l._emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty=$("emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty"),bw=l._emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance=$("emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance"),Pw=l._emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance=$("emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance"),ww=l._emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty=$("emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty"),Rw=l._emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes=$("emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes"),Sw=l._emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions=$("emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions"),Ew=l._emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds=$("emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds"),Aw=l._emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments=$("emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments"),Ow=l._emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep=$("emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep"),Iw=l._emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions=$("emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions"),jw=l._emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint=$("emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint");l.___errno_location=$("__errno_location"),l.___stdio_exit=$("__stdio_exit");var tt=l._setThrew=$("setThrew"),ep=l._emscripten_stack_init=function(){return(ep=l._emscripten_stack_init=l.asm.emscripten_stack_init).apply(null,arguments)};l._emscripten_stack_get_free=function(){return(l._emscripten_stack_get_free=l.asm.emscripten_stack_get_free).apply(null,arguments)},l._emscripten_stack_get_base=function(){return(l._emscripten_stack_get_base=l.asm.emscripten_stack_get_base).apply(null,arguments)};var od=l._emscripten_stack_get_end=function(){return(od=l._emscripten_stack_get_end=l.asm.emscripten_stack_get_end).apply(null,arguments)},rt=l.stackSave=$("stackSave"),it=l.stackRestore=$("stackRestore");l.stackAlloc=$("stackAlloc");var gs,tp=l.___cxa_can_catch=$("__cxa_can_catch"),Mw=l.___cxa_is_pointer_type=$("__cxa_is_pointer_type"),Cw=l.dynCall_iiij=$("dynCall_iiij");function ad(){function P(){if(!gs&&(gs=!0,l.calledRun=!0,!vn)){if(fs(),ke(!_s),_s=!0,nd(td),Le(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),ke(!l._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),fs(),l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var E=l.postRun.shift();$_.unshift(E)}nd($_)}}if(!(0<zr)){if(ep(),F_(),l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)qv();nd(Y_),0<zr||(l.setStatus?(l.setStatus("Running..."),Q()(function(){Q()(function(){l.setStatus("")},1),P()},1)):P(),fs())}}if(l.dynCall_jiji=$("dynCall_jiji"),l.dynCall_viijii=$("dynCall_viijii"),l.dynCall_iiiiij=$("dynCall_iiiiij"),l.dynCall_iiiiijj=$("dynCall_iiiiijj"),l.dynCall_iiiiiijj=$("dynCall_iiiiiijj"),k("intArrayFromString",!1),k("intArrayToString",!1),k("ccall",!1),k("cwrap",!1),k("setValue",!1),k("getValue",!1),k("allocate",!1),k("UTF8ArrayToString",!1),k("UTF8ToString",!1),k("stringToUTF8Array",!1),k("stringToUTF8",!1),k("lengthBytesUTF8",!1),k("stackTrace",!1),k("addOnPreRun",!1),k("addOnInit",!1),k("addOnPreMain",!1),k("addOnExit",!1),k("addOnPostRun",!1),k("writeStringToMemory",!1),k("writeArrayToMemory",!1),k("writeAsciiToMemory",!1),k("addRunDependency",!0),k("removeRunDependency",!0),k("FS_createFolder",!1),k("FS_createPath",!0),k("FS_createDataFile",!0),k("FS_createPreloadedFile",!0),k("FS_createLazyFile",!0),k("FS_createLink",!1),k("FS_createDevice",!0),k("FS_unlink",!0),k("getLEB",!1),k("getFunctionTables",!1),k("alignFunctionTables",!1),k("registerFunctions",!1),k("addFunction",!1),k("removeFunction",!1),k("getFuncWrapper",!1),k("prettyPrint",!1),k("dynCall",!1),k("getCompilerSetting",!1),k("print",!1),k("printErr",!1),k("getTempRet0",!1),k("setTempRet0",!1),k("callMain",!1),k("abort",!1),k("keepRuntimeAlive",!1),k("zeroMemory",!1),k("stringToNewUTF8",!1),k("emscripten_realloc_buffer",!1),k("ENV",!1),k("ERRNO_CODES",!1),k("ERRNO_MESSAGES",!1),k("setErrNo",!1),k("inetPton4",!1),k("inetNtop4",!1),k("inetPton6",!1),k("inetNtop6",!1),k("readSockaddr",!1),k("writeSockaddr",!1),k("DNS",!1),k("getHostByName",!1),k("Protocols",!1),k("Sockets",!1),k("getRandomDevice",!1),k("traverseStack",!1),k("UNWIND_CACHE",!1),k("convertPCtoSourceLocation",!1),k("readAsmConstArgsArray",!1),k("readAsmConstArgs",!1),k("mainThreadEM_ASM",!1),k("jstoi_q",!1),k("jstoi_s",!1),k("getExecutableName",!1),k("listenOnce",!1),k("autoResumeAudioContext",!1),k("dynCallLegacy",!1),k("getDynCaller",!1),k("dynCall",!1),k("handleException",!1),k("runtimeKeepalivePush",!1),k("runtimeKeepalivePop",!1),k("callUserCallback",!1),k("maybeExit",!1),k("safeSetTimeout",!1),k("asmjsMangle",!1),k("asyncLoad",!1),k("alignMemory",!1),k("mmapAlloc",!1),k("reallyNegative",!1),k("unSign",!1),k("reSign",!1),k("formatString",!1),k("PATH",!1),k("PATH_FS",!1),k("SYSCALLS",!1),k("getSocketFromFD",!1),k("getSocketAddress",!1),k("JSEvents",!1),k("registerKeyEventCallback",!1),k("specialHTMLTargets",!1),k("maybeCStringToJsString",!1),k("findEventTarget",!1),k("findCanvasEventTarget",!1),k("getBoundingClientRect",!1),k("fillMouseEventData",!1),k("registerMouseEventCallback",!1),k("registerWheelEventCallback",!1),k("registerUiEventCallback",!1),k("registerFocusEventCallback",!1),k("fillDeviceOrientationEventData",!1),k("registerDeviceOrientationEventCallback",!1),k("fillDeviceMotionEventData",!1),k("registerDeviceMotionEventCallback",!1),k("screenOrientation",!1),k("fillOrientationChangeEventData",!1),k("registerOrientationChangeEventCallback",!1),k("fillFullscreenChangeEventData",!1),k("registerFullscreenChangeEventCallback",!1),k("registerRestoreOldStyle",!1),k("hideEverythingExceptGivenElement",!1),k("restoreHiddenElements",!1),k("setLetterbox",!1),k("currentFullscreenStrategy",!1),k("restoreOldWindowedStyle",!1),k("softFullscreenResizeWebGLRenderTarget",!1),k("doRequestFullscreen",!1),k("fillPointerlockChangeEventData",!1),k("registerPointerlockChangeEventCallback",!1),k("registerPointerlockErrorEventCallback",!1),k("requestPointerLock",!1),k("fillVisibilityChangeEventData",!1),k("registerVisibilityChangeEventCallback",!1),k("registerTouchEventCallback",!1),k("fillGamepadEventData",!1),k("registerGamepadEventCallback",!1),k("registerBeforeUnloadEventCallback",!1),k("fillBatteryEventData",!1),k("battery",!1),k("registerBatteryEventCallback",!1),k("setCanvasElementSize",!1),k("getCanvasElementSize",!1),k("demangle",!1),k("demangleAll",!1),k("jsStackTrace",!1),k("stackTrace",!1),k("getEnvStrings",!1),k("checkWasiClock",!1),k("flush_NO_FILESYSTEM",!1),k("writeI53ToI64",!1),k("writeI53ToI64Clamped",!1),k("writeI53ToI64Signaling",!1),k("writeI53ToU64Clamped",!1),k("writeI53ToU64Signaling",!1),k("readI53FromI64",!1),k("readI53FromU64",!1),k("convertI32PairToI53",!1),k("convertU32PairToI53",!1),k("setImmediateWrapped",!1),k("clearImmediateWrapped",!1),k("polyfillSetImmediate",!1),k("uncaughtExceptionCount",!1),k("exceptionLast",!1),k("exceptionCaught",!1),k("ExceptionInfo",!1),k("CatchInfo",!1),k("exception_addRef",!1),k("exception_decRef",!1),k("formatException",!1),k("Browser",!1),k("funcWrappers",!1),k("getFuncWrapper",!1),k("setMainLoop",!1),k("wget",!1),k("tempFixedLengthArray",!1),k("miniTempWebGLFloatBuffers",!1),k("heapObjectForWebGLType",!1),k("heapAccessShiftForWebGLHeap",!1),k("GL",!1),k("emscriptenWebGLGet",!1),k("computeUnpackAlignedImageSize",!1),k("emscriptenWebGLGetTexPixelData",!1),k("emscriptenWebGLGetUniform",!1),k("webglGetUniformLocation",!1),k("webglPrepareUniformLocationsBeforeFirstUse",!1),k("webglGetLeftBracePos",!1),k("emscriptenWebGLGetVertexAttrib",!1),k("writeGLArray",!1),k("AL",!1),k("SDL_unicode",!1),k("SDL_ttfContext",!1),k("SDL_audio",!1),k("SDL",!1),k("SDL_gfx",!1),k("GLUT",!1),k("EGL",!1),k("GLFW_Window",!1),k("GLFW",!1),k("GLEW",!1),k("IDBStore",!1),k("runAndAbortIfError",!1),k("warnOnce",!1),k("stackSave",!1),k("stackRestore",!1),k("stackAlloc",!1),k("AsciiToString",!1),k("stringToAscii",!1),k("UTF16ToString",!1),k("stringToUTF16",!1),k("lengthBytesUTF16",!1),k("UTF32ToString",!1),k("stringToUTF32",!1),k("lengthBytesUTF32",!1),k("allocateUTF8",!1),k("allocateUTF8OnStack",!1),l.writeStackCookie=F_,l.checkStackCookie=fs,ft("ALLOC_NORMAL"),ft("ALLOC_STACK"),xo=function P(){gs||ad(),gs||(xo=P)},l.run=ad,l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();function Ge(){}function Pt(P){return(P||Ge).l}function ut(P,E){var F=Pt(E),X=F[P];return X||((X=te()((E||Ge).prototype)).g=P,F[P]=X)}ad(),Ge.prototype=te()(Ge.prototype),Ge.prototype.constructor=Ge,Ge.prototype.h=Ge,Ge.l={},l.WrapperObject=Ge,l.getCache=Pt,l.wrapPointer=ut,l.castObject=function(P,E){return ut(P.g,E)},l.NULL=ut(0),l.destroy=function(P){if(!P.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";P.__destroy__(),delete Pt(P.h)[P.g]},l.compare=function(P,E){return P.g===E.g},l.getPointer=function(P){return P.g},l.getClass=function(P){return P.h};var np=0,rp=0;function rr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function bn(){this.g=Jv(),Pt(bn)[this.g]=this}function ot(){this.g=tb(),Pt(ot)[this.g]=this}function At(){throw"cannot construct a PolygonInterface, no constructor in IDL"}function ht(P){P&&_(P)==="object"&&(P=P.g),this.g=P===void 0?vb():bb(P),Pt(ht)[this.g]=this}function Ye(P,E){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),this.g=P===void 0?Ab():E===void 0?_emscripten_bind_Point_Point_1(P):Ob(P,E),Pt(Ye)[this.g]=this}function ir(P,E,F){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),this.g=Fb(P,E,F),Pt(ir)[this.g]=this}function $n(){this.g=Bb(),Pt($n)[this.g]=this}function or(P,E,F){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),this.g=Vb(P,E,F),Pt(or)[this.g]=this}function xn(){this.g=Kb(),Pt(xn)[this.g]=this}function ar(P,E){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),this.g=E===void 0?qb(P):Wb(P,E),Pt(ar)[this.g]=this}function Be(P,E,F,X){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),X&&_(X)==="object"&&(X=X.g),this.g=F===void 0?Jb(P,E):X===void 0?Xb(P,E,F):Qb(P,E,F,X),Pt(Be)[this.g]=this}function $t(P,E,F,X,re,pe,me){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),X&&_(X)==="object"&&(X=X.g),re&&_(re)==="object"&&(re=re.g),pe&&_(pe)==="object"&&(pe=pe.g),me&&_(me)==="object"&&(me=me.g),this.g=F===void 0?g0(P,E):X===void 0?y0(P,E,F):re===void 0?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_4(P,E,F,X):pe===void 0?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_5(P,E,F,X,re):me===void 0?m0(P,E,F,X,re,pe):v0(P,E,F,X,re,pe,me),Pt($t)[this.g]=this}function Vt(){throw"cannot construct a Obstacle, no constructor in IDL"}function Pn(P,E,F){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),this.g=F===void 0?x0(P,E):D0(P,E,F),Pt(Pn)[this.g]=this}function cn(P,E,F){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),this.g=F===void 0?U0(P,E):N0(P,E,F),Pt(cn)[this.g]=this}function wr(){throw"cannot construct a HyperedgeNewAndDeletedObjectLists, no constructor in IDL"}function Vn(){this.g=$0(),Pt(Vn)[this.g]=this}function Rr(){throw"cannot construct a VertInf, no constructor in IDL"}function Ue(P,E,F){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),this.g=P===void 0?z0():E===void 0?_emscripten_bind_VertID_VertID_1(P):F===void 0?Z0(P,E):q0(P,E,F),Pt(Ue)[this.g]=this}function Sr(){throw"cannot construct a MinimumTerminalSpanningTree, no constructor in IDL"}function sr(P){P&&_(P)==="object"&&(P=P.g),this.g=dP(P),Pt(sr)[this.g]=this}function Ot(P,E,F,X){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),X&&_(X)==="object"&&(X=X.g),this.g=X===void 0?fP(P,E,F):_P(P,E,F,X),Pt(Ot)[this.g]=this}function cr(P,E,F){P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),this.g=F===void 0?SP(P,E):EP(P,E,F),Pt(cr)[this.g]=this}function wt(){throw"cannot construct a LineRep, no constructor in IDL"}function Ut(P){P&&_(P)==="object"&&(P=P.g),this.g=xP(P),Pt(Ut)[this.g]=this}return rr.prototype=te()(Ge.prototype),rr.prototype.constructor=rr,rr.prototype.h=rr,rr.l={},l.VoidPtr=rr,rr.prototype.__destroy__=function(){Gv(this.g)},bn.prototype=te()(Ge.prototype),bn.prototype.constructor=bn,bn.prototype.h=bn,bn.l={},l.HyperedgeImprover=bn,bn.prototype.clear=bn.prototype.clear=function(){Xv(this.g)},bn.prototype.setRouter=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),Qv(E,P)},bn.prototype.__destroy__=function(){eb(this.g)},ot.prototype=te()(Ge.prototype),ot.prototype.constructor=ot,ot.prototype.h=ot,ot.l={},l.Box=ot,ot.prototype.length=ot.prototype.length=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),nb(E,P)},ot.prototype.width=ot.prototype.width=function(){return rb(this.g)},ot.prototype.height=ot.prototype.height=function(){return ib(this.g)},ot.prototype.get_min=ot.prototype.fa=function(){return ut(ob(this.g),Ye)},ot.prototype.set_min=ot.prototype.xa=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),ab(E,P)},p()(ot.prototype,"min",{get:ot.prototype.fa,set:ot.prototype.xa}),ot.prototype.get_max=ot.prototype.ea=function(){return ut(sb(this.g),Ye)},ot.prototype.set_max=ot.prototype.wa=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),cb(E,P)},p()(ot.prototype,"max",{get:ot.prototype.ea,set:ot.prototype.wa}),ot.prototype.__destroy__=function(){ub(this.g)},At.prototype=te()(Ge.prototype),At.prototype.constructor=At,At.prototype.h=At,At.l={},l.PolygonInterface=At,At.prototype.clear=At.prototype.clear=function(){db(this.g)},At.prototype.empty=At.prototype.empty=function(){return!!lb(this.g)},At.prototype.size=At.prototype.size=function(){return fb(this.g)},At.prototype.id=At.prototype.id=function(){return _b(this.g)},At.prototype.at=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),ut(pb(E,P),Ye)},At.prototype.boundingRectPolygon=function(){return ut(hb(this.g),ht)},At.prototype.offsetBoundingBox=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),ut(gb(E,P),ot)},At.prototype.offsetPolygon=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),ut(yb(E,P),ht)},At.prototype.__destroy__=function(){mb(this.g)},ht.prototype=te()(Ge.prototype),ht.prototype.constructor=ht,ht.prototype.h=ht,ht.l={},l.Polygon=ht,ht.prototype.setPoint=function(P,E){var F=this.g;P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),Pb(F,P,E)},ht.prototype.size=ht.prototype.size=function(){return wb(this.g)},ht.prototype.get_ps=ht.prototype.la=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),ut(Rb(E,P),Ye)},ht.prototype.set_ps=ht.prototype.Da=function(P,E){var F=this.g;np||(rp+=128,ke(np=l._malloc(rp))),P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),Sb(F,P,E)},p()(ht.prototype,"ps",{get:ht.prototype.la,set:ht.prototype.Da}),ht.prototype.__destroy__=function(){Eb(this.g)},Ye.prototype=te()(Ge.prototype),Ye.prototype.constructor=Ye,Ye.prototype.h=Ye,Ye.l={},l.Point=Ye,Ye.prototype.equal=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),!!Ib(E,P)},Ye.prototype.get_x=Ye.prototype.oa=function(){return jb(this.g)},Ye.prototype.set_x=Ye.prototype.Ea=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),Mb(E,P)},p()(Ye.prototype,"x",{get:Ye.prototype.oa,set:Ye.prototype.Ea}),Ye.prototype.get_y=Ye.prototype.pa=function(){return Cb(this.g)},Ye.prototype.set_y=Ye.prototype.Fa=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),xb(E,P)},p()(Ye.prototype,"y",{get:Ye.prototype.pa,set:Ye.prototype.Fa}),Ye.prototype.get_id=Ye.prototype.da=function(){return Db(this.g)},Ye.prototype.set_id=Ye.prototype.va=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),Tb(E,P)},p()(Ye.prototype,"id",{get:Ye.prototype.da,set:Ye.prototype.va}),Ye.prototype.get_vn=Ye.prototype.J=function(){return Lb(this.g)},Ye.prototype.set_vn=Ye.prototype.N=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),Ub(E,P)},p()(Ye.prototype,"vn",{get:Ye.prototype.J,set:Ye.prototype.N}),Ye.prototype.__destroy__=function(){Nb(this.g)},ir.prototype=te()(Ge.prototype),ir.prototype.constructor=ir,ir.prototype.h=ir,ir.l={},l.Rectangle=ir,ir.prototype.__destroy__=function(){kb(this.g)},$n.prototype=te()(Ge.prototype),$n.prototype.constructor=$n,$n.prototype.h=$n,$n.l={},l.HyperedgeTreeNode=$n,$n.prototype.writeEdgesToConns=function(P,E){var F=this.g;P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),Yb(F,P,E)},$n.prototype.__destroy__=function(){$b(this.g)},or.prototype=te()(Ge.prototype),or.prototype.constructor=or,or.prototype.h=or,or.l={},l.HyperedgeTreeEdge=or,or.prototype.__destroy__=function(){Hb(this.g)},xn.prototype=te()(Ge.prototype),xn.prototype.constructor=xn,xn.prototype.h=xn,xn.l={},l.AStarPath=xn,xn.prototype.search=xn.prototype.search=function(P,E,F,X){var re=this.g;P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),X&&_(X)==="object"&&(X=X.g),zb(re,P,E,F,X)},xn.prototype.__destroy__=function(){Zb(this.g)},ar.prototype=te()(Ge.prototype),ar.prototype.constructor=ar,ar.prototype.h=ar,ar.l={},l.ConnEnd=ar,ar.prototype.__destroy__=function(){Gb(this.g)},Be.prototype=te()(Ge.prototype),Be.prototype.constructor=Be,Be.prototype.h=Be,Be.l={},l.ActionInfo=Be,Be.prototype.obstacle=function(){return ut(e0(this.g),Vt)},Be.prototype.shape=Be.prototype.shape=function(){return ut(t0(this.g),cn)},Be.prototype.conn=function(){return ut(n0(this.g),Ot)},Be.prototype.junction=function(){return ut(r0(this.g),Pn)},Be.prototype.addConnEndUpdate=function(P,E,F){var X=this.g;P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),i0(X,P,E,F)},Be.prototype.get_type=Be.prototype.A=function(){return o0(this.g)},Be.prototype.set_type=Be.prototype.M=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),a0(E,P)},p()(Be.prototype,"type",{get:Be.prototype.A,set:Be.prototype.M}),Be.prototype.get_objPtr=Be.prototype.ja=function(){return ut(s0(this.g),rr)},Be.prototype.set_objPtr=Be.prototype.Ba=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),c0(E,P)},p()(Be.prototype,"objPtr",{get:Be.prototype.ja,set:Be.prototype.Ba}),Be.prototype.get_newPoly=Be.prototype.ga=function(){return ut(u0(this.g),ht)},Be.prototype.set_newPoly=Be.prototype.ya=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),d0(E,P)},p()(Be.prototype,"newPoly",{get:Be.prototype.ga,set:Be.prototype.ya}),Be.prototype.get_newPosition=Be.prototype.ha=function(){return ut(l0(this.g),Ye)},Be.prototype.set_newPosition=Be.prototype.za=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),f0(E,P)},p()(Be.prototype,"newPosition",{get:Be.prototype.ha,set:Be.prototype.za}),Be.prototype.get_firstMove=Be.prototype.ca=function(){return!!_0(this.g)},Be.prototype.set_firstMove=Be.prototype.ua=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),p0(E,P)},p()(Be.prototype,"firstMove",{get:Be.prototype.ca,set:Be.prototype.ua}),Be.prototype.__destroy__=function(){h0(this.g)},$t.prototype=te()(Ge.prototype),$t.prototype.constructor=$t,$t.prototype.h=$t,$t.l={},l.ShapeConnectionPin=$t,$t.prototype.setConnectionCost=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),b0(E,P)},$t.prototype.position=$t.prototype.position=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),ut(P===void 0?P0(E):w0(E,P),Ye)},$t.prototype.directions=function(){return R0(this.g)},$t.prototype.setExclusive=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),S0(E,P)},$t.prototype.isExclusive=function(){return!!E0(this.g)},$t.prototype.__destroy__=function(){A0(this.g)},Vt.prototype=te()(Ge.prototype),Vt.prototype.constructor=Vt,Vt.prototype.h=Vt,Vt.l={},l.Obstacle=Vt,Vt.prototype.id=Vt.prototype.id=function(){return O0(this.g)},Vt.prototype.polygon=function(){return ut(I0(this.g),ht)},Vt.prototype.router=function(){return ut(j0(this.g),Ut)},Vt.prototype.position=Vt.prototype.position=function(){return ut(M0(this.g),Ye)},Vt.prototype.__destroy__=function(){C0(this.g)},Pn.prototype=te()(Ge.prototype),Pn.prototype.constructor=Pn,Pn.prototype.h=Pn,Pn.l={},l.JunctionRef=Pn,Pn.prototype.position=Pn.prototype.position=function(){return ut(T0(this.g),Ye)},Pn.prototype.__destroy__=function(){L0(this.g)},cn.prototype=te()(Ge.prototype),cn.prototype.constructor=cn,cn.prototype.h=cn,cn.l={},l.ShapeRef=cn,cn.prototype.polygon=function(){return ut(F0(this.g),ht)},cn.prototype.position=cn.prototype.position=function(){return ut(k0(this.g),Ye)},cn.prototype.__destroy__=function(){B0(this.g)},wr.prototype=te()(Ge.prototype),wr.prototype.constructor=wr,wr.prototype.h=wr,wr.l={},l.HyperedgeNewAndDeletedObjectLists=wr,wr.prototype.__destroy__=function(){Y0(this.g)},Vn.prototype=te()(Ge.prototype),Vn.prototype.constructor=Vn,Vn.prototype.h=Vn,Vn.l={},l.HyperedgeRerouter=Vn,Vn.prototype.registerHyperedgeForRerouting=function(P){var E=this.g;return P&&_(P)==="object"&&(P=P.g),V0(E,P)},Vn.prototype.__destroy__=function(){H0(this.g)},Rr.prototype=te()(Ge.prototype),Rr.prototype.constructor=Rr,Rr.prototype.h=Rr,Rr.l={},l.VertInf=Rr,Rr.prototype.__destroy__=function(){K0(this.g)},Ue.prototype=te()(Ge.prototype),Ue.prototype.constructor=Ue,Ue.prototype.h=Ue,Ue.l={},l.VertID=Ue,Ue.prototype.get_objID=Ue.prototype.ia=function(){return W0(this.g)},Ue.prototype.set_objID=Ue.prototype.Aa=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),G0(E,P)},p()(Ue.prototype,"objID",{get:Ue.prototype.ia,set:Ue.prototype.Aa}),Ue.prototype.get_vn=Ue.prototype.J=function(){return J0(this.g)},Ue.prototype.set_vn=Ue.prototype.N=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),X0(E,P)},p()(Ue.prototype,"vn",{get:Ue.prototype.J,set:Ue.prototype.N}),Ue.prototype.get_props=Ue.prototype.ka=function(){return Q0(this.g)},Ue.prototype.set_props=Ue.prototype.Ca=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),eP(E,P)},p()(Ue.prototype,"props",{get:Ue.prototype.ka,set:Ue.prototype.Ca}),Ue.prototype.get_src=Ue.prototype.ma=function(){return tP(this.g)},p()(Ue.prototype,"src",{get:Ue.prototype.ma}),Ue.prototype.get_tar=Ue.prototype.na=function(){return nP(this.g)},p()(Ue.prototype,"tar",{get:Ue.prototype.na}),Ue.prototype.get_PROP_ConnPoint=Ue.prototype.V=function(){return rP(this.g)},p()(Ue.prototype,"PROP_ConnPoint",{get:Ue.prototype.V}),Ue.prototype.get_PROP_OrthShapeEdge=Ue.prototype.Y=function(){return iP(this.g)},p()(Ue.prototype,"PROP_OrthShapeEdge",{get:Ue.prototype.Y}),Ue.prototype.get_PROP_ConnectionPin=Ue.prototype.W=function(){return oP(this.g)},p()(Ue.prototype,"PROP_ConnectionPin",{get:Ue.prototype.W}),Ue.prototype.get_PROP_ConnCheckpoint=Ue.prototype.U=function(){return aP(this.g)},p()(Ue.prototype,"PROP_ConnCheckpoint",{get:Ue.prototype.U}),Ue.prototype.get_PROP_DummyPinHelper=Ue.prototype.X=function(){return sP(this.g)},p()(Ue.prototype,"PROP_DummyPinHelper",{get:Ue.prototype.X}),Ue.prototype.__destroy__=function(){cP(this.g)},Sr.prototype=te()(Ge.prototype),Sr.prototype.constructor=Sr,Sr.prototype.h=Sr,Sr.l={},l.MinimumTerminalSpanningTree=Sr,Sr.prototype.__destroy__=function(){uP(this.g)},sr.prototype=te()(Ge.prototype),sr.prototype.constructor=sr,sr.prototype.h=sr,sr.l={},l.Checkpoint=sr,sr.prototype.__destroy__=function(){lP(this.g)},Ot.prototype=te()(Ge.prototype),Ot.prototype.constructor=Ot,Ot.prototype.h=Ot,Ot.l={},l.ConnRef=Ot,Ot.prototype.id=Ot.prototype.id=function(){return pP(this.g)},Ot.prototype.setCallback=function(P,E){var F=this.g;if(ke(P instanceof Function,"Expecting function"),ke(P!==void 0),!_e){_e=new(we());for(var X=Pr.length,re=0;re<0+X;re++){var pe=Xe(re);pe&&_e.set(pe,re)}}if(_e.has(P))P=_e.get(P);else{if(Oe.length)X=Oe.pop();else{try{Pr.grow(1)}catch(st){throw st instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":st}X=Pr.length-1}try{re=X,Pr.set(re,P),xi[re]=P}catch(st){if(!(st instanceof TypeError))throw st;if(ke(!0,"Missing signature argument to addFunction: "+P),typeof WebAssembly.Function=="function"){pe={i:"i32",j:"i64",f:"f32",d:"f64"};var me={parameters:[],results:[]};for(re=1;2>re;++re)me.parameters.push(pe["vi"[re]]);pe=new WebAssembly.Function(me,P)}else{var Fe;for(me={i:127,j:126,f:125,d:124},(pe=[1,0,1,96]).push(1),re=0;1>re;++re)pe.push(me["i"[re]]);pe.push(0),pe[1]=pe.length-2,re=new Uint8Array(Pe()(Fe=[0,97,115,109,1,0,0,0]).call(Fe,pe,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),re=new WebAssembly.Module(re),pe=new WebAssembly.Instance(re,{e:{f:P}}).exports.f}re=X,Pr.set(re,pe),xi[re]=pe}_e.set(P,X),P=X}E&&_(E)==="object"&&(E=E.g),hP(F,P,E)},Ot.prototype.setSourceEndpoint=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),gP(E,P)},Ot.prototype.setDestEndpoint=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),yP(E,P)},Ot.prototype.routingType=function(){return mP(this.g)},Ot.prototype.setRoutingType=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),vP(E,P)},Ot.prototype.displayRoute=function(){return ut(bP(this.g),ht)},Ot.prototype.setHateCrossings=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),PP(E,P)},Ot.prototype.doesHateCrossings=function(){return!!wP(this.g)},Ot.prototype.__destroy__=function(){RP(this.g)},cr.prototype=te()(Ge.prototype),cr.prototype.constructor=cr,cr.prototype.h=cr,cr.l={},l.EdgeInf=cr,cr.prototype.__destroy__=function(){AP(this.g)},wt.prototype=te()(Ge.prototype),wt.prototype.constructor=wt,wt.prototype.h=wt,wt.l={},l.LineRep=wt,wt.prototype.get_begin=wt.prototype.Z=function(){return ut(OP(this.g),Ye)},wt.prototype.set_begin=wt.prototype.sa=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),IP(E,P)},p()(wt.prototype,"begin",{get:wt.prototype.Z,set:wt.prototype.sa}),wt.prototype.get_end=wt.prototype.ba=function(){return ut(jP(this.g),Ye)},wt.prototype.set_end=wt.prototype.ta=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),MP(E,P)},p()(wt.prototype,"end",{get:wt.prototype.ba,set:wt.prototype.ta}),wt.prototype.__destroy__=function(){CP(this.g)},Ut.prototype=te()(Ge.prototype),Ut.prototype.constructor=Ut,Ut.prototype.h=Ut,Ut.l={},l.Router=Ut,Ut.prototype.processTransaction=function(){return!!DP(this.g)},Ut.prototype.printInfo=function(){TP(this.g)},Ut.prototype.deleteConnector=function(P){var E=this.g;P&&_(P)==="object"&&(P=P.g),LP(E,P)},Ut.prototype.moveShape=function(P,E,F){var X=this.g;P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),F&&_(F)==="object"&&(F=F.g),UP(X,P,E,F)},Ut.prototype.setRoutingParameter=function(P,E){var F=this.g;P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),NP(F,P,E)},Ut.prototype.setRoutingOption=function(P,E){var F=this.g;P&&_(P)==="object"&&(P=P.g),E&&_(E)==="object"&&(E=E.g),FP(F,P,E)},Ut.prototype.__destroy__=function(){kP(this.g)},function(){function P(){l.ConnDirNone=BP(),l.ConnDirUp=YP(),l.ConnDirDown=$P(),l.ConnDirLeft=VP(),l.ConnDirRight=HP(),l.ConnDirAll=KP(),l.ConnEndPoint=zP(),l.ConnEndShapePin=ZP(),l.ConnEndJunction=qP(),l.ConnEndEmpty=WP(),l.ShapeMove=GP(),l.ShapeAdd=JP(),l.ShapeRemove=XP(),l.JunctionMove=QP(),l.JunctionAdd=ew(),l.JunctionRemove=tw(),l.ConnChange=nw(),l.ConnectionPinChange=rw(),l.TransformationType_CW90=iw(),l.TransformationType_CW180=ow(),l.TransformationType_CW270=aw(),l.TransformationType_FlipX=sw(),l.TransformationType_FlipY=cw(),l.ConnType_None=uw(),l.ConnType_PolyLine=dw(),l.ConnType_Orthogonal=lw(),l.PolyLineRouting=fw(),l.OrthogonalRouting=_w(),l.segmentPenalty=pw(),l.anglePenalty=hw(),l.crossingPenalty=gw(),l.clusterCrossingPenalty=yw(),l.fixedSharedPathPenalty=mw(),l.portDirectionPenalty=vw(),l.shapeBufferDistance=bw(),l.idealNudgingDistance=Pw(),l.reverseDirectionPenalty=ww(),l.nudgeOrthogonalSegmentsConnectedToShapes=Rw(),l.improveHyperedgeRoutesMovingJunctions=Sw(),l.penaliseOrthogonalSharedPathsAtConnEnds=Ew(),l.nudgeOrthogonalTouchingColinearSegments=Aw(),l.performUnifyingNudgingPreprocessingStep=Ow(),l.improveHyperedgeRoutesMovingAddingAndDeletingJunctions=Iw(),l.nudgeSharedPathsWithCommonEndPoint=jw()}_s?P():td.unshift(P)}(),N.ready});var Ce={avoidLib:void 0,load:function(){var N,z=this;return(N=u().mark(function J(){return u().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(z.avoidLib){ae.next=6;break}return ae.next=3,le();case 3:z.avoidLib=ae.sent,ae.next=7;break;case 6:console.log("Avoid library is already initialized");case 7:case"end":return ae.stop()}},J)}),function(){var J=this,ae=arguments;return new a(function(l,Le){var Re=N.apply(J,ae);function xe(De){c(Re,l,Le,xe,Ee,"next",De)}function Ee(De){c(Re,l,Le,xe,Ee,"throw",De)}xe(void 0)})})()},getInstance:function(){if(!this.avoidLib)throw new Error("Avoid library should be initialized before using");return this.avoidLib}}})(),o})()})})(T_);var Kv=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ji=globalThis&&globalThis.__assign||function(){return Ji=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ji.apply(this,arguments)},Qg=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},ey=globalThis&&globalThis.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},ef;(function(t){t[t.PolyLine=1]="PolyLine",t[t.Orthogonal=2]="Orthogonal"})(ef||(ef={}));var ty;(function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=4]="Left",t[t.Right=8]="Right",t[t.All=15]="All"})(ty||(ty={}));var ny={routingType:void 0,segmentPenalty:"parameter",anglePenalty:"parameter",crossingPenalty:"parameter",clusterCrossingPenalty:"parameter",fixedSharedPathPenalty:"parameter",portDirectionPenalty:"parameter",shapeBufferDistance:"parameter",idealNudgingDistance:"parameter",reverseDirectionPenalty:"parameter",nudgeOrthogonalSegmentsConnectedToShapes:"option",improveHyperedgeRoutesMovingJunctions:"option",penaliseOrthogonalSharedPathsAtConnEnds:"option",nudgeOrthogonalTouchingColinearSegments:"option",performUnifyingNudgingPreprocessingStep:"option",improveHyperedgeRoutesMovingAddingAndDeletingJunctions:"option",nudgeSharedPathsWithCommonEndPoint:"option"},vU=function(t){Kv(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.routeType=0,n.sourceVisibleDirections=void 0,n.targetVisibleDirections=void 0,n.hateCrossings=!1,n}return e}(dt.SRoutableElement),tf=function(t){Kv(e,t);function e(){var r=t.call(this)||this;return r.renderedTimes=0,r.avoidRoutes={},r.options={},r}n=e,Object.defineProperty(e.prototype,"kind",{get:function(){return n.KIND},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(r){this.options=Ji(Ji({},this.options),r)},e.prototype.getAllBoundsAwareChildren=function(r){for(var i=[],o=0,a=r.children;o<a.length;o++){var c=a[o];dt.isBoundsAware(c)&&i.push(c),c instanceof dt.SParentElement&&i.push.apply(i,this.getAllBoundsAwareChildren(c))}return i},e.prototype.getCenterPoint=function(r){for(var i=r.bounds.width/2,o=r.bounds.height/2,a=r;a&&(a.position&&(i+=a.position.x,o+=a.position.y),!(a.parent&&a.parent.id==="graph"));)a=a.parent;return{x:i,y:o}},e.prototype.avoidRoutesToEdgeRoutes=function(r){for(var i=new dt.EdgeRouting,o=0,a=r;o<a.length;o++){for(var c=a[o],s=[],u=c.connRef.displayRoute(),d=0;d<u.size();d++){var f="linear";d===0?f="source":d===u.size()-1&&(f="target"),s.push({x:u.get_ps(d).x,y:u.get_ps(d).y,kind:f,pointIndex:1})}i.set(c.child.id,s),this.avoidRoutes[c.child.id]=Ji(Ji({},this.avoidRoutes[c.child.id]),{routes:s})}return i},e.prototype.routeAll=function(r,i){var o=this,a=[],c=T_.exports.AvoidLib.getInstance(),s=this.options.routingType||c.PolyLineRouting;this.avoidRouter=new c.Router(s),Object.entries(this.options).forEach(function(M){var x=M[0],D=M[1];ny[x]==="parameter"?o.avoidRouter.setRoutingParameter(c[x],D):ny[x]==="option"&&o.avoidRouter.setRoutingOption(c[x],D)});for(var u=0,d=r;u<d.length;u++){var f=d[u],_=this.getCenterPoint(f.source),y=this.getCenterPoint(f.target),g=void 0;f.sourceVisibleDirections?g=new c.ConnEnd(new c.Point(_.x,_.y),f.sourceVisibleDirections):g=new c.ConnEnd(new c.Point(_.x,_.y));var v=void 0;f.targetVisibleDirections?v=new c.ConnEnd(new c.Point(y.x,y.y),f.targetVisibleDirections):v=new c.ConnEnd(new c.Point(y.x,y.y));var m=new c.ConnRef(this.avoidRouter,g,v);f.routeType&&m.setRoutingType(f.routeType),f.hateCrossings&&m.setHateCrossings(f.hateCrossings),a.push({child:f,connRef:m,routes:[]}),this.avoidRoutes[f.id]={connRef:m,child:f,routes:[]}}var h=this.getAllBoundsAwareChildren(i);console.log("connectables count: ",h.length);for(var b=0,p=h;b<p.length;b++){var f=p[b],R=this.getCenterPoint(f),O=new c.Rectangle(new c.Point(R.x,R.y),f.bounds.width,f.bounds.height);new c.ShapeRef(this.avoidRouter,O)}this.avoidRouter.processTransaction();for(var A=this.avoidRoutesToEdgeRoutes(a),I=0,j=a;I<j.length;I++){var U=j[I];this.avoidRouter.deleteConnector(U.connRef)}return c.destroy(this.avoidRouter),this.avoidRoutes={},this.renderedTimes+=1,A},e.prototype.route=function(r,i){return this.routeAll([r],r).get(r.id)||[]},e.prototype.createRoutingHandles=function(r){var i=r.routingPoints.length;this.addHandle(r,"source","routing-point",-2),this.addHandle(r,"line","volatile-routing-point",-1);for(var o=0;o<i;o++)this.addHandle(r,"junction","routing-point",o),this.addHandle(r,"line","volatile-routing-point",o);this.addHandle(r,"target","routing-point",i)},e.prototype.applyInnerHandleMoves=function(r,i){var o=this;i.forEach(function(a){var c=a.handle,s=r.routingPoints,u=c.pointIndex;c.kind==="line"&&(c.kind="junction",c.type="routing-point",s.splice(u+1,0,a.fromPosition||s[Math.max(u,0)]),r.children.forEach(function(d){d instanceof dt.SRoutingHandle&&(d===c||d.pointIndex>u)&&d.pointIndex++}),o.addHandle(r,"line","volatile-routing-point",u),o.addHandle(r,"line","volatile-routing-point",u+1),u++),u>=0&&u<s.length&&(s[u]=a.toPosition)})},e.prototype.getInnerHandlePosition=function(r,i,o){if(o.kind==="line"){var a=this.findRouteSegment(r,i,o.pointIndex),c=a.start,s=a.end;if(c!==void 0&&s!==void 0)return lo.centerOfLine(c,s)}},e.prototype.getOptions=function(r){return{minimalPointDistance:2,standardDistance:20,selfEdgeOffset:.25}};var n;return e.KIND="libavoid",Qg([sm(dt.AnchorComputerRegistry),ey("design:type",dt.AnchorComputerRegistry)],e.prototype,"anchorRegistry",void 0),e=n=Qg([Tf(),ey("design:paramtypes",[])],e),e}(dt.AbstractEdgeRouter),bU=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},PU=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function wU(){return bU(this,void 0,void 0,function(){return PU(this,function(t){switch(t.label){case 0:return[4,T_.exports.AvoidLib.load()];case 1:return t.sent(),[2]}})})}var ry,iy;let RU=(ry=Tf(),ry(iy=class extends dt.ShapeView{render(e,n){if(!this.isVisible(e,n))return;const r=this.getSize(e);return fi("g",{},[fi("rect",{attrs:{"class-sprotty-node":!0,"class-selected":e.selected,"class-mouseover":e.hoverFeedback,width:e.size.width,height:e.size.height,rx:8,ry:8}}),fi("text",{attrs:{x:r,y:r+7,"class-sprotty-text":!0}},e.id.substr(4))])}getSize(e){const n=Math.min(e.size.width,e.size.height);return n>0?n/2:0}})||iy);const zv=new pm((t,e,n,r)=>{t(dt.TYPES.ModelSource).to(dt.LocalModelSource).inSingletonScope(),r(dt.TYPES.ILogger).to(dt.ConsoleLogger).inSingletonScope(),r(dt.TYPES.LogLevel).toConstantValue(dt.LogLevel.log),t(tf).toSelf().inSingletonScope(),t(dt.TYPES.IEdgeRouter).toService(tf);const i={bind:t,unbind:e,isBound:n,rebind:r};dt.configureModelElement(i,"graph",dt.SGraph,dt.SGraphView),dt.configureModelElement(i,"node:square",dt.RectangularNode,RU),dt.configureModelElement(i,"edge:straight",vU,dt.PolylineEdgeView,{}),dt.configureViewerOptions(i,{needsClientLayout:!1})}),SU=()=>{const t=new _m;return dt.loadDefaultModules(t),t.load(zv),t.get(tf).setOptions({routingType:ef.Orthogonal,segmentPenalty:50,idealNudgingDistance:4,nudgeOrthogonalSegmentsConnectedToShapes:!0,nudgeOrthogonalTouchingColinearSegments:!0}),t},EU=t=>{t.unbindAll(),t.unload(zv)},Hi=60,AU=async()=>{await wU();let t=2;function e(s){const u={id:"node"+t,type:"node:square",position:{x:s.x+Math.random()*(s.width-Hi),y:s.y+Math.random()*(s.height-Hi)},size:{width:Hi,height:Hi}},d={id:"edge"+t,type:"edge:straight",sourceId:"node0",targetId:"node"+t,routerKind:"libavoid"};return t++,[u,d]}function n({canvasBounds:s,scroll:u,zoom:d}){return sp(ap({},u),{width:s.width/d,height:s.height/d})}const r=SU(),i=r.get(dt.TYPES.ModelSource),a={id:"graph",type:"graph",children:[{id:"node0",type:"node:square",position:{x:100,y:100},size:{width:Hi,height:Hi}}]},c=await i.getViewport();for(let s=0;s<32;++s){const u=e(n(c));a.children.push(...u)}return i.setModel(a),r},OU=EU;var Zv=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const IU=xy({name:"DiagramView",data(){return{container:null}},mounted(){(async()=>{this.container=await AU()})()},beforeUnmount(){this.container&&OU(this.container)}}),jU={class:"sprotty-diagram"},MU=Sf("div",{id:"sprotty",class:"sprotty"},null,-1),CU=[MU];function xU(t,e,n,r,i,o){return zy(),IR("div",jU,CU)}var DU=Zv(IU,[["render",xU]]);const TU=xy({components:{DiagramView:DU}});function LU(t,e,n,r,i,o){const a=SR("DiagramView");return zy(),jR(a)}var UU=Zv(TU,[["render",LU]]);_S(UU).mount("#app");
