var Zw=Object.defineProperty,qw=Object.defineProperties;var Ww=Object.getOwnPropertyDescriptors;var lp=Object.getOwnPropertySymbols;var Gw=Object.prototype.hasOwnProperty,Jw=Object.prototype.propertyIsEnumerable;var fp=(t,e,n)=>e in t?Zw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_p=(t,e)=>{for(var n in e||(e={}))Gw.call(e,n)&&fp(t,n,e[n]);if(lp)for(var n of lp(e))Jw.call(e,n)&&fp(t,n,e[n]);return t},pp=(t,e)=>qw(t,Ww(e));const Xw=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};Xw();function df(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Qw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",e1=df(Qw);function py(t){return!!t||t===""}function lf(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Vt(r)?r1(r):lf(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(Vt(t))return t;if(Lt(t))return t}}const t1=/;(?![^(]*\))/g,n1=/:(.+)/;function r1(t){const e={};return t.split(t1).forEach(n=>{if(n){const r=n.split(n1);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ff(t){let e="";if(Vt(t))e=t;else if(ze(t))for(let n=0;n<t.length;n++){const r=ff(t[n]);r&&(e+=r+" ")}else if(Lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function i1(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Kc(t[r],e[r]);return n}function Kc(t,e){if(t===e)return!0;let n=hp(t),r=hp(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ze(t),r=ze(e),n||r)return n&&r?i1(t,e):!1;if(n=Lt(t),r=Lt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in t){const c=t.hasOwnProperty(a),s=e.hasOwnProperty(a);if(c&&!s||!c&&s||!Kc(t[a],e[a]))return!1}}return String(t)===String(e)}function hy(t,e){return t.findIndex(n=>Kc(n,e))}const lt={},to=[],Bn=()=>{},o1=()=>!1,a1=/^on[^a-z]/,zc=t=>a1.test(t),_f=t=>t.startsWith("onUpdate:"),Zt=Object.assign,pf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},s1=Object.prototype.hasOwnProperty,tt=(t,e)=>s1.call(t,e),ze=Array.isArray,_a=t=>Zc(t)==="[object Map]",hf=t=>Zc(t)==="[object Set]",hp=t=>t instanceof Date,Ge=t=>typeof t=="function",Vt=t=>typeof t=="string",gf=t=>typeof t=="symbol",Lt=t=>t!==null&&typeof t=="object",gy=t=>Lt(t)&&Ge(t.then)&&Ge(t.catch),c1=Object.prototype.toString,Zc=t=>c1.call(t),u1=t=>Zc(t).slice(8,-1),d1=t=>Zc(t)==="[object Object]",yf=t=>Vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Js=df(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},l1=/-(\w)/g,er=qc(t=>t.replace(l1,(e,n)=>n?n.toUpperCase():"")),f1=/\B([A-Z])/g,fo=qc(t=>t.replace(f1,"-$1").toLowerCase()),Wc=qc(t=>t.charAt(0).toUpperCase()+t.slice(1)),pd=qc(t=>t?`on${Wc(t)}`:""),hc=(t,e)=>!Object.is(t,e),Xs=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},gc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ml=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let gp;const _1=()=>gp||(gp=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let dr;class p1{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&dr&&(this.parent=dr,this.index=(dr.scopes||(dr.scopes=[])).push(this)-1)}run(e){if(this.active)try{return dr=this,e()}finally{dr=this.parent}}on(){dr=this}off(){dr=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function h1(t,e=dr){e&&e.active&&e.effects.push(t)}const mf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},yy=t=>(t.w&Nr)>0,my=t=>(t.n&Nr)>0,g1=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Nr},y1=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];yy(i)&&!my(i)?i.delete(t):e[n++]=i,i.w&=~Nr,i.n&=~Nr}e.length=n}},vl=new WeakMap;let ua=0,Nr=1;const bl=30;let Xn;const fi=Symbol(""),Pl=Symbol("");class vf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,h1(this,r)}run(){if(!this.active)return this.fn();let e=Xn,n=Tr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Xn,Xn=this,Tr=!0,Nr=1<<++ua,ua<=bl?g1(this):yp(this),this.fn()}finally{ua<=bl&&y1(this),Nr=1<<--ua,Xn=this.parent,Tr=n,this.parent=void 0}}stop(){this.active&&(yp(this),this.onStop&&this.onStop(),this.active=!1)}}function yp(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Tr=!0;const vy=[];function _o(){vy.push(Tr),Tr=!1}function po(){const t=vy.pop();Tr=t===void 0?!0:t}function hn(t,e,n){if(Tr&&Xn){let r=vl.get(t);r||vl.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=mf()),by(i)}}function by(t,e){let n=!1;ua<=bl?my(t)||(t.n|=Nr,n=!yy(t)):n=!t.has(Xn),n&&(t.add(Xn),Xn.deps.push(t))}function pr(t,e,n,r,i,o){const a=vl.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&ze(t))a.forEach((s,u)=>{(u==="length"||u>=r)&&c.push(s)});else switch(n!==void 0&&c.push(a.get(n)),e){case"add":ze(t)?yf(n)&&c.push(a.get("length")):(c.push(a.get(fi)),_a(t)&&c.push(a.get(Pl)));break;case"delete":ze(t)||(c.push(a.get(fi)),_a(t)&&c.push(a.get(Pl)));break;case"set":_a(t)&&c.push(a.get(fi));break}if(c.length===1)c[0]&&wl(c[0]);else{const s=[];for(const u of c)u&&s.push(...u);wl(mf(s))}}function wl(t,e){for(const n of ze(t)?t:[...t])(n!==Xn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const m1=df("__proto__,__v_isRef,__isVue"),Py=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(gf)),v1=bf(),b1=bf(!1,!0),P1=bf(!0),mp=w1();function w1(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ut(this);for(let o=0,a=this.length;o<a;o++)hn(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ut)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_o();const r=ut(this)[e].apply(this,n);return po(),r}}),t}function bf(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?k1:Ay:e?Ey:Sy).get(r))return r;const a=ze(r);if(!t&&a&&tt(mp,i))return Reflect.get(mp,i,o);const c=Reflect.get(r,i,o);return(gf(i)?Py.has(i):m1(i))||(t||hn(r,"get",i),e)?c:$t(c)?!a||!yf(i)?c.value:c:Lt(c)?t?Oy(c):Rf(c):c}}const R1=wy(),S1=wy(!0);function wy(t=!1){return function(n,r,i,o){let a=n[r];if(Aa(a)&&$t(a)&&!$t(i))return!1;if(!t&&!Aa(i)&&(Iy(i)||(i=ut(i),a=ut(a)),!ze(n)&&$t(a)&&!$t(i)))return a.value=i,!0;const c=ze(n)&&yf(r)?Number(r)<n.length:tt(n,r),s=Reflect.set(n,r,i,o);return n===ut(o)&&(c?hc(i,a)&&pr(n,"set",r,i):pr(n,"add",r,i)),s}}function E1(t,e){const n=tt(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&pr(t,"delete",e,void 0),r}function A1(t,e){const n=Reflect.has(t,e);return(!gf(e)||!Py.has(e))&&hn(t,"has",e),n}function O1(t){return hn(t,"iterate",ze(t)?"length":fi),Reflect.ownKeys(t)}const Ry={get:v1,set:R1,deleteProperty:E1,has:A1,ownKeys:O1},I1={get:P1,set(t,e){return!0},deleteProperty(t,e){return!0}},j1=Zt({},Ry,{get:b1,set:S1}),Pf=t=>t,Gc=t=>Reflect.getPrototypeOf(t);function Rs(t,e,n=!1,r=!1){t=t.__v_raw;const i=ut(t),o=ut(e);e!==o&&!n&&hn(i,"get",e),!n&&hn(i,"get",o);const{has:a}=Gc(i),c=r?Pf:n?Af:Ef;if(a.call(i,e))return c(t.get(e));if(a.call(i,o))return c(t.get(o));t!==i&&t.get(e)}function Ss(t,e=!1){const n=this.__v_raw,r=ut(n),i=ut(t);return t!==i&&!e&&hn(r,"has",t),!e&&hn(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function Es(t,e=!1){return t=t.__v_raw,!e&&hn(ut(t),"iterate",fi),Reflect.get(t,"size",t)}function vp(t){t=ut(t);const e=ut(this);return Gc(e).has.call(e,t)||(e.add(t),pr(e,"add",t,t)),this}function bp(t,e){e=ut(e);const n=ut(this),{has:r,get:i}=Gc(n);let o=r.call(n,t);o||(t=ut(t),o=r.call(n,t));const a=i.call(n,t);return n.set(t,e),o?hc(e,a)&&pr(n,"set",t,e):pr(n,"add",t,e),this}function Pp(t){const e=ut(this),{has:n,get:r}=Gc(e);let i=n.call(e,t);i||(t=ut(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&pr(e,"delete",t,void 0),o}function wp(){const t=ut(this),e=t.size!==0,n=t.clear();return e&&pr(t,"clear",void 0,void 0),n}function As(t,e){return function(r,i){const o=this,a=o.__v_raw,c=ut(a),s=e?Pf:t?Af:Ef;return!t&&hn(c,"iterate",fi),a.forEach((u,d)=>r.call(i,s(u),s(d),o))}}function Os(t,e,n){return function(...r){const i=this.__v_raw,o=ut(i),a=_a(o),c=t==="entries"||t===Symbol.iterator&&a,s=t==="keys"&&a,u=i[t](...r),d=n?Pf:e?Af:Ef;return!e&&hn(o,"iterate",s?Pl:fi),{next(){const{value:f,done:_}=u.next();return _?{value:f,done:_}:{value:c?[d(f[0]),d(f[1])]:d(f),done:_}},[Symbol.iterator](){return this}}}}function Ar(t){return function(...e){return t==="delete"?!1:this}}function C1(){const t={get(o){return Rs(this,o)},get size(){return Es(this)},has:Ss,add:vp,set:bp,delete:Pp,clear:wp,forEach:As(!1,!1)},e={get(o){return Rs(this,o,!1,!0)},get size(){return Es(this)},has:Ss,add:vp,set:bp,delete:Pp,clear:wp,forEach:As(!1,!0)},n={get(o){return Rs(this,o,!0)},get size(){return Es(this,!0)},has(o){return Ss.call(this,o,!0)},add:Ar("add"),set:Ar("set"),delete:Ar("delete"),clear:Ar("clear"),forEach:As(!0,!1)},r={get(o){return Rs(this,o,!0,!0)},get size(){return Es(this,!0)},has(o){return Ss.call(this,o,!0)},add:Ar("add"),set:Ar("set"),delete:Ar("delete"),clear:Ar("clear"),forEach:As(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Os(o,!1,!1),n[o]=Os(o,!0,!1),e[o]=Os(o,!1,!0),r[o]=Os(o,!0,!0)}),[t,n,e,r]}const[M1,x1,D1,T1]=C1();function wf(t,e){const n=e?t?T1:D1:t?x1:M1;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(tt(n,i)&&i in r?n:r,i,o)}const L1={get:wf(!1,!1)},U1={get:wf(!1,!0)},N1={get:wf(!0,!1)},Sy=new WeakMap,Ey=new WeakMap,Ay=new WeakMap,k1=new WeakMap;function F1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function B1(t){return t.__v_skip||!Object.isExtensible(t)?0:F1(u1(t))}function Rf(t){return Aa(t)?t:Sf(t,!1,Ry,L1,Sy)}function Y1(t){return Sf(t,!1,j1,U1,Ey)}function Oy(t){return Sf(t,!0,I1,N1,Ay)}function Sf(t,e,n,r,i){if(!Lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const a=B1(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return i.set(t,c),c}function no(t){return Aa(t)?no(t.__v_raw):!!(t&&t.__v_isReactive)}function Aa(t){return!!(t&&t.__v_isReadonly)}function Iy(t){return!!(t&&t.__v_isShallow)}function jy(t){return no(t)||Aa(t)}function ut(t){const e=t&&t.__v_raw;return e?ut(e):t}function Cy(t){return gc(t,"__v_skip",!0),t}const Ef=t=>Lt(t)?Rf(t):t,Af=t=>Lt(t)?Oy(t):t;function $1(t){Tr&&Xn&&(t=ut(t),by(t.dep||(t.dep=mf())))}function V1(t,e){t=ut(t),t.dep&&wl(t.dep)}function $t(t){return!!(t&&t.__v_isRef===!0)}function H1(t){return $t(t)?t.value:t}const K1={get:(t,e,n)=>H1(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return $t(i)&&!$t(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function My(t){return no(t)?t:new Proxy(t,K1)}class z1{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new vf(e,()=>{this._dirty||(this._dirty=!0,V1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ut(this);return $1(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Z1(t,e,n=!1){let r,i;const o=Ge(t);return o?(r=t,i=Bn):(r=t.get,i=t.set),new z1(r,i,o||!i,n)}Promise.resolve();function Lr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Jc(o,e,n)}return i}function Yn(t,e,n,r){if(Ge(t)){const o=Lr(t,e,n,r);return o&&gy(o)&&o.catch(a=>{Jc(a,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Yn(t[o],e,n,r));return i}function Jc(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,c=n;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,a,c)===!1)return}o=o.parent}const s=e.appContext.config.errorHandler;if(s){Lr(s,null,10,[t,a,c]);return}}q1(t,n,i,r)}function q1(t,e,n,r=!0){console.error(t)}let yc=!1,Rl=!1;const _n=[];let _r=0;const pa=[];let da=null,Wi=0;const ha=[];let Mr=null,Gi=0;const xy=Promise.resolve();let Of=null,Sl=null;function W1(t){const e=Of||xy;return t?e.then(this?t.bind(this):t):e}function G1(t){let e=_r+1,n=_n.length;for(;e<n;){const r=e+n>>>1;Oa(_n[r])<t?e=r+1:n=r}return e}function Dy(t){(!_n.length||!_n.includes(t,yc&&t.allowRecurse?_r+1:_r))&&t!==Sl&&(t.id==null?_n.push(t):_n.splice(G1(t.id),0,t),Ty())}function Ty(){!yc&&!Rl&&(Rl=!0,Of=xy.then(Ny))}function J1(t){const e=_n.indexOf(t);e>_r&&_n.splice(e,1)}function Ly(t,e,n,r){ze(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),Ty()}function X1(t){Ly(t,da,pa,Wi)}function Q1(t){Ly(t,Mr,ha,Gi)}function If(t,e=null){if(pa.length){for(Sl=e,da=[...new Set(pa)],pa.length=0,Wi=0;Wi<da.length;Wi++)da[Wi]();da=null,Wi=0,Sl=null,If(t,e)}}function Uy(t){if(ha.length){const e=[...new Set(ha)];if(ha.length=0,Mr){Mr.push(...e);return}for(Mr=e,Mr.sort((n,r)=>Oa(n)-Oa(r)),Gi=0;Gi<Mr.length;Gi++)Mr[Gi]();Mr=null,Gi=0}}const Oa=t=>t.id==null?1/0:t.id;function Ny(t){Rl=!1,yc=!0,If(t),_n.sort((n,r)=>Oa(n)-Oa(r));const e=Bn;try{for(_r=0;_r<_n.length;_r++){const n=_n[_r];n&&n.active!==!1&&Lr(n,null,14)}}finally{_r=0,_n.length=0,Uy(),yc=!1,Of=null,(_n.length||pa.length||ha.length)&&Ny(t)}}function eR(t,e,...n){const r=t.vnode.props||lt;let i=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:_}=r[d]||lt;_?i=n.map(y=>y.trim()):f&&(i=n.map(ml))}let c,s=r[c=pd(e)]||r[c=pd(er(e))];!s&&o&&(s=r[c=pd(fo(e))]),s&&Yn(s,t,6,i);const u=r[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Yn(u,t,6,i)}}function ky(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let a={},c=!1;if(!Ge(t)){const s=u=>{const d=ky(u,e,!0);d&&(c=!0,Zt(a,d))};!n&&e.mixins.length&&e.mixins.forEach(s),t.extends&&s(t.extends),t.mixins&&t.mixins.forEach(s)}return!o&&!c?(r.set(t,null),null):(ze(o)?o.forEach(s=>a[s]=null):Zt(a,o),r.set(t,a),a)}function jf(t,e){return!t||!zc(e)?!1:(e=e.slice(2).replace(/Once$/,""),tt(t,e[0].toLowerCase()+e.slice(1))||tt(t,fo(e))||tt(t,e))}let Un=null,Fy=null;function mc(t){const e=Un;return Un=t,Fy=t&&t.type.__scopeId||null,e}function tR(t,e=Un,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Dp(-1);const o=mc(e),a=t(...i);return mc(o),r._d&&Dp(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function hd(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:c,attrs:s,emit:u,render:d,renderCache:f,data:_,setupState:y,ctx:g,inheritAttrs:v}=t;let m,h;const P=mc(t);try{if(n.shapeFlag&4){const R=i||r;m=Gn(d.call(R,R,f,o,y,_,g)),h=s}else{const R=e;m=Gn(R.length>1?R(o,{attrs:s,slots:c,emit:u}):R(o,null)),h=e.props?s:nR(s)}}catch(R){ga.length=0,Jc(R,t,1),m=Ur(Ia)}let p=m;if(h&&v!==!1){const R=Object.keys(h),{shapeFlag:O}=p;R.length&&O&7&&(a&&R.some(_f)&&(h=rR(h,a)),p=ja(p,h))}return n.dirs&&(p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&(p.transition=n.transition),m=p,mc(P),m}const nR=t=>{let e;for(const n in t)(n==="class"||n==="style"||zc(n))&&((e||(e={}))[n]=t[n]);return e},rR=(t,e)=>{const n={};for(const r in t)(!_f(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function iR(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:c,patchFlag:s}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&s>=0){if(s&1024)return!0;if(s&16)return r?Rp(r,a,u):!!a;if(s&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const _=d[f];if(a[_]!==r[_]&&!jf(u,_))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?Rp(r,a,u):!0:!!a;return!1}function Rp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!jf(n,o))return!0}return!1}function oR({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const aR=t=>t.__isSuspense;function sR(t,e){e&&e.pendingBranch?ze(t)?e.effects.push(...t):e.effects.push(t):Q1(t)}function cR(t,e){if(Tt){let n=Tt.provides;const r=Tt.parent&&Tt.parent.provides;r===n&&(n=Tt.provides=Object.create(r)),n[t]=e}}function gd(t,e,n=!1){const r=Tt||Un;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ge(e)?e.call(r.proxy):e}}const Sp={};function yd(t,e,n){return By(t,e,n)}function By(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=lt){const c=Tt;let s,u=!1,d=!1;if($t(t)?(s=()=>t.value,u=Iy(t)):no(t)?(s=()=>t,r=!0):ze(t)?(d=!0,u=t.some(no),s=()=>t.map(h=>{if($t(h))return h.value;if(no(h))return di(h);if(Ge(h))return Lr(h,c,2)})):Ge(t)?e?s=()=>Lr(t,c,2):s=()=>{if(!(c&&c.isUnmounted))return f&&f(),Yn(t,c,3,[_])}:s=Bn,e&&r){const h=s;s=()=>di(h())}let f,_=h=>{f=m.onStop=()=>{Lr(h,c,4)}};if(Ca)return _=Bn,e?n&&Yn(e,c,3,[s(),d?[]:void 0,_]):s(),Bn;let y=d?[]:Sp;const g=()=>{if(!!m.active)if(e){const h=m.run();(r||u||(d?h.some((P,p)=>hc(P,y[p])):hc(h,y)))&&(f&&f(),Yn(e,c,3,[h,y===Sp?void 0:y,_]),y=h)}else m.run()};g.allowRecurse=!!e;let v;i==="sync"?v=g:i==="post"?v=()=>Jt(g,c&&c.suspense):v=()=>{!c||c.isMounted?X1(g):g()};const m=new vf(s,v);return e?n?g():y=m.run():i==="post"?Jt(m.run.bind(m),c&&c.suspense):m.run(),()=>{m.stop(),c&&c.scope&&pf(c.scope.effects,m)}}function uR(t,e,n){const r=this.proxy,i=Vt(t)?t.includes(".")?Yy(r,t):()=>r[t]:t.bind(r,r);let o;Ge(e)?o=e:(o=e.handler,n=e);const a=Tt;so(this);const c=By(i,o.bind(r),n);return a?so(a):pi(),c}function Yy(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function di(t,e){if(!Lt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),$t(t))di(t.value,e);else if(ze(t))for(let n=0;n<t.length;n++)di(t[n],e);else if(hf(t)||_a(t))t.forEach(n=>{di(n,e)});else if(d1(t))for(const n in t)di(t[n],e);return t}function $y(t){return Ge(t)?{setup:t,name:t.name}:t}const El=t=>!!t.type.__asyncLoader,Vy=t=>t.type.__isKeepAlive;function dR(t,e){Hy(t,"a",e)}function lR(t,e){Hy(t,"da",e)}function Hy(t,e,n=Tt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Xc(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Vy(i.parent.vnode)&&fR(r,e,n,i),i=i.parent}}function fR(t,e,n,r){const i=Xc(e,t,r,!0);Ky(()=>{pf(r[e],i)},n)}function Xc(t,e,n=Tt,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;_o(),so(n);const c=Yn(e,n,t,a);return pi(),po(),c});return r?i.unshift(o):i.push(o),o}}const gr=t=>(e,n=Tt)=>(!Ca||t==="sp")&&Xc(t,e,n),_R=gr("bm"),pR=gr("m"),hR=gr("bu"),gR=gr("u"),yR=gr("bum"),Ky=gr("um"),mR=gr("sp"),vR=gr("rtg"),bR=gr("rtc");function PR(t,e=Tt){Xc("ec",t,e)}let Al=!0;function wR(t){const e=Zy(t),n=t.proxy,r=t.ctx;Al=!1,e.beforeCreate&&Ep(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:a,watch:c,provide:s,inject:u,created:d,beforeMount:f,mounted:_,beforeUpdate:y,updated:g,activated:v,deactivated:m,beforeDestroy:h,beforeUnmount:P,destroyed:p,unmounted:R,render:O,renderTracked:A,renderTriggered:I,errorCaptured:j,serverPrefetch:U,expose:C,inheritAttrs:x,components:D,directives:$,filters:K}=e;if(u&&RR(u,r,null,t.appContext.config.unwrapInjectedRef),a)for(const ie in a){const G=a[ie];Ge(G)&&(r[ie]=G.bind(n))}if(i){const ie=i.call(n,n);Lt(ie)&&(t.data=Rf(ie))}if(Al=!0,o)for(const ie in o){const G=o[ie],q=Ge(G)?G.bind(n,n):Ge(G.get)?G.get.bind(n,n):Bn,z=!Ge(G)&&Ge(G.set)?G.set.bind(n):Bn,B=iS({get:q,set:z});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>B.value,set:V=>B.value=V})}if(c)for(const ie in c)zy(c[ie],r,n,ie);if(s){const ie=Ge(s)?s.call(n):s;Reflect.ownKeys(ie).forEach(G=>{cR(G,ie[G])})}d&&Ep(d,t,"c");function te(ie,G){ze(G)?G.forEach(q=>ie(q.bind(n))):G&&ie(G.bind(n))}if(te(_R,f),te(pR,_),te(hR,y),te(gR,g),te(dR,v),te(lR,m),te(PR,j),te(bR,A),te(vR,I),te(yR,P),te(Ky,R),te(mR,U),ze(C))if(C.length){const ie=t.exposed||(t.exposed={});C.forEach(G=>{Object.defineProperty(ie,G,{get:()=>n[G],set:q=>n[G]=q})})}else t.exposed||(t.exposed={});O&&t.render===Bn&&(t.render=O),x!=null&&(t.inheritAttrs=x),D&&(t.components=D),$&&(t.directives=$)}function RR(t,e,n=Bn,r=!1){ze(t)&&(t=Ol(t));for(const i in t){const o=t[i];let a;Lt(o)?"default"in o?a=gd(o.from||i,o.default,!0):a=gd(o.from||i):a=gd(o),$t(a)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[i]=a}}function Ep(t,e,n){Yn(ze(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function zy(t,e,n,r){const i=r.includes(".")?Yy(n,r):()=>n[r];if(Vt(t)){const o=e[t];Ge(o)&&yd(i,o)}else if(Ge(t))yd(i,t.bind(n));else if(Lt(t))if(ze(t))t.forEach(o=>zy(o,e,n,r));else{const o=Ge(t.handler)?t.handler.bind(n):e[t.handler];Ge(o)&&yd(i,o,t)}}function Zy(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,c=o.get(e);let s;return c?s=c:!i.length&&!n&&!r?s=e:(s={},i.length&&i.forEach(u=>vc(s,u,a,!0)),vc(s,e,a)),o.set(e,s),s}function vc(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&vc(t,o,n,!0),i&&i.forEach(a=>vc(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=SR[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const SR={data:Ap,props:ai,emits:ai,methods:ai,computed:ai,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:ai,directives:ai,watch:AR,provide:Ap,inject:ER};function Ap(t,e){return e?t?function(){return Zt(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function ER(t,e){return ai(Ol(t),Ol(e))}function Ol(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Kt(t,e){return t?[...new Set([].concat(t,e))]:e}function ai(t,e){return t?Zt(Zt(Object.create(null),t),e):e}function AR(t,e){if(!t)return e;if(!e)return t;const n=Zt(Object.create(null),t);for(const r in e)n[r]=Kt(t[r],e[r]);return n}function OR(t,e,n,r=!1){const i={},o={};gc(o,Qc,1),t.propsDefaults=Object.create(null),qy(t,e,i,o);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:Y1(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function IR(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,c=ut(i),[s]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let _=d[f];const y=e[_];if(s)if(tt(o,_))y!==o[_]&&(o[_]=y,u=!0);else{const g=er(_);i[g]=Il(s,c,g,y,t,!1)}else y!==o[_]&&(o[_]=y,u=!0)}}}else{qy(t,e,i,o)&&(u=!0);let d;for(const f in c)(!e||!tt(e,f)&&((d=fo(f))===f||!tt(e,d)))&&(s?n&&(n[f]!==void 0||n[d]!==void 0)&&(i[f]=Il(s,c,f,void 0,t,!0)):delete i[f]);if(o!==c)for(const f in o)(!e||!tt(e,f)&&!0)&&(delete o[f],u=!0)}u&&pr(t,"set","$attrs")}function qy(t,e,n,r){const[i,o]=t.propsOptions;let a=!1,c;if(e)for(let s in e){if(Js(s))continue;const u=e[s];let d;i&&tt(i,d=er(s))?!o||!o.includes(d)?n[d]=u:(c||(c={}))[d]=u:jf(t.emitsOptions,s)||(!(s in r)||u!==r[s])&&(r[s]=u,a=!0)}if(o){const s=ut(n),u=c||lt;for(let d=0;d<o.length;d++){const f=o[d];n[f]=Il(i,s,f,u[f],t,!tt(u,f))}}return a}function Il(t,e,n,r,i,o){const a=t[n];if(a!=null){const c=tt(a,"default");if(c&&r===void 0){const s=a.default;if(a.type!==Function&&Ge(s)){const{propsDefaults:u}=i;n in u?r=u[n]:(so(i),r=u[n]=s.call(null,e),pi())}else r=s}a[0]&&(o&&!c?r=!1:a[1]&&(r===""||r===fo(n))&&(r=!0))}return r}function Wy(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,a={},c=[];let s=!1;if(!Ge(t)){const d=f=>{s=!0;const[_,y]=Wy(f,e,!0);Zt(a,_),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!s)return r.set(t,to),to;if(ze(o))for(let d=0;d<o.length;d++){const f=er(o[d]);Op(f)&&(a[f]=lt)}else if(o)for(const d in o){const f=er(d);if(Op(f)){const _=o[d],y=a[f]=ze(_)||Ge(_)?{type:_}:_;if(y){const g=Cp(Boolean,y.type),v=Cp(String,y.type);y[0]=g>-1,y[1]=v<0||g<v,(g>-1||tt(y,"default"))&&c.push(f)}}}const u=[a,c];return r.set(t,u),u}function Op(t){return t[0]!=="$"}function Ip(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function jp(t,e){return Ip(t)===Ip(e)}function Cp(t,e){return ze(e)?e.findIndex(n=>jp(n,t)):Ge(e)&&jp(e,t)?0:-1}const Gy=t=>t[0]==="_"||t==="$stable",Cf=t=>ze(t)?t.map(Gn):[Gn(t)],jR=(t,e,n)=>{const r=tR((...i)=>Cf(e(...i)),n);return r._c=!1,r},Jy=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Gy(i))continue;const o=t[i];if(Ge(o))e[i]=jR(i,o,r);else if(o!=null){const a=Cf(o);e[i]=()=>a}}},Xy=(t,e)=>{const n=Cf(e);t.slots.default=()=>n},CR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ut(e),gc(e,"_",n)):Jy(e,t.slots={})}else t.slots={},e&&Xy(t,e);gc(t.slots,Qc,1)},MR=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=lt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(Zt(i,e),!n&&c===1&&delete i._):(o=!e.$stable,Jy(e,i)),a=e}else e&&(Xy(t,e),a={default:1});if(o)for(const c in i)!Gy(c)&&!(c in a)&&delete i[c]};function Mp(t,e){const n=Un;if(n===null)return t;const r=n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[a,c,s,u=lt]=e[o];Ge(a)&&(a={mounted:a,updated:a}),a.deep&&di(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:s,modifiers:u})}return t}function Xr(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];o&&(c.oldValue=o[a].value);let s=c.dir[r];s&&(_o(),Yn(s,n,8,[t.el,c,t,e]),po())}}function Qy(){return{app:null,config:{isNativeTag:o1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xR=0;function DR(t,e){return function(r,i=null){i!=null&&!Lt(i)&&(i=null);const o=Qy(),a=new Set;let c=!1;const s=o.app={_uid:xR++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:oS,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&Ge(u.install)?(a.add(u),u.install(s,...d)):Ge(u)&&(a.add(u),u(s,...d))),s},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),s},component(u,d){return d?(o.components[u]=d,s):o.components[u]},directive(u,d){return d?(o.directives[u]=d,s):o.directives[u]},mount(u,d,f){if(!c){const _=Ur(r,i);return _.appContext=o,d&&e?e(_,u):t(_,u,f),c=!0,s._container=u,u.__vue_app__=s,Tf(_.component)||_.component.proxy}},unmount(){c&&(t(null,s._container),delete s._container.__vue_app__)},provide(u,d){return o.provides[u]=d,s}};return s}}function jl(t,e,n,r,i=!1){if(ze(t)){t.forEach((_,y)=>jl(_,e&&(ze(e)?e[y]:e),n,r,i));return}if(El(r)&&!i)return;const o=r.shapeFlag&4?Tf(r.component)||r.component.proxy:r.el,a=i?null:o,{i:c,r:s}=t,u=e&&e.r,d=c.refs===lt?c.refs={}:c.refs,f=c.setupState;if(u!=null&&u!==s&&(Vt(u)?(d[u]=null,tt(f,u)&&(f[u]=null)):$t(u)&&(u.value=null)),Ge(s))Lr(s,c,12,[a,d]);else{const _=Vt(s),y=$t(s);if(_||y){const g=()=>{if(t.f){const v=_?d[s]:s.value;i?ze(v)&&pf(v,o):ze(v)?v.includes(o)||v.push(o):_?d[s]=[o]:(s.value=[o],t.k&&(d[t.k]=s.value))}else _?(d[s]=a,tt(f,s)&&(f[s]=a)):$t(s)&&(s.value=a,t.k&&(d[t.k]=a))};a?(g.id=-1,Jt(g,n)):g()}}}const Jt=sR;function TR(t){return LR(t)}function LR(t,e){const n=_1();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:c,createComment:s,setText:u,setElementText:d,parentNode:f,nextSibling:_,setScopeId:y=Bn,cloneNode:g,insertStaticContent:v}=t,m=(T,H,Q,ue=null,ne=null,ye=null,we=!1,be=null,Pe=!!H.dynamicChildren)=>{if(T===H)return;T&&!Yo(T,H)&&(ue=ge(T),L(T,ne,ye,!0),T=null),H.patchFlag===-2&&(Pe=!1,H.dynamicChildren=null);const{type:le,ref:Me,shapeFlag:N}=H;switch(le){case Mf:h(T,H,Q,ue);break;case Ia:P(T,H,Q,ue);break;case md:T==null&&p(H,Q,ue,we);break;case fr:$(T,H,Q,ue,ne,ye,we,be,Pe);break;default:N&1?A(T,H,Q,ue,ne,ye,we,be,Pe):N&6?K(T,H,Q,ue,ne,ye,we,be,Pe):(N&64||N&128)&&le.process(T,H,Q,ue,ne,ye,we,be,Pe,Ae)}Me!=null&&ne&&jl(Me,T&&T.ref,ye,H||T,!H)},h=(T,H,Q,ue)=>{if(T==null)r(H.el=c(H.children),Q,ue);else{const ne=H.el=T.el;H.children!==T.children&&u(ne,H.children)}},P=(T,H,Q,ue)=>{T==null?r(H.el=s(H.children||""),Q,ue):H.el=T.el},p=(T,H,Q,ue)=>{[T.el,T.anchor]=v(T.children,H,Q,ue,T.el,T.anchor)},R=({el:T,anchor:H},Q,ue)=>{let ne;for(;T&&T!==H;)ne=_(T),r(T,Q,ue),T=ne;r(H,Q,ue)},O=({el:T,anchor:H})=>{let Q;for(;T&&T!==H;)Q=_(T),i(T),T=Q;i(H)},A=(T,H,Q,ue,ne,ye,we,be,Pe)=>{we=we||H.type==="svg",T==null?I(H,Q,ue,ne,ye,we,be,Pe):C(T,H,ne,ye,we,be,Pe)},I=(T,H,Q,ue,ne,ye,we,be)=>{let Pe,le;const{type:Me,props:N,shapeFlag:Z,transition:J,patchFlag:se,dirs:l}=T;if(T.el&&g!==void 0&&se===-1)Pe=T.el=g(T.el);else{if(Pe=T.el=a(T.type,ye,N&&N.is,N),Z&8?d(Pe,T.children):Z&16&&U(T.children,Pe,null,ue,ne,ye&&Me!=="foreignObject",we,be),l&&Xr(T,null,ue,"created"),N){for(const Re in N)Re!=="value"&&!Js(Re)&&o(Pe,Re,null,N[Re],ye,T.children,ue,ne,ce);"value"in N&&o(Pe,"value",null,N.value),(le=N.onVnodeBeforeMount)&&Zn(le,ue,T)}j(Pe,T,T.scopeId,we,ue)}l&&Xr(T,null,ue,"beforeMount");const Le=(!ne||ne&&!ne.pendingBranch)&&J&&!J.persisted;Le&&J.beforeEnter(Pe),r(Pe,H,Q),((le=N&&N.onVnodeMounted)||Le||l)&&Jt(()=>{le&&Zn(le,ue,T),Le&&J.enter(Pe),l&&Xr(T,null,ue,"mounted")},ne)},j=(T,H,Q,ue,ne)=>{if(Q&&y(T,Q),ue)for(let ye=0;ye<ue.length;ye++)y(T,ue[ye]);if(ne){let ye=ne.subTree;if(H===ye){const we=ne.vnode;j(T,we,we.scopeId,we.slotScopeIds,ne.parent)}}},U=(T,H,Q,ue,ne,ye,we,be,Pe=0)=>{for(let le=Pe;le<T.length;le++){const Me=T[le]=be?xr(T[le]):Gn(T[le]);m(null,Me,H,Q,ue,ne,ye,we,be)}},C=(T,H,Q,ue,ne,ye,we)=>{const be=H.el=T.el;let{patchFlag:Pe,dynamicChildren:le,dirs:Me}=H;Pe|=T.patchFlag&16;const N=T.props||lt,Z=H.props||lt;let J;Q&&Qr(Q,!1),(J=Z.onVnodeBeforeUpdate)&&Zn(J,Q,H,T),Me&&Xr(H,T,Q,"beforeUpdate"),Q&&Qr(Q,!0);const se=ne&&H.type!=="foreignObject";if(le?x(T.dynamicChildren,le,be,Q,ue,se,ye):we||q(T,H,be,null,Q,ue,se,ye,!1),Pe>0){if(Pe&16)D(be,H,N,Z,Q,ue,ne);else if(Pe&2&&N.class!==Z.class&&o(be,"class",null,Z.class,ne),Pe&4&&o(be,"style",N.style,Z.style,ne),Pe&8){const l=H.dynamicProps;for(let Le=0;Le<l.length;Le++){const Re=l[Le],xe=N[Re],Ee=Z[Re];(Ee!==xe||Re==="value")&&o(be,Re,xe,Ee,ne,T.children,Q,ue,ce)}}Pe&1&&T.children!==H.children&&d(be,H.children)}else!we&&le==null&&D(be,H,N,Z,Q,ue,ne);((J=Z.onVnodeUpdated)||Me)&&Jt(()=>{J&&Zn(J,Q,H,T),Me&&Xr(H,T,Q,"updated")},ue)},x=(T,H,Q,ue,ne,ye,we)=>{for(let be=0;be<H.length;be++){const Pe=T[be],le=H[be],Me=Pe.el&&(Pe.type===fr||!Yo(Pe,le)||Pe.shapeFlag&70)?f(Pe.el):Q;m(Pe,le,Me,null,ue,ne,ye,we,!0)}},D=(T,H,Q,ue,ne,ye,we)=>{if(Q!==ue){for(const be in ue){if(Js(be))continue;const Pe=ue[be],le=Q[be];Pe!==le&&be!=="value"&&o(T,be,le,Pe,we,H.children,ne,ye,ce)}if(Q!==lt)for(const be in Q)!Js(be)&&!(be in ue)&&o(T,be,Q[be],null,we,H.children,ne,ye,ce);"value"in ue&&o(T,"value",Q.value,ue.value)}},$=(T,H,Q,ue,ne,ye,we,be,Pe)=>{const le=H.el=T?T.el:c(""),Me=H.anchor=T?T.anchor:c("");let{patchFlag:N,dynamicChildren:Z,slotScopeIds:J}=H;J&&(be=be?be.concat(J):J),T==null?(r(le,Q,ue),r(Me,Q,ue),U(H.children,Q,Me,ne,ye,we,be,Pe)):N>0&&N&64&&Z&&T.dynamicChildren?(x(T.dynamicChildren,Z,Q,ne,ye,we,be),(H.key!=null||ne&&H===ne.subTree)&&em(T,H,!0)):q(T,H,Q,Me,ne,ye,we,be,Pe)},K=(T,H,Q,ue,ne,ye,we,be,Pe)=>{H.slotScopeIds=be,T==null?H.shapeFlag&512?ne.ctx.activate(H,Q,ue,we,Pe):ee(H,Q,ue,ne,ye,we,Pe):te(T,H,Pe)},ee=(T,H,Q,ue,ne,ye,we)=>{const be=T.component=JR(T,ue,ne);if(Vy(T)&&(be.ctx.renderer=Ae),XR(be),be.asyncDep){if(ne&&ne.registerDep(be,ie),!T.el){const Pe=be.subTree=Ur(Ia);P(null,Pe,H,Q)}return}ie(be,T,H,Q,ne,ye,we)},te=(T,H,Q)=>{const ue=H.component=T.component;if(iR(T,H,Q))if(ue.asyncDep&&!ue.asyncResolved){G(ue,H,Q);return}else ue.next=H,J1(ue.update),ue.update();else H.component=T.component,H.el=T.el,ue.vnode=H},ie=(T,H,Q,ue,ne,ye,we)=>{const be=()=>{if(T.isMounted){let{next:Me,bu:N,u:Z,parent:J,vnode:se}=T,l=Me,Le;Qr(T,!1),Me?(Me.el=se.el,G(T,Me,we)):Me=se,N&&Xs(N),(Le=Me.props&&Me.props.onVnodeBeforeUpdate)&&Zn(Le,J,Me,se),Qr(T,!0);const Re=hd(T),xe=T.subTree;T.subTree=Re,m(xe,Re,f(xe.el),ge(xe),T,ne,ye),Me.el=Re.el,l===null&&oR(T,Re.el),Z&&Jt(Z,ne),(Le=Me.props&&Me.props.onVnodeUpdated)&&Jt(()=>Zn(Le,J,Me,se),ne)}else{let Me;const{el:N,props:Z}=H,{bm:J,m:se,parent:l}=T,Le=El(H);if(Qr(T,!1),J&&Xs(J),!Le&&(Me=Z&&Z.onVnodeBeforeMount)&&Zn(Me,l,H),Qr(T,!0),N&&Ce){const Re=()=>{T.subTree=hd(T),Ce(N,T.subTree,T,ne,null)};Le?H.type.__asyncLoader().then(()=>!T.isUnmounted&&Re()):Re()}else{const Re=T.subTree=hd(T);m(null,Re,Q,ue,T,ne,ye),H.el=Re.el}if(se&&Jt(se,ne),!Le&&(Me=Z&&Z.onVnodeMounted)){const Re=H;Jt(()=>Zn(Me,l,Re),ne)}H.shapeFlag&256&&T.a&&Jt(T.a,ne),T.isMounted=!0,H=Q=ue=null}},Pe=T.effect=new vf(be,()=>Dy(T.update),T.scope),le=T.update=Pe.run.bind(Pe);le.id=T.uid,Qr(T,!0),le()},G=(T,H,Q)=>{H.component=T;const ue=T.vnode.props;T.vnode=H,T.next=null,IR(T,H.props,ue,Q),MR(T,H.children,Q),_o(),If(void 0,T.update),po()},q=(T,H,Q,ue,ne,ye,we,be,Pe=!1)=>{const le=T&&T.children,Me=T?T.shapeFlag:0,N=H.children,{patchFlag:Z,shapeFlag:J}=H;if(Z>0){if(Z&128){B(le,N,Q,ue,ne,ye,we,be,Pe);return}else if(Z&256){z(le,N,Q,ue,ne,ye,we,be,Pe);return}}J&8?(Me&16&&ce(le,ne,ye),N!==le&&d(Q,N)):Me&16?J&16?B(le,N,Q,ue,ne,ye,we,be,Pe):ce(le,ne,ye,!0):(Me&8&&d(Q,""),J&16&&U(N,Q,ue,ne,ye,we,be,Pe))},z=(T,H,Q,ue,ne,ye,we,be,Pe)=>{T=T||to,H=H||to;const le=T.length,Me=H.length,N=Math.min(le,Me);let Z;for(Z=0;Z<N;Z++){const J=H[Z]=Pe?xr(H[Z]):Gn(H[Z]);m(T[Z],J,Q,null,ne,ye,we,be,Pe)}le>Me?ce(T,ne,ye,!0,!1,N):U(H,Q,ue,ne,ye,we,be,Pe,N)},B=(T,H,Q,ue,ne,ye,we,be,Pe)=>{let le=0;const Me=H.length;let N=T.length-1,Z=Me-1;for(;le<=N&&le<=Z;){const J=T[le],se=H[le]=Pe?xr(H[le]):Gn(H[le]);if(Yo(J,se))m(J,se,Q,null,ne,ye,we,be,Pe);else break;le++}for(;le<=N&&le<=Z;){const J=T[N],se=H[Z]=Pe?xr(H[Z]):Gn(H[Z]);if(Yo(J,se))m(J,se,Q,null,ne,ye,we,be,Pe);else break;N--,Z--}if(le>N){if(le<=Z){const J=Z+1,se=J<Me?H[J].el:ue;for(;le<=Z;)m(null,H[le]=Pe?xr(H[le]):Gn(H[le]),Q,se,ne,ye,we,be,Pe),le++}}else if(le>Z)for(;le<=N;)L(T[le],ne,ye,!0),le++;else{const J=le,se=le,l=new Map;for(le=se;le<=Z;le++){const Ie=H[le]=Pe?xr(H[le]):Gn(H[le]);Ie.key!=null&&l.set(Ie.key,le)}let Le,Re=0;const xe=Z-se+1;let Ee=!1,De=0;const $e=new Array(xe);for(le=0;le<xe;le++)$e[le]=0;for(le=J;le<=N;le++){const Ie=T[le];if(Re>=xe){L(Ie,ne,ye,!0);continue}let Ne;if(Ie.key!=null)Ne=l.get(Ie.key);else for(Le=se;Le<=Z;Le++)if($e[Le-se]===0&&Yo(Ie,H[Le])){Ne=Le;break}Ne===void 0?L(Ie,ne,ye,!0):($e[Ne-se]=le+1,Ne>=De?De=Ne:Ee=!0,m(Ie,H[Ne],Q,null,ne,ye,we,be,Pe),Re++)}const de=Ee?UR($e):to;for(Le=de.length-1,le=xe-1;le>=0;le--){const Ie=se+le,Ne=H[Ie],_e=Ie+1<Me?H[Ie+1].el:ue;$e[le]===0?m(null,Ne,Q,_e,ne,ye,we,be,Pe):Ee&&(Le<0||le!==de[Le]?V(Ne,Q,_e,2):Le--)}}},V=(T,H,Q,ue,ne=null)=>{const{el:ye,type:we,transition:be,children:Pe,shapeFlag:le}=T;if(le&6){V(T.component.subTree,H,Q,ue);return}if(le&128){T.suspense.move(H,Q,ue);return}if(le&64){we.move(T,H,Q,Ae);return}if(we===fr){r(ye,H,Q);for(let N=0;N<Pe.length;N++)V(Pe[N],H,Q,ue);r(T.anchor,H,Q);return}if(we===md){R(T,H,Q);return}if(ue!==2&&le&1&&be)if(ue===0)be.beforeEnter(ye),r(ye,H,Q),Jt(()=>be.enter(ye),ne);else{const{leave:N,delayLeave:Z,afterLeave:J}=be,se=()=>r(ye,H,Q),l=()=>{N(ye,()=>{se(),J&&J()})};Z?Z(ye,se,l):l()}else r(ye,H,Q)},L=(T,H,Q,ue=!1,ne=!1)=>{const{type:ye,props:we,ref:be,children:Pe,dynamicChildren:le,shapeFlag:Me,patchFlag:N,dirs:Z}=T;if(be!=null&&jl(be,null,Q,T,!0),Me&256){H.ctx.deactivate(T);return}const J=Me&1&&Z,se=!El(T);let l;if(se&&(l=we&&we.onVnodeBeforeUnmount)&&Zn(l,H,T),Me&6)oe(T.component,Q,ue);else{if(Me&128){T.suspense.unmount(Q,ue);return}J&&Xr(T,null,H,"beforeUnmount"),Me&64?T.type.remove(T,H,Q,ne,Ae,ue):le&&(ye!==fr||N>0&&N&64)?ce(le,H,Q,!1,!0):(ye===fr&&N&384||!ne&&Me&16)&&ce(Pe,H,Q),ue&&M(T)}(se&&(l=we&&we.onVnodeUnmounted)||J)&&Jt(()=>{l&&Zn(l,H,T),J&&Xr(T,null,H,"unmounted")},Q)},M=T=>{const{type:H,el:Q,anchor:ue,transition:ne}=T;if(H===fr){W(Q,ue);return}if(H===md){O(T);return}const ye=()=>{i(Q),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(T.shapeFlag&1&&ne&&!ne.persisted){const{leave:we,delayLeave:be}=ne,Pe=()=>we(Q,ye);be?be(T.el,ye,Pe):Pe()}else ye()},W=(T,H)=>{let Q;for(;T!==H;)Q=_(T),i(T),T=Q;i(H)},oe=(T,H,Q)=>{const{bum:ue,scope:ne,update:ye,subTree:we,um:be}=T;ue&&Xs(ue),ne.stop(),ye&&(ye.active=!1,L(we,T,H,Q)),be&&Jt(be,H),Jt(()=>{T.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},ce=(T,H,Q,ue=!1,ne=!1,ye=0)=>{for(let we=ye;we<T.length;we++)L(T[we],H,Q,ue,ne)},ge=T=>T.shapeFlag&6?ge(T.component.subTree):T.shapeFlag&128?T.suspense.next():_(T.anchor||T.el),ve=(T,H,Q)=>{T==null?H._vnode&&L(H._vnode,null,null,!0):m(H._vnode||null,T,H,null,null,null,Q),Uy(),H._vnode=T},Ae={p:m,um:L,m:V,r:M,mt:ee,mc:U,pc:q,pbc:x,n:ge,o:t};let je,Ce;return e&&([je,Ce]=e(Ae)),{render:ve,hydrate:je,createApp:DR(ve,je)}}function Qr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function em(t,e,n=!1){const r=t.children,i=e.children;if(ze(r)&&ze(i))for(let o=0;o<r.length;o++){const a=r[o];let c=i[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[o]=xr(i[o]),c.el=a.el),n||em(a,c))}}function UR(t){const e=t.slice(),n=[0];let r,i,o,a,c;const s=t.length;for(r=0;r<s;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)c=o+a>>1,t[n[c]]<u?o=c+1:a=c;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}const NR=t=>t.__isTeleport,tm="components";function kR(t,e){return BR(tm,t,!0,e)||t}const FR=Symbol();function BR(t,e,n=!0,r=!1){const i=Un||Tt;if(i){const o=i.type;if(t===tm){const c=nS(o);if(c&&(c===e||c===er(e)||c===Wc(er(e))))return o}const a=xp(i[t]||o[t],e)||xp(i.appContext[t],e);return!a&&r?o:a}}function xp(t,e){return t&&(t[e]||t[er(e)]||t[Wc(er(e))])}const fr=Symbol(void 0),Mf=Symbol(void 0),Ia=Symbol(void 0),md=Symbol(void 0),ga=[];let _i=null;function nm(t=!1){ga.push(_i=t?null:[])}function YR(){ga.pop(),_i=ga[ga.length-1]||null}let bc=1;function Dp(t){bc+=t}function rm(t){return t.dynamicChildren=bc>0?_i||to:null,YR(),bc>0&&_i&&_i.push(t),t}function $R(t,e,n,r,i,o){return rm(ro(t,e,n,r,i,o,!0))}function VR(t,e,n,r,i){return rm(Ur(t,e,n,r,i,!0))}function HR(t){return t?t.__v_isVNode===!0:!1}function Yo(t,e){return t.type===e.type&&t.key===e.key}const Qc="__vInternal",im=({key:t})=>t!=null?t:null,Qs=({ref:t,ref_key:e,ref_for:n})=>t!=null?Vt(t)||$t(t)||Ge(t)?{i:Un,r:t,k:e,f:!!n}:t:null;function ro(t,e=null,n=null,r=0,i=null,o=t===fr?0:1,a=!1,c=!1){const s={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&im(e),ref:e&&Qs(e),scopeId:Fy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return c?(Df(s,n),o&128&&t.normalize(s)):n&&(s.shapeFlag|=Vt(n)?8:16),bc>0&&!a&&_i&&(s.patchFlag>0||o&6)&&s.patchFlag!==32&&_i.push(s),s}const Ur=KR;function KR(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===FR)&&(t=Ia),HR(t)){const c=ja(t,e,!0);return n&&Df(c,n),c}if(rS(t)&&(t=t.__vccOpts),e){e=zR(e);let{class:c,style:s}=e;c&&!Vt(c)&&(e.class=ff(c)),Lt(s)&&(jy(s)&&!ze(s)&&(s=Zt({},s)),e.style=lf(s))}const a=Vt(t)?1:aR(t)?128:NR(t)?64:Lt(t)?4:Ge(t)?2:0;return ro(t,e,n,r,i,a,o,!0)}function zR(t){return t?jy(t)||Qc in t?Zt({},t):t:null}function ja(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=t,c=e?ZR(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&im(c),ref:e&&e.ref?n&&i?ze(i)?i.concat(Qs(e)):[i,Qs(e)]:Qs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==fr?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ja(t.ssContent),ssFallback:t.ssFallback&&ja(t.ssFallback),el:t.el,anchor:t.anchor}}function xf(t=" ",e=0){return Ur(Mf,null,t,e)}function Gn(t){return t==null||typeof t=="boolean"?Ur(Ia):ze(t)?Ur(fr,null,t.slice()):typeof t=="object"?xr(t):Ur(Mf,null,String(t))}function xr(t){return t.el===null||t.memo?t:ja(t)}function Df(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ze(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Df(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Qc in e)?e._ctx=Un:i===3&&Un&&(Un.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:Un},n=32):(e=String(e),r&64?(n=16,e=[xf(e)]):n=8);t.children=e,t.shapeFlag|=n}function ZR(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ff([e.class,r.class]));else if(i==="style")e.style=lf([e.style,r.style]);else if(zc(i)){const o=e[i],a=r[i];a&&o!==a&&!(ze(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=r[i])}return e}function Zn(t,e,n,r=null){Yn(t,e,7,[n,r])}const Cl=t=>t?om(t)?Tf(t)||t.proxy:Cl(t.parent):null,Pc=Zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Cl(t.parent),$root:t=>Cl(t.root),$emit:t=>t.emit,$options:t=>Zy(t),$forceUpdate:t=>()=>Dy(t.update),$nextTick:t=>W1.bind(t.proxy),$watch:t=>uR.bind(t)}),qR={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:c,appContext:s}=t;let u;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(r!==lt&&tt(r,e))return a[e]=1,r[e];if(i!==lt&&tt(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&tt(u,e))return a[e]=3,o[e];if(n!==lt&&tt(n,e))return a[e]=4,n[e];Al&&(a[e]=0)}}const d=Pc[e];let f,_;if(d)return e==="$attrs"&&hn(t,"get",e),d(t);if((f=c.__cssModules)&&(f=f[e]))return f;if(n!==lt&&tt(n,e))return a[e]=4,n[e];if(_=s.config.globalProperties,tt(_,e))return _[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return i!==lt&&tt(i,e)?(i[e]=n,!0):r!==lt&&tt(r,e)?(r[e]=n,!0):tt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let c;return!!n[a]||t!==lt&&tt(t,a)||e!==lt&&tt(e,a)||(c=o[0])&&tt(c,a)||tt(r,a)||tt(Pc,a)||tt(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?this.set(t,e,n.get(),null):n.value!=null&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},WR=Qy();let GR=0;function JR(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||WR,o={uid:GR++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new p1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wy(r,i),emitsOptions:ky(r,i),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:r.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=eR.bind(null,o),t.ce&&t.ce(o),o}let Tt=null;const so=t=>{Tt=t,t.scope.on()},pi=()=>{Tt&&Tt.scope.off(),Tt=null};function om(t){return t.vnode.shapeFlag&4}let Ca=!1;function XR(t,e=!1){Ca=e;const{props:n,children:r}=t.vnode,i=om(t);OR(t,n,i,e),CR(t,r);const o=i?QR(t,e):void 0;return Ca=!1,o}function QR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Cy(new Proxy(t.ctx,qR));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?tS(t):null;so(t),_o();const o=Lr(r,t,0,[t.props,i]);if(po(),pi(),gy(o)){if(o.then(pi,pi),e)return o.then(a=>{Tp(t,a,e)}).catch(a=>{Jc(a,t,0)});t.asyncDep=o}else Tp(t,o,e)}else am(t,e)}function Tp(t,e,n){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Lt(e)&&(t.setupState=My(e)),am(t,n)}let Lp;function am(t,e,n){const r=t.type;if(!t.render){if(!e&&Lp&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:s}=r,u=Zt(Zt({isCustomElement:o,delimiters:c},a),s);r.render=Lp(i,u)}}t.render=r.render||Bn}so(t),_o(),wR(t),po(),pi()}function eS(t){return new Proxy(t.attrs,{get(e,n){return hn(t,"get","$attrs"),e[n]}})}function tS(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=eS(t))},slots:t.slots,emit:t.emit,expose:e}}function Tf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(My(Cy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Pc)return Pc[n](t)}}))}function nS(t){return Ge(t)&&t.displayName||t.name}function rS(t){return Ge(t)&&"__vccOpts"in t}const iS=(t,e)=>Z1(t,e,Ca),oS="3.2.31",aS="http://www.w3.org/2000/svg",ci=typeof document!="undefined"?document:null,Up=ci&&ci.createElement("template"),sS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?ci.createElementNS(aS,t):ci.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ci.createTextNode(t),createComment:t=>ci.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ci.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Up.innerHTML=r?`<svg>${t}</svg>`:t;const c=Up.content;if(r){const s=c.firstChild;for(;s.firstChild;)c.appendChild(s.firstChild);c.removeChild(s)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function cS(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function uS(t,e,n){const r=t.style,i=Vt(n);if(n&&!i){for(const o in n)Ml(r,o,n[o]);if(e&&!Vt(e))for(const o in e)n[o]==null&&Ml(r,o,"")}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const Np=/\s*!important$/;function Ml(t,e,n){if(ze(n))n.forEach(r=>Ml(t,e,r));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=dS(t,e);Np.test(n)?t.setProperty(fo(r),n.replace(Np,""),"important"):t[r]=n}}const kp=["Webkit","Moz","ms"],vd={};function dS(t,e){const n=vd[e];if(n)return n;let r=er(e);if(r!=="filter"&&r in t)return vd[e]=r;r=Wc(r);for(let i=0;i<kp.length;i++){const o=kp[i]+r;if(o in t)return vd[e]=o}return e}const Fp="http://www.w3.org/1999/xlink";function lS(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Fp,e.slice(6,e.length)):t.setAttributeNS(Fp,e,n);else{const o=e1(e);n==null||o&&!py(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function fS(t,e,n,r,i,o,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const c=typeof t[e];if(c==="boolean"){t[e]=py(n);return}else if(n==null&&c==="string"){t[e]="",t.removeAttribute(e);return}else if(c==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let wc=Date.now,sm=!1;if(typeof window!="undefined"){wc()>document.createEvent("Event").timeStamp&&(wc=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);sm=!!(t&&Number(t[1])<=53)}let xl=0;const _S=Promise.resolve(),pS=()=>{xl=0},hS=()=>xl||(_S.then(pS),xl=wc());function ui(t,e,n,r){t.addEventListener(e,n,r)}function gS(t,e,n,r){t.removeEventListener(e,n,r)}function yS(t,e,n,r,i=null){const o=t._vei||(t._vei={}),a=o[e];if(r&&a)a.value=r;else{const[c,s]=mS(e);if(r){const u=o[e]=vS(r,i);ui(t,c,u,s)}else a&&(gS(t,c,a,s),o[e]=void 0)}}const Bp=/(?:Once|Passive|Capture)$/;function mS(t){let e;if(Bp.test(t)){e={};let n;for(;n=t.match(Bp);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[fo(t.slice(2)),e]}function vS(t,e){const n=r=>{const i=r.timeStamp||wc();(sm||i>=n.attached-1)&&Yn(bS(r,n.value),e,5,[r])};return n.value=t,n.attached=hS(),n}function bS(t,e){if(ze(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Yp=/^on[a-z]/,PS=(t,e,n,r,i=!1,o,a,c,s)=>{e==="class"?cS(t,r,i):e==="style"?uS(t,n,r):zc(e)?_f(e)||yS(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wS(t,e,r,i))?fS(t,e,r,o,a,c,s):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),lS(t,e,r,i))};function wS(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Yp.test(e)&&Ge(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Yp.test(e)&&Vt(n)?!1:e in t}const Rc=t=>{const e=t.props["onUpdate:modelValue"];return ze(e)?n=>Xs(e,n):e};function RS(t){t.target.composing=!0}function $p(t){const e=t.target;e.composing&&(e.composing=!1,SS(e,"input"))}function SS(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const ES={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Rc(i);const o=r||i.props&&i.props.type==="number";ui(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n?c=c.trim():o&&(c=ml(c)),t._assign(c)}),n&&ui(t,"change",()=>{t.value=t.value.trim()}),e||(ui(t,"compositionstart",RS),ui(t,"compositionend",$p),ui(t,"change",$p))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t._assign=Rc(o),t.composing||document.activeElement===t&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&ml(t.value)===e))return;const a=e==null?"":e;t.value!==a&&(t.value=a)}},AS={deep:!0,created(t,e,n){t._assign=Rc(n),ui(t,"change",()=>{const r=t._modelValue,i=OS(t),o=t.checked,a=t._assign;if(ze(r)){const c=hy(r,i),s=c!==-1;if(o&&!s)a(r.concat(i));else if(!o&&s){const u=[...r];u.splice(c,1),a(u)}}else if(hf(r)){const c=new Set(r);o?c.add(i):c.delete(i),a(c)}else a(cm(t,o))})},mounted:Vp,beforeUpdate(t,e,n){t._assign=Rc(n),Vp(t,e,n)}};function Vp(t,{value:e,oldValue:n},r){t._modelValue=e,ze(e)?t.checked=hy(e,r.props.value)>-1:hf(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Kc(e,cm(t,!0)))}function OS(t){return"_value"in t?t._value:t.value}function cm(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const IS=Zt({patchProp:PS},sS);let Hp;function jS(){return Hp||(Hp=TR(IS))}const CS=(...t)=>{const e=jS().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=MS(r);if(!i)return;const o=e._component;!Ge(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function MS(t){return Vt(t)?document.querySelector(t):t}var w=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Lf(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kp;(function(t){(function(e){var n=typeof w=="object"?w:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect=="undefined"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,a){return function(c,s){typeof o[c]!="function"&&Object.defineProperty(o,c,{configurable:!0,writable:!0,value:s}),a&&a(c,s)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,s=!a&&!c,u={create:a?function(){return Me(Object.create(null))}:c?function(){return Me({__proto__:null})}:function(){return Me({})},has:s?function(N,Z){return n.call(N,Z)}:function(N,Z){return Z in N},get:s?function(N,Z){return n.call(N,Z)?N[Z]:void 0}:function(N,Z){return N[Z]}},d=Object.getPrototypeOf(Function),f=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",_=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:be(),y=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Pe(),g=!f&&typeof WeakMap=="function"?WeakMap:le(),v=new g;function m(N,Z,J,se){if(B(J)){if(!Ae(N))throw new TypeError;if(!Ce(Z))throw new TypeError;return C(N,Z)}else{if(!Ae(N))throw new TypeError;if(!M(Z))throw new TypeError;if(!M(se)&&!B(se)&&!V(se))throw new TypeError;return V(se)&&(se=void 0),J=ve(J),x(N,Z,J,se)}}e("decorate",m);function h(N,Z){function J(se,l){if(!M(se))throw new TypeError;if(!B(l)&&!T(l))throw new TypeError;ie(N,Z,se,l)}return J}e("metadata",h);function P(N,Z,J,se){if(!M(J))throw new TypeError;return B(se)||(se=ve(se)),ie(N,Z,J,se)}e("defineMetadata",P);function p(N,Z,J){if(!M(Z))throw new TypeError;return B(J)||(J=ve(J)),$(N,Z,J)}e("hasMetadata",p);function R(N,Z,J){if(!M(Z))throw new TypeError;return B(J)||(J=ve(J)),K(N,Z,J)}e("hasOwnMetadata",R);function O(N,Z,J){if(!M(Z))throw new TypeError;return B(J)||(J=ve(J)),ee(N,Z,J)}e("getMetadata",O);function A(N,Z,J){if(!M(Z))throw new TypeError;return B(J)||(J=ve(J)),te(N,Z,J)}e("getOwnMetadata",A);function I(N,Z){if(!M(N))throw new TypeError;return B(Z)||(Z=ve(Z)),G(N,Z)}e("getMetadataKeys",I);function j(N,Z){if(!M(N))throw new TypeError;return B(Z)||(Z=ve(Z)),q(N,Z)}e("getOwnMetadataKeys",j);function U(N,Z,J){if(!M(Z))throw new TypeError;B(J)||(J=ve(J));var se=D(Z,J,!1);if(B(se)||!se.delete(N))return!1;if(se.size>0)return!0;var l=v.get(Z);return l.delete(J),l.size>0||v.delete(Z),!0}e("deleteMetadata",U);function C(N,Z){for(var J=N.length-1;J>=0;--J){var se=N[J],l=se(Z);if(!B(l)&&!V(l)){if(!Ce(l))throw new TypeError;Z=l}}return Z}function x(N,Z,J,se){for(var l=N.length-1;l>=0;--l){var Le=N[l],Re=Le(Z,J,se);if(!B(Re)&&!V(Re)){if(!M(Re))throw new TypeError;se=Re}}return se}function D(N,Z,J){var se=v.get(N);if(B(se)){if(!J)return;se=new _,v.set(N,se)}var l=se.get(Z);if(B(l)){if(!J)return;l=new _,se.set(Z,l)}return l}function $(N,Z,J){var se=K(N,Z,J);if(se)return!0;var l=we(Z);return V(l)?!1:$(N,l,J)}function K(N,Z,J){var se=D(Z,J,!1);return B(se)?!1:ce(se.has(N))}function ee(N,Z,J){var se=K(N,Z,J);if(se)return te(N,Z,J);var l=we(Z);if(!V(l))return ee(N,l,J)}function te(N,Z,J){var se=D(Z,J,!1);if(!B(se))return se.get(N)}function ie(N,Z,J,se){var l=D(J,se,!0);l.set(N,Z)}function G(N,Z){var J=q(N,Z),se=we(N);if(se===null)return J;var l=G(se,Z);if(l.length<=0)return J;if(J.length<=0)return l;for(var Le=new y,Re=[],xe=0,Ee=J;xe<Ee.length;xe++){var De=Ee[xe],$e=Le.has(De);$e||(Le.add(De),Re.push(De))}for(var de=0,Ie=l;de<Ie.length;de++){var De=Ie[de],$e=Le.has(De);$e||(Le.add(De),Re.push(De))}return Re}function q(N,Z){var J=[],se=D(N,Z,!1);if(B(se))return J;for(var l=se.keys(),Le=Q(l),Re=0;;){var xe=ne(Le);if(!xe)return J.length=Re,J;var Ee=ue(xe);try{J[Re]=Ee}catch(De){try{ye(Le)}finally{throw De}}Re++}}function z(N){if(N===null)return 1;switch(typeof N){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return N===null?1:6;default:return 6}}function B(N){return N===void 0}function V(N){return N===null}function L(N){return typeof N=="symbol"}function M(N){return typeof N=="object"?N!==null:typeof N=="function"}function W(N,Z){switch(z(N)){case 0:return N;case 1:return N;case 2:return N;case 3:return N;case 4:return N;case 5:return N}var J=Z===3?"string":Z===5?"number":"default",se=H(N,i);if(se!==void 0){var l=se.call(N,J);if(M(l))throw new TypeError;return l}return oe(N,J==="default"?"number":J)}function oe(N,Z){if(Z==="string"){var J=N.toString;if(je(J)){var se=J.call(N);if(!M(se))return se}var l=N.valueOf;if(je(l)){var se=l.call(N);if(!M(se))return se}}else{var l=N.valueOf;if(je(l)){var se=l.call(N);if(!M(se))return se}var Le=N.toString;if(je(Le)){var se=Le.call(N);if(!M(se))return se}}throw new TypeError}function ce(N){return!!N}function ge(N){return""+N}function ve(N){var Z=W(N,3);return L(Z)?Z:ge(Z)}function Ae(N){return Array.isArray?Array.isArray(N):N instanceof Object?N instanceof Array:Object.prototype.toString.call(N)==="[object Array]"}function je(N){return typeof N=="function"}function Ce(N){return typeof N=="function"}function T(N){switch(z(N)){case 3:return!0;case 4:return!0;default:return!1}}function H(N,Z){var J=N[Z];if(J!=null){if(!je(J))throw new TypeError;return J}}function Q(N){var Z=H(N,o);if(!je(Z))throw new TypeError;var J=Z.call(N);if(!M(J))throw new TypeError;return J}function ue(N){return N.value}function ne(N){var Z=N.next();return Z.done?!1:Z}function ye(N){var Z=N.return;Z&&Z.call(N)}function we(N){var Z=Object.getPrototypeOf(N);if(typeof N!="function"||N===d||Z!==d)return Z;var J=N.prototype,se=J&&Object.getPrototypeOf(J);if(se==null||se===Object.prototype)return Z;var l=se.constructor;return typeof l!="function"||l===N?Z:l}function be(){var N={},Z=[],J=function(){function Re(xe,Ee,De){this._index=0,this._keys=xe,this._values=Ee,this._selector=De}return Re.prototype["@@iterator"]=function(){return this},Re.prototype[o]=function(){return this},Re.prototype.next=function(){var xe=this._index;if(xe>=0&&xe<this._keys.length){var Ee=this._selector(this._keys[xe],this._values[xe]);return xe+1>=this._keys.length?(this._index=-1,this._keys=Z,this._values=Z):this._index++,{value:Ee,done:!1}}return{value:void 0,done:!0}},Re.prototype.throw=function(xe){throw this._index>=0&&(this._index=-1,this._keys=Z,this._values=Z),xe},Re.prototype.return=function(xe){return this._index>=0&&(this._index=-1,this._keys=Z,this._values=Z),{value:xe,done:!0}},Re}();return function(){function Re(){this._keys=[],this._values=[],this._cacheKey=N,this._cacheIndex=-2}return Object.defineProperty(Re.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Re.prototype.has=function(xe){return this._find(xe,!1)>=0},Re.prototype.get=function(xe){var Ee=this._find(xe,!1);return Ee>=0?this._values[Ee]:void 0},Re.prototype.set=function(xe,Ee){var De=this._find(xe,!0);return this._values[De]=Ee,this},Re.prototype.delete=function(xe){var Ee=this._find(xe,!1);if(Ee>=0){for(var De=this._keys.length,$e=Ee+1;$e<De;$e++)this._keys[$e-1]=this._keys[$e],this._values[$e-1]=this._values[$e];return this._keys.length--,this._values.length--,xe===this._cacheKey&&(this._cacheKey=N,this._cacheIndex=-2),!0}return!1},Re.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=N,this._cacheIndex=-2},Re.prototype.keys=function(){return new J(this._keys,this._values,se)},Re.prototype.values=function(){return new J(this._keys,this._values,l)},Re.prototype.entries=function(){return new J(this._keys,this._values,Le)},Re.prototype["@@iterator"]=function(){return this.entries()},Re.prototype[o]=function(){return this.entries()},Re.prototype._find=function(xe,Ee){return this._cacheKey!==xe&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=xe)),this._cacheIndex<0&&Ee&&(this._cacheIndex=this._keys.length,this._keys.push(xe),this._values.push(void 0)),this._cacheIndex},Re}();function se(Re,xe){return Re}function l(Re,xe){return xe}function Le(Re,xe){return[Re,xe]}}function Pe(){return function(){function N(){this._map=new _}return Object.defineProperty(N.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),N.prototype.has=function(Z){return this._map.has(Z)},N.prototype.add=function(Z){return this._map.set(Z,Z),this},N.prototype.delete=function(Z){return this._map.delete(Z)},N.prototype.clear=function(){this._map.clear()},N.prototype.keys=function(){return this._map.keys()},N.prototype.values=function(){return this._map.values()},N.prototype.entries=function(){return this._map.entries()},N.prototype["@@iterator"]=function(){return this.keys()},N.prototype[o]=function(){return this.keys()},N}()}function le(){var N=16,Z=u.create(),J=se();return function(){function Ee(){this._key=se()}return Ee.prototype.has=function(De){var $e=l(De,!1);return $e!==void 0?u.has($e,this._key):!1},Ee.prototype.get=function(De){var $e=l(De,!1);return $e!==void 0?u.get($e,this._key):void 0},Ee.prototype.set=function(De,$e){var de=l(De,!0);return de[this._key]=$e,this},Ee.prototype.delete=function(De){var $e=l(De,!1);return $e!==void 0?delete $e[this._key]:!1},Ee.prototype.clear=function(){this._key=se()},Ee}();function se(){var Ee;do Ee="@@WeakMap@@"+xe();while(u.has(Z,Ee));return Z[Ee]=!0,Ee}function l(Ee,De){if(!n.call(Ee,J)){if(!De)return;Object.defineProperty(Ee,J,{value:u.create()})}return Ee[J]}function Le(Ee,De){for(var $e=0;$e<De;++$e)Ee[$e]=Math.random()*255|0;return Ee}function Re(Ee){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Ee)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Ee)):Le(new Uint8Array(Ee),Ee):Le(new Array(Ee),Ee)}function xe(){var Ee=Re(N);Ee[6]=Ee[6]&79|64,Ee[8]=Ee[8]&191|128;for(var De="",$e=0;$e<N;++$e){var de=Ee[$e];($e===4||$e===6||$e===8)&&(De+="-"),de<16&&(De+="0"),De+=de.toString(16).toLowerCase()}return De}}function Me(N){return N.__=void 0,delete N.__,N}})})(Kp||(Kp={}));var We={},$n={},St={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});function um(t){return typeof t=="object"&&t!==null}gn.isObject=um;function xS(t,e,n){if(!um(t))return!1;if(Array.isArray(e))for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!Object.prototype.hasOwnProperty.call(t,o)||typeof n=="string"&&typeof t[o]!==n)return!1;if(typeof n=="function"&&!n(t[o]))return!1}else{if(!Object.prototype.hasOwnProperty.call(t,e))return!1;if(typeof n=="string")return typeof t[e]===n;if(typeof n=="function")return n(t[e])}return!0}gn.hasOwnProperty=xS;function DS(t,e){return Object.assign(t,e)}gn.safeAssign=DS;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gn;function n(s){return e.hasOwnProperty(s,"action")}t.isActionMessage=n;function r(s){return e.hasOwnProperty(s,"kind","string")}t.isAction=r;function i(s){return e.hasOwnProperty(s,"requestId","string")}t.isRequestAction=i;var o=1;function a(){return(o++).toString()}t.generateRequestId=a;function c(s){return e.hasOwnProperty(s,"responseId","string")&&s.responseId!==""}t.isResponseAction=c,function(s){s.KIND="rejectRequest";function u(d){return{kind:s.KIND,message:d.message,detail:d.detail,responseId:d.requestId}}s.create=u}(t.RejectAction||(t.RejectAction={})),function(s){s.KIND="requestModel";function u(d){return{kind:s.KIND,options:d,requestId:a()}}s.create=u}(t.RequestModelAction||(t.RequestModelAction={})),function(s){s.KIND="setModel";function u(d,f){return f===void 0&&(f=""),{kind:s.KIND,newRoot:d,responseId:f}}s.create=u}(t.SetModelAction||(t.SetModelAction={})),function(s){s.KIND="updateModel";function u(d,f){return f===void 0&&(f={}),Array.isArray(d)?{kind:s.KIND,matches:d,animate:f.animate,cause:f.cause}:{kind:s.KIND,newRoot:d,animate:f.animate,cause:f.cause}}s.create=u}(t.UpdateModelAction||(t.UpdateModelAction={})),function(s){s.KIND="requestPopupModel";function u(d){return{kind:s.KIND,elementId:d.elementId,bounds:d.bounds,requestId:a()}}s.create=u}(t.RequestPopupModelAction||(t.RequestPopupModelAction={})),function(s){s.KIND="setPopupModel";function u(d,f){return f===void 0&&(f=""),{kind:s.KIND,newRoot:d,responseId:f}}s.create=u}(t.SetPopupModelAction||(t.SetPopupModelAction={})),function(s){s.KIND="setBounds";function u(d){return{kind:s.KIND,bounds:d}}s.create=u}(t.SetBoundsAction||(t.SetBoundsAction={})),function(s){s.KIND="requestBounds";function u(d){return{kind:s.KIND,newRoot:d,requestId:a()}}s.create=u}(t.RequestBoundsAction||(t.RequestBoundsAction={})),function(s){s.KIND="computedBounds";function u(d,f){f===void 0&&(f={});var _;return{kind:s.KIND,bounds:d,revision:f.revision,alignments:f.alignments,responseId:(_=f.requestId)!==null&&_!==void 0?_:""}}s.create=u}(t.ComputedBoundsAction||(t.ComputedBoundsAction={})),function(s){s.KIND="elementSelected";function u(d){var f,_;return{kind:s.KIND,selectedElementsIDs:(f=d.selectedElementsIDs)!==null&&f!==void 0?f:[],deselectedElementsIDs:(_=d.deselectedElementsIDs)!==null&&_!==void 0?_:[]}}s.create=u}(t.SelectAction||(t.SelectAction={})),function(s){s.KIND="allSelected";function u(d){d===void 0&&(d={});var f;return{kind:s.KIND,select:(f=d.select)!==null&&f!==void 0?f:!0}}s.create=u}(t.SelectAllAction||(t.SelectAllAction={})),function(s){s.KIND="collapseExpand";function u(d){var f,_;return{kind:s.KIND,expandIds:(f=d.expandIds)!==null&&f!==void 0?f:[],collapseIds:(_=d.collapseIds)!==null&&_!==void 0?_:[]}}s.create=u}(t.CollapseExpandAction||(t.CollapseExpandAction={})),function(s){s.KIND="collapseExpandAll";function u(d){d===void 0&&(d={});var f;return{kind:s.KIND,expand:(f=d.expand)!==null&&f!==void 0?f:!0}}s.create=u}(t.CollapseExpandAllAction||(t.CollapseExpandAllAction={})),function(s){s.KIND="open"}(t.OpenAction||(t.OpenAction={})),function(s){s.KIND="layout";function u(d){return d===void 0&&(d={}),{kind:s.KIND,layoutType:d.layoutType,elementIds:d.elementIds}}s.create=u}(t.LayoutAction||(t.LayoutAction={})),function(s){s.KIND="center";function u(d,f){f===void 0&&(f={});var _,y;return{kind:s.KIND,elementIds:d,animate:(_=f.animate)!==null&&_!==void 0?_:!0,retainZoom:(y=f.retainZoom)!==null&&y!==void 0?y:!1}}s.create=u}(t.CenterAction||(t.CenterAction={})),function(s){s.KIND="fit";function u(d,f){f===void 0&&(f={});var _;return{kind:s.KIND,elementIds:d,padding:f.padding,maxZoom:f.maxZoom,animate:(_=f.animate)!==null&&_!==void 0?_:!0}}s.create=u}(t.FitToScreenAction||(t.FitToScreenAction={})),function(s){s.KIND="viewport";function u(d,f,_){_===void 0&&(_={});var y;return{kind:s.KIND,elementId:d,newViewport:f,animate:(y=_.animate)!==null&&y!==void 0?y:!0}}s.create=u}(t.SetViewportAction||(t.SetViewportAction={}))})(St);Object.defineProperty($n,"__esModule",{value:!0});var TS=St,Uf=gn;function Nf(t){return Uf.hasOwnProperty(t,"kind","string")}$n.isAction=Nf;function LS(t){return Nf(t)&&Uf.hasOwnProperty(t,"requestId","string")}$n.isRequestAction=LS;$n.generateRequestId=TS.generateRequestId;function US(t){return Nf(t)&&Uf.hasOwnProperty(t,"responseId","string")&&t.responseId!==""}$n.isResponseAction=US;var NS=function(){function t(e,n,r){this.message=e,this.responseId=n,this.detail=r,this.kind=t.KIND}return t.KIND="rejectRequest",t}();$n.RejectAction=NS;var kS=function(){function t(e,n,r){this.label=e,this.actions=n,this.icon=r}return t}();$n.LabeledAction=kS;function FS(t){return t!==void 0&&t.label!==void 0&&t.actions!==void 0}$n.isLabeledAction=FS;var Fa={},An="named",eu="name",Ba="unmanaged",tu="optional",Ya="inject",yi="multi_inject",kf="inversify:tagged",Ff="inversify:tagged_props",Sc="inversify:paramtypes",dm="design:paramtypes",io="post_construct";function BS(){return[Ya,yi,eu,Ba,An,tu]}var Dl=BS(),YS=Object.freeze(Object.defineProperty({__proto__:null,NAMED_TAG:An,NAME_TAG:eu,UNMANAGED_TAG:Ba,OPTIONAL_TAG:tu,INJECT_TAG:Ya,MULTI_INJECT_TAG:yi,TAGGED:kf,TAGGED_PROP:Ff,PARAM_TYPES:Sc,DESIGN_PARAM_TYPES:dm,POST_CONSTRUCT:io,NON_CUSTOM_TAG_KEYS:Dl},Symbol.toStringTag,{value:"Module"})),Mt={Request:"Request",Singleton:"Singleton",Transient:"Transient"},Ct={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},Qn={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},$S=0;function Br(){return $S++}var VS=function(){function t(e,n){this.id=Br(),this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=Ct.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===Mt.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}(),HS="Cannot apply @injectable decorator multiple times.",KS="Metadata key was used more than once in a parameter:",$o="NULL argument",zp="Key Not Found",zS="Ambiguous match found for serviceIdentifier:",ZS="Could not unbind serviceIdentifier:",qS="No matching bindings found for serviceIdentifier:",WS="Missing required @injectable annotation in:",GS="Missing required @inject or @multiInject annotation in:",JS=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},XS="Circular dependency found:",QS="Invalid binding type:",eE="No snapshot available to restore.",tE="Invalid return type in middleware. Middleware must return!",nE="Value provided to function binding must be a function!",rE="The toSelf function can only be applied when a constructor is used as service identifier",iE="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",oE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")},aE="Invalid Container constructor argument. Container options must be an object.",sE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",cE="Invalid Container option. Auto bind injectable must be a boolean",uE="Invalid Container option. Skip base check must be a boolean",dE="Cannot apply @postConstruct decorator multiple times in the same class",lE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},fE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency "+("in one of the '"+t[0]+"' bindings. Please investigate bindings with")+("service identifier '"+t[1]+"'.")},_E="Maximum call stack size exceeded",lm=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var n=Reflect.getMetadata(Sc,e),r=Reflect.getMetadata(kf,e);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},t.prototype.getPropertiesMetadata=function(e){var n=Reflect.getMetadata(Ff,e)||[];return n},t}(),ec={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function fm(t){return t instanceof RangeError||t.message===_E}function co(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}function Zp(t,e,n){var r="",i=n(t,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var a="Object";o.implementationType!==null&&(a=nu(o.implementationType)),r=r+`
 `+a,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}function _m(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:_m(t.parentRequest,e)}function pE(t){function e(r,i){i===void 0&&(i=[]);var o=co(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var n=e(t);return n.reverse().join(" --> ")}function pm(t){t.childRequests.forEach(function(e){if(_m(e,e.serviceIdentifier)){var n=pE(e);throw new Error(XS+" "+n)}else pm(e)})}function hE(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+t+`
 `+t+" - "+n}else return" "+t}function nu(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}var hm=function(){function t(e){this.id=Br(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}(),Xt=function(){function t(e,n){this.key=e,this.value=n}return t.prototype.toString=function(){return this.key===An?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}(),gE=function(){function t(e,n){this.parentContext=e,this.rootRequest=n}return t}();function mi(t,e,n,r){var i=kf;gm(i,t,e,r,n)}function $a(t,e,n){var r=Ff;gm(r,t.constructor,e,n)}function gm(t,e,n,r,i){var o={},a=typeof i=="number",c=i!==void 0&&a?i.toString():n;if(a&&n!==void 0)throw new Error(iE);Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[c];if(!Array.isArray(s))s=[];else for(var u=0,d=s;u<d.length;u++){var f=d[u];if(f.key===r.key)throw new Error(KS+" "+f.key.toString())}s.push(r),o[c]=s,Reflect.defineMetadata(t,o,e)}function qp(t,e){Reflect.decorate(t,e)}function yE(t,e){return function(n,r){e(n,r,t)}}function mE(t,e,n){typeof n=="number"?qp([yE(n,t)],e):typeof n=="string"?Reflect.decorate([t],e,n):qp([t],e)}var ym=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();function vE(t){return function(e,n,r){if(t===void 0)throw new Error(JS(e.name));var i=new Xt(Ya,t);typeof r=="number"?mi(e,n,r,i):$a(e,n,i)}}var bE=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}(),ru=function(){function t(e,n,r,i){this.id=Br(),this.type=e,this.serviceIdentifier=r,this.name=new bE(n||""),this.metadata=new Array;var o=null;typeof i=="string"?o=new Xt(An,i):i instanceof Xt&&(o=i),o!==null&&this.metadata.push(o)}return t.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(yi)},t.prototype.matchesArray=function(e){return this.matchesTag(yi)(e)},t.prototype.isNamed=function(){return this.hasTag(An)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return Dl.every(function(n){return e.key!==n})})},t.prototype.isOptional=function(){return this.matchesTag(tu)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===An})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return Dl.every(function(n){return e.key!==n})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(An)(e)},t.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var a=o[i];if(a.key===e&&a.value===r)return!0}return!1}},t}(),Ec=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function PE(t,e){var n=nu(e),r=mm(t,n,e,!1);return r}function mm(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var a=WS+" "+e+".";throw new Error(a)}var c=i.userGeneratedMetadata,s=Object.keys(c),u=n.length===0&&s.length>0,d=s.length>n.length,f=u||d?s.length:n.length,_=RE(r,e,o,c,f),y=vm(t,n),g=Ec(Ec([],_),y);return g}function wE(t,e,n,r,i){var o=i[t.toString()]||[],a=Pm(o),c=a.unmanaged!==!0,s=r[t],u=a.inject||a.multiInject;if(s=u||s,s instanceof ym&&(s=s.unwrap()),c){var d=s===Object,f=s===Function,_=s===void 0,y=d||f||_;if(!e&&y){var g=GS+" argument "+t+" in class "+n+".";throw new Error(g)}var v=new ru(Qn.ConstructorArgument,a.targetName,s);return v.metadata=o,v}return null}function RE(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var c=a,s=wE(c,t,e,n,r);s!==null&&o.push(s)}return o}function vm(t,e){for(var n=t.getPropertiesMetadata(e),r=[],i=Object.keys(n),o=0,a=i;o<a.length;o++){var c=a[o],s=n[c],u=Pm(n[c]),d=u.targetName||c,f=u.inject||u.multiInject,_=new ru(Qn.ClassProperty,d,f);_.metadata=s,r.push(_)}var y=Object.getPrototypeOf(e.prototype).constructor;if(y!==Object){var g=vm(t,y);r=Ec(Ec([],r),g)}return r}function bm(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var r=nu(n),i=mm(t,r,n,!0),o=i.map(function(s){return s.metadata.filter(function(u){return u.key===Ba})}),a=[].concat.apply([],o).length,c=i.length-a;return c>0?c:bm(t,n)}else return 0}function Pm(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[Ya],multiInject:e[yi],targetName:e[eu],unmanaged:e[Ba]}}var Bf=function(){function t(e,n,r,i,o){this.id=Br(),this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();function Tl(t){return t._bindingDictionary}function SE(t,e,n,r,i,o){var a=t?yi:Ya,c=new Xt(a,n),s=new ru(e,r,n,c);if(i!==void 0){var u=new Xt(i,o);s.metadata.push(u)}return s}function Wp(t,e,n,r,i){var o=Ma(n.container,i.serviceIdentifier),a=[];return o.length===ec.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=Ma(n.container,i.serviceIdentifier)),e?a=o:a=o.filter(function(c){var s=new Bf(c.serviceIdentifier,n,r,c,i);return c.constraint(s)}),EE(i.serviceIdentifier,a,i,n.container),a}function EE(t,e,n,r){switch(e.length){case ec.NoBindingsAvailable:if(n.isOptional())return e;var i=co(t),o=qS;throw o+=hE(i,n),o+=Zp(r,i,Ma),new Error(o);case ec.OnlyOneBindingAvailable:if(!n.isArray())return e;case ec.MultipleBindingsAvailable:default:if(n.isArray())return e;var i=co(t),o=zS+" "+i;throw o+=Zp(r,i,Ma),new Error(o)}}function wm(t,e,n,r,i,o){var a,c;if(i===null){a=Wp(t,e,r,null,o),c=new Bf(n,r,null,a,o);var s=new gE(r,c);r.addPlan(s)}else a=Wp(t,e,r,i,o),c=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach(function(u){var d=null;if(o.isArray())d=c.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;d=c}if(u.type===Ct.Instance&&u.implementationType!==null){var f=PE(t,u.implementationType);if(!r.container.options.skipBaseClassChecks){var _=bm(t,u.implementationType);if(f.length<_){var y=oE(nu(u.implementationType));throw new Error(y)}}f.forEach(function(g){wm(t,!1,g.serviceIdentifier,r,d,g)})}})}function Ma(t,e){var n=[],r=Tl(t);return r.hasKey(e)?n=r.get(e):t.parent!==null&&(n=Ma(t.parent,e)),n}function AE(t,e,n,r,i,o,a,c){c===void 0&&(c=!1);var s=new hm(e),u=SE(n,r,i,"",o,a);try{return wm(t,c,i,s,null,u),s}catch(d){throw fm(d)&&s.plan&&pm(s.plan.rootRequest),d}}function OE(t,e,n,r){var i=new ru(Qn.Variable,"",e,new Xt(n,r)),o=new hm(t),a=new Bf(e,o,null,[],i);return a}var IE=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function jE(t,e,n){var r=e.filter(function(o){return o.target!==null&&o.target.type===Qn.ClassProperty}),i=r.map(n);return r.forEach(function(o,a){var c="";c=o.target.name.value();var s=i[a];t[c]=s}),t}function CE(t,e){return new(t.bind.apply(t,IE([void 0],e)))}function ME(t,e){if(Reflect.hasMetadata(io,t)){var n=Reflect.getMetadata(io,t);try{e[n.value]()}catch(r){throw new Error(lE(t.name,r.message))}}}function xE(t,e,n){var r=null;if(e.length>0){var i=e.filter(function(a){return a.target!==null&&a.target.type===Qn.ConstructorArgument}),o=i.map(n);r=CE(t,o),r=jE(r,e,n)}else r=new t;return ME(t,r),r}var bd=function(t,e,n){try{return n()}catch(r){throw fm(r)?new Error(fE(t,e.toString())):r}},Ll=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(f){var _=Ll(t);return _(f)});var a=null;if(e.target.isOptional()&&n.length===0)return;var c=n[0],s=c.scope===Mt.Singleton,u=c.scope===Mt.Request;if(s&&c.activated)return c.cache;if(u&&t!==null&&t.has(c.id))return t.get(c.id);if(c.type===Ct.ConstantValue)a=c.cache,c.activated=!0;else if(c.type===Ct.Function)a=c.cache,c.activated=!0;else if(c.type===Ct.Constructor)a=c.implementationType;else if(c.type===Ct.DynamicValue&&c.dynamicValue!==null)a=bd("toDynamicValue",c.serviceIdentifier,function(){return c.dynamicValue(e.parentContext)});else if(c.type===Ct.Factory&&c.factory!==null)a=bd("toFactory",c.serviceIdentifier,function(){return c.factory(e.parentContext)});else if(c.type===Ct.Provider&&c.provider!==null)a=bd("toProvider",c.serviceIdentifier,function(){return c.provider(e.parentContext)});else if(c.type===Ct.Instance&&c.implementationType!==null)a=xE(c.implementationType,r,Ll(t));else{var d=co(e.serviceIdentifier);throw new Error(QS+" "+d)}return typeof c.onActivation=="function"&&(a=c.onActivation(e.parentContext,a)),s&&(c.cache=a,c.activated=!0),u&&t!==null&&!t.has(c.id)&&t.set(c.id,a),a}};function DE(t){var e=Ll(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}var Wn=function(t,e){var n=t.parentRequest;return n!==null?e(n)?!0:Wn(n,e):!1},Ji=function(t){return function(e){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(t)(e)};return n.metaData=new Xt(t,e),n}},la=Ji(An),tc=function(t){return function(e){var n=null;if(e!==null)if(n=e.bindings[0],typeof t=="string"){var r=n.serviceIdentifier;return r===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}},Yf=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new Dt(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=la(e),new Dt(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var n=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return n},new Dt(this._binding)},t.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=Ji(e)(n),new Dt(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return tc(e)(n.parentRequest)},new Dt(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return la(e)(n.parentRequest)},new Dt(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return Ji(e)(n)(r.parentRequest)},new Dt(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return Wn(n,tc(e))},new Dt(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return!Wn(n,tc(e))},new Dt(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return Wn(n,la(e))},new Dt(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return!Wn(n,la(e))},new Dt(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return Wn(r,Ji(e)(n))},new Dt(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return!Wn(r,Ji(e)(n))},new Dt(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return Wn(n,e)},new Dt(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return!Wn(n,e)},new Dt(this._binding)},t}(),Dt=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new Yf(this._binding)},t}(),Dr=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new Yf(this._binding),this._bindingOnSyntax=new Dt(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),TE=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=Mt.Request,new Dr(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=Mt.Singleton,new Dr(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=Mt.Transient,new Dr(this._binding)},t}(),Gp=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new Yf(this._binding),this._bindingOnSyntax=new Dt(this._binding),this._bindingInSyntax=new TE(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),LE=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=Ct.Instance,this._binding.implementationType=e,new Gp(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+rE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=Ct.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Mt.Singleton,new Dr(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=Ct.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Gp(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=Ct.Constructor,this._binding.implementationType=e,this._binding.scope=Mt.Singleton,new Dr(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=Ct.Factory,this._binding.factory=e,this._binding.scope=Mt.Singleton,new Dr(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(nE);var n=this.toConstantValue(e);return this._binding.type=Ct.Function,this._binding.scope=Mt.Singleton,n},t.prototype.toAutoFactory=function(e){return this._binding.type=Ct.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(e)};return r},this._binding.scope=Mt.Singleton,new Dr(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=Ct.Provider,this._binding.provider=e,this._binding.scope=Mt.Singleton,new Dr(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},t}(),UE=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}(),Jp=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,n){if(e==null)throw new Error($o);if(n==null)throw new Error($o);var r=this._map.get(e);r!==void 0?(r.push(n),this._map.set(e,r)):this._map.set(e,[n])},t.prototype.get=function(e){if(e==null)throw new Error($o);var n=this._map.get(e);if(n!==void 0)return n;throw new Error(zp)},t.prototype.remove=function(e){if(e==null)throw new Error($o);if(!this._map.delete(e))throw new Error(zp)},t.prototype.removeByCondition=function(e){var n=this;this._map.forEach(function(r,i){var o=r.filter(function(a){return!e(a)});o.length>0?n._map.set(i,o):n._map.delete(i)})},t.prototype.hasKey=function(e){if(e==null)throw new Error($o);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){n.forEach(function(i){return e.add(r,i.clone())})}),e},t.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},t}(),NE=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},kE=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},FE=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Rm=function(){function t(e){this._appliedMiddleware=[];var n=e||{};if(typeof n!="object")throw new Error(""+aE);if(n.defaultScope===void 0)n.defaultScope=Mt.Transient;else if(n.defaultScope!==Mt.Singleton&&n.defaultScope!==Mt.Transient&&n.defaultScope!==Mt.Request)throw new Error(""+sE);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+cE);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+uE);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=Br(),this._bindingDictionary=new Jp,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new lm}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,a=FE([e,n],r).map(function(u){return Tl(u)}),c=Tl(o);function s(u,d){u.traverse(function(f,_){_.forEach(function(y){d.add(y.serviceIdentifier,y.clone())})})}return a.forEach(function(u){s(u,c)}),o},t.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var a=o[i],c=r(a.id);a.registry(c.bindFunction,c.unbindFunction,c.isboundFunction,c.rebindFunction)}},t.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return NE(this,void 0,void 0,function(){var r,i,o,a,c;return kE(this,function(s){switch(s.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,s.label=1;case 1:return i<o.length?(a=o[i],c=r(a.id),[4,a.registry(c.bindFunction,c.unbindFunction,c.isboundFunction,c.rebindFunction)]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=function(o){return function(a){return a.moduleId===o}};n.forEach(function(o){var a=i(o.id);e._bindingDictionary.removeByCondition(a)})},t.prototype.bind=function(e){var n=this.options.defaultScope||Mt.Transient,r=new VS(e,n);return this._bindingDictionary.add(e,r),new LE(r)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(ZS+" "+co(e))}},t.prototype.unbindAll=function(){this._bindingDictionary=new Jp},t.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},t.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,An,n)},t.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),a=OE(this,e,n,r);i=o.some(function(c){return c.constraint(a)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},t.prototype.snapshot=function(){this._snapshots.push(UE.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(eE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._appliedMiddleware=this._appliedMiddleware.concat(e);var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){return this._get(!1,!1,Qn.Variable,e)},t.prototype.getTagged=function(e,n,r){return this._get(!1,!1,Qn.Variable,e,n,r)},t.prototype.getNamed=function(e,n){return this.getTagged(e,An,n)},t.prototype.getAll=function(e){return this._get(!0,!0,Qn.Variable,e)},t.prototype.getAllTagged=function(e,n,r){return this._get(!1,!0,Qn.Variable,e,n,r)},t.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,An,n)},t.prototype.resolve=function(e){var n=this.createChild();return n.bind(e).toSelf(),this._appliedMiddleware.forEach(function(r){n.applyMiddleware(r)}),n.get(e)},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(c,s){c._binding.moduleId=s},r=function(c){return function(s){var u=e.bind.bind(e),d=u(s);return n(d,c),d}},i=function(c){return function(s){var u=e.unbind.bind(e);u(s)}},o=function(c){return function(s){var u=e.isBound.bind(e);return u(s)}},a=function(c){return function(s){var u=e.rebind.bind(e),d=u(s);return n(d,c),d}};return function(c){return{bindFunction:r(c),isboundFunction:o(c),rebindFunction:a(c),unbindFunction:i(c)}}},t.prototype._get=function(e,n,r,i,o,a){var c=null,s={avoidConstraints:e,contextInterceptor:function(u){return u},isMultiInject:n,key:o,serviceIdentifier:i,targetType:r,value:a};if(this._middleware){if(c=this._middleware(s),c==null)throw new Error(tE)}else c=this._planAndResolve()(s);return c},t.prototype._planAndResolve=function(){var e=this;return function(n){var r=AE(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=DE(r);return i}},t}(),Sm=function(){function t(e){this.id=Br(),this.registry=e}return t}(),BE=function(){function t(e){this.id=Br(),this.registry=e}return t}();function Em(){return function(t){if(Reflect.hasOwnMetadata(Sc,t))throw new Error(HS);var e=Reflect.getMetadata(dm,t)||[];return Reflect.defineMetadata(Sc,e,t),t}}function YE(t,e){return function(n,r,i){var o=new Xt(t,e);typeof i=="number"?mi(n,r,i,o):$a(n,r,o)}}function $E(t){return function(e,n,r){var i=new Xt(An,t);typeof r=="number"?mi(e,n,r,i):$a(e,n,i)}}function VE(){return function(t,e,n){var r=new Xt(tu,!0);typeof n=="number"?mi(t,e,n,r):$a(t,e,r)}}function HE(){return function(t,e,n){var r=new Xt(Ba,!0);mi(t,e,n,r)}}function KE(t){return function(e,n,r){var i=new Xt(yi,t);typeof r=="number"?mi(e,n,r,i):$a(e,n,i)}}function zE(t){return function(e,n,r){var i=new Xt(eu,t);mi(e,n,r,i)}}function ZE(){return function(t,e,n){var r=new Xt(io,e);if(Reflect.hasOwnMetadata(io,t.constructor))throw new Error(dE);Reflect.defineMetadata(io,r,t.constructor)}}var qE=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(i){return t.bind(i).toService(e)})}}},WE=YS,GE=Object.freeze(Object.defineProperty({__proto__:null,METADATA_KEY:WE,Container:Rm,BindingScopeEnum:Mt,BindingTypeEnum:Ct,TargetTypeEnum:Qn,AsyncContainerModule:BE,ContainerModule:Sm,injectable:Em,tagged:YE,named:$E,inject:vE,LazyServiceIdentifer:ym,optional:VE,unmanaged:HE,multiInject:KE,targetName:zE,postConstruct:ZE,MetadataReader:lm,id:Br,decorate:mE,traverseAncerstors:Wn,taggedConstraint:Ji,namedConstraint:la,typeConstraint:tc,getServiceIdentifierAsString:co,multiBindToService:qE},Symbol.toStringTag,{value:"Module"})),fe=Lf(GE),Va={};Object.defineProperty(Va,"__esModule",{value:!0});var JE=function(){function t(){var e=this;this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t}();Va.Deferred=JE;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.TYPES={Action:Symbol("Action"),IActionDispatcher:Symbol("IActionDispatcher"),IActionDispatcherProvider:Symbol("IActionDispatcherProvider"),IActionHandlerInitializer:Symbol("IActionHandlerInitializer"),ActionHandlerRegistration:Symbol("ActionHandlerRegistration"),ActionHandlerRegistryProvider:Symbol("ActionHandlerRegistryProvider"),IAnchorComputer:Symbol("IAnchor"),AnimationFrameSyncer:Symbol("AnimationFrameSyncer"),IButtonHandler:Symbol("IButtonHandler"),ICommandPaletteActionProvider:Symbol("ICommandPaletteActionProvider"),ICommandPaletteActionProviderRegistry:Symbol("ICommandPaletteActionProviderRegistry"),CommandRegistration:Symbol("CommandRegistration"),ICommandStack:Symbol("ICommandStack"),CommandStackOptions:Symbol("CommandStackOptions"),ICommandStackProvider:Symbol("ICommandStackProvider"),IContextMenuItemProvider:Symbol.for("IContextMenuProvider"),IContextMenuProviderRegistry:Symbol.for("IContextMenuProviderRegistry"),IContextMenuService:Symbol.for("IContextMenuService"),IContextMenuServiceProvider:Symbol.for("IContextMenuServiceProvider"),DOMHelper:Symbol("DOMHelper"),IDiagramLocker:Symbol("IDiagramLocker"),IEdgeRouter:Symbol("IEdgeRouter"),IEdgeRoutePostprocessor:Symbol("IEdgeRoutePostprocessor"),IEditLabelValidationDecorator:Symbol("IEditLabelValidationDecorator"),IEditLabelValidator:Symbol("IEditLabelValidator"),HiddenModelViewer:Symbol("HiddenModelViewer"),HiddenVNodePostprocessor:Symbol("HiddenVNodeDecorator"),HoverState:Symbol("HoverState"),KeyListener:Symbol("KeyListener"),LayoutRegistration:Symbol("LayoutRegistration"),LayoutRegistry:Symbol("LayoutRegistry"),Layouter:Symbol("Layouter"),LogLevel:Symbol("LogLevel"),ILogger:Symbol("ILogger"),IModelFactory:Symbol("IModelFactory"),IModelLayoutEngine:Symbol("IModelLayoutEngine"),ModelRendererFactory:Symbol("ModelRendererFactory"),ModelSource:Symbol("ModelSource"),ModelSourceProvider:Symbol("ModelSourceProvider"),ModelViewer:Symbol("ModelViewer"),MouseListener:Symbol("MouseListener"),PatcherProvider:Symbol("PatcherProvider"),IPopupModelProvider:Symbol("IPopupModelProvider"),PopupModelViewer:Symbol("PopupModelViewer"),PopupMouseListener:Symbol("PopupMouseListener"),PopupVNodePostprocessor:Symbol("PopupVNodeDecorator"),SModelElementRegistration:Symbol("SModelElementRegistration"),SModelRegistry:Symbol("SModelRegistry"),ISnapper:Symbol("ISnapper"),SvgExporter:Symbol("SvgExporter"),IToolManager:Symbol("IToolManager"),IUIExtension:Symbol("IUIExtension"),UIExtensionRegistry:Symbol("UIExtensionRegistry"),IVNodePostprocessor:Symbol("IVNodePostprocessor"),ViewRegistration:Symbol("ViewRegistration"),ViewRegistry:Symbol("ViewRegistry"),IViewer:Symbol("IViewer"),ViewerOptions:Symbol("ViewerOptions"),IViewerProvider:Symbol("IViewerProvider")};var tn={},nn={},iu=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(nn,"__esModule",{value:!0});var ou=fe,XE=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,n)},t.prototype.deregister=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.hasKey=function(e){return this.elements.has(e)},t.prototype.get=function(e,n){var r=this.elements.get(e);return r?new r(n):this.missing(e,n)},t.prototype.missing=function(e,n){throw new Error("Unknown registry key: "+e)},t=iu([ou.injectable()],t),t}();nn.ProviderRegistry=XE;var QE=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,n)},t.prototype.deregister=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.hasKey=function(e){return this.elements.has(e)},t.prototype.get=function(e,n){var r=this.elements.get(e);return r?r(n):this.missing(e,n)},t.prototype.missing=function(e,n){throw new Error("Unknown registry key: "+e)},t=iu([ou.injectable()],t),t}();nn.FactoryRegistry=QE;var eA=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,n)},t.prototype.deregister=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.hasKey=function(e){return this.elements.has(e)},t.prototype.get=function(e){var n=this.elements.get(e);return n||this.missing(e)},t.prototype.missing=function(e){throw new Error("Unknown registry key: "+e)},t=iu([ou.injectable()],t),t}();nn.InstanceRegistry=eA;var tA=function(){function t(){this.elements=new Map}return t.prototype.register=function(e,n){if(e===void 0)throw new Error("Key is undefined");var r=this.elements.get(e);r!==void 0?r.push(n):this.elements.set(e,[n])},t.prototype.deregisterAll=function(e){if(e===void 0)throw new Error("Key is undefined");this.elements.delete(e)},t.prototype.get=function(e){var n=this.elements.get(e);return n!==void 0?n:[]},t=iu([ou.injectable()],t),t}();nn.MultiInstanceRegistry=tA;var qe={},rt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gn;(function(f){f.ORIGIN=Object.freeze({x:0,y:0});function _(A,I){return{x:A.x+I.x,y:A.y+I.y}}f.add=_;function y(A,I){return{x:A.x-I.x,y:A.y-I.y}}f.subtract=y;function g(A,I){return A.x===I.x&&A.y===I.y}f.equals=g;function v(A,I,j){var U=y(I,A),C=m(U),x={x:C.x*j,y:C.y*j};return _(A,x)}f.shiftTowards=v;function m(A){var I=h(A);return I===0||I===1?f.ORIGIN:{x:A.x/I,y:A.y/I}}f.normalize=m;function h(A){return Math.sqrt(Math.pow(A.x,2)+Math.pow(A.y,2))}f.magnitude=h;function P(A,I,j){return{x:(1-j)*A.x+j*I.x,y:(1-j)*A.y+j*I.y}}f.linear=P;function p(A,I){var j=I.x-A.x,U=I.y-A.y;return Math.sqrt(j*j+U*U)}f.euclideanDistance=p;function R(A,I){return Math.abs(I.x-A.x)+Math.abs(I.y-A.y)}f.manhattanDistance=R;function O(A,I){return Math.max(Math.abs(I.x-A.x),Math.abs(I.y-A.y))}f.maxDistance=O})(t.Point||(t.Point={}));function n(f){return Math.atan2(f.y,f.x)}t.angleOfPoint=n;function r(f,_){var y=Math.sqrt((f.x*f.x+f.y*f.y)*(_.x*_.x+_.y*_.y));if(isNaN(y)||y===0)return NaN;var g=f.x*_.x+f.y*_.y;return Math.acos(g/y)}t.angleBetweenPoints=r;function i(f,_){var y={x:f.x>_.x?_.x:f.x,y:f.y>_.y?_.y:f.y,width:Math.abs(_.x-f.x),height:Math.abs(_.y-f.y)};return c.center(y)}t.centerOfLine=i;var o;(function(f){f.EMPTY=Object.freeze({width:-1,height:-1});function _(y){return y.width>=0&&y.height>=0}f.isValid=_})(o=t.Dimension||(t.Dimension={}));function a(f){return e.hasOwnProperty(f,["x","y","width","height"])}t.isBounds=a;var c;(function(f){f.EMPTY=Object.freeze({x:0,y:0,width:-1,height:-1});function _(m,h){if(!o.isValid(m))return o.isValid(h)?h:f.EMPTY;if(!o.isValid(h))return m;var P=Math.min(m.x,h.x),p=Math.min(m.y,h.y),R=Math.max(m.x+(m.width>=0?m.width:0),h.x+(h.width>=0?h.width:0)),O=Math.max(m.y+(m.height>=0?m.height:0),h.y+(h.height>=0?h.height:0));return{x:P,y:p,width:R-P,height:O-p}}f.combine=_;function y(m,h){return{x:m.x+h.x,y:m.y+h.y,width:m.width,height:m.height}}f.translate=y;function g(m){return{x:m.x+(m.width>=0?.5*m.width:0),y:m.y+(m.height>=0?.5*m.height:0)}}f.center=g;function v(m,h){return h.x>=m.x&&h.x<=m.x+m.width&&h.y>=m.y&&h.y<=m.y+m.height}f.includes=v})(c=t.Bounds||(t.Bounds={}));function s(f){return f*180/Math.PI}t.toDegrees=s;function u(f){return f*Math.PI/180}t.toRadians=u;function d(f,_){return Math.abs(f-_)<.001}t.almostEquals=d})(rt);var vi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function c(s,u){this.startFn=s,this.nextFn=u}return c.prototype[Symbol.iterator]=function(){var s,u=this,d=(s={state:this.startFn(),next:function(){return u.nextFn(d.state)}},s[Symbol.iterator]=function(){return d},s);return d},c.prototype.filter=function(s){return r(this,s)},c.prototype.map=function(s){return i(this,s)},c.prototype.forEach=function(s){var u=this[Symbol.iterator](),d=0,f;do f=u.next(),f.value!==void 0&&s(f.value,d),d++;while(!f.done)},c.prototype.indexOf=function(s){var u=this[Symbol.iterator](),d=0,f;do{if(f=u.next(),f.value===s)return d;d++}while(!f.done);return-1},c}();t.FluentIterableImpl=e;function n(c){if(c.constructor===Array)return c;var s=[];return c.forEach(function(u){return s.push(u)}),s}t.toArray=n,t.DONE_RESULT=Object.freeze({done:!0,value:void 0});function r(c,s){return new e(function(){return o(c)},function(u){var d;do d=u.next();while(!d.done&&!s(d.value));return d})}t.filterIterable=r;function i(c,s){return new e(function(){return o(c)},function(u){var d=u.next(),f=d.done,_=d.value;return f?t.DONE_RESULT:{done:!1,value:s(_)}})}t.mapIterable=i;function o(c){var s=c[Symbol.iterator];if(typeof s=="function")return s.call(c);var u=c.length;return typeof u=="number"&&u>=0?new a(c):{next:function(){return t.DONE_RESULT}}}var a=function(){function c(s){this.array=s,this.index=0}return c.prototype.next=function(){return this.index<this.array.length?{done:!1,value:this.array[this.index++]}:t.DONE_RESULT},c.prototype[Symbol.iterator]=function(){return this},c}()})(vi);var $f=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(qe,"__esModule",{value:!0});var Ul=rt,nA=vi,Am=function(){function t(){}return Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;e;){if(e instanceof Im)return e;e instanceof Om?e=e.parent:e=void 0}throw new Error("Element has no root")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.root.index},enumerable:!0,configurable:!0}),t.prototype.hasFeature=function(e){return this.features!==void 0&&this.features.has(e)},t}();qe.SModelElement=Am;function rA(t){var e=t.children;return e!==void 0&&e.constructor===Array}qe.isParent=rA;var xa=function(t){$f(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.children=[],n}return e.prototype.add=function(n,r){var i=this.children;if(r===void 0)i.push(n);else{if(r<0||r>this.children.length)throw new Error("Child index "+r+" out of bounds (0.."+i.length+")");i.splice(r,0,n)}n.parent=this,this.index.add(n)},e.prototype.remove=function(n){var r=this.children,i=r.indexOf(n);if(i<0)throw new Error("No such child "+n.id);r.splice(i,1),this.index.remove(n)},e.prototype.removeAll=function(n){var r=this,i=this.children;if(n!==void 0){for(var o=i.length-1;o>=0;o--)if(n(i[o])){var a=i.splice(o,1)[0];this.index.remove(a)}}else i.forEach(function(c){r.index.remove(c)}),i.splice(0,i.length)},e.prototype.move=function(n,r){var i=this.children,o=i.indexOf(n);if(o===-1)throw new Error("No such child "+n.id);if(r<0||r>i.length-1)throw new Error("Child index "+r+" out of bounds (0.."+i.length+")");i.splice(o,1),i.splice(r,0,n)},e.prototype.localToParent=function(n){return Ul.isBounds(n)?n:{x:n.x,y:n.y,width:-1,height:-1}},e.prototype.parentToLocal=function(n){return Ul.isBounds(n)?n:{x:n.x,y:n.y,width:-1,height:-1}},e}(Am);qe.SParentElement=xa;var Om=function(t){$f(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(xa);qe.SChildElement=Om;var Im=function(t){$f(e,t);function e(n){n===void 0&&(n=new Cm);var r=t.call(this)||this;return r.canvasBounds=Ul.Bounds.EMPTY,Object.defineProperty(r,"index",{value:n,writable:!1}),r}return e}(xa);qe.SModelRoot=Im;var Xp="0123456789abcdefghijklmnopqrstuvwxyz";function jm(t){t===void 0&&(t=8);for(var e="",n=0;n<t;n++)e+=Xp.charAt(Math.floor(Math.random()*Xp.length));return e}qe.createRandomId=jm;var Cm=function(){function t(){this.id2element=new Map}return t.prototype.add=function(e){if(e.id){if(this.contains(e))throw new Error("Duplicate ID in model: "+e.id)}else do e.id=jm();while(this.contains(e));if(this.id2element.set(e.id,e),e instanceof xa)for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.add(i)}},t.prototype.remove=function(e){if(this.id2element.delete(e.id),e instanceof xa)for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.remove(i)}},t.prototype.contains=function(e){return this.id2element.has(e.id)},t.prototype.getById=function(e){return this.id2element.get(e)},t.prototype.getAttachedElements=function(e){return[]},t.prototype.all=function(){return nA.mapIterable(this.id2element,function(e){e[0];var n=e[1];return n})},t}();qe.ModelIndexImpl=Cm;var iA=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nl=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Mm=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Qp=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(tn,"__esModule",{value:!0});var ya=fe,xm=Se,oA=nn,Ni=qe,aA=function(){function t(){}return t.prototype.createElement=function(e,n){var r;if(this.registry.hasKey(e.type)){var i=this.registry.get(e.type,void 0);if(!(i instanceof Ni.SChildElement))throw new Error("Element with type "+e.type+" was expected to be an SChildElement.");r=i}else r=new Ni.SChildElement;return this.initializeChild(r,e,n)},t.prototype.createRoot=function(e){var n;if(this.registry.hasKey(e.type)){var r=this.registry.get(e.type,void 0);if(!(r instanceof Ni.SModelRoot))throw new Error("Element with type "+e.type+" was expected to be an SModelRoot.");n=r}else n=new Ni.SModelRoot;return this.initializeRoot(n,e)},t.prototype.createSchema=function(e){var n=this,r={};for(var i in e)if(!this.isReserved(e,i)){var o=e[i];typeof o!="function"&&(r[i]=o)}return e instanceof Ni.SParentElement&&(r.children=e.children.map(function(a){return n.createSchema(a)})),r},t.prototype.initializeElement=function(e,n){for(var r in n)if(!this.isReserved(e,r)){var i=n[r];typeof i!="function"&&(e[r]=i)}return e},t.prototype.isReserved=function(e,n){if(["children","parent","index"].indexOf(n)>=0)return!0;var r=e;do{var i=Object.getOwnPropertyDescriptor(r,n);if(i!==void 0)return i.get!==void 0;r=Object.getPrototypeOf(r)}while(r);return!1},t.prototype.initializeParent=function(e,n){var r=this;return this.initializeElement(e,n),Ni.isParent(n)&&(e.children=n.children.map(function(i){return r.createElement(i,e)})),e},t.prototype.initializeChild=function(e,n,r){return this.initializeParent(e,n),r!==void 0&&(e.parent=r),e},t.prototype.initializeRoot=function(e,n){return this.initializeParent(e,n),e.index.add(e),e},Nl([ya.inject(xm.TYPES.SModelRegistry),Mm("design:type",Dm)],t.prototype,"registry",void 0),t=Nl([ya.injectable()],t),t}();tn.SModelFactory=aA;tn.EMPTY_ROOT=Object.freeze({type:"NONE",id:"EMPTY"});var Dm=function(t){iA(e,t);function e(n){var r=t.call(this)||this;return n.forEach(function(i){var o=r.getDefaultFeatures(i.constr);if(!o&&i.features&&i.features.enable&&(o=[]),o){var a=Tm(o,i.features);r.register(i.type,function(){var c=new i.constr;return c.features=a,c})}else r.register(i.type,function(){return new i.constr})}),r}return e.prototype.getDefaultFeatures=function(n){var r=n;do{var i=r.DEFAULT_FEATURES;if(i)return i;r=Object.getPrototypeOf(r)}while(r)},e=Nl([ya.injectable(),Qp(0,ya.multiInject(xm.TYPES.SModelElementRegistration)),Qp(0,ya.optional()),Mm("design:paramtypes",[Array])],e),e}(oA.FactoryRegistry);tn.SModelRegistry=Dm;function Tm(t,e){var n=new Set(t);if(e&&e.enable)for(var r=0,i=e.enable;r<i.length;r++){var o=i[r];n.add(o)}if(e&&e.disable)for(var a=0,c=e.disable;a<c.length;a++){var o=c[a];n.delete(o)}return n}tn.createFeatureSet=Tm;var bi={},sA=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(bi,"__esModule",{value:!0});var cA=fe,uA=function(){function t(){this.tasks=[],this.endTasks=[],this.triggered=!1}return t.prototype.isAvailable=function(){return typeof requestAnimationFrame=="function"},t.prototype.onNextFrame=function(e){this.tasks.push(e),this.trigger()},t.prototype.onEndOfNextFrame=function(e){this.endTasks.push(e),this.trigger()},t.prototype.trigger=function(){var e=this;this.triggered||(this.triggered=!0,this.isAvailable()?requestAnimationFrame(function(n){return e.run(n)}):setTimeout(function(n){return e.run(n)}))},t.prototype.run=function(e){var n=this.tasks,r=this.endTasks;this.triggered=!1,this.tasks=[],this.endTasks=[],n.forEach(function(i){return i.call(void 0,e)}),r.forEach(function(i){return i.call(void 0,e)})},t=sA([cA.injectable()],t),t}();bi.AnimationFrameSyncer=uA;var au={},In={},qt={},ho={},Vf={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});function dA(t){return JSON.parse(JSON.stringify(t))}rn.cloneModel=dA;function lA(t,e){var n=new Um;n.add(t);for(var r=0,i=e.bounds;r<i.length;r++){var o=i[r],a=n.getById(o.elementId);if(a){var c=a;o.newPosition&&(c.position={x:o.newPosition.x,y:o.newPosition.y}),o.newSize&&(c.size={width:o.newSize.width,height:o.newSize.height})}}if(e.alignments)for(var s=0,u=e.alignments;s<u.length;s++){var d=u[s],a=n.getById(d.elementId);if(a){var f=a;f.alignment={x:d.newAlignment.x,y:d.newAlignment.y}}}}rn.applyBounds=lA;function fA(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(0,e):t.type}rn.getBasicType=fA;function _A(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(e+1):t.type}rn.getSubType=_A;function Lm(t,e){if(t.id===e)return t;if(t.children!==void 0)for(var n=0,r=t.children;n<r.length;n++){var i=r[n],o=Lm(i,e);if(o!==void 0)return o}}rn.findElement=Lm;var Um=function(){function t(){this.id2element=new Map,this.id2parent=new Map}return t.prototype.add=function(e){if(e.id){if(this.contains(e))throw new Error("Duplicate ID in model: "+e.id)}else throw new Error("Model element has no ID.");if(this.id2element.set(e.id,e),Array.isArray(e.children))for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.add(i),this.id2parent.set(i.id,e)}},t.prototype.remove=function(e){if(this.id2element.delete(e.id),Array.isArray(e.children))for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.id2parent.delete(i.id),this.remove(i)}},t.prototype.contains=function(e){return this.id2element.has(e.id)},t.prototype.getById=function(e){return this.id2element.get(e)},t.prototype.getParent=function(e){return this.id2parent.get(e)},t.prototype.getRoot=function(e){for(var n=e;n;){var r=this.id2parent.get(n.id);if(r===void 0)return n;n=r}throw new Error("Element has no root")},t}();rn.SModelIndex=Um;var Is=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},js=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Vf,"__esModule",{value:!0});var Gt=St,pA=Va,Pd=rn,hA=function(){function t(e,n){this.state={currentRoot:{type:"NONE",id:"ROOT"},revision:0},this.requests=new Map,this.handlers=new Map,this.dispatch=e,this.diagramGenerator=n.DiagramGenerator,this.layoutEngine=n.ModelLayoutEngine}return t.prototype.onAction=function(e,n){this.handlers.has(e)?this.handlers.get(e).push(n):this.handlers.set(e,[n])},t.prototype.removeActionHandler=function(e,n){var r=this.handlers.get(e);if(r){var i=r.indexOf(n);i>=0&&r.splice(i,1)}},t.prototype.setModel=function(e){return e.revision=++this.state.revision,this.state.currentRoot=e,this.submitModel(e,!1)},t.prototype.updateModel=function(e){return e.revision=++this.state.revision,this.state.currentRoot=e,this.submitModel(e,!0)},Object.defineProperty(t.prototype,"needsClientLayout",{get:function(){return this.state.options&&this.state.options.needsClientLayout!==void 0?!!this.state.options.needsClientLayout:!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needsServerLayout",{get:function(){return this.state.options&&this.state.options.needsServerLayout!==void 0?!!this.state.options.needsServerLayout:!1},enumerable:!0,configurable:!0}),t.prototype.accept=function(e){if(Gt.isResponseAction(e)){var n=e.responseId,r=this.requests.get(n);if(r){if(this.requests.delete(n),e.kind===Gt.RejectAction.KIND){var i=e;r.reject(new Error(i.message)),console.warn("Request with id "+e.responseId+" failed: "+i.message,i.detail)}else r.resolve(e);return Promise.resolve()}console.info("No matching request for response:",e)}return this.handleAction(e)},t.prototype.request=function(e){var n=this;e.requestId||(e.requestId="server_"+Gt.generateRequestId());var r=new pA.Deferred;return this.requests.set(e.requestId,r),this.dispatch(e).catch(function(i){n.requests.delete(e.requestId),r.reject(i)}),r.promise},t.prototype.rejectRemoteRequest=function(e,n){e&&Gt.isRequestAction(e)&&this.dispatch({kind:Gt.RejectAction.KIND,responseId:e.requestId,message:n.message,detail:n.stack})},t.prototype.handleAction=function(e){var n=this,r=this.handlers.get(e.kind);if(r&&r.length===1)return r[0](e,this.state,this);if(r&&r.length>1)return Promise.all(r.map(function(i){return i(e,n.state,n)}));switch(e.kind){case Gt.RequestModelAction.KIND:return this.handleRequestModel(e);case Gt.ComputedBoundsAction.KIND:return this.handleComputedBounds(e);case Gt.LayoutAction.KIND:return this.handleLayout(e)}return console.warn("Unhandled action from client: "+e.kind),Promise.resolve()},t.prototype.handleRequestModel=function(e){var n;return Is(this,void 0,void 0,function(){var r,i;return js(this,function(o){switch(o.label){case 0:this.state.options=e.options,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.diagramGenerator.generate({options:(n=this.state.options)!==null&&n!==void 0?n:{},state:this.state})];case 2:return r=o.sent(),r.revision=++this.state.revision,this.state.currentRoot=r,[4,this.submitModel(this.state.currentRoot,!1,e)];case 3:return o.sent(),[3,5];case 4:return i=o.sent(),this.rejectRemoteRequest(e,i),console.error("Failed to generate diagram:",i),[3,5];case 5:return[2]}})})},t.prototype.submitModel=function(e,n,r){return Is(this,void 0,void 0,function(){var i,o,a;return js(this,function(c){switch(c.label){case 0:return this.needsClientLayout?this.needsServerLayout?[3,1]:(this.dispatch({kind:Gt.RequestBoundsAction.KIND,newRoot:e}),[3,5]):[3,6];case 1:return i=Gt.RequestBoundsAction.create(e),[4,this.request(i)];case 2:return o=c.sent(),a=this.state.currentRoot,o.revision!==a.revision?[3,4]:(Pd.applyBounds(a,o),[4,this.doSubmitModel(a,n,r)]);case 3:return c.sent(),[3,5];case 4:this.rejectRemoteRequest(r,new Error("Model revision does not match: "+o.revision)),c.label=5;case 5:return[3,8];case 6:return[4,this.doSubmitModel(e,n,r)];case 7:c.sent(),c.label=8;case 8:return[2]}})})},t.prototype.doSubmitModel=function(e,n,r){return Is(this,void 0,void 0,function(){var i,o,a;return js(this,function(c){switch(c.label){case 0:return e.revision!==this.state.revision?[2]:this.needsServerLayout&&this.layoutEngine?[4,this.layoutEngine.layout(e)]:[3,2];case 1:e=c.sent(),c.label=2;case 2:return i=e.type,r&&r.kind===Gt.RequestModelAction.KIND?(o=r.requestId,a=Gt.SetModelAction.create(e,o),[4,this.dispatch(a)]):[3,4];case 3:return c.sent(),[3,8];case 4:return n&&i===this.state.lastSubmittedModelType?[4,this.dispatch({kind:Gt.UpdateModelAction.KIND,newRoot:e,cause:r})]:[3,6];case 5:return c.sent(),[3,8];case 6:return[4,this.dispatch({kind:Gt.SetModelAction.KIND,newRoot:e})];case 7:c.sent(),c.label=8;case 8:return this.state.lastSubmittedModelType=i,[2]}})})},t.prototype.handleComputedBounds=function(e){return e.revision!==this.state.currentRoot.revision?Promise.reject():(Pd.applyBounds(this.state.currentRoot,e),Promise.resolve())},t.prototype.handleLayout=function(e){return Is(this,void 0,void 0,function(){var n;return js(this,function(r){switch(r.label){case 0:return this.layoutEngine?this.needsServerLayout?[3,2]:(n=Pd.cloneModel(this.state.currentRoot),[4,this.layoutEngine.layout(n)]):[2];case 1:n=r.sent(),n.revision=++this.state.revision,this.state.currentRoot=n,r.label=2;case 2:return[4,this.doSubmitModel(this.state.currentRoot,!0,e)];case 3:return r.sent(),[2]}})})},t}();Vf.DiagramServer=hA;var su={};Object.defineProperty(su,"__esModule",{value:!0});var Nm=gn;function gA(t){return Nm.hasOwnProperty(t,"scroll")}su.isScrollable=gA;function yA(t){return Nm.hasOwnProperty(t,"zoom")}su.isZoomable=yA;(function(t){function e(n){for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r])}Object.defineProperty(t,"__esModule",{value:!0}),e(St),e(Vf),e(su),e(Va),e(rt),e(rn),e(gn)})(ho);Object.defineProperty(qt,"__esModule",{value:!0});var mA=ho;function vA(t){return km()?t.metaKey:t.ctrlKey}qt.isCtrlOrCmd=vA;function km(){return window.navigator.userAgent.indexOf("Mac")!==-1}qt.isMac=km;function bA(t){if(t&&typeof window!="undefined"&&window.location){var e="";return window.location.protocol&&(e+=window.location.protocol+"//"),window.location.host&&(e+=window.location.host),e.length>0&&!t.startsWith(e)}return!1}qt.isCrossSite=bA;function PA(){return typeof window=="undefined"?mA.Point.ORIGIN:{x:window.pageXOffset,y:window.pageYOffset}}qt.getWindowScroll=PA;function wA(t,e){var n=t.getBoundingClientRect();return e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom}qt.hitsMouseEvent=wA;Object.defineProperty(In,"__esModule",{value:!0});var RA=qt;function SA(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Fm(t)!==e)return!1;if(RA.isMac()){if(t.ctrlKey!==n.findIndex(function(i){return i==="ctrl"})>=0||t.metaKey!==n.findIndex(function(i){return i==="meta"||i==="ctrlCmd"})>=0)return!1}else if(t.ctrlKey!==n.findIndex(function(i){return i==="ctrl"||i==="ctrlCmd"})>=0||t.metaKey!==n.findIndex(function(i){return i==="meta"})>=0)return!1;return!(t.altKey!==n.findIndex(function(i){return i==="alt"})>=0||t.shiftKey!==n.findIndex(function(i){return i==="shift"})>=0)}In.matchesKeystroke=SA;function Fm(t){if(t.keyCode){var e=kl[t.keyCode];if(e!==void 0)return e}return t.code}In.getActualCode=Fm;var kl=new Array(256);(function(){function t(e,n){kl[n]===void 0&&(kl[n]=e)}t("Pause",3),t("Backspace",8),t("Tab",9),t("Enter",13),t("ShiftLeft",16),t("ShiftRight",16),t("ControlLeft",17),t("ControlRight",17),t("AltLeft",18),t("AltRight",18),t("CapsLock",20),t("Escape",27),t("Space",32),t("PageUp",33),t("PageDown",34),t("End",35),t("Home",36),t("ArrowLeft",37),t("ArrowUp",38),t("ArrowRight",39),t("ArrowDown",40),t("Insert",45),t("Delete",46),t("Digit1",49),t("Digit2",50),t("Digit3",51),t("Digit4",52),t("Digit5",53),t("Digit6",54),t("Digit7",55),t("Digit8",56),t("Digit9",57),t("Digit0",48),t("KeyA",65),t("KeyB",66),t("KeyC",67),t("KeyD",68),t("KeyE",69),t("KeyF",70),t("KeyG",71),t("KeyH",72),t("KeyI",73),t("KeyJ",74),t("KeyK",75),t("KeyL",76),t("KeyM",77),t("KeyN",78),t("KeyO",79),t("KeyP",80),t("KeyQ",81),t("KeyR",82),t("KeyS",83),t("KeyT",84),t("KeyU",85),t("KeyV",86),t("KeyW",87),t("KeyX",88),t("KeyY",89),t("KeyZ",90),t("OSLeft",91),t("MetaLeft",91),t("OSRight",92),t("MetaRight",92),t("ContextMenu",93),t("Numpad0",96),t("Numpad1",97),t("Numpad2",98),t("Numpad3",99),t("Numpad4",100),t("Numpad5",101),t("Numpad6",102),t("Numpad7",103),t("Numpad8",104),t("Numpad9",105),t("NumpadMultiply",106),t("NumpadAdd",107),t("NumpadSeparator",108),t("NumpadSubtract",109),t("NumpadDecimal",110),t("NumpadDivide",111),t("F1",112),t("F2",113),t("F3",114),t("F4",115),t("F5",116),t("F6",117),t("F7",118),t("F8",119),t("F9",120),t("F10",121),t("F11",122),t("F12",123),t("F13",124),t("F14",125),t("F15",126),t("F16",127),t("F17",128),t("F18",129),t("F19",130),t("F20",131),t("F21",132),t("F22",133),t("F23",134),t("F24",135),t("NumLock",144),t("ScrollLock",145),t("Semicolon",186),t("Equal",187),t("Comma",188),t("Minus",189),t("Period",190),t("Slash",191),t("Backquote",192),t("IntlRo",193),t("BracketLeft",219),t("Backslash",220),t("BracketRight",221),t("Quote",222),t("IntlYen",255)})();var yn={},pt={},Ac=w&&w.__assign||function(){return Ac=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ac.apply(this,arguments)};Object.defineProperty(pt,"__esModule",{value:!0});function EA(t,e,n){Ym(t)[e]=n}pt.setAttr=EA;function Hf(t,e,n){$m(t)[e]=n}pt.setClass=Hf;function Bm(t,e){t.data===void 0&&(t.data={}),t.data.ns=e;var n=t.children;if(n!==void 0)for(var r=0;r<n.length;r++){var i=n[r];typeof i!="string"&&Bm(i,e)}}pt.setNamespace=Bm;function AA(t,e){var n=$m(t);Object.keys(n).forEach(function(r){return Hf(e,r,!0)})}pt.copyClassesFromVNode=AA;function OA(t,e){for(var n=t.classList,r=0;r<n.length;r++){var i=n.item(r);i&&Hf(e,i,!0)}}pt.copyClassesFromElement=OA;function IA(t,e){Da(t).style=Ac(Ac({},Da(t).style||{}),e)}pt.mergeStyle=IA;function jA(t,e,n){var r=CA(t);if(r[e])throw new Error("EventListener for "+e+" already registered on VNode");r[e]=n}pt.on=jA;function Ym(t){var e=Da(t);return e.attrs||(e.attrs={}),e.attrs}pt.getAttrs=Ym;function Da(t){return t.data||(t.data={}),t.data}function $m(t){var e=Da(t);return e.class||(e.class={}),e.class}function CA(t){var e=Da(t);return e.on||(e.on={}),e.on}var Fl=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},eh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},th=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(yn,"__esModule",{value:!0});var fa=fe,nh=Se,MA=qe,wd=pt,xA=function(){function t(e){e===void 0&&(e=[]),this.keyListeners=e}return t.prototype.register=function(e){this.keyListeners.push(e)},t.prototype.deregister=function(e){var n=this.keyListeners.indexOf(e);n>=0&&this.keyListeners.splice(n,1)},t.prototype.handleEvent=function(e,n,r){var i=this.keyListeners.map(function(o){return o[e].apply(o,[n,r])}).reduce(function(o,a){return o.concat(a)});i.length>0&&(r.preventDefault(),this.actionDispatcher.dispatchAll(i))},t.prototype.keyDown=function(e,n){this.handleEvent("keyDown",e,n)},t.prototype.keyUp=function(e,n){this.handleEvent("keyUp",e,n)},t.prototype.focus=function(){},t.prototype.decorate=function(e,n){return n instanceof MA.SModelRoot&&(wd.on(e,"focus",this.focus.bind(this,n)),wd.on(e,"keydown",this.keyDown.bind(this,n)),wd.on(e,"keyup",this.keyUp.bind(this,n))),e},t.prototype.postUpdate=function(){},Fl([fa.inject(nh.TYPES.IActionDispatcher),eh("design:type",Object)],t.prototype,"actionDispatcher",void 0),t=Fl([fa.injectable(),th(0,fa.multiInject(nh.TYPES.KeyListener)),th(0,fa.optional()),eh("design:paramtypes",[Array])],t),t}();yn.KeyTool=xA;var DA=function(){function t(){}return t.prototype.keyDown=function(e,n){return[]},t.prototype.keyUp=function(e,n){return[]},t=Fl([fa.injectable()],t),t}();yn.KeyListener=DA;(function(t){var e=w&&w.__extends||function(){var s=function(u,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var y in _)_.hasOwnProperty(y)&&(f[y]=_[y])},s(u,d)};return function(u,d){s(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=In,r=yn,i=qt,o;(function(s){s.KIND="undo";function u(){return{kind:s.KIND}}s.create=u})(o=t.UndoAction||(t.UndoAction={}));var a;(function(s){s.KIND="redo";function u(){return{kind:s.KIND}}s.create=u})(a=t.RedoAction||(t.RedoAction={}));var c=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u.prototype.keyDown=function(d,f){return n.matchesKeystroke(f,"KeyZ","ctrlCmd")?[o.create()]:n.matchesKeystroke(f,"KeyZ","ctrlCmd","shift")||!i.isMac()&&n.matchesKeystroke(f,"KeyY","ctrlCmd")?[a.create()]:[]},u}(r.KeyListener);t.UndoRedoKeyListener=c})(au);var ki=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Vo=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Fa,"__esModule",{value:!0});var Fi=fe,Ho=St,TA=Va,Ko=Se,LA=tn,UA=bi,rh=au,NA=function(){function t(){this.postponedActions=[],this.requests=new Map}return t.prototype.initialize=function(){var e=this;return this.initialized||(this.initialized=this.actionHandlerRegistryProvider().then(function(n){e.actionHandlerRegistry=n,e.handleAction(Ho.SetModelAction.create(LA.EMPTY_ROOT)).catch(function(){})})),this.initialized},t.prototype.dispatch=function(e){var n=this;return this.initialize().then(function(){if(n.blockUntil!==void 0)return n.handleBlocked(e,n.blockUntil);if(n.diagramLocker.isAllowed(e))return n.handleAction(e)})},t.prototype.dispatchAll=function(e){var n=this;return Promise.all(e.map(function(r){return n.dispatch(r)}))},t.prototype.request=function(e){if(!e.requestId)return Promise.reject(new Error("Request without requestId"));var n=new TA.Deferred;return this.requests.set(e.requestId,n),this.dispatch(e).catch(function(){}),n.promise},t.prototype.handleAction=function(e){if(e.kind===rh.UndoAction.KIND)return this.commandStack.undo().then(function(){});if(e.kind===rh.RedoAction.KIND)return this.commandStack.redo().then(function(){});if(Ho.isResponseAction(e)){var n=this.requests.get(e.responseId);if(n!==void 0){if(this.requests.delete(e.responseId),e.kind===Ho.RejectAction.KIND){var r=e;n.reject(new Error(r.message)),this.logger.warn(this,"Request with id "+e.responseId+" failed.",r.message,r.detail)}else n.resolve(e);return Promise.resolve()}this.logger.log(this,"No matching request for response",e)}var i=this.actionHandlerRegistry.get(e.kind);if(i.length===0){this.logger.warn(this,"Missing handler for action",e);var o=new Error("Missing handler for action '"+e.kind+"'");if(Ho.isRequestAction(e)){var n=this.requests.get(e.requestId);n!==void 0&&(this.requests.delete(e.requestId),n.reject(o))}return Promise.reject(o)}this.logger.log(this,"Handle",e);for(var a=[],c=0,s=i;c<s.length;c++){var u=s[c],d=u.handle(e);Ho.isAction(d)?a.push(this.dispatch(d)):d!==void 0&&(a.push(this.commandStack.execute(d)),this.blockUntil=d.blockUntil)}return Promise.all(a)},t.prototype.handleBlocked=function(e,n){var r=this;if(n(e)){this.blockUntil=void 0;var i=this.handleAction(e),o=this.postponedActions;this.postponedActions=[];for(var a=0,c=o;a<c.length;a++){var s=c[a];this.dispatch(s.action).then(s.resolve,s.reject)}return i}else return this.logger.log(this,"Action is postponed due to block condition",e),new Promise(function(u,d){r.postponedActions.push({action:e,resolve:u,reject:d})})},ki([Fi.inject(Ko.TYPES.ActionHandlerRegistryProvider),Vo("design:type",Function)],t.prototype,"actionHandlerRegistryProvider",void 0),ki([Fi.inject(Ko.TYPES.ICommandStack),Vo("design:type",Object)],t.prototype,"commandStack",void 0),ki([Fi.inject(Ko.TYPES.ILogger),Vo("design:type",Object)],t.prototype,"logger",void 0),ki([Fi.inject(Ko.TYPES.AnimationFrameSyncer),Vo("design:type",UA.AnimationFrameSyncer)],t.prototype,"syncer",void 0),ki([Fi.inject(Ko.TYPES.IDiagramLocker),Vo("design:type",Object)],t.prototype,"diagramLocker",void 0),t=ki([Fi.injectable()],t),t}();Fa.ActionDispatcher=NA;var Yr={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});function kA(t){return Reflect.getMetadata("inversify:paramtypes",t)!==void 0}Pi.isInjectable=kA;var FA=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),BA=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},YA=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Cs=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Yr,"__esModule",{value:!0});var zo=fe,Oc=Se,$A=nn,VA=Pi,HA=function(t){FA(e,t);function e(n,r){var i=t.call(this)||this;return n.forEach(function(o){return i.register(o.actionKind,o.factory())}),r.forEach(function(o){return i.initializeActionHandler(o)}),i}return e.prototype.initializeActionHandler=function(n){n.initialize(this)},e=BA([zo.injectable(),Cs(0,zo.multiInject(Oc.TYPES.ActionHandlerRegistration)),Cs(0,zo.optional()),Cs(1,zo.multiInject(Oc.TYPES.IActionHandlerInitializer)),Cs(1,zo.optional()),YA("design:paramtypes",[Array,Array])],e),e}($A.MultiInstanceRegistry);Yr.ActionHandlerRegistry=HA;function KA(t,e,n){if(typeof n=="function"){if(!VA.isInjectable(n))throw new Error("Action handlers should be @injectable: "+n.name);t.isBound(n)||t.bind(n).toSelf()}t.bind(Oc.TYPES.ActionHandlerRegistration).toDynamicValue(function(r){return{actionKind:e,factory:function(){return r.container.get(n)}}})}Yr.configureActionHandler=KA;function zA(t,e,n){t.bind(Oc.TYPES.ActionHandlerRegistration).toConstantValue({actionKind:e,factory:function(){return{handle:n}}})}Yr.onAction=zA;var cu={},ZA=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(cu,"__esModule",{value:!0});var qA=fe,WA=function(){function t(){}return t.prototype.isAllowed=function(e){return!0},t=ZA([qA.injectable()],t),t}();cu.DefaultDiagramLocker=WA;var yr={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});function GA(t){return t<.5?t*t*2:1-(1-t)*(1-t)*2}uu.easeInOut=GA;var JA=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(yr,"__esModule",{value:!0});var Vm=uu,Hm=function(){function t(e,n){n===void 0&&(n=Vm.easeInOut),this.context=e,this.ease=n}return t.prototype.start=function(){var e=this;return new Promise(function(n,r){var i=void 0,o=0,a=function(s){o++;var u;i===void 0?(i=s,u=0):u=s-i;var d=Math.min(1,u/e.context.duration),f=e.tween(e.ease(d),e.context);e.context.modelChanged.update(f),d===1?(e.context.logger.log(e,o*1e3/e.context.duration+" fps"),n(f)):e.context.syncer.onNextFrame(a)};if(e.context.syncer.isAvailable())e.context.syncer.onNextFrame(a);else{var c=e.tween(1,e.context);n(c)}})},t}();yr.Animation=Hm;var XA=function(t){JA(e,t);function e(n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=Vm.easeInOut);var a=t.call(this,r,o)||this;return a.model=n,a.context=r,a.components=i,a.ease=o,a}return e.prototype.include=function(n){return this.components.push(n),this},e.prototype.tween=function(n,r){for(var i=0,o=this.components;i<o.length;i++){var a=o[i];a.tween(n,r)}return this.model},e}(Hm);yr.CompoundAnimation=XA;var st={},Ha=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),go=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(st,"__esModule",{value:!0});var yo=fe,mo=function(){function t(){}return t=go([yo.injectable()],t),t}();st.Command=mo;var QA=function(t){Ha(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.merge=function(n,r){return!1},e=go([yo.injectable()],e),e}(mo);st.MergeableCommand=QA;var eO=function(t){Ha(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.undo=function(n){return n.logger.error(this,"Cannot undo a hidden command"),n.root},e.prototype.redo=function(n){return n.logger.error(this,"Cannot redo a hidden command"),n.root},e=go([yo.injectable()],e),e}(mo);st.HiddenCommand=eO;var tO=function(t){Ha(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e=go([yo.injectable()],e),e}(mo);st.PopupCommand=tO;var nO=function(t){Ha(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e=go([yo.injectable()],e),e}(mo);st.SystemCommand=nO;var rO=function(t){Ha(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e=go([yo.injectable()],e),e}(mo);st.ResetCommand=rO;var Ut={},iO=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},oO=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},ih=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Ut,"__esModule",{value:!0});var nc=fe,aO=Pi,Bl=Se,Km=function(){function t(e){this.commandRegistration=e}return t.prototype.handle=function(e){return this.commandRegistration.factory(e)},t}();Ut.CommandActionHandler=Km;var sO=function(){function t(e){this.registrations=e}return t.prototype.initialize=function(e){this.registrations.forEach(function(n){return e.register(n.kind,new Km(n))})},t=iO([nc.injectable(),ih(0,nc.multiInject(Bl.TYPES.CommandRegistration)),ih(0,nc.optional()),oO("design:paramtypes",[Array])],t),t}();Ut.CommandActionHandlerInitializer=sO;function cO(t,e){if(!aO.isInjectable(e))throw new Error("Commands should be @injectable: "+e.name);t.isBound(e)||t.bind(e).toSelf(),t.bind(Bl.TYPES.CommandRegistration).toDynamicValue(function(n){return{kind:e.KIND,factory:function(r){var i=new nc.Container;return i.parent=n.container,i.bind(Bl.TYPES.Action).toConstantValue(r),i.get(e)}}})}Ut.configureCommand=cO;var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});var uO=gn,dO=Se;function lO(t,e){var n=t.get(dO.TYPES.CommandStackOptions);return uO.safeAssign(n,e),n}Kf.overrideCommandStackOptions=lO;var du={},ma=w&&w.__assign||function(){return ma=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ma.apply(this,arguments)},ei=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Or=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(du,"__esModule",{value:!0});var ti=fe,Zo=Se,Rd=tn,fO=qe,_O=bi,ni=st,pO=function(){function t(){this.undoStack=[],this.redoStack=[],this.offStack=[]}return t.prototype.initialize=function(){this.currentPromise=Promise.resolve({main:{model:this.modelFactory.createRoot(Rd.EMPTY_ROOT),modelChanged:!1},hidden:{model:this.modelFactory.createRoot(Rd.EMPTY_ROOT),modelChanged:!1},popup:{model:this.modelFactory.createRoot(Rd.EMPTY_ROOT),modelChanged:!1}})},Object.defineProperty(t.prototype,"currentModel",{get:function(){return this.currentPromise.then(function(e){return e.main.model})},enumerable:!0,configurable:!0}),t.prototype.executeAll=function(e){var n=this;return e.forEach(function(r){n.logger.log(n,"Executing",r),n.handleCommand(r,r.execute,n.mergeOrPush)}),this.thenUpdate()},t.prototype.execute=function(e){return this.logger.log(this,"Executing",e),this.handleCommand(e,e.execute,this.mergeOrPush),this.thenUpdate()},t.prototype.undo=function(){var e=this;this.undoOffStackSystemCommands(),this.undoPreceedingSystemCommands();var n=this.undoStack[this.undoStack.length-1];return n!==void 0&&!this.isBlockUndo(n)&&(this.undoStack.pop(),this.logger.log(this,"Undoing",n),this.handleCommand(n,n.undo,function(r,i){e.redoStack.push(r)})),this.thenUpdate()},t.prototype.redo=function(){var e=this;this.undoOffStackSystemCommands();var n=this.redoStack.pop();return n!==void 0&&(this.logger.log(this,"Redoing",n),this.handleCommand(n,n.redo,function(r,i){e.pushToUndoStack(r)})),this.redoFollowingSystemCommands(),this.thenUpdate()},t.prototype.handleCommand=function(e,n,r){var i=this;this.currentPromise=this.currentPromise.then(function(o){return new Promise(function(a){var c;e instanceof ni.HiddenCommand?c="hidden":e instanceof ni.PopupCommand?c="popup":c="main";var s=i.createContext(o.main.model),u;try{u=n.call(e,s)}catch(f){i.logger.error(i,"Failed to execute command:",f),u=o[c].model}var d=oh(o);u instanceof Promise?u.then(function(f){c==="main"&&r.call(i,e,s),d[c]={model:f,modelChanged:!0},a(d)}):u instanceof fO.SModelRoot?(c==="main"&&r.call(i,e,s),d[c]={model:u,modelChanged:!0},a(d)):(c==="main"&&r.call(i,e,s),d[c]={model:u.model,modelChanged:o[c].modelChanged||u.modelChanged,cause:u.cause},a(d))})})},t.prototype.pushToUndoStack=function(e){this.undoStack.push(e),this.options.undoHistoryLimit>=0&&this.undoStack.length>this.options.undoHistoryLimit&&this.undoStack.splice(0,this.undoStack.length-this.options.undoHistoryLimit)},t.prototype.thenUpdate=function(){var e=this;return this.currentPromise=this.currentPromise.then(function(n){var r=oh(n);return n.hidden.modelChanged&&(e.updateHidden(n.hidden.model,n.hidden.cause),r.hidden.modelChanged=!1,r.hidden.cause=void 0),n.main.modelChanged&&(e.update(n.main.model,n.main.cause),r.main.modelChanged=!1,r.main.cause=void 0),n.popup.modelChanged&&(e.updatePopup(n.popup.model,n.popup.cause),r.popup.modelChanged=!1,r.popup.cause=void 0),r}),this.currentModel},t.prototype.update=function(e,n){this.modelViewer===void 0&&(this.modelViewer=this.viewerProvider.modelViewer),this.modelViewer.update(e,n)},t.prototype.updateHidden=function(e,n){this.hiddenModelViewer===void 0&&(this.hiddenModelViewer=this.viewerProvider.hiddenModelViewer),this.hiddenModelViewer.update(e,n)},t.prototype.updatePopup=function(e,n){this.popupModelViewer===void 0&&(this.popupModelViewer=this.viewerProvider.popupModelViewer),this.popupModelViewer.update(e,n)},t.prototype.mergeOrPush=function(e,n){var r=this;if(this.isBlockUndo(e)){this.undoStack=[],this.redoStack=[],this.offStack=[],this.pushToUndoStack(e);return}if(this.isPushToOffStack(e)&&this.redoStack.length>0){if(this.offStack.length>0){var i=this.offStack[this.offStack.length-1];if(i instanceof ni.MergeableCommand&&i.merge(e,n))return}this.offStack.push(e);return}if(this.isPushToUndoStack(e)){if(this.offStack.forEach(function(o){return r.undoStack.push(o)}),this.offStack=[],this.redoStack=[],this.undoStack.length>0){var i=this.undoStack[this.undoStack.length-1];if(i instanceof ni.MergeableCommand&&i.merge(e,n))return}this.pushToUndoStack(e)}},t.prototype.undoOffStackSystemCommands=function(){for(var e=this.offStack.pop();e!==void 0;)this.logger.log(this,"Undoing off-stack",e),this.handleCommand(e,e.undo,function(){}),e=this.offStack.pop()},t.prototype.undoPreceedingSystemCommands=function(){for(var e=this,n=this.undoStack[this.undoStack.length-1];n!==void 0&&this.isPushToOffStack(n);)this.undoStack.pop(),this.logger.log(this,"Undoing",n),this.handleCommand(n,n.undo,function(r,i){e.redoStack.push(r)}),n=this.undoStack[this.undoStack.length-1]},t.prototype.redoFollowingSystemCommands=function(){for(var e=this,n=this.redoStack[this.redoStack.length-1];n!==void 0&&this.isPushToOffStack(n);)this.redoStack.pop(),this.logger.log(this,"Redoing ",n),this.handleCommand(n,n.redo,function(r,i){e.pushToUndoStack(r)}),n=this.redoStack[this.redoStack.length-1]},t.prototype.createContext=function(e){return{root:e,modelChanged:this,modelFactory:this.modelFactory,duration:this.options.defaultDuration,logger:this.logger,syncer:this.syncer}},t.prototype.isPushToOffStack=function(e){return e instanceof ni.SystemCommand},t.prototype.isPushToUndoStack=function(e){return!(e instanceof ni.HiddenCommand)},t.prototype.isBlockUndo=function(e){return e instanceof ni.ResetCommand},ei([ti.inject(Zo.TYPES.IModelFactory),Or("design:type",Object)],t.prototype,"modelFactory",void 0),ei([ti.inject(Zo.TYPES.IViewerProvider),Or("design:type",Object)],t.prototype,"viewerProvider",void 0),ei([ti.inject(Zo.TYPES.ILogger),Or("design:type",Object)],t.prototype,"logger",void 0),ei([ti.inject(Zo.TYPES.AnimationFrameSyncer),Or("design:type",_O.AnimationFrameSyncer)],t.prototype,"syncer",void 0),ei([ti.inject(Zo.TYPES.CommandStackOptions),Or("design:type",Object)],t.prototype,"options",void 0),ei([ti.postConstruct(),Or("design:type",Function),Or("design:paramtypes",[]),Or("design:returntype",void 0)],t.prototype,"initialize",null),t=ei([ti.injectable()],t),t}();du.CommandStack=pO;function oh(t){return{main:ma({},t.main),hidden:ma({},t.hidden),popup:ma({},t.popup)}}var Ka={};(function(t){var e=w&&w.__extends||function(){var g=function(v,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,P){h.__proto__=P}||function(h,P){for(var p in P)P.hasOwnProperty(p)&&(h[p]=P[p])},g(v,m)};return function(v,m){g(v,m);function h(){this.constructor=v}v.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}(),n=w&&w.__decorate||function(g,v,m,h){var P=arguments.length,p=P<3?v:h===null?h=Object.getOwnPropertyDescriptor(v,m):h,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(g,v,m,h);else for(var O=g.length-1;O>=0;O--)(R=g[O])&&(p=(P<3?R(p):P>3?R(v,m,p):R(v,m))||p);return P>3&&p&&Object.defineProperty(v,m,p),p},r=w&&w.__metadata||function(g,v){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,v)},i=w&&w.__param||function(g,v){return function(m,h){v(m,h,g)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=rt,c=Se,s=qe,u=st,d=qt,f=function(){function g(){}return g.prototype.decorate=function(v,m){return m instanceof s.SModelRoot&&!a.Dimension.isValid(m.canvasBounds)&&(this.rootAndVnode=[m,v]),v},g.prototype.postUpdate=function(){if(this.rootAndVnode!==void 0){var v=this.rootAndVnode[1].elm,m=this.rootAndVnode[0].canvasBounds;if(v!==void 0){var h=this.getBoundsInPage(v);a.almostEquals(h.x,m.x)&&a.almostEquals(h.y,m.y)&&a.almostEquals(h.width,m.width)&&a.almostEquals(h.height,m.width)||this.actionDispatcher.dispatch(_.create(h))}this.rootAndVnode=void 0}},g.prototype.getBoundsInPage=function(v){var m=v.getBoundingClientRect(),h=d.getWindowScroll();return{x:m.left+h.x,y:m.top+h.y,width:m.width,height:m.height}},n([o.inject(c.TYPES.IActionDispatcher),r("design:type",Object)],g.prototype,"actionDispatcher",void 0),g=n([o.injectable()],g),g}();t.CanvasBoundsInitializer=f;var _;(function(g){g.KIND="initializeCanvasBounds";function v(m){return{kind:g.KIND,newCanvasBounds:m}}g.create=v})(_=t.InitializeCanvasBoundsAction||(t.InitializeCanvasBoundsAction={}));var y=function(g){e(v,g);function v(m){var h=g.call(this)||this;return h.action=m,h}return v.prototype.execute=function(m){return this.newCanvasBounds=this.action.newCanvasBounds,m.root.canvasBounds=this.newCanvasBounds,m.root},v.prototype.undo=function(m){return m.root},v.prototype.redo=function(m){return m.root},v.KIND=_.KIND,v=n([o.injectable(),i(0,o.inject(c.TYPES.Action)),r("design:paramtypes",[Object])],v),v}(u.SystemCommand);t.InitializeCanvasBoundsCommand=y})(Ka);var wi={},hO=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gO=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},yO=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},mO=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(wi,"__esModule",{value:!0});var ah=fe,vO=St,bO=st,PO=Se,wO=Ka,RO=function(){function t(e,n){n===void 0&&(n=""),this.options=e,this.requestId=n,this.kind=t.KIND}return t.create=function(e){return new t(e,vO.generateRequestId())},t.KIND="requestModel",t}();wi.RequestModelAction=RO;var Yl=function(){function t(e,n){n===void 0&&(n=""),this.newRoot=e,this.responseId=n,this.kind=t.KIND}return t.KIND="setModel",t}();wi.SetModelAction=Yl;var SO=function(t){hO(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r}return e.prototype.execute=function(n){return this.oldRoot=n.modelFactory.createRoot(n.root),this.newRoot=n.modelFactory.createRoot(this.action.newRoot),this.newRoot},e.prototype.undo=function(n){return this.oldRoot},e.prototype.redo=function(n){return this.newRoot},Object.defineProperty(e.prototype,"blockUntil",{get:function(){return function(n){return n.kind===wO.InitializeCanvasBoundsCommand.KIND}},enumerable:!0,configurable:!0}),e.KIND=Yl.KIND,e=gO([ah.injectable(),mO(0,ah.inject(PO.TYPES.Action)),yO("design:paramtypes",[Yl])],e),e}(bO.ResetCommand);wi.SetModelCommand=SO;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});var EO=Se,Ic=qe;function AO(t,e,n,r){t.bind(EO.TYPES.SModelElementRegistration).toConstantValue({type:e,constr:n,features:r})}gt.registerModelElement=AO;function OO(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(0,e):t.type}gt.getBasicType=OO;function IO(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(e+1):t.type}gt.getSubType=IO;function zm(t,e){if(t.id===e)return t;if(t.children!==void 0)for(var n=0,r=t.children;n<r.length;n++){var i=r[n],o=zm(i,e);if(o!==void 0)return o}}gt.findElement=zm;function jO(t,e){for(var n=t;n!==void 0;){if(e(n))return n;n instanceof Ic.SChildElement?n=n.parent:n=void 0}return n}gt.findParent=jO;function CO(t,e){for(var n=t;n!==void 0;){if(e(n))return n;n instanceof Ic.SChildElement?n=n.parent:n=void 0}return n}gt.findParentByFeature=CO;function $l(t,e,n){if(e!==n){for(;e instanceof Ic.SChildElement;)if(t=e.localToParent(t),e=e.parent,e===n)return t;for(var r=[];n instanceof Ic.SChildElement;)r.push(n),n=n.parent;if(e!==n)throw new Error("Incompatible source and target: "+e.id+", "+n.id);for(var i=r.length-1;i>=0;i--)t=r[i].parentToLocal(t)}return t}gt.translatePoint=$l;function MO(t,e,n){var r=$l(t,e,n),i=$l({x:t.x+t.width,y:t.y+t.height},e,n);return{x:r.x,y:r.y,width:i.x-r.x,height:i.y-r.y}}gt.translateBounds=MO;function xO(t,e){var n=function(i){return t.index.getById(i.id)!==void 0},r=function(i){return i.some(function(o){return n(o)||r(o.children)})};return r([e])}gt.containsSome=xO;var vo={},lu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.KIND="enable-tools";function n(r){return{kind:e.KIND,toolIds:r}}e.create=n}(t.EnableToolsAction||(t.EnableToolsAction={})),function(e){e.KIND="enable-default-tools";function n(){return{kind:e.KIND}}e.create=n}(t.EnableDefaultToolsAction||(t.EnableDefaultToolsAction={}))})(lu);var DO=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jc=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},TO=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(vo,"__esModule",{value:!0});var Cc=fe,LO=Se,Vl=lu,UO=yn,NO=In,kO=function(){function t(){this.tools=[],this.defaultTools=[],this.actives=[]}return Object.defineProperty(t.prototype,"managedTools",{get:function(){return this.defaultTools.concat(this.tools)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeTools",{get:function(){return this.actives},enumerable:!0,configurable:!0}),t.prototype.disableActiveTools=function(){this.actives.forEach(function(e){return e.disable()}),this.actives.splice(0,this.actives.length)},t.prototype.enableDefaultTools=function(){this.enable(this.defaultTools.map(function(e){return e.id}))},t.prototype.enable=function(e){var n=this;this.disableActiveTools();var r=e.map(function(i){return n.tool(i)});r.forEach(function(i){i!==void 0&&(i.enable(),n.actives.push(i))})},t.prototype.tool=function(e){return this.managedTools.find(function(n){return n.id===e})},t.prototype.registerDefaultTools=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];this.defaultTools.push(o)}},t.prototype.registerTools=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];this.tools.push(o)}},t=jc([Cc.injectable()],t),t}();vo.ToolManager=kO;var FO=function(){function t(){}return t.prototype.handle=function(e){switch(e.kind){case Vl.EnableDefaultToolsAction.KIND:this.toolManager.enableDefaultTools();break;case Vl.EnableToolsAction.KIND:this.toolManager.enable(e.toolIds);break}},jc([Cc.inject(LO.TYPES.IToolManager),TO("design:type",Object)],t.prototype,"toolManager",void 0),t=jc([Cc.injectable()],t),t}();vo.ToolManagerActionHandler=FO;var BO=function(t){DO(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.keyDown=function(n,r){return NO.matchesKeystroke(r,"Escape")?[Vl.EnableDefaultToolsAction.create()]:[]},e=jc([Cc.injectable()],e),e}(UO.KeyListener);vo.DefaultToolsEnablingKeyListener=BO;var za={};(function(t){var e=w&&w.__extends||function(){var y=function(g,v){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var P in h)h.hasOwnProperty(P)&&(m[P]=h[P])},y(g,v)};return function(g,v){y(g,v);function m(){this.constructor=g}g.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}(),n=w&&w.__decorate||function(y,g,v,m){var h=arguments.length,P=h<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(y,g,v,m);else for(var R=y.length-1;R>=0;R--)(p=y[R])&&(P=(h<3?p(P):h>3?p(g,v,P):p(g,v))||P);return h>3&&P&&Object.defineProperty(g,v,P),P},r=w&&w.__metadata||function(y,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,g)},i=w&&w.__param||function(y,g){return function(v,m){g(v,m,y)}},o=w&&w.__spreadArrays||function(){for(var y=0,g=0,v=arguments.length;g<v;g++)y+=arguments[g].length;for(var m=Array(y),h=0,g=0;g<v;g++)for(var P=arguments[g],p=0,R=P.length;p<R;p++,h++)m[h]=P[p];return m};Object.defineProperty(t,"__esModule",{value:!0});var a=fe,c=nn,s=st,u=Se,d=function(y){e(g,y);function g(v){v===void 0&&(v=[]);var m=y.call(this)||this;return v.forEach(function(h){return m.register(h.id(),h)}),m}return g=n([a.injectable(),i(0,a.multiInject(u.TYPES.IUIExtension)),i(0,a.optional()),r("design:paramtypes",[Array])],g),g}(c.InstanceRegistry);t.UIExtensionRegistry=d;var f;(function(y){y.KIND="setUIExtensionVisibility";function g(v){var m;return{kind:y.KIND,extensionId:v.extensionId,visible:v.visible,contextElementsId:(m=v.contextElementsId)!==null&&m!==void 0?m:[]}}y.create=g})(f=t.SetUIExtensionVisibilityAction||(t.SetUIExtensionVisibilityAction={}));var _=function(y){e(g,y);function g(v){var m=y.call(this)||this;return m.action=v,m}return g.prototype.execute=function(v){var m=this.registry.get(this.action.extensionId);return m&&(this.action.visible?m.show.apply(m,o([v.root],this.action.contextElementsId)):m.hide()),{model:v.root,modelChanged:!1}},g.prototype.undo=function(v){return{model:v.root,modelChanged:!1}},g.prototype.redo=function(v){return{model:v.root,modelChanged:!1}},g.KIND=f.KIND,n([a.inject(u.TYPES.UIExtensionRegistry),r("design:type",d)],g.prototype,"registry",void 0),g=n([a.injectable(),i(0,a.inject(u.TYPES.Action)),r("design:paramtypes",[Object])],g),g}(s.SystemCommand);t.SetUIExtensionVisibilityCommand=_})(za);var Za={},Sd=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},sh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},YO=w&&w.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r};Object.defineProperty(Za,"__esModule",{value:!0});var Ed=fe,ch=Se,$O=function(){function t(){}return t.prototype.show=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.activeElement=document.activeElement,!(!this.containerElement&&!this.initialize())&&(this.onBeforeShow.apply(this,YO([this.containerElement,e],n)),this.setContainerVisible(!0))},t.prototype.hide=function(){this.setContainerVisible(!1),this.restoreFocus(),this.activeElement=null},t.prototype.restoreFocus=function(){var e=this.activeElement;e&&e.focus()},t.prototype.initialize=function(){var e=document.getElementById(this.options.baseDiv);return e?(this.containerElement=this.getOrCreateContainer(e.id),this.initializeContents(this.containerElement),e&&e.insertBefore(this.containerElement,e.firstChild),!0):(this.logger.warn(this,"Could not obtain sprotty base container for initializing UI extension "+this.id,this),!1)},t.prototype.getOrCreateContainer=function(e){var n=document.getElementById(this.id());return n===null&&(n=document.createElement("div"),n.id=e+"_"+this.id(),n.classList.add(this.containerClass())),n},t.prototype.setContainerVisible=function(e){this.containerElement&&(e?(this.containerElement.style.visibility="visible",this.containerElement.style.opacity="1"):(this.containerElement.style.visibility="hidden",this.containerElement.style.opacity="0"))},t.prototype.onBeforeShow=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i]},Sd([Ed.inject(ch.TYPES.ViewerOptions),sh("design:type",Object)],t.prototype,"options",void 0),Sd([Ed.inject(ch.TYPES.ILogger),sh("design:type",Object)],t.prototype,"logger",void 0),t=Sd([Ed.injectable()],t),t}();Za.AbstractUIExtension=$O;var Nt={},Ri={},uh=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},VO=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ri,"__esModule",{value:!0});var dh=fe,HO=Se,KO=function(){function t(){}return t.prototype.getPrefix=function(){var e=this.viewerOptions!==void 0&&this.viewerOptions.baseDiv!==void 0?this.viewerOptions.baseDiv+"_":"";return e},t.prototype.createUniqueDOMElementId=function(e){return this.getPrefix()+e.id},t.prototype.findSModelIdByDOMElement=function(e){return e.id.replace(this.getPrefix(),"")},uh([dh.inject(HO.TYPES.ViewerOptions),VO("design:type",Object)],t.prototype,"viewerOptions",void 0),t=uh([dh.injectable()],t),t}();Ri.DOMHelper=KO;var Zm=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oo=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},rc=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Mc=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Nt,"__esModule",{value:!0});var Jn=fe,zO=St,ZO=qe,ic=Se,qO=Ri,qn=pt,qm=function(){function t(e){e===void 0&&(e=[]),this.mouseListeners=e}return t.prototype.register=function(e){this.mouseListeners.push(e)},t.prototype.deregister=function(e){var n=this.mouseListeners.indexOf(e);n>=0&&this.mouseListeners.splice(n,1)},t.prototype.getTargetElement=function(e,n){for(var r=n.target,i=e.index;r;){if(r.id){var o=i.getById(this.domHelper.findSModelIdByDOMElement(r));if(o!==void 0)return o}r=r.parentNode}},t.prototype.handleEvent=function(e,n,r){var i=this;this.focusOnMouseEvent(e,n);var o=this.getTargetElement(n,r);if(!!o){var a=this.mouseListeners.map(function(d){return d[e](o,r)}).reduce(function(d,f){return d.concat(f)});if(a.length>0){r.preventDefault();for(var c=0,s=a;c<s.length;c++){var u=s[c];zO.isAction(u)?this.actionDispatcher.dispatch(u):u.then(function(d){i.actionDispatcher.dispatch(d)})}}}},t.prototype.focusOnMouseEvent=function(e,n){if(document){var r=document.getElementById(this.domHelper.createUniqueDOMElementId(n));e==="mouseDown"&&r!==null&&typeof r.focus=="function"&&r.focus()}},t.prototype.mouseOver=function(e,n){this.handleEvent("mouseOver",e,n)},t.prototype.mouseOut=function(e,n){this.handleEvent("mouseOut",e,n)},t.prototype.mouseEnter=function(e,n){this.handleEvent("mouseEnter",e,n)},t.prototype.mouseLeave=function(e,n){this.handleEvent("mouseLeave",e,n)},t.prototype.mouseDown=function(e,n){this.handleEvent("mouseDown",e,n)},t.prototype.mouseMove=function(e,n){this.handleEvent("mouseMove",e,n)},t.prototype.mouseUp=function(e,n){this.handleEvent("mouseUp",e,n)},t.prototype.wheel=function(e,n){this.handleEvent("wheel",e,n)},t.prototype.doubleClick=function(e,n){this.handleEvent("doubleClick",e,n)},t.prototype.decorate=function(e,n){return n instanceof ZO.SModelRoot&&(qn.on(e,"mouseover",this.mouseOver.bind(this,n)),qn.on(e,"mouseout",this.mouseOut.bind(this,n)),qn.on(e,"mouseenter",this.mouseEnter.bind(this,n)),qn.on(e,"mouseleave",this.mouseLeave.bind(this,n)),qn.on(e,"mousedown",this.mouseDown.bind(this,n)),qn.on(e,"mouseup",this.mouseUp.bind(this,n)),qn.on(e,"mousemove",this.mouseMove.bind(this,n)),qn.on(e,"wheel",this.wheel.bind(this,n)),qn.on(e,"contextmenu",function(r){r.preventDefault()}),qn.on(e,"dblclick",this.doubleClick.bind(this,n))),e=this.mouseListeners.reduce(function(r,i){return i.decorate(r,n)},e),e},t.prototype.postUpdate=function(){},oo([Jn.inject(ic.TYPES.IActionDispatcher),rc("design:type",Object)],t.prototype,"actionDispatcher",void 0),oo([Jn.inject(ic.TYPES.DOMHelper),rc("design:type",qO.DOMHelper)],t.prototype,"domHelper",void 0),t=oo([Jn.injectable(),Mc(0,Jn.multiInject(ic.TYPES.MouseListener)),Mc(0,Jn.optional()),rc("design:paramtypes",[Array])],t),t}();Nt.MouseTool=qm;var WO=function(t){Zm(e,t);function e(n){n===void 0&&(n=[]);var r=t.call(this,n)||this;return r.mouseListeners=n,r}return e=oo([Jn.injectable(),Mc(0,Jn.multiInject(ic.TYPES.PopupMouseListener)),Mc(0,Jn.optional()),rc("design:paramtypes",[Array])],e),e}(qm);Nt.PopupMouseTool=WO;var Wm=function(){function t(){}return t.prototype.mouseOver=function(e,n){return[]},t.prototype.mouseOut=function(e,n){return[]},t.prototype.mouseEnter=function(e,n){return[]},t.prototype.mouseLeave=function(e,n){return[]},t.prototype.mouseDown=function(e,n){return[]},t.prototype.mouseMove=function(e,n){return[]},t.prototype.mouseUp=function(e,n){return[]},t.prototype.wheel=function(e,n){return[]},t.prototype.doubleClick=function(e,n){return[]},t.prototype.decorate=function(e,n){return e},t=oo([Jn.injectable()],t),t}();Nt.MouseListener=Wm;var GO=function(t){Zm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mouseMove=function(n,r){return this.lastPosition=n.root.parentToLocal({x:r.offsetX,y:r.offsetY}),[]},Object.defineProperty(e.prototype,"lastPositionOnDiagram",{get:function(){return this.lastPosition},enumerable:!0,configurable:!0}),e=oo([Jn.injectable()],e),e}(Wm);Nt.MousePositionTracker=GO;var qa={};function JO(t,e){return document.createElement(t,e)}function XO(t,e,n){return document.createElementNS(t,e,n)}function QO(){return document.createDocumentFragment()}function eI(t){return document.createTextNode(t)}function tI(t){return document.createComment(t)}function nI(t,e,n){t.insertBefore(e,n)}function rI(t,e){t.removeChild(e)}function iI(t,e){t.appendChild(e)}function oI(t){return t.parentNode}function aI(t){return t.nextSibling}function sI(t){return t.tagName}function cI(t,e){t.textContent=e}function uI(t){return t.textContent}function dI(t){return t.nodeType===1}function lI(t){return t.nodeType===3}function fI(t){return t.nodeType===8}function _I(t){return t.nodeType===11}const zf={createElement:JO,createElementNS:XO,createTextNode:eI,createDocumentFragment:QO,createComment:tI,insertBefore:nI,removeChild:rI,appendChild:iI,parentNode:oI,nextSibling:aI,tagName:sI,setTextContent:cI,getTextContent:uI,isElement:dI,isText:lI,isComment:fI,isDocumentFragment:_I};function zt(t,e,n,r,i){const o=e===void 0?void 0:e.key;return{sel:t,data:e,children:n,text:r,elm:i,key:o}}const Ta=Array.isArray;function hi(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function Ad(t){return t===void 0}function ln(t){return t!==void 0}const Od=zt("",{},[],void 0,void 0);function qo(t,e){var n,r;const i=t.key===e.key,o=((n=t.data)===null||n===void 0?void 0:n.is)===((r=e.data)===null||r===void 0?void 0:r.is);return t.sel===e.sel&&i&&o}function pI(){throw new Error("The document fragment is not supported on this platform.")}function hI(t,e){return t.isElement(e)}function gI(t,e){return t.isDocumentFragment(e)}function yI(t,e,n){var r;const i={};for(let o=e;o<=n;++o){const a=(r=t[o])===null||r===void 0?void 0:r.key;a!==void 0&&(i[a]=o)}return i}const mI=["create","update","remove","destroy","pre","post"];function vI(t,e,n){const r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},i=e!==void 0?e:zf;for(const g of mI)for(const v of t){const m=v[g];m!==void 0&&r[g].push(m)}function o(g){const v=g.id?"#"+g.id:"",m=g.getAttribute("class"),h=m?"."+m.split(" ").join("."):"";return zt(i.tagName(g).toLowerCase()+v+h,{},[],void 0,g)}function a(g){return zt(void 0,{},[],void 0,g)}function c(g,v){return function(){if(--v===0){const h=i.parentNode(g);i.removeChild(h,g)}}}function s(g,v){var m,h,P,p;let R,O=g.data;if(O!==void 0){const j=(m=O.hook)===null||m===void 0?void 0:m.init;ln(j)&&(j(g),O=g.data)}const A=g.children,I=g.sel;if(I==="!")Ad(g.text)&&(g.text=""),g.elm=i.createComment(g.text);else if(I!==void 0){const j=I.indexOf("#"),U=I.indexOf(".",j),C=j>0?j:I.length,x=U>0?U:I.length,D=j!==-1||U!==-1?I.slice(0,Math.min(C,x)):I,$=g.elm=ln(O)&&ln(R=O.ns)?i.createElementNS(R,D,O):i.createElement(D,O);for(C<x&&$.setAttribute("id",I.slice(C+1,x)),U>0&&$.setAttribute("class",I.slice(x+1).replace(/\./g," ")),R=0;R<r.create.length;++R)r.create[R](Od,g);if(Ta(A))for(R=0;R<A.length;++R){const ee=A[R];ee!=null&&i.appendChild($,s(ee,v))}else hi(g.text)&&i.appendChild($,i.createTextNode(g.text));const K=g.data.hook;ln(K)&&((h=K.create)===null||h===void 0||h.call(K,Od,g),K.insert&&v.push(g))}else if(((P=n==null?void 0:n.experimental)===null||P===void 0?void 0:P.fragments)&&g.children){const j=g.children;for(g.elm=((p=i.createDocumentFragment)!==null&&p!==void 0?p:pI)(),R=0;R<r.create.length;++R)r.create[R](Od,g);for(R=0;R<j.length;++R){const U=j[R];U!=null&&i.appendChild(g.elm,s(U,v))}}else g.elm=i.createTextNode(g.text);return g.elm}function u(g,v,m,h,P,p){for(;h<=P;++h){const R=m[h];R!=null&&i.insertBefore(g,s(R,p),v)}}function d(g){var v,m;const h=g.data;if(h!==void 0){(m=(v=h==null?void 0:h.hook)===null||v===void 0?void 0:v.destroy)===null||m===void 0||m.call(v,g);for(let P=0;P<r.destroy.length;++P)r.destroy[P](g);if(g.children!==void 0)for(let P=0;P<g.children.length;++P){const p=g.children[P];p!=null&&typeof p!="string"&&d(p)}}}function f(g,v,m,h){for(var P,p;m<=h;++m){let R,O;const A=v[m];if(A!=null)if(ln(A.sel)){d(A),R=r.remove.length+1,O=c(A.elm,R);for(let j=0;j<r.remove.length;++j)r.remove[j](A,O);const I=(p=(P=A==null?void 0:A.data)===null||P===void 0?void 0:P.hook)===null||p===void 0?void 0:p.remove;ln(I)?I(A,O):O()}else i.removeChild(g,A.elm)}}function _(g,v,m,h){let P=0,p=0,R=v.length-1,O=v[0],A=v[R],I=m.length-1,j=m[0],U=m[I],C,x,D,$;for(;P<=R&&p<=I;)O==null?O=v[++P]:A==null?A=v[--R]:j==null?j=m[++p]:U==null?U=m[--I]:qo(O,j)?(y(O,j,h),O=v[++P],j=m[++p]):qo(A,U)?(y(A,U,h),A=v[--R],U=m[--I]):qo(O,U)?(y(O,U,h),i.insertBefore(g,O.elm,i.nextSibling(A.elm)),O=v[++P],U=m[--I]):qo(A,j)?(y(A,j,h),i.insertBefore(g,A.elm,O.elm),A=v[--R],j=m[++p]):(C===void 0&&(C=yI(v,P,R)),x=C[j.key],Ad(x)?i.insertBefore(g,s(j,h),O.elm):(D=v[x],D.sel!==j.sel?i.insertBefore(g,s(j,h),O.elm):(y(D,j,h),v[x]=void 0,i.insertBefore(g,D.elm,O.elm))),j=m[++p]);p<=I&&($=m[I+1]==null?null:m[I+1].elm,u(g,$,m,p,I,h)),P<=R&&f(g,v,P,R)}function y(g,v,m){var h,P,p,R,O;const A=(h=v.data)===null||h===void 0?void 0:h.hook;(P=A==null?void 0:A.prepatch)===null||P===void 0||P.call(A,g,v);const I=v.elm=g.elm,j=g.children,U=v.children;if(g!==v){if(v.data!==void 0){for(let C=0;C<r.update.length;++C)r.update[C](g,v);(R=(p=v.data.hook)===null||p===void 0?void 0:p.update)===null||R===void 0||R.call(p,g,v)}Ad(v.text)?ln(j)&&ln(U)?j!==U&&_(I,j,U,m):ln(U)?(ln(g.text)&&i.setTextContent(I,""),u(I,null,U,0,U.length-1,m)):ln(j)?f(I,j,0,j.length-1):ln(g.text)&&i.setTextContent(I,""):g.text!==v.text&&(ln(j)&&f(I,j,0,j.length-1),i.setTextContent(I,v.text)),(O=A==null?void 0:A.postpatch)===null||O===void 0||O.call(A,g,v)}}return function(v,m){let h,P,p;const R=[];for(h=0;h<r.pre.length;++h)r.pre[h]();for(hI(i,v)?v=o(v):gI(i,v)&&(v=a(v)),qo(v,m)?y(v,m,R):(P=v.elm,p=i.parentNode(P),s(m,R),p!==null&&(i.insertBefore(p,m.elm,i.nextSibling(P)),f(p,[v],0,0))),h=0;h<R.length;++h)R[h].data.hook.insert(R[h]);for(h=0;h<r.post.length;++h)r.post[h]();return m}}function fu(t,e,n){if(t.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&e!==void 0)for(let r=0;r<e.length;++r){const i=e[r];if(typeof i=="string")continue;const o=i.data;o!==void 0&&fu(o,i.children,i.sel)}}function gi(t,e,n){let r={},i,o,a;if(n!==void 0?(e!==null&&(r=e),Ta(n)?i=n:hi(n)?o=n.toString():n&&n.sel&&(i=[n])):e!=null&&(Ta(e)?i=e:hi(e)?o=e.toString():e&&e.sel?i=[e]:r=e),i!==void 0)for(a=0;a<i.length;++a)hi(i[a])&&(i[a]=zt(void 0,void 0,void 0,i[a],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&fu(r,i,t),zt(t,r,i,o,void 0)}function bI(t){let e,n;if(Ta(t)?e=t:hi(e)?n=t:e&&e.sel&&(e=[t]),e!==void 0)for(let r=0;r<e.length;++r)hi(e[r])&&(e[r]=zt(void 0,void 0,void 0,e[r],void 0));return zt(void 0,{},e,n,void 0)}function oc(t,e){var n;const r=(n=e.data)===null||n===void 0?void 0:n.ns;t.data.fn=e.data.fn,t.data.args=e.data.args,e.data=t.data,e.children=t.children,e.text=t.text,e.elm=t.elm,r&&fu(e.data,e.children,e.sel)}function PI(t){const e=t.data,n=e.fn(...e.args);oc(n,t)}function wI(t,e){let n;const r=t.data,i=e.data,o=r.args,a=i.args;if(r.fn!==i.fn||o.length!==a.length){oc(i.fn(...a),e);return}for(n=0;n<a.length;++n)if(o[n]!==a[n]){oc(i.fn(...a),e);return}oc(t,e)}const RI=function(e,n,r,i){return i===void 0&&(i=r,r=n,n=void 0),gi(e,{key:n,hook:{init:PI,prepatch:wI},fn:r,args:i})};function SI(t,e){const n=t.data.attachData;e.data.attachData.placeholder=n.placeholder,e.data.attachData.real=n.real,t.elm=t.data.attachData.real}function EI(t,e){e.elm=e.data.attachData.placeholder}function AI(t){t.elm!==void 0&&t.elm.parentNode.removeChild(t.elm),t.elm=t.data.attachData.real}function OI(t,e){const n=e.elm,r=e.data.attachData,i=document.createElement("span");e.elm=i,r.target.appendChild(n),r.real=n,r.placeholder=i}function II(t,e){e.data===void 0&&(e.data={}),e.data.hook===void 0&&(e.data.hook={});const n=e.data,r=e.data.hook;return n.attachData={target:t,placeholder:void 0,real:void 0},r.create=OI,r.prepatch=SI,r.postpatch=EI,r.destroy=AI,e}function Gm(t,e){const n=e!==void 0?e:zf;let r;if(n.isElement(t)){const i=t.id?"#"+t.id:"",o=t.getAttribute("class"),a=o?"."+o.split(" ").join("."):"",c=n.tagName(t).toLowerCase()+i+a,s={},u={},d={},f=[];let _,y,g;const v=t.attributes,m=t.childNodes;for(y=0,g=v.length;y<g;y++)_=v[y].nodeName,_[0]==="d"&&_[1]==="a"&&_[2]==="t"&&_[3]==="a"&&_[4]==="-"?u[_.slice(5)]=v[y].nodeValue||"":_!=="id"&&_!=="class"&&(s[_]=v[y].nodeValue);for(y=0,g=m.length;y<g;y++)f.push(Gm(m[y],e));return Object.keys(s).length>0&&(d.attrs=s),Object.keys(u).length>0&&(d.datasets=u),c[0]==="s"&&c[1]==="v"&&c[2]==="g"&&(c.length===3||c[3]==="."||c[3]==="#")&&fu(d,f,c),zt(c,d,f,void 0,t)}else return n.isText(t)?(r=n.getTextContent(t),zt(void 0,void 0,void 0,r,t)):n.isComment(t)?(r=n.getTextContent(t),zt("!",{},[],r,t)):zt("",{},[],void 0,t)}const jI="http://www.w3.org/1999/xlink",CI="http://www.w3.org/XML/1998/namespace",lh=58,MI=120;function fh(t,e){let n;const r=e.elm;let i=t.data.attrs,o=e.data.attrs;if(!(!i&&!o)&&i!==o){i=i||{},o=o||{};for(n in o){const a=o[n];i[n]!==a&&(a===!0?r.setAttribute(n,""):a===!1?r.removeAttribute(n):n.charCodeAt(0)!==MI?r.setAttribute(n,a):n.charCodeAt(3)===lh?r.setAttributeNS(CI,n,a):n.charCodeAt(5)===lh?r.setAttributeNS(jI,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}const xI={create:fh,update:fh};function _h(t,e){let n,r;const i=e.elm;let o=t.data.class,a=e.data.class;if(!(!o&&!a)&&o!==a){o=o||{},a=a||{};for(r in o)o[r]&&!Object.prototype.hasOwnProperty.call(a,r)&&i.classList.remove(r);for(r in a)n=a[r],n!==o[r]&&i.classList[n?"add":"remove"](r)}}const DI={create:_h,update:_h},ph=/[A-Z]/g;function hh(t,e){const n=e.elm;let r=t.data.dataset,i=e.data.dataset,o;if(!r&&!i||r===i)return;r=r||{},i=i||{};const a=n.dataset;for(o in r)i[o]||(a?o in a&&delete a[o]:n.removeAttribute("data-"+o.replace(ph,"-$&").toLowerCase()));for(o in i)r[o]!==i[o]&&(a?a[o]=i[o]:n.setAttribute("data-"+o.replace(ph,"-$&").toLowerCase(),i[o]))}const TI={create:hh,update:hh};function Jm(t,e,n){if(typeof t=="function")t.call(e,n,e);else if(typeof t=="object")for(let r=0;r<t.length;r++)Jm(t[r],e,n)}function LI(t,e){const n=t.type,r=e.data.on;r&&r[n]&&Jm(r[n],e,t)}function UI(){return function t(e){LI(e,t.vnode)}}function Id(t,e){const n=t.data.on,r=t.listener,i=t.elm,o=e&&e.data.on,a=e&&e.elm;let c;if(n!==o){if(n&&r)if(o)for(c in n)o[c]||i.removeEventListener(c,r,!1);else for(c in n)i.removeEventListener(c,r,!1);if(o){const s=e.listener=t.listener||UI();if(s.vnode=e,n)for(c in o)n[c]||a.addEventListener(c,s,!1);else for(c in o)a.addEventListener(c,s,!1)}}}const NI={create:Id,update:Id,destroy:Id};function gh(t,e){let n,r,i;const o=e.elm;let a=t.data.props,c=e.data.props;if(!(!a&&!c)&&a!==c){a=a||{},c=c||{};for(n in c)r=c[n],i=a[n],i!==r&&(n!=="value"||o[n]!==r)&&(o[n]=r)}}const kI={create:gh,update:gh},yh=typeof window!="undefined"&&window.requestAnimationFrame.bind(window)||setTimeout,FI=function(t){yh(function(){yh(t)})};let Hl=!1;function BI(t,e,n){FI(function(){t[e]=n})}function mh(t,e){let n,r;const i=e.elm;let o=t.data.style,a=e.data.style;if(!o&&!a||o===a)return;o=o||{},a=a||{};const c="delayed"in o;for(r in o)a[r]||(r[0]==="-"&&r[1]==="-"?i.style.removeProperty(r):i.style[r]="");for(r in a)if(n=a[r],r==="delayed"&&a.delayed)for(const s in a.delayed)n=a.delayed[s],(!c||n!==o.delayed[s])&&BI(i.style,s,n);else r!=="remove"&&n!==o[r]&&(r[0]==="-"&&r[1]==="-"?i.style.setProperty(r,n):i.style[r]=n)}function YI(t){let e,n;const r=t.elm,i=t.data.style;if(!(!i||!(e=i.destroy)))for(n in e)r.style[n]=e[n]}function $I(t,e){const n=t.data.style;if(!n||!n.remove){e();return}Hl||(t.elm.offsetLeft,Hl=!0);let r;const i=t.elm;let o=0;const a=n.remove;let c=0;const s=[];for(r in a)s.push(r),i.style[r]=a[r];const d=getComputedStyle(i)["transition-property"].split(", ");for(;o<d.length;++o)s.indexOf(d[o])!==-1&&c++;i.addEventListener("transitionend",function(f){f.target===i&&--c,c===0&&e()})}function VI(){Hl=!1}const HI={pre:VI,create:mh,update:mh,destroy:YI,remove:$I};function KI(t,...e){const n=Zf(e,[]);return n.length===1&&!n[0].sel&&n[0].text?zt(void 0,void 0,void 0,n[0].text,void 0):zt(void 0,t!=null?t:{},n,void 0,void 0)}function Zf(t,e){for(const n of t)n!=null&&n!==!1&&n!==""&&(Array.isArray(n)?Zf(n,e):typeof n=="string"||typeof n=="number"||typeof n=="boolean"?e.push(zt(void 0,void 0,void 0,String(n),void 0)):e.push(n));return e}function Kl(t,e,...n){const r=Zf(n,[]);return typeof t=="function"?t(e,r):r.length===1&&!r[0].sel&&r[0].text?gi(t,e,r[0].text):gi(t,e,r)}(function(t){})(Kl||(Kl={}));var zI=Object.freeze(Object.defineProperty({__proto__:null,htmlDomApi:zf,init:vI,thunk:RI,vnode:zt,attachTo:II,array:Ta,primitive:hi,toVNode:Gm,h:gi,fragment:bI,attributesModule:xI,classModule:DI,datasetModule:TI,eventListenersModule:NI,propsModule:kI,styleModule:HI,get jsx(){return Kl},Fragment:KI},Symbol.toStringTag,{value:"Module"})),Wa=Lf(zI),ZI=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(qa,"__esModule",{value:!0});var qI=Wa,WI=fe,GI=function(){function t(){}return t.prototype.render=function(e,n){var r=this;return qI.h(this.selector(e),{key:e.id,hook:{init:this.init.bind(this),prepatch:this.prepatch.bind(this)},fn:function(){return r.renderAndDecorate(e,n)},args:this.watchedArgs(e),thunk:!0})},t.prototype.renderAndDecorate=function(e,n){var r=this.doRender(e,n);return n.decorate(r,e),r},t.prototype.copyToThunk=function(e,n){n.elm=e.elm,e.data.fn=n.data.fn,e.data.args=n.data.args,n.data=e.data,n.children=e.children,n.text=e.text,n.elm=e.elm},t.prototype.init=function(e){var n=e.data,r=n.fn.apply(void 0,n.args);this.copyToThunk(r,e)},t.prototype.prepatch=function(e,n){var r=e.data,i=n.data;this.equals(r.args,i.args)?this.copyToThunk(e,n):this.copyToThunk(i.fn.apply(void 0,i.args),n)},t.prototype.equals=function(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;for(var r=0;r<n.length;++r)if(!this.equals(e[r],n[r]))return!1}else if(typeof e=="object"&&typeof n=="object"){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(i!=="parent"&&i!=="root"&&(!(i in n)||!this.equals(e[i],n[i])))return!1}else if(e!==n)return!1;return!0},t=ZI([WI.injectable()],t),t}();qa.ThunkView=GI;function JI(t){return"thunk"in t}qa.isThunk=JI;var jn={},on={};Object.defineProperty(on,"__esModule",{value:!0});var XI=Wa,QI=["hook","on","style","class","props","attrs","dataset"],ej="http://www.w3.org/2000/svg";function tj(t,e,n){var r={};if(n&&(r.ns=n),t===null)return r;return QI.forEach(function(o){t[o]&&(r[o]=t[o])}),Object.keys(t).forEach(function(o){if(!(o==="key"||o==="classNames"||o==="selector")){var a=o.indexOf("-");a>0?i(o.slice(0,a),o.slice(a+1),t[o]):r[o]||i(e,o,t[o])}}),r;function i(o,a,c){var s=r[o]||(r[o]={});s[a]=c}}function qf(t,e){return e===void 0&&(e="props"),function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return XI.jsx(n,tj(r,e,t),i)}}on.JSX=qf;var nj=qf();on.html=nj;var rj=qf(ej,"attrs");on.svg=rj;var ij=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wf=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},oj=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},vh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(jn,"__esModule",{value:!0});var Xm=on,va=fe,Qm=Se,aj=nn,sj=Pi,cj=tn,uj=gt,dj=ho;function lj(t,e){for(;t!==void 0&&!(e in t)&&t.parentArgs;)t=t.parentArgs;return t?t[e]:void 0}jn.findArgValue=lj;var fj=function(t){ij(e,t);function e(n){var r=t.call(this)||this;return r.registerDefaults(),n.forEach(function(i){return r.register(i.type,i.factory())}),r}return e.prototype.registerDefaults=function(){this.register(cj.EMPTY_ROOT.type,new tv)},e.prototype.missing=function(n){return new nv},e=Wf([va.injectable(),vh(0,va.multiInject(Qm.TYPES.ViewRegistration)),vh(0,va.optional()),oj("design:paramtypes",[Array])],e),e}(aj.InstanceRegistry);jn.ViewRegistry=fj;function _j(t,e,n,r,i){uj.registerModelElement(t,e,n,i),ev(t,e,r)}jn.configureModelElement=_j;function ev(t,e,n){if(typeof n=="function"){if(!sj.isInjectable(n))throw new Error("Views should be @injectable: "+n.name);t.isBound(n)||t.bind(n).toSelf()}t.bind(Qm.TYPES.ViewRegistration).toDynamicValue(function(r){return{type:e,factory:function(){return r.container.get(n)}}})}jn.configureView=ev;var tv=function(){function t(){}return t.prototype.render=function(e,n){return Xm.svg("svg",{"class-sprotty-empty":!0})},t=Wf([va.injectable()],t),t}();jn.EmptyView=tv;var nv=function(){function t(){}return t.prototype.render=function(e,n){var r=e.position||dj.Point.ORIGIN;return Xm.svg("text",{"class-sprotty-missing":!0,x:r.x,y:r.y},"?",e.id,"?")},t=Wf([va.injectable()],t),t}();jn.MissingView=nv;var _u={},jd=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},bh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(_u,"__esModule",{value:!0});var Cd=fe,Ph=Se,pj=bi,hj=function(){function t(){}return t.prototype.update=function(e,n){if(n!==void 0)this.delegate.update(e,n),this.cachedModel=void 0;else{var r=this.cachedModel===void 0;this.cachedModel=e,r&&this.scheduleUpdate()}},t.prototype.scheduleUpdate=function(){var e=this;this.syncer.onEndOfNextFrame(function(){e.cachedModel&&(e.delegate.update(e.cachedModel),e.cachedModel=void 0)})},jd([Cd.inject(Ph.TYPES.IViewer),bh("design:type",Object)],t.prototype,"delegate",void 0),jd([Cd.inject(Ph.TYPES.AnimationFrameSyncer),bh("design:type",pj.AnimationFrameSyncer)],t.prototype,"syncer",void 0),t=jd([Cd.injectable()],t),t}();_u.ViewerCache=hj;var Gf={};(function(t){var e=w&&w.__assign||function(){return e=Object.assign||function(a){for(var c,s=1,u=arguments.length;s<u;s++){c=arguments[s];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=gn,r=Se;t.defaultViewerOptions=function(){return{baseDiv:"sprotty",baseClass:"sprotty",hiddenDiv:"sprotty-hidden",hiddenClass:"sprotty-hidden",popupDiv:"sprotty-popup",popupClass:"sprotty-popup",popupClosedClass:"sprotty-popup-closed",needsClientLayout:!0,needsServerLayout:!1,popupOpenDelay:1e3,popupCloseDelay:300}};function i(a,c){var s=e(e({},t.defaultViewerOptions()),c);a.isBound(r.TYPES.ViewerOptions)?a.rebind(r.TYPES.ViewerOptions).toConstantValue(s):a.bind(r.TYPES.ViewerOptions).toConstantValue(s)}t.configureViewerOptions=i;function o(a,c){var s=a.get(r.TYPES.ViewerOptions);return n.safeAssign(s,c),s}t.overrideViewerOptions=o})(Gf);var $r={},xc=w&&w.__assign||function(){return xc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xc.apply(this,arguments)},Nn=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},kn=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},On=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty($r,"__esModule",{value:!0});var vt=fe,Bi=Wa,La=on,gj=qt,yj=Ka,rv=tn,Yt=Se,mj=qa,pn=pt,vj=function(){function t(e,n,r,i){i===void 0&&(i={}),this.viewRegistry=e,this.targetKind=n,this.postprocessors=r,this.args=i}return t.prototype.decorate=function(e,n){return mj.isThunk(e)?e:this.postprocessors.reduce(function(r,i){return i.decorate(r,n)},e)},t.prototype.renderElement=function(e){var n=this.viewRegistry.get(e.type),r=n.render(e,this,this.args);if(r)return this.decorate(r,e)},t.prototype.renderChildren=function(e,n){var r=n?new t(this.viewRegistry,this.targetKind,this.postprocessors,xc(xc({},n),{parentArgs:this.args})):this;return e.children.map(function(i){return r.renderElement(i)}).filter(function(i){return i!==void 0})},t.prototype.postUpdate=function(e){this.postprocessors.forEach(function(n){return n.postUpdate(e)})},t}();$r.ModelRenderer=vj;var pu=function(){function t(){this.patcher=Bi.init(this.createModules())}return t.prototype.createModules=function(){return[Bi.propsModule,Bi.attributesModule,Bi.classModule,Bi.styleModule,Bi.eventListenersModule]},t=Nn([vt.injectable(),kn("design:paramtypes",[])],t),t}();$r.PatcherProvider=pu;var bj=function(){function t(e,n,r){this.renderer=e("main",r),this.patcher=n.patcher}return t.prototype.update=function(e,n){var r=this;this.logger.log(this,"rendering",e);var i=La.html("div",{id:this.options.baseDiv},this.renderer.renderElement(e));if(this.lastVDOM!==void 0){var o=this.hasFocus();pn.copyClassesFromVNode(this.lastVDOM,i),this.lastVDOM=this.patcher.call(this,this.lastVDOM,i),this.restoreFocus(o)}else if(typeof document!="undefined"){var a=document.getElementById(this.options.baseDiv);a!==null?(typeof window!="undefined"&&window.addEventListener("resize",function(){r.onWindowResize(i)}),pn.copyClassesFromElement(a,i),pn.setClass(i,this.options.baseClass,!0),this.lastVDOM=this.patcher.call(this,a,i)):this.logger.error(this,"element not in DOM:",this.options.baseDiv)}this.renderer.postUpdate(n)},t.prototype.hasFocus=function(){if(typeof document!="undefined"&&document.activeElement&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var e=this.lastVDOM.children[0];if(typeof e=="object"){var n=e.elm;return document.activeElement===n}}return!1},t.prototype.restoreFocus=function(e){if(e&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var n=this.lastVDOM.children[0];if(typeof n=="object"){var r=n.elm;r&&typeof r.focus=="function"&&r.focus()}}},t.prototype.onWindowResize=function(e){var n=document.getElementById(this.options.baseDiv);if(n!==null){var r=this.getBoundsInPage(n);this.actiondispatcher.dispatch(yj.InitializeCanvasBoundsAction.create(r))}},t.prototype.getBoundsInPage=function(e){var n=e.getBoundingClientRect(),r=gj.getWindowScroll();return{x:n.left+r.x,y:n.top+r.y,width:n.width,height:n.height}},Nn([vt.inject(Yt.TYPES.ViewerOptions),kn("design:type",Object)],t.prototype,"options",void 0),Nn([vt.inject(Yt.TYPES.ILogger),kn("design:type",Object)],t.prototype,"logger",void 0),Nn([vt.inject(Yt.TYPES.IActionDispatcher),kn("design:type",Object)],t.prototype,"actiondispatcher",void 0),t=Nn([vt.injectable(),On(0,vt.inject(Yt.TYPES.ModelRendererFactory)),On(1,vt.inject(Yt.TYPES.PatcherProvider)),On(2,vt.multiInject(Yt.TYPES.IVNodePostprocessor)),On(2,vt.optional()),kn("design:paramtypes",[Function,pu,Array])],t),t}();$r.ModelViewer=bj;var Pj=function(){function t(e,n,r){this.hiddenRenderer=e("hidden",r),this.patcher=n.patcher}return t.prototype.update=function(e,n){this.logger.log(this,"rendering hidden");var r;if(e.type===rv.EMPTY_ROOT.type)r=La.html("div",{id:this.options.hiddenDiv});else{var i=this.hiddenRenderer.renderElement(e);i&&pn.setAttr(i,"opacity",0),r=La.html("div",{id:this.options.hiddenDiv},i)}if(this.lastHiddenVDOM!==void 0)pn.copyClassesFromVNode(this.lastHiddenVDOM,r),this.lastHiddenVDOM=this.patcher.call(this,this.lastHiddenVDOM,r);else{var o=document.getElementById(this.options.hiddenDiv);o===null?(o=document.createElement("div"),document.body.appendChild(o)):pn.copyClassesFromElement(o,r),pn.setClass(r,this.options.baseClass,!0),pn.setClass(r,this.options.hiddenClass,!0),this.lastHiddenVDOM=this.patcher.call(this,o,r)}this.hiddenRenderer.postUpdate(n)},Nn([vt.inject(Yt.TYPES.ViewerOptions),kn("design:type",Object)],t.prototype,"options",void 0),Nn([vt.inject(Yt.TYPES.ILogger),kn("design:type",Object)],t.prototype,"logger",void 0),t=Nn([vt.injectable(),On(0,vt.inject(Yt.TYPES.ModelRendererFactory)),On(1,vt.inject(Yt.TYPES.PatcherProvider)),On(2,vt.multiInject(Yt.TYPES.HiddenVNodePostprocessor)),On(2,vt.optional()),kn("design:paramtypes",[Function,pu,Array])],t),t}();$r.HiddenModelViewer=Pj;var wj=function(){function t(e,n,r){this.modelRendererFactory=e,this.popupRenderer=this.modelRendererFactory("popup",r),this.patcher=n.patcher}return t.prototype.update=function(e,n){this.logger.log(this,"rendering popup",e);var r=e.type===rv.EMPTY_ROOT.type,i;if(r)i=La.html("div",{id:this.options.popupDiv});else{var o=e.canvasBounds,a={top:o.y+"px",left:o.x+"px"};i=La.html("div",{id:this.options.popupDiv,style:a},this.popupRenderer.renderElement(e))}if(this.lastPopupVDOM!==void 0)pn.copyClassesFromVNode(this.lastPopupVDOM,i),pn.setClass(i,this.options.popupClosedClass,r),this.lastPopupVDOM=this.patcher.call(this,this.lastPopupVDOM,i);else if(typeof document!="undefined"){var c=document.getElementById(this.options.popupDiv);c===null?(c=document.createElement("div"),document.body.appendChild(c)):pn.copyClassesFromElement(c,i),pn.setClass(i,this.options.popupClass,!0),pn.setClass(i,this.options.popupClosedClass,r),this.lastPopupVDOM=this.patcher.call(this,c,i)}this.popupRenderer.postUpdate(n)},Nn([vt.inject(Yt.TYPES.ViewerOptions),kn("design:type",Object)],t.prototype,"options",void 0),Nn([vt.inject(Yt.TYPES.ILogger),kn("design:type",Object)],t.prototype,"logger",void 0),t=Nn([vt.injectable(),On(0,vt.inject(Yt.TYPES.ModelRendererFactory)),On(1,vt.inject(Yt.TYPES.PatcherProvider)),On(2,vt.multiInject(Yt.TYPES.PopupVNodePostprocessor)),On(2,vt.optional()),kn("design:paramtypes",[Function,pu,Array])],t),t}();$r.PopupModelViewer=wj;var hu={},Rj=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(hu,"__esModule",{value:!0});var Sj=fe,Ej=pt,Aj=function(){function t(){}return t.prototype.decorate=function(e,n){return e.sel&&e.sel.startsWith("svg")&&Ej.setAttr(e,"tabindex",0),e},t.prototype.postUpdate=function(){},t=Rj([Sj.injectable()],t),t}();hu.FocusFixPostprocessor=Aj;var gu={},yu={};(function(t){var e=w&&w.__decorate||function(u,d,f,_){var y=arguments.length,g=y<3?d:_===null?_=Object.getOwnPropertyDescriptor(d,f):_,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(u,d,f,_);else for(var m=u.length-1;m>=0;m--)(v=u[m])&&(g=(y<3?v(g):y>3?v(d,f,g):v(d,f))||g);return y>3&&g&&Object.defineProperty(d,f,g),g},n=w&&w.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},r=w&&w.__spreadArrays||function(){for(var u=0,d=0,f=arguments.length;d<f;d++)u+=arguments[d].length;for(var _=Array(u),y=0,d=0;d<f;d++)for(var g=arguments[d],v=0,m=g.length;v<m;v++,y++)_[y]=g[v];return _};Object.defineProperty(t,"__esModule",{value:!0});var i=fe,o=Se,a;(function(u){u[u.none=0]="none",u[u.error=1]="error",u[u.warn=2]="warn",u[u.info=3]="info",u[u.log=4]="log"})(a=t.LogLevel||(t.LogLevel={}));var c=function(){function u(){this.logLevel=a.none}return u.prototype.error=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u.prototype.warn=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u.prototype.info=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u.prototype.log=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y]},u=e([i.injectable()],u),u}();t.NullLogger=c;var s=function(){function u(){this.logLevel=a.log,this.viewOptions={baseDiv:""}}return u.prototype.error=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.error)try{console.error.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.warn=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.warn)try{console.warn.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.info=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.info)try{console.info.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.log=function(d,f){for(var _=[],y=2;y<arguments.length;y++)_[y-2]=arguments[y];if(this.logLevel>=a.log)try{console.log.apply(d,this.consoleArguments(d,f,_))}catch{}},u.prototype.consoleArguments=function(d,f,_){var y;typeof d=="object"?y=d.constructor.name:y=d;var g=new Date;return r([g.toLocaleTimeString()+" "+this.viewOptions.baseDiv+" "+y+": "+f],_)},e([i.inject(o.TYPES.LogLevel),n("design:type",Number)],u.prototype,"logLevel",void 0),e([i.inject(o.TYPES.ViewerOptions),n("design:type",Object)],u.prototype,"viewOptions",void 0),u=e([i.injectable()],u),u}();t.ConsoleLogger=s})(yu);var Jf={},Md=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},wh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Jf,"__esModule",{value:!0});var xd=fe,Rh=Se,Oj=Ri,Ij=pt,jj=function(){function t(){}return t.prototype.decorate=function(e,n){var r=Ij.getAttrs(e);return r.id!==void 0&&this.logger.warn(e,"Overriding id of vnode ("+r.id+"). Make sure not to set it manually in view."),r.id=this.domHelper.createUniqueDOMElementId(n),e.key||(e.key=n.id),e},t.prototype.postUpdate=function(){},Md([xd.inject(Rh.TYPES.ILogger),wh("design:type",Object)],t.prototype,"logger",void 0),Md([xd.inject(Rh.TYPES.DOMHelper),wh("design:type",Oj.DOMHelper)],t.prototype,"domHelper",void 0),t=Md([xd.injectable()],t),t}();Jf.IdPostprocessor=jj;var Xf={},Cj=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Xf,"__esModule",{value:!0});var Mj=rn,Sh=pt,xj=fe,Dj=function(){function t(){}return t.prototype.decorate=function(e,n){if(n.cssClasses)for(var r=0,i=n.cssClasses;r<i.length;r++){var o=i[r];Sh.setClass(e,o,!0)}var a=Mj.getSubType(n);return a&&a!==n.type&&Sh.setClass(e,a,!0),e},t.prototype.postUpdate=function(){},t=Cj([xj.injectable()],t),t}();Xf.CssClassPostprocessor=Dj;Object.defineProperty(gu,"__esModule",{value:!0});var Tj=fe,Ke=Se,Dd=Ka,Eh=yu,Lj=Fa,Ms=Yr,Uj=du,Ah=tn,Nj=bi,Ir=$r,kj=Gf,Yi=Nt,Oh=yn,Ih=hu,Fj=jn,xs=_u,Bj=Ri,Ds=Jf,Ts=Ut,Td=Xf,Wo=vo,jh=lu,Yj=wi,Ch=za,$j=cu,Vj=new Tj.ContainerModule(function(t,e,n){t(Ke.TYPES.ILogger).to(Eh.NullLogger).inSingletonScope(),t(Ke.TYPES.LogLevel).toConstantValue(Eh.LogLevel.warn),t(Ke.TYPES.SModelRegistry).to(Ah.SModelRegistry).inSingletonScope(),t(Ms.ActionHandlerRegistry).toSelf().inSingletonScope(),t(Ke.TYPES.ActionHandlerRegistryProvider).toProvider(function(i){return function(){return new Promise(function(o){o(i.container.get(Ms.ActionHandlerRegistry))})}}),t(Ke.TYPES.ViewRegistry).to(Fj.ViewRegistry).inSingletonScope(),t(Ke.TYPES.IModelFactory).to(Ah.SModelFactory).inSingletonScope(),t(Ke.TYPES.IActionDispatcher).to(Lj.ActionDispatcher).inSingletonScope(),t(Ke.TYPES.IActionDispatcherProvider).toProvider(function(i){return function(){return new Promise(function(o){o(i.container.get(Ke.TYPES.IActionDispatcher))})}}),t(Ke.TYPES.IDiagramLocker).to($j.DefaultDiagramLocker).inSingletonScope(),t(Ke.TYPES.IActionHandlerInitializer).to(Ts.CommandActionHandlerInitializer),t(Ke.TYPES.ICommandStack).to(Uj.CommandStack).inSingletonScope(),t(Ke.TYPES.ICommandStackProvider).toProvider(function(i){return function(){return new Promise(function(o){o(i.container.get(Ke.TYPES.ICommandStack))})}}),t(Ke.TYPES.CommandStackOptions).toConstantValue({defaultDuration:250,undoHistoryLimit:50}),t(Ir.ModelViewer).toSelf().inSingletonScope(),t(Ir.HiddenModelViewer).toSelf().inSingletonScope(),t(Ir.PopupModelViewer).toSelf().inSingletonScope(),t(Ke.TYPES.ModelViewer).toDynamicValue(function(i){var o=i.container.createChild();return o.bind(Ke.TYPES.IViewer).toService(Ir.ModelViewer),o.bind(xs.ViewerCache).toSelf(),o.get(xs.ViewerCache)}).inSingletonScope(),t(Ke.TYPES.PopupModelViewer).toDynamicValue(function(i){var o=i.container.createChild();return o.bind(Ke.TYPES.IViewer).toService(Ir.PopupModelViewer),o.bind(xs.ViewerCache).toSelf(),o.get(xs.ViewerCache)}).inSingletonScope(),t(Ke.TYPES.HiddenModelViewer).toService(Ir.HiddenModelViewer),t(Ke.TYPES.IViewerProvider).toDynamicValue(function(i){return{get modelViewer(){return i.container.get(Ke.TYPES.ModelViewer)},get hiddenModelViewer(){return i.container.get(Ke.TYPES.HiddenModelViewer)},get popupModelViewer(){return i.container.get(Ke.TYPES.PopupModelViewer)}}}),t(Ke.TYPES.ViewerOptions).toConstantValue(kj.defaultViewerOptions()),t(Ke.TYPES.PatcherProvider).to(Ir.PatcherProvider).inSingletonScope(),t(Ke.TYPES.DOMHelper).to(Bj.DOMHelper).inSingletonScope(),t(Ke.TYPES.ModelRendererFactory).toFactory(function(i){return function(o,a,c){c===void 0&&(c={});var s=i.container.get(Ke.TYPES.ViewRegistry);return new Ir.ModelRenderer(s,o,a,c)}}),t(Ds.IdPostprocessor).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Ds.IdPostprocessor),t(Ke.TYPES.HiddenVNodePostprocessor).toService(Ds.IdPostprocessor),t(Td.CssClassPostprocessor).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Td.CssClassPostprocessor),t(Ke.TYPES.HiddenVNodePostprocessor).toService(Td.CssClassPostprocessor),t(Yi.MouseTool).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Yi.MouseTool),t(Oh.KeyTool).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Oh.KeyTool),t(Ih.FocusFixPostprocessor).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Ih.FocusFixPostprocessor),t(Ke.TYPES.PopupVNodePostprocessor).toService(Ds.IdPostprocessor),t(Yi.PopupMouseTool).toSelf().inSingletonScope(),t(Ke.TYPES.PopupVNodePostprocessor).toService(Yi.PopupMouseTool),t(Ke.TYPES.AnimationFrameSyncer).to(Nj.AnimationFrameSyncer).inSingletonScope();var r={bind:t,isBound:n};Ts.configureCommand(r,Dd.InitializeCanvasBoundsCommand),t(Dd.CanvasBoundsInitializer).toSelf().inSingletonScope(),t(Ke.TYPES.IVNodePostprocessor).toService(Dd.CanvasBoundsInitializer),Ts.configureCommand(r,Yj.SetModelCommand),t(Ke.TYPES.IToolManager).to(Wo.ToolManager).inSingletonScope(),t(Ke.TYPES.KeyListener).to(Wo.DefaultToolsEnablingKeyListener),t(Wo.ToolManagerActionHandler).toSelf().inSingletonScope(),Ms.configureActionHandler(r,jh.EnableDefaultToolsAction.KIND,Wo.ToolManagerActionHandler),Ms.configureActionHandler(r,jh.EnableToolsAction.KIND,Wo.ToolManagerActionHandler),t(Ke.TYPES.UIExtensionRegistry).to(Ch.UIExtensionRegistry).inSingletonScope(),Ts.configureCommand(r,Ch.SetUIExtensionVisibilityCommand),t(Yi.MousePositionTracker).toSelf().inSingletonScope(),t(Ke.TYPES.MouseListener).toService(Yi.MousePositionTracker)});gu.default=Vj;var tr={},ft={};(function(t){var e=w&&w.__extends||function(){var m=function(h,P){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,R){p.__proto__=R}||function(p,R){for(var O in R)R.hasOwnProperty(O)&&(p[O]=R[O])},m(h,P)};return function(h,P){m(h,P);function p(){this.constructor=h}h.prototype=P===null?Object.create(P):(p.prototype=P.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=rt,r=qe,i=gt,o=qt;t.boundsFeature=Symbol("boundsFeature"),t.layoutContainerFeature=Symbol("layoutContainerFeature"),t.layoutableChildFeature=Symbol("layoutableChildFeature"),t.alignFeature=Symbol("alignFeature");function a(m){return"bounds"in m}t.isBoundsAware=a;function c(m){return a(m)&&m.hasFeature(t.layoutContainerFeature)&&"layout"in m}t.isLayoutContainer=c;function s(m){return a(m)&&m.hasFeature(t.layoutableChildFeature)}t.isLayoutableChild=s;function u(m){return m.hasFeature(t.boundsFeature)&&a(m)}t.isSizeable=u;function d(m){return m.hasFeature(t.alignFeature)&&"alignment"in m}t.isAlignable=d;function f(m){var h=i.findParentByFeature(m,a);if(h!==void 0){for(var P=h.bounds,p=h;p instanceof r.SChildElement;){var R=p.parent;P=R.localToParent(P),p=R}return P}else if(m instanceof r.SModelRoot){var O=m.canvasBounds;return{x:0,y:0,width:O.width,height:O.height}}else return n.Bounds.EMPTY}t.getAbsoluteBounds=f;function _(m,h,P){var p=0,R=0,O=0,A=0,I=h.createUniqueDOMElementId(m),j=document.getElementById(I);if(j){var U=j.getBoundingClientRect(),C=o.getWindowScroll();p=U.left+C.x,R=U.top+C.y,O=U.width,A=U.height}var x=document.getElementById(P.baseDiv);if(x)for(;x.offsetParent instanceof HTMLElement&&(x=x.offsetParent);)p-=x.offsetLeft,R-=x.offsetTop;return{x:p,y:R,width:O,height:A}}t.getAbsoluteClientBounds=_;function y(m,h){var P=[];return g(m,h,P),P}t.findChildrenAtPosition=y;function g(m,h,P){m.children.forEach(function(p){if(a(p)&&n.Bounds.includes(p.bounds,h)&&P.push(p),p instanceof r.SParentElement){var R=p.parentToLocal(h);g(p,R,P)}})}var v=function(m){e(h,m);function h(){var P=m!==null&&m.apply(this,arguments)||this;return P.position=n.Point.ORIGIN,P.size=n.Dimension.EMPTY,P}return Object.defineProperty(h.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(P){this.position={x:P.x,y:P.y},this.size={width:P.width,height:P.height}},enumerable:!0,configurable:!0}),h.prototype.localToParent=function(P){var p={x:P.x+this.position.x,y:P.y+this.position.y,width:-1,height:-1};return n.isBounds(P)&&(p.width=P.width,p.height=P.height),p},h.prototype.parentToLocal=function(P){var p={x:P.x-this.position.x,y:P.y-this.position.y,width:-1,height:-1};return n.isBounds(P)&&(p.width=P.width,p.height=P.height),p},h}(r.SChildElement);t.SShapeElement=v})(ft);var iv=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ba=w&&w.__assign||function(){return ba=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ba.apply(this,arguments)},ov=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},av=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},sv=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(tr,"__esModule",{value:!0});var Dc=fe,Hj=St,cv=st,uv=Se,Kj=ft,zl=function(){function t(e){this.bounds=e,this.kind=t.KIND}return t.KIND="setBounds",t}();tr.SetBoundsAction=zl;var Zl=function(){function t(e,n){n===void 0&&(n=""),this.newRoot=e,this.requestId=n,this.kind=t.KIND}return t.create=function(e){return new t(e,Hj.generateRequestId())},t.KIND="requestBounds",t}();tr.RequestBoundsAction=Zl;var dv=function(){function t(e,n,r,i){i===void 0&&(i=""),this.bounds=e,this.revision=n,this.alignments=r,this.responseId=i,this.kind=t.KIND}return t.KIND="computedBounds",t}();tr.ComputedBoundsAction=dv;var zj=function(){function t(){this.kind=t.KIND}return t.KIND="layout",t}();tr.LayoutAction=zj;var Zj=function(t){iv(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r.bounds=[],r}return e.prototype.execute=function(n){var r=this;return this.action.bounds.forEach(function(i){var o=n.root.index.getById(i.elementId);o&&Kj.isBoundsAware(o)&&r.bounds.push({element:o,oldBounds:o.bounds,newPosition:i.newPosition,newSize:i.newSize})}),this.redo(n)},e.prototype.undo=function(n){return this.bounds.forEach(function(r){return r.element.bounds=r.oldBounds}),n.root},e.prototype.redo=function(n){return this.bounds.forEach(function(r){r.newPosition?r.element.bounds=ba(ba({},r.newPosition),r.newSize):r.element.bounds=ba({x:r.element.bounds.x,y:r.element.bounds.y},r.newSize)}),n.root},e.KIND=zl.KIND,e=ov([Dc.injectable(),sv(0,Dc.inject(uv.TYPES.Action)),av("design:paramtypes",[zl])],e),e}(cv.SystemCommand);tr.SetBoundsCommand=Zj;var qj=function(t){iv(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r}return e.prototype.execute=function(n){return{model:n.modelFactory.createRoot(this.action.newRoot),modelChanged:!0,cause:this.action}},Object.defineProperty(e.prototype,"blockUntil",{get:function(){return function(n){return n.kind===dv.KIND}},enumerable:!0,configurable:!0}),e.KIND=Zl.KIND,e=ov([Dc.injectable(),sv(0,Dc.inject(uv.TYPES.Action)),av("design:paramtypes",[Zl])],e),e}(cv.HiddenCommand);tr.RequestBoundsCommand=qj;var Ga={},Vr={},Wj=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pa=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Tc=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Mh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Vr,"__esModule",{value:!0});var li=fe,Gj=rt,Ua=Se,Jj=nn,xh=ft,Xj=Pi,lv=function(t){Wj(e,t);function e(n){n===void 0&&(n=[]);var r=t.call(this)||this;return n.forEach(function(i){r.hasKey(i.layoutKind)?r.logger.warn("Layout kind is already defined: ",i.layoutKind):r.register(i.layoutKind,i.factory())}),r}return Pa([li.inject(Ua.TYPES.ILogger),Tc("design:type",Object)],e.prototype,"logger",void 0),e=Pa([li.injectable(),Mh(0,li.multiInject(Ua.TYPES.LayoutRegistration)),Mh(0,li.optional()),Tc("design:paramtypes",[Array])],e),e}(Jj.InstanceRegistry);Vr.LayoutRegistry=lv;var Qj=function(){function t(){}return t.prototype.layout=function(e){new fv(e,this.layoutRegistry,this.logger).layout()},Pa([li.inject(Ua.TYPES.LayoutRegistry),Tc("design:type",lv)],t.prototype,"layoutRegistry",void 0),Pa([li.inject(Ua.TYPES.ILogger),Tc("design:type",Object)],t.prototype,"logger",void 0),t=Pa([li.injectable()],t),t}();Vr.Layouter=Qj;var fv=function(){function t(e,n,r){var i=this;this.element2boundsData=e,this.layoutRegistry=n,this.log=r,this.toBeLayouted=[],e.forEach(function(o,a){xh.isLayoutContainer(a)&&i.toBeLayouted.push(a)})}return t.prototype.getBoundsData=function(e){var n=this.element2boundsData.get(e),r=e.bounds;return xh.isLayoutContainer(e)&&this.toBeLayouted.indexOf(e)>=0&&(r=this.doLayout(e)),n||(n={bounds:r,boundsChanged:!1,alignmentChanged:!1},this.element2boundsData.set(e,n)),n},t.prototype.layout=function(){for(;this.toBeLayouted.length>0;){var e=this.toBeLayouted[0];this.doLayout(e)}},t.prototype.doLayout=function(e){var n=this.toBeLayouted.indexOf(e);n>=0&&this.toBeLayouted.splice(n,1);var r=this.layoutRegistry.get(e.layout);r&&r.layout(e,this);var i=this.element2boundsData.get(e);return i!==void 0&&i.bounds!==void 0?i.bounds:(this.log.error(e,"Layout failed"),Gj.Bounds.EMPTY)},t}();Vr.StatefulLayouter=fv;function eC(t,e,n){if(typeof n=="function"){if(!Xj.isInjectable(n))throw new Error("Layouts be @injectable: "+n.name);t.isBound(n)||t.bind(n).toSelf()}t.bind(Ua.TYPES.LayoutRegistration).toDynamicValue(function(r){return{layoutKind:e,factory:function(){return r.container.get(n)}}})}Vr.configureLayout=eC;var Ls=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Ld=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ga,"__esModule",{value:!0});var Us=fe,Dh=St,ri=rt,Th=qe,Ud=Se,tC=Vr,Go=ft,nC=function(){function t(){}return t}();Ga.BoundsData=nC;var rC=function(){function t(){this.element2boundsData=new Map}return t.prototype.decorate=function(e,n){return(Go.isSizeable(n)||Go.isLayoutContainer(n))&&this.element2boundsData.set(n,{vnode:e,bounds:n.bounds,boundsChanged:!1,alignmentChanged:!1}),n instanceof Th.SModelRoot&&(this.root=n),e},t.prototype.postUpdate=function(e){if(!(e===void 0||e.kind!==Dh.RequestBoundsAction.KIND)){var n=e;this.getBoundsFromDOM(),this.layouter.layout(this.element2boundsData);var r=[],i=[];this.element2boundsData.forEach(function(a,c){if(a.boundsChanged&&a.bounds!==void 0){var s={elementId:c.id,newSize:{width:a.bounds.width,height:a.bounds.height}};c instanceof Th.SChildElement&&Go.isLayoutContainer(c.parent)&&(s.newPosition={x:a.bounds.x,y:a.bounds.y}),r.push(s)}a.alignmentChanged&&a.alignment!==void 0&&i.push({elementId:c.id,newAlignment:a.alignment})});var o=this.root!==void 0?this.root.revision:void 0;this.actionDispatcher.dispatch(Dh.ComputedBoundsAction.create(r,{revision:o,alignments:i,requestId:n.requestId})),this.element2boundsData.clear()}},t.prototype.getBoundsFromDOM=function(){var e=this;this.element2boundsData.forEach(function(n,r){if(n.bounds&&Go.isSizeable(r)){var i=n.vnode;if(i&&i.elm){var o=e.getBounds(i.elm,r);Go.isAlignable(r)&&!(ri.almostEquals(o.x,0)&&ri.almostEquals(o.y,0))&&(n.alignment={x:-o.x,y:-o.y},n.alignmentChanged=!0);var a={x:r.bounds.x,y:r.bounds.y,width:o.width,height:o.height};ri.almostEquals(a.x,r.bounds.x)&&ri.almostEquals(a.y,r.bounds.y)&&ri.almostEquals(a.width,r.bounds.width)&&ri.almostEquals(a.height,r.bounds.height)||(n.bounds=a,n.boundsChanged=!0)}}})},t.prototype.getBounds=function(e,n){if(typeof e.getBBox!="function")return this.logger.error(this,"Not an SVG element:",e),ri.Bounds.EMPTY;var r=e.getBBox();return{x:r.x,y:r.y,width:r.width,height:r.height}},Ls([Us.inject(Ud.TYPES.ILogger),Ld("design:type",Object)],t.prototype,"logger",void 0),Ls([Us.inject(Ud.TYPES.IActionDispatcher),Ld("design:type",Object)],t.prototype,"actionDispatcher",void 0),Ls([Us.inject(Ud.TYPES.Layouter),Ld("design:type",tC.Layouter)],t.prototype,"layouter",void 0),t=Ls([Us.injectable()],t),t}();Ga.HiddenBoundsUpdater=rC;var mu={},Ja={},iC=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Ja,"__esModule",{value:!0});var Nd=rt,Lh=qe,kd=ft,oC=fe,aC=function(){function t(){}return t.prototype.layout=function(e,n){var r=n.getBoundsData(e),i=this.getLayoutOptions(e),o=this.getChildrenSize(e,i,n),a=i.paddingFactor*(i.resizeContainer?o.width:Math.max(0,this.getFixedContainerBounds(e,i,n).width)-i.paddingLeft-i.paddingRight),c=i.paddingFactor*(i.resizeContainer?o.height:Math.max(0,this.getFixedContainerBounds(e,i,n).height)-i.paddingTop-i.paddingBottom);if(a>0&&c>0){var s=this.layoutChildren(e,n,i,a,c);r.bounds=this.getFinalContainerBounds(e,s,i,a,c),r.boundsChanged=!0}},t.prototype.getFinalContainerBounds=function(e,n,r,i,o){return{x:e.bounds.x,y:e.bounds.y,width:Math.max(r.minWidth,i+r.paddingLeft+r.paddingRight),height:Math.max(r.minHeight,o+r.paddingTop+r.paddingBottom)}},t.prototype.getFixedContainerBounds=function(e,n,r){for(var i=e;;){if(kd.isBoundsAware(i)){var o=i.bounds;if(kd.isLayoutContainer(i)&&n.resizeContainer&&r.log.error(i,"Resizable container found while detecting fixed bounds"),Nd.Dimension.isValid(o))return o}if(i instanceof Lh.SChildElement)i=i.parent;else return r.log.error(i,"Cannot detect fixed bounds"),Nd.Bounds.EMPTY}},t.prototype.layoutChildren=function(e,n,r,i,o){var a=this,c={x:r.paddingLeft+.5*(i-i/r.paddingFactor),y:r.paddingTop+.5*(o-o/r.paddingFactor)};return e.children.forEach(function(s){if(kd.isLayoutableChild(s)){var u=n.getBoundsData(s),d=u.bounds,f=a.getChildLayoutOptions(s,r);d!==void 0&&Nd.Dimension.isValid(d)&&(c=a.layoutChild(s,u,d,f,r,c,i,o))}}),c},t.prototype.getDx=function(e,n,r){switch(e){case"left":return 0;case"center":return .5*(r-n.width);case"right":return r-n.width}},t.prototype.getDy=function(e,n,r){switch(e){case"top":return 0;case"center":return .5*(r-n.height);case"bottom":return r-n.height}},t.prototype.getChildLayoutOptions=function(e,n){var r=e.layoutOptions;return r===void 0?n:this.spread(n,r)},t.prototype.getLayoutOptions=function(e){for(var n=this,r=e,i=[];r!==void 0;){var o=r.layoutOptions;if(o!==void 0&&i.push(o),r instanceof Lh.SChildElement)r=r.parent;else break}return i.reverse().reduce(function(a,c){return n.spread(a,c)},this.getDefaultLayoutOptions())},t=iC([oC.injectable()],t),t}();Ja.AbstractLayout=aC;var sC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lc=w&&w.__assign||function(){return Lc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lc.apply(this,arguments)},cC=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(mu,"__esModule",{value:!0});var uC=fe,dC=rt,lC=Ja,fC=ft,_C=function(t){sC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getChildrenSize=function(n,r,i){var o=-1,a=0,c=!0;return n.children.forEach(function(s){if(fC.isLayoutableChild(s)){var u=i.getBoundsData(s).bounds;u!==void 0&&dC.Dimension.isValid(u)&&(a+=u.height,c?c=!1:a+=r.vGap,o=Math.max(o,u.width))}}),{width:o,height:a}},e.prototype.layoutChild=function(n,r,i,o,a,c,s,u){var d=this.getDx(o.hAlign,i,s);return r.bounds={x:a.paddingLeft+n.bounds.x-i.x+d,y:c.y+n.bounds.y-i.y,width:i.width,height:i.height},r.boundsChanged=!0,{x:c.x,y:c.y+i.height+a.vGap}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,vGap:1,hAlign:"center",minWidth:0,minHeight:0}},e.prototype.spread=function(n,r){return Lc(Lc({},n),r)},e.KIND="vbox",e=cC([uC.injectable()],e),e}(lC.AbstractLayout);mu.VBoxLayouter=_C;var vu={},pC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uc=w&&w.__assign||function(){return Uc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Uc.apply(this,arguments)},hC=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(vu,"__esModule",{value:!0});var gC=fe,yC=rt,mC=Ja,vC=ft,bC=function(t){pC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getChildrenSize=function(n,r,i){var o=0,a=-1,c=!0;return n.children.forEach(function(s){if(vC.isLayoutableChild(s)){var u=i.getBoundsData(s).bounds;u!==void 0&&yC.Dimension.isValid(u)&&(c?c=!1:o+=r.hGap,o+=u.width,a=Math.max(a,u.height))}}),{width:o,height:a}},e.prototype.layoutChild=function(n,r,i,o,a,c,s,u){var d=this.getDy(o.vAlign,i,u);return r.bounds={x:c.x+n.bounds.x-i.x,y:a.paddingTop+n.bounds.y-i.y+d,width:i.width,height:i.height},r.boundsChanged=!0,{x:c.x+i.width+a.hGap,y:c.y}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hGap:1,vAlign:"center",minWidth:0,minHeight:0}},e.prototype.spread=function(n,r){return Uc(Uc({},n),r)},e.KIND="hbox",e=hC([gC.injectable()],e),e}(mC.AbstractLayout);vu.HBoxLayouter=bC;var bu={},PC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nc=w&&w.__assign||function(){return Nc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nc.apply(this,arguments)},wC=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(bu,"__esModule",{value:!0});var RC=fe,SC=rt,EC=Ja,AC=ft,OC=function(t){PC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getChildrenSize=function(n,r,i){var o=-1,a=-1;return n.children.forEach(function(c){if(AC.isLayoutableChild(c)){var s=i.getBoundsData(c).bounds;s!==void 0&&SC.Dimension.isValid(s)&&(o=Math.max(o,s.width),a=Math.max(a,s.height))}}),{width:o,height:a}},e.prototype.layoutChild=function(n,r,i,o,a,c,s,u){var d=this.getDx(o.hAlign,i,s),f=this.getDy(o.vAlign,i,u);return r.bounds={x:a.paddingLeft+n.bounds.x-i.x+d,y:a.paddingTop+n.bounds.y-i.y+f,width:i.width,height:i.height},r.boundsChanged=!0,c},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hAlign:"center",vAlign:"center",minWidth:0,minHeight:0}},e.prototype.spread=function(n,r){return Nc(Nc({},n),r)},e.KIND="stack",e=wC([RC.injectable()],e),e}(EC.AbstractLayout);bu.StackLayouter=OC;var bo={},IC=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(bo,"__esModule",{value:!0});var jC=fe,CC=rt,MC=ft,xC=function(){function t(){}return t.prototype.isVisible=function(e,n){if(n.targetKind==="hidden"||!CC.Dimension.isValid(e.bounds))return!0;var r=MC.getAbsoluteBounds(e),i=e.root.canvasBounds;return r.x<=i.width&&r.x+r.width>=0&&r.y<=i.height&&r.y+r.height>=0},t=IC([jC.injectable()],t),t}();bo.ShapeView=xC;var Xa={},DC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TC=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},LC=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Uh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Xa,"__esModule",{value:!0});var Fd=fe,UC=nn,NC=Se,kC=function(t){DC(e,t);function e(n){var r=t.call(this)||this;return n.forEach(function(i){return r.register(i.TYPE,new i)}),r}return e=TC([Fd.injectable(),Uh(0,Fd.multiInject(NC.TYPES.IButtonHandler)),Uh(0,Fd.optional()),LC("design:paramtypes",[Array])],e),e}(UC.InstanceRegistry);Xa.ButtonHandlerRegistry=kC;var Qa={},Po={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fadeFeature=Symbol("fadeFeature");function e(n){return n.hasFeature(t.fadeFeature)&&n.opacity!==void 0}t.isFadeable=e})(Po);var FC=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Qa,"__esModule",{value:!0});var Bd=ft,BC=Po,YC=function(t){FC(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.enabled=!0,n}return e.DEFAULT_FEATURES=[Bd.boundsFeature,Bd.layoutableChildFeature,BC.fadeFeature],e}(Bd.SShapeElement);Qa.SButton=YC;var wo={},Qf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.nameFeature=Symbol("nameableFeature");function e(r){return r.hasFeature(t.nameFeature)}t.isNameable=e;function n(r){if(e(r))return r.name}t.name=n})(Qf);var _v=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},pv=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},ql=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(wo,"__esModule",{value:!0});var wa=fe,Yd=St,Nh=$n,hv=Se,$C=vi,kh=Qf,VC=function(){function t(e){e===void 0&&(e=[]),this.actionProviders=e}return t.prototype.getActions=function(e,n,r,i){var o=this.actionProviders.map(function(a){return a.getActions(e,n,r,i)});return Promise.all(o).then(function(a){return a.reduce(function(c,s){return s!==void 0?c.concat(s):c})})},t=_v([wa.injectable(),ql(0,wa.multiInject(hv.TYPES.ICommandPaletteActionProvider)),ql(0,wa.optional()),pv("design:paramtypes",[Array])],t),t}();wo.CommandPaletteActionProviderRegistry=VC;var HC=function(){function t(e){this.logger=e}return t.prototype.getActions=function(e,n,r,i){return i!==void 0&&i%2===0?Promise.resolve(this.createSelectActions(e)):Promise.resolve([new Nh.LabeledAction("Select all",[Yd.SelectAllAction.create()])])},t.prototype.createSelectActions=function(e){var n=$C.toArray(e.index.all().filter(function(r){return kh.isNameable(r)}));return n.map(function(r){return new Nh.LabeledAction("Reveal "+kh.name(r),[Yd.SelectAction.create({selectedElementsIDs:[r.id]}),Yd.CenterAction.create([r.id])],"eye")})},t=_v([wa.injectable(),ql(0,wa.inject(hv.TYPES.ILogger)),pv("design:paramtypes",[Object])],t),t}();wo.RevealNamedElementActionProvider=HC;var es={},e_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_ITEM="action-item",t.ANIMATION_SPIN="animation-spin";function e(r,i,o,a){return i===void 0&&(i=!1),o===void 0&&(o=!1),a===void 0&&(a=[]),n(r,i,o,a).join(" ")}t.codiconCSSString=e;function n(r,i,o,a){i===void 0&&(i=!1),o===void 0&&(o=!1),a===void 0&&(a=[]);var c=["codicon","codicon-"+r];return i&&c.push(t.ACTION_ITEM),o&&c.push(t.ANIMATION_SPIN),a.length>0&&c.push.apply(c,a),c}t.codiconCSSClasses=n})(e_);var an={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.selectFeature=Symbol("selectFeature");function e(r){return r.hasFeature(t.selectFeature)}t.isSelectable=e;function n(r){return r!==void 0&&e(r)&&r.selected}t.isSelected=n})(an);var gv={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(w,function(){function n(r){var i=document,o=i.createElement("div"),a=o.style,c=navigator.userAgent,s=c.indexOf("Firefox")!==-1&&c.indexOf("Mobile")!==-1,u=r.debounceWaitMs||0,d=r.preventSubmit||!1,f=s?"input":"keyup",_=[],y="",g=2,v=r.showOnFocus,m,h=0,P;if(r.minLength!==void 0&&(g=r.minLength),!r.input)throw new Error("input undefined");var p=r.input;o.className="autocomplete "+(r.className||""),a.position="fixed";function R(){var M=o.parentNode;M&&M.removeChild(o)}function O(){return/iPad|iPhone|iPod/.test(window.navigator.userAgent)&&!window.MSStream}function A(){P&&window.clearTimeout(P)}function I(){o.parentNode||i.body.appendChild(o)}function j(){return!!o.parentNode}function U(){h++,_=[],y="",m=void 0,R()}function C(){if(!!j()){a.height="auto",a.width=p.offsetWidth+"px";var M=p.getBoundingClientRect(),W=O()?M.top+window.pageYOffset:M.top;W=W+p.offsetHeight;var oe=window.innerHeight-(M.top+p.offsetHeight);oe<0&&(oe=0),a.top=W+"px",a.bottom="",a.left=M.left+"px",a.maxHeight=oe+"px",r.customize&&r.customize(p,M,o,oe)}}function x(){for(;o.firstChild;)o.removeChild(o.firstChild);var M=function(ve,Ae){var je=i.createElement("div");return je.textContent=ve.label||"",je};r.render&&(M=r.render);var W=function(ve,Ae){var je=i.createElement("div");return je.textContent=ve,je};r.renderGroup&&(W=r.renderGroup);var oe=i.createDocumentFragment(),ce="#9?$";if(_.forEach(function(ve){if(ve.group&&ve.group!==ce){ce=ve.group;var Ae=W(ve.group,y);Ae&&(Ae.className+=" group",oe.appendChild(Ae))}var je=M(ve,y);je&&(je.addEventListener("click",function(Ce){r.onSelect(ve,p),U(),Ce.preventDefault(),Ce.stopPropagation()}),ve===m&&(je.className+=" selected"),oe.appendChild(je))}),o.appendChild(oe),_.length<1)if(r.emptyMsg){var ge=i.createElement("div");ge.className="empty",ge.textContent=r.emptyMsg,o.appendChild(ge)}else{U();return}I(),C(),te()}function D(){j()&&x()}function $(){D()}function K(M){M.target!==o?D():M.preventDefault()}function ee(M){for(var W=M.which||M.keyCode||0,oe=[38,13,27,39,37,16,17,18,20,91,9],ce=0,ge=oe;ce<ge.length;ce++){var ve=ge[ce];if(W===ve)return}W===40&&j()||B(0)}function te(){var M=o.getElementsByClassName("selected");if(M.length>0){var W=M[0],oe=W.previousElementSibling;if(oe&&oe.className.indexOf("group")!==-1&&!oe.previousElementSibling&&(W=oe),W.offsetTop<o.scrollTop)o.scrollTop=W.offsetTop;else{var ce=W.offsetTop+W.offsetHeight,ge=o.scrollTop+o.offsetHeight;ce>ge&&(o.scrollTop+=ce-ge)}}}function ie(){if(_.length<1)m=void 0;else if(m===_[0])m=_[_.length-1];else for(var M=_.length-1;M>0;M--)if(m===_[M]||M===1){m=_[M-1];break}}function G(){if(_.length<1&&(m=void 0),!m||m===_[_.length-1]){m=_[0];return}for(var M=0;M<_.length-1;M++)if(m===_[M]){m=_[M+1];break}}function q(M){var W=M.which||M.keyCode||0;if(W===38||W===40||W===27){var oe=j();if(W===27)U();else{if(!j||_.length<1)return;W===38?ie():G(),x()}M.preventDefault(),oe&&M.stopPropagation();return}W===13&&(m&&(r.onSelect(m,p),U()),d&&M.preventDefault())}function z(){v&&B(1)}function B(M){var W=++h,oe=p.value;oe.length>=g||M===1?(A(),P=window.setTimeout(function(){r.fetch(oe,function(ce){h===W&&ce&&(_=ce,y=oe,m=_.length>0?_[0]:void 0,x())},0)},M===0?u:0)):U()}function V(){setTimeout(function(){i.activeElement!==p&&U()},200)}o.addEventListener("mousedown",function(M){M.stopPropagation(),M.preventDefault()});function L(){p.removeEventListener("focus",z),p.removeEventListener("keydown",q),p.removeEventListener(f,ee),p.removeEventListener("blur",V),window.removeEventListener("resize",$),i.removeEventListener("scroll",K,!0),A(),U(),h++}return p.addEventListener("keydown",q),p.addEventListener(f,ee),p.addEventListener("blur",V),p.addEventListener("focus",z),window.addEventListener("resize",$),i.addEventListener("scroll",K,!0),{destroy:L}}return n})})(gv);var yv=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$i=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Jo=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},KC=w&&w.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r},zC=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});var Vi=fe,ZC=St,qC=$n,Ns=Se,WC=Za,Fh=za,GC=Ri,JC=yn,Bh=e_,Wl=vi,Gl=In,Yh=ft,mv=an,XC=wo,$h=Nt,QC=zC(gv.exports),ac=function(t){yv(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.loadingIndicatorClasses=Bh.codiconCSSClasses("loading",!1,!0,["loading"]),r.xOffset=20,r.yOffset=20,r.defaultWidth=400,r.debounceWaitMs=100,r.noCommandsMsg="No commands available",r.paletteIndex=0,r}n=e,e.prototype.id=function(){return n.ID},e.prototype.containerClass=function(){return"command-palette"},e.prototype.show=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t.prototype.show.apply(this,KC([r],i)),this.paletteIndex=0,this.contextActions=void 0,this.inputElement.value="",this.autoCompleteResult=QC.default(this.autocompleteSettings(r)),this.inputElement.focus()},e.prototype.initializeContents=function(r){var i=this;r.style.position="absolute",this.inputElement=document.createElement("input"),this.inputElement.style.width="100%",this.inputElement.addEventListener("keydown",function(o){return i.hideIfEscapeEvent(o)}),this.inputElement.addEventListener("keydown",function(o){return i.cylceIfInvokePaletteKey(o)}),this.inputElement.onblur=function(){return window.setTimeout(function(){return i.hide()},200)},r.appendChild(this.inputElement)},e.prototype.hideIfEscapeEvent=function(r){Gl.matchesKeystroke(r,"Escape")&&this.hide()},e.prototype.cylceIfInvokePaletteKey=function(r){n.isInvokePaletteKey(r)&&this.cycle()},e.prototype.cycle=function(){this.contextActions=void 0,this.paletteIndex++},e.prototype.onBeforeShow=function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c=this.xOffset,s=this.yOffset,u=Wl.toArray(i.index.all().filter(function(f){return mv.isSelectable(f)&&f.selected}));if(u.length===1){var d=Yh.getAbsoluteClientBounds(u[0],this.domHelper,this.viewerOptions);c+=d.x+d.width,s+=d.y}else{var d=Yh.getAbsoluteClientBounds(i,this.domHelper,this.viewerOptions);c+=d.x,s+=d.y}r.style.left=c+"px",r.style.top=s+"px",r.style.width=this.defaultWidth+"px"},e.prototype.autocompleteSettings=function(r){var i=this;return{input:this.inputElement,emptyMsg:this.noCommandsMsg,className:"command-palette-suggestions",debounceWaitMs:this.debounceWaitMs,showOnFocus:!0,minLength:-1,fetch:function(o,a){return i.updateAutoCompleteActions(a,o,r)},onSelect:function(o){return i.onSelect(o)},render:function(o,a){return i.renderLabeledActionSuggestion(o,a)},customize:function(o,a,c,s){i.customizeSuggestionContainer(c,a,s)}}},e.prototype.onSelect=function(r){this.executeAction(r),this.hide()},e.prototype.updateAutoCompleteActions=function(r,i,o){var a=this;this.onLoading(),this.contextActions?(r(this.filterActions(i,this.contextActions)),this.onLoaded("success")):this.actionProviderRegistry.getActions(o,i,this.mousePositionTracker.lastPositionOnDiagram,this.paletteIndex).then(function(c){a.contextActions=c,r(a.filterActions(i,c)),a.onLoaded("success")}).catch(function(c){a.logger.error(a,"Failed to obtain actions from command palette action providers",c),a.onLoaded("error")})},e.prototype.onLoading=function(){var r;this.loadingIndicator&&this.containerElement.contains(this.loadingIndicator)||(this.loadingIndicator=document.createElement("span"),(r=this.loadingIndicator.classList).add.apply(r,this.loadingIndicatorClasses),this.containerElement.appendChild(this.loadingIndicator))},e.prototype.onLoaded=function(r){this.containerElement.contains(this.loadingIndicator)&&this.containerElement.removeChild(this.loadingIndicator)},e.prototype.renderLabeledActionSuggestion=function(r,i){var o=document.createElement("div"),a=tM(i).split(" ").join("|"),c=new RegExp(a,"gi");return r.icon&&this.renderIcon(o,r.icon),o.innerHTML+=r.label.replace(c,function(s){return"<em>"+s+"</em>"}),o},e.prototype.renderIcon=function(r,i){r.innerHTML+='<span class="icon '+this.getCodicon(i)+'"></span>'},e.prototype.getFontAwesomeIcon=function(r){return"fa fa-"+r},e.prototype.getCodicon=function(r){return Bh.codiconCSSString(r)},e.prototype.filterActions=function(r,i){return Wl.toArray(i.filter(function(o){var a=o.label.toLowerCase(),c=r.split(" ");return c.every(function(s){return a.indexOf(s.toLowerCase())!==-1})}))},e.prototype.customizeSuggestionContainer=function(r,i,o){this.containerElement&&this.containerElement.appendChild(r)},e.prototype.hide=function(){t.prototype.hide.call(this),this.autoCompleteResult&&this.autoCompleteResult.destroy()},e.prototype.executeAction=function(r){var i=this;this.actionDispatcherProvider().then(function(o){return o.dispatchAll(eM(r))}).catch(function(o){return i.logger.error(i,"No action dispatcher available to execute command palette action",o)})};var n;return e.ID="command-palette",e.isInvokePaletteKey=function(r){return Gl.matchesKeystroke(r,"Space","ctrl")},$i([Vi.inject(Ns.TYPES.IActionDispatcherProvider),Jo("design:type",Function)],e.prototype,"actionDispatcherProvider",void 0),$i([Vi.inject(Ns.TYPES.ICommandPaletteActionProviderRegistry),Jo("design:type",XC.CommandPaletteActionProviderRegistry)],e.prototype,"actionProviderRegistry",void 0),$i([Vi.inject(Ns.TYPES.ViewerOptions),Jo("design:type",Object)],e.prototype,"viewerOptions",void 0),$i([Vi.inject(Ns.TYPES.DOMHelper),Jo("design:type",GC.DOMHelper)],e.prototype,"domHelper",void 0),$i([Vi.inject($h.MousePositionTracker),Jo("design:type",$h.MousePositionTracker)],e.prototype,"mousePositionTracker",void 0),e=n=$i([Vi.injectable()],e),e}(WC.AbstractUIExtension);es.CommandPalette=ac;function eM(t){return qC.isLabeledAction(t)?t.actions:ZC.isAction(t)?[t]:[]}function tM(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var nM=function(t){yv(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.keyDown=function(n,r){if(Gl.matchesKeystroke(r,"Escape"))return[Fh.SetUIExtensionVisibilityAction.create({extensionId:ac.ID,visible:!1,contextElementsId:[]})];if(ac.isInvokePaletteKey(r)){var i=Wl.toArray(n.index.all().filter(function(o){return mv.isSelectable(o)&&o.selected}).map(function(o){return o.id}));return[Fh.SetUIExtensionVisibilityAction.create({extensionId:ac.ID,visible:!0,contextElementsId:i})]}return[]},e}(JC.KeyListener);es.CommandPaletteKeyListener=nM;var t_={};Object.defineProperty(t_,"__esModule",{value:!0});function rM(t){return t instanceof HTMLElement?{x:t.offsetLeft,y:t.offsetTop}:t}t_.toAnchor=rM;var Ro={},Si={};(function(t){var e=w&&w.__extends||function(){var y=function(g,v){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var P in h)h.hasOwnProperty(P)&&(m[P]=h[P])},y(g,v)};return function(g,v){y(g,v);function m(){this.constructor=g}g.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}(),n=w&&w.__decorate||function(y,g,v,m){var h=arguments.length,P=h<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(y,g,v,m);else for(var R=y.length-1;R>=0;R--)(p=y[R])&&(P=(h<3?p(P):h>3?p(g,v,P):p(g,v))||P);return h>3&&P&&Object.defineProperty(g,v,P),P},r=w&&w.__metadata||function(y,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,g)},i=w&&w.__param||function(y,g){return function(v,m){g(v,m,y)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=st,c=qe,s=Se;t.deletableFeature=Symbol("deletableFeature");function u(y){return y instanceof c.SChildElement&&y.hasFeature(t.deletableFeature)}t.isDeletable=u;var d;(function(y){y.KIND="delete";function g(v){return{kind:y.KIND,elementIds:v}}y.create=g})(d=t.DeleteElementAction||(t.DeleteElementAction={}));var f=function(){function y(){}return y}();t.ResolvedDelete=f;var _=function(y){e(g,y);function g(v){var m=y.call(this)||this;return m.action=v,m.resolvedDeletes=[],m}return g.prototype.execute=function(v){for(var m=v.root.index,h=0,P=this.action.elementIds;h<P.length;h++){var p=P[h],R=m.getById(p);R&&u(R)&&(this.resolvedDeletes.push({child:R,parent:R.parent}),R.parent.remove(R))}return v.root},g.prototype.undo=function(v){for(var m=0,h=this.resolvedDeletes;m<h.length;m++){var P=h[m];P.parent.add(P.child)}return v.root},g.prototype.redo=function(v){for(var m=0,h=this.resolvedDeletes;m<h.length;m++){var P=h[m];P.parent.remove(P.child)}return v.root},g.KIND=d.KIND,g=n([o.injectable(),i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[Object])],g),g}(a.Command);t.DeleteElementCommand=_})(Si);var vv=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},iM=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Vh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(Ro,"__esModule",{value:!0});var sc=fe,oM=Se,Hh=Si,aM=an,sM=function(){function t(e){e===void 0&&(e=[]),this.menuProviders=e}return t.prototype.getItems=function(e,n){var r=this.menuProviders.map(function(i){return i.getItems(e,n)});return Promise.all(r).then(this.flattenAndRestructure)},t.prototype.flattenAndRestructure=function(e){for(var n=e.reduce(function(s,u){return u!==void 0?s.concat(u):s},[]),r=n.filter(function(s){return s.parentId}),i=function(s){if(s.parentId){for(var u=s.parentId.split("."),d=void 0,f=n,_=function(m){d=f.find(function(h){return m===h.id}),d&&d.children&&(f=d.children)},y=0,g=u;y<g.length;y++){var v=g[y];_(v)}d&&(d.children?d.children.push(s):d.children=[s],n=n.filter(function(m){return m!==s}))}},o=0,a=r;o<a.length;o++){var c=a[o];i(c)}return n},t=vv([sc.injectable(),Vh(0,sc.multiInject(oM.TYPES.IContextMenuItemProvider)),Vh(0,sc.optional()),iM("design:paramtypes",[Array])],t),t}();Ro.ContextMenuProviderRegistry=sM;var cM=function(){function t(){}return t.prototype.getItems=function(e,n){var r=Array.from(e.index.all().filter(aM.isSelected).filter(Hh.isDeletable));return Promise.resolve([{id:"delete",label:"Delete",sortString:"d",group:"edit",actions:[Hh.DeleteElementAction.create(r.map(function(i){return i.id}))],isEnabled:function(){return r.length>0}}])},t=vv([sc.injectable()],t),t}();Ro.DeleteContextMenuItemProvider=cM;var Pu={},uM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dM=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},lM=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Kh=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}},fM=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},_M=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Pu,"__esModule",{value:!0});var zh=fe,pM=Ro,hM=Nt,Zh=Se,gM=an,yM=gt,mM=function(t){uM(e,t);function e(n,r){var i=t.call(this)||this;return i.contextMenuService=n,i.menuProvider=r,i}return e.prototype.mouseDown=function(n,r){return r.button===2&&this.showContextMenu(n,r),[]},e.prototype.showContextMenu=function(n,r){return fM(this,void 0,void 0,function(){var i,o,a,c,s,u;return _M(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.contextMenuService()];case 1:return i=d.sent(),[3,3];case 2:return d.sent(),[2];case 3:return o={x:r.x,y:r.y},a=!1,c=yM.findParentByFeature(n,gM.isSelectable),c&&(a=c.selected,c.selected=!0),s=function(){c&&(c.selected=a)},[4,this.menuProvider.getItems(n.root,o)];case 4:return u=d.sent(),i.show(u,o,s),[2]}})})},e=dM([Kh(0,zh.inject(Zh.TYPES.IContextMenuServiceProvider)),Kh(1,zh.inject(Zh.TYPES.IContextMenuProviderRegistry)),lM("design:paramtypes",[Function,pM.ContextMenuProviderRegistry])],e),e}(hM.MouseListener);Pu.ContextMenuMouseListener=mM;var Na={},wu={},sn={},So={},bt={},Ei={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hoverFeedbackFeature=Symbol("hoverFeedbackFeature");function e(r){return r.hasFeature(t.hoverFeedbackFeature)}t.isHoverable=e,t.popupFeature=Symbol("popupFeature");function n(r){return r.hasFeature(t.popupFeature)}t.hasPopupFeature=n})(Ei);var Hr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.moveFeature=Symbol("moveFeature");function e(r){return r.position!==void 0}t.isLocateable=e;function n(r){return r.hasFeature(t.moveFeature)&&e(r)}t.isMoveable=n})(Hr);(function(t){var e=w&&w.__extends||function(){var m=function(h,P){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,R){p.__proto__=R}||function(p,R){for(var O in R)R.hasOwnProperty(O)&&(p[O]=R[O])},m(h,P)};return function(h,P){m(h,P);function p(){this.constructor=h}h.prototype=P===null?Object.create(P):(p.prototype=P.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=rt,r=qe,i=ft,o=Si,a=an,c=Ei,s=Hr,u=function(m){e(h,m);function h(){var P=m!==null&&m.apply(this,arguments)||this;return P.routingPoints=[],P}return Object.defineProperty(h.prototype,"source",{get:function(){return this.index.getById(this.sourceId)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"target",{get:function(){return this.index.getById(this.targetId)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"bounds",{get:function(){return this.routingPoints.reduce(function(P,p){return n.Bounds.combine(P,{x:p.x,y:p.y,width:0,height:0})},n.Bounds.EMPTY)},enumerable:!0,configurable:!0}),h}(r.SChildElement);t.SRoutableElement=u,t.connectableFeature=Symbol("connectableFeature");function d(m){return m.hasFeature(t.connectableFeature)&&m.canConnect}t.isConnectable=d;function f(m,h){h===void 0&&(h=m.routingPoints);for(var P=_(h),p=m;p instanceof r.SChildElement;){var R=p.parent;P=R.localToParent(P),p=R}return P}t.getAbsoluteRouteBounds=f;function _(m){for(var h={x:NaN,y:NaN,width:0,height:0},P=0,p=m;P<p.length;P++){var R=p[P];isNaN(h.x)?(h.x=R.x,h.y=R.y):(R.x<h.x?(h.width+=h.x-R.x,h.x=R.x):R.x>h.x+h.width&&(h.width=R.x-h.x),R.y<h.y?(h.height+=h.y-R.y,h.y=R.y):R.y>h.y+h.height&&(h.height=R.y-h.y))}return h}t.getRouteBounds=_;var y=function(m){e(h,m);function h(){var P=m!==null&&m.apply(this,arguments)||this;return P.strokeWidth=0,P}return Object.defineProperty(h.prototype,"anchorKind",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"incomingEdges",{get:function(){return this.index.getIncomingEdges(this)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"outgoingEdges",{get:function(){return this.index.getOutgoingEdges(this)},enumerable:!0,configurable:!0}),h.prototype.canConnect=function(P,p){return!0},h}(i.SShapeElement);t.SConnectableElement=y;var g=function(m){e(h,m);function h(){var P=m!==null&&m.apply(this,arguments)||this;return P.editMode=!1,P.hoverFeedback=!1,P.selected=!1,P}return h.prototype.hasFeature=function(P){return h.DEFAULT_FEATURES.indexOf(P)!==-1},h.DEFAULT_FEATURES=[a.selectFeature,s.moveFeature,c.hoverFeedbackFeature],h}(r.SChildElement);t.SRoutingHandle=g;var v=function(m){e(h,m);function h(){var P=m.call(this)||this;return P.type="dangling-anchor",P.size={width:0,height:0},P}return h.DEFAULT_FEATURES=[o.deletableFeature],h}(y);t.SDanglingAnchor=v,t.edgeInProgressID="edge-in-progress",t.edgeInProgressTargetHandleID=t.edgeInProgressID+"-target-anchor"})(bt);(function(t){var e=w&&w.__extends||function(){var s=function(u,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var y in _)_.hasOwnProperty(y)&&(f[y]=_[y])},s(u,d)};return function(u,d){s(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=qe,r=ft,i=bt;t.edgeLayoutFeature=Symbol("edgeLayout");function o(s){return s instanceof n.SChildElement&&s.parent instanceof i.SRoutableElement&&a(s)&&r.isBoundsAware(s)&&s.hasFeature(t.edgeLayoutFeature)}t.isEdgeLayoutable=o;function a(s){return"edgePlacement"in s}var c=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u}(Object);t.EdgePlacement=c,t.DEFAULT_EDGE_PLACEMENT={rotate:!0,side:"top",position:.5,offset:7}})(So);var Eo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=bt;t.editFeature=Symbol("editFeature");function n(o){return o instanceof e.SRoutableElement&&o.hasFeature(t.editFeature)}t.canEditRouting=n,t.editLabelFeature=Symbol("editLabelFeature");function r(o){return"text"in o&&o.hasFeature(t.editLabelFeature)}t.isEditableLabel=r,t.withEditLabelFeature=Symbol("withEditLabelFeature");function i(o){return"editableLabel"in o&&o.hasFeature(t.withEditLabelFeature)}t.isWithEditableLabel=i})(Eo);var ts={},nr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=qe;t.viewportFeature=Symbol("viewportFeature");function n(r){return r instanceof e.SModelRoot&&r.hasFeature(t.viewportFeature)&&"zoom"in r&&"scroll"in r}t.isViewport=n})(nr);var Ru={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.exportFeature=Symbol("exportFeature");function e(n){return n.hasFeature(t.exportFeature)}t.isExportable=e})(Ru);var vM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ts,"__esModule",{value:!0});var Xo=rt,bM=qe,PM=nr,wM=Ru,RM=function(t){vM(e,t);function e(n){var r=t.call(this,n)||this;return r.scroll={x:0,y:0},r.zoom=1,r.position=Xo.Point.ORIGIN,r.size=Xo.Dimension.EMPTY,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(n){this.position={x:n.x,y:n.y},this.size={width:n.width,height:n.height}},enumerable:!0,configurable:!0}),e.prototype.localToParent=function(n){var r={x:(n.x-this.scroll.x)*this.zoom,y:(n.y-this.scroll.y)*this.zoom,width:-1,height:-1};return Xo.isBounds(n)&&(r.width=n.width*this.zoom,r.height=n.height*this.zoom),r},e.prototype.parentToLocal=function(n){var r={x:n.x/this.zoom+this.scroll.x,y:n.y/this.zoom+this.scroll.y,width:-1,height:-1};return Xo.isBounds(n)&&Xo.Dimension.isValid(n)&&(r.width=n.width/this.zoom,r.height=n.height/this.zoom),r},e.DEFAULT_FEATURES=[PM.viewportFeature,wM.exportFeature],e}(bM.SModelRoot);ts.ViewportRootElement=RM;var Ai=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(sn,"__esModule",{value:!0});var SM=rt,EM=qe,Fn=ft,AM=So,bv=Si,OM=Eo,ns=Po,kc=Ei,IM=Hr,ka=bt,n_=an,jM=ts,CM=vi,MM=function(t){Ai(e,t);function e(n){return n===void 0&&(n=new wv),t.call(this,n)||this}return e}(jM.ViewportRootElement);sn.SGraph=MM;var xM=function(t){Ai(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.hoverFeedback=!1,n.opacity=1,n}return e.prototype.canConnect=function(n,r){return this.children.find(function(i){return i instanceof Pv})===void 0},e.DEFAULT_FEATURES=[ka.connectableFeature,bv.deletableFeature,n_.selectFeature,Fn.boundsFeature,IM.moveFeature,Fn.layoutContainerFeature,ns.fadeFeature,kc.hoverFeedbackFeature,kc.popupFeature],e}(ka.SConnectableElement);sn.SNode=xM;var Pv=function(t){Ai(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.hoverFeedback=!1,n.opacity=1,n}return e.DEFAULT_FEATURES=[ka.connectableFeature,n_.selectFeature,Fn.boundsFeature,ns.fadeFeature,kc.hoverFeedbackFeature],e}(ka.SConnectableElement);sn.SPort=Pv;var Jl=function(t){Ai(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.hoverFeedback=!1,n.opacity=1,n}return e.DEFAULT_FEATURES=[OM.editFeature,bv.deletableFeature,n_.selectFeature,ns.fadeFeature,kc.hoverFeedbackFeature],e}(ka.SRoutableElement);sn.SEdge=Jl;var DM=function(t){Ai(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.selected=!1,n.alignment=SM.Point.ORIGIN,n.opacity=1,n}return e.DEFAULT_FEATURES=[Fn.boundsFeature,Fn.alignFeature,Fn.layoutableChildFeature,AM.edgeLayoutFeature,ns.fadeFeature],e}(Fn.SShapeElement);sn.SLabel=DM;var TM=function(t){Ai(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.opacity=1,n}return e.DEFAULT_FEATURES=[Fn.boundsFeature,Fn.layoutContainerFeature,Fn.layoutableChildFeature,ns.fadeFeature],e}(Fn.SShapeElement);sn.SCompartment=TM;var wv=function(t){Ai(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.outgoing=new Map,n.incoming=new Map,n}return e.prototype.add=function(n){if(t.prototype.add.call(this,n),n instanceof Jl){if(n.sourceId){var r=this.outgoing.get(n.sourceId);r===void 0?this.outgoing.set(n.sourceId,[n]):r.push(n)}if(n.targetId){var i=this.incoming.get(n.targetId);i===void 0?this.incoming.set(n.targetId,[n]):i.push(n)}}},e.prototype.remove=function(n){if(t.prototype.remove.call(this,n),n instanceof Jl){var r=this.outgoing.get(n.sourceId);if(r!==void 0){var i=r.indexOf(n);i>=0&&(r.length===1?this.outgoing.delete(n.sourceId):r.splice(i,1))}var o=this.incoming.get(n.targetId);if(o!==void 0){var i=o.indexOf(n);i>=0&&(o.length===1?this.incoming.delete(n.targetId):o.splice(i,1))}}},e.prototype.getAttachedElements=function(n){var r=this;return new CM.FluentIterableImpl(function(){return{outgoing:r.outgoing.get(n.id),incoming:r.incoming.get(n.id),nextOutgoingIndex:0,nextIncomingIndex:0}},function(i){var o=i.nextOutgoingIndex;if(i.outgoing!==void 0&&o<i.outgoing.length)return i.nextOutgoingIndex=o+1,{done:!1,value:i.outgoing[o]};if(o=i.nextIncomingIndex,i.incoming!==void 0)for(;o<i.incoming.length;){var a=i.incoming[o];if(a.sourceId!==a.targetId)return i.nextIncomingIndex=o+1,{done:!1,value:a};o++}return{done:!0,value:void 0}})},e.prototype.getIncomingEdges=function(n){return this.incoming.get(n.id)||[]},e.prototype.getOutgoingEdges=function(n){return this.outgoing.get(n.id)||[]},e}(EM.ModelIndexImpl);sn.SGraphIndex=wv;var mn={},Ao={},mr={};(function(t){var e=w&&w.__extends||function(){var u=function(d,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var g in y)y.hasOwnProperty(g)&&(_[g]=y[g])},u(d,f)};return function(d,f){u(d,f);function _(){this.constructor=d}d.prototype=f===null?Object.create(f):(_.prototype=f.prototype,new _)}}(),n=w&&w.__decorate||function(u,d,f,_){var y=arguments.length,g=y<3?d:_===null?_=Object.getOwnPropertyDescriptor(d,f):_,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(u,d,f,_);else for(var m=u.length-1;m>=0;m--)(v=u[m])&&(g=(y<3?v(g):y>3?v(d,f,g):v(d,f))||g);return y>3&&g&&Object.defineProperty(d,f,g),g},r=w&&w.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},i=w&&w.__param||function(u,d){return function(f,_){d(f,_,u)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=Se,c=nn;t.DIAMOND_ANCHOR_KIND="diamond",t.ELLIPTIC_ANCHOR_KIND="elliptic",t.RECTANGULAR_ANCHOR_KIND="rectangular";var s=function(u){e(d,u);function d(f){var _=u.call(this)||this;return f.forEach(function(y){return _.register(y.kind,y)}),_}return Object.defineProperty(d.prototype,"defaultAnchorKind",{get:function(){return t.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),d.prototype.get=function(f,_){return u.prototype.get.call(this,f+":"+(_||this.defaultAnchorKind))},d=n([o.injectable(),i(0,o.multiInject(a.TYPES.IAnchorComputer)),r("design:paramtypes",[Array])],d),d}(c.InstanceRegistry);t.AnchorComputerRegistry=s})(mr);var rs={};(function(t){var e=w&&w.__decorate||function(y,g,v,m){var h=arguments.length,P=h<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(y,g,v,m);else for(var R=y.length-1;R>=0;R--)(p=y[R])&&(P=(h<3?p(P):h>3?p(g,v,P):p(g,v))||P);return h>3&&P&&Object.defineProperty(g,v,P),P},n=w&&w.__metadata||function(y,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,g)},r=w&&w.__spreadArrays||function(){for(var y=0,g=0,v=arguments.length;g<v;g++)y+=arguments[g].length;for(var m=Array(y),h=0,g=0;g<v;g++)for(var P=arguments[g],p=0,R=P.length;p<R;p++,h++)m[h]=P[p];return m};Object.defineProperty(t,"__esModule",{value:!0});var i=fe,o=rt,a=gt,c=bt,s=mr,u=bt,d;(function(y){y[y.RIGHT=0]="RIGHT",y[y.LEFT=1]="LEFT",y[y.TOP=2]="TOP",y[y.BOTTOM=3]="BOTTOM"})(d=t.Side||(t.Side={}));var f=function(){function y(g,v,m){this.element=g,this.kind=m;var h=g.bounds;this.bounds=a.translateBounds(h,g.parent,v),this.left={x:this.bounds.x,y:this.bounds.y+.5*this.bounds.height,kind:m},this.right={x:this.bounds.x+this.bounds.width,y:this.bounds.y+.5*this.bounds.height,kind:m},this.top={x:this.bounds.x+.5*this.bounds.width,y:this.bounds.y,kind:m},this.bottom={x:this.bounds.x+.5*this.bounds.width,y:this.bounds.y+this.bounds.height,kind:m}}return y.prototype.get=function(g){return this[d[g].toLowerCase()]},y.prototype.getNearestSide=function(g){var v=o.Point.euclideanDistance(g,this.left),m=o.Point.euclideanDistance(g,this.right),h=o.Point.euclideanDistance(g,this.top),P=o.Point.euclideanDistance(g,this.bottom),p=d.LEFT,R=v;return m<R&&(R=m,p=d.RIGHT),h<R&&(R=h,p=d.TOP),P<R&&(R=P,p=d.BOTTOM),p},y}();t.DefaultAnchors=f;var _=function(){function y(){}return y.prototype.pointAt=function(g,v){var m=this.calculateSegment(g,v);if(!!m){var h=m.segmentStart,P=m.segmentEnd,p=m.lambda;return o.Point.linear(h,P,p)}},y.prototype.derivativeAt=function(g,v){var m=this.calculateSegment(g,v);if(!!m){var h=m.segmentStart,P=m.segmentEnd;return{x:P.x-h.x,y:P.y-h.y}}},y.prototype.calculateSegment=function(g,v){if(!(v<0||v>1)){var m=this.route(g);if(!(m.length<2)){for(var h=[],P=0,p=0;p<m.length-1;++p)h[p]=o.Point.euclideanDistance(m[p],m[p+1]),P+=h[p];for(var R=0,O=v*P,p=0;p<m.length-1;++p){var A=R+h[p];if(h[p]>1e-8&&A>=O){var I=Math.max(0,O-R)/h[p];return{segmentStart:m[p],segmentEnd:m[p+1],lambda:I}}R=A}return{segmentEnd:m.pop(),segmentStart:m.pop(),lambda:1}}}},y.prototype.addHandle=function(g,v,m,h){var P=new c.SRoutingHandle;return P.kind=v,P.pointIndex=h,P.type=m,v==="target"&&g.id===c.edgeInProgressID&&(P.id=c.edgeInProgressTargetHandleID),g.add(P),P},y.prototype.getHandlePosition=function(g,v,m){switch(m.kind){case"source":return g.source instanceof c.SDanglingAnchor?g.source.position:v[0];case"target":return g.target instanceof c.SDanglingAnchor?g.target.position:v[v.length-1];default:var h=this.getInnerHandlePosition(g,v,m);if(h!==void 0)return h;if(m.pointIndex>=0&&m.pointIndex<g.routingPoints.length)return g.routingPoints[m.pointIndex]}},y.prototype.findRouteSegment=function(g,v,m){for(var h=function(j){return j.pointIndex!==void 0?j.pointIndex:j.kind==="target"?g.routingPoints.length:-2},P,p,R=0,O=v;R<O.length;R++){var A=O[R],I=h(A);I<=m&&(P===void 0||I>h(P))&&(P=A),I>m&&(p===void 0||I<h(p))&&(p=A)}return{start:P,end:p}},y.prototype.getTranslatedAnchor=function(g,v,m,h,P){P===void 0&&(P=0);var p=a.translatePoint(v,m,g.parent),R=this.getAnchorComputer(g),O=.5*g.strokeWidth,A=R.getAnchor(g,p,P+O);return a.translatePoint(A,g.parent,h.parent)},y.prototype.getAnchorComputer=function(g){return this.anchorRegistry.get(this.kind,g.anchorKind)},y.prototype.applyHandleMoves=function(g,v){var m=v.slice();v.forEach(function(h){var P=h.handle;if(P.kind==="source"&&!(g.source instanceof c.SDanglingAnchor)){var p=new c.SDanglingAnchor;p.id=g.id+"_dangling-source",p.original=g.source,p.position=h.toPosition,P.root.add(p),P.danglingAnchor=p,g.sourceId=p.id}else if(P.kind==="target"&&!(g.target instanceof c.SDanglingAnchor)){var p=new c.SDanglingAnchor;p.id=g.id+"_dangling-target",p.original=g.target,p.position=h.toPosition,P.root.add(p),P.danglingAnchor=p,g.targetId=p.id}P.danglingAnchor&&(P.danglingAnchor.position=h.toPosition,m.splice(m.indexOf(h),1))}),m.length>0&&this.applyInnerHandleMoves(g,m),this.cleanupRoutingPoints(g,g.routingPoints,!0,!0)},y.prototype.cleanupRoutingPoints=function(g,v,m,h){var P=new f(g.source,g.parent,"source"),p=new f(g.target,g.parent,"target");this.resetRoutingPointsOnReconnect(g,v,m,P,p)},y.prototype.resetRoutingPointsOnReconnect=function(g,v,m,h,P){if(v.length===0||g.source instanceof c.SDanglingAnchor||g.target instanceof c.SDanglingAnchor){var p=this.getOptions(g),R=this.calculateDefaultCorners(g,h,P,p);if(v.splice.apply(v,r([0,v.length],R)),m){var O=-2;g.children.forEach(function(I){I instanceof c.SRoutingHandle&&(I.kind==="target"?I.pointIndex=v.length:I.kind==="line"&&I.pointIndex>=v.length?g.remove(I):O=Math.max(I.pointIndex,O))});for(var A=O;A<v.length-1;++A)this.addHandle(g,"manhattan-50%","volatile-routing-point",A)}return!0}return!1},y.prototype.applyReconnect=function(g,v,m){var h=!1;if(v){var P=g.root.index.getById(v);P instanceof u.SConnectableElement&&(g.sourceId=P.id,h=!0)}if(m){var p=g.root.index.getById(m);p instanceof u.SConnectableElement&&(g.targetId=p.id,h=!0)}h&&(g.index.remove(g),g.index.add(g),this.getSelfEdgeIndex(g)>-1&&(g.routingPoints=[],this.cleanupRoutingPoints(g,g.routingPoints,!0,!0)))},y.prototype.takeSnapshot=function(g){return{routingPoints:g.routingPoints.slice(),routingHandles:g.children.filter(function(v){return v instanceof c.SRoutingHandle}).map(function(v){return v}),routedPoints:this.route(g),router:this,source:g.source,target:g.target}},y.prototype.applySnapshot=function(g,v){g.routingPoints=v.routingPoints,g.removeAll(function(m){return m instanceof c.SRoutingHandle}),g.routerKind=v.router.kind,v.routingHandles.forEach(function(m){return g.add(m)}),v.source&&(g.sourceId=v.source.id),v.target&&(g.targetId=v.target.id),g.root.index.remove(g),g.root.index.add(g)},y.prototype.calculateDefaultCorners=function(g,v,m,h){var P=this.getSelfEdgeIndex(g);if(P>=0){var p=h.standardDistance,R=h.selfEdgeOffset*Math.min(v.bounds.width,v.bounds.height);switch(P%4){case 0:return[{x:v.get(d.RIGHT).x+p,y:v.get(d.RIGHT).y+R},{x:v.get(d.RIGHT).x+p,y:v.get(d.BOTTOM).y+p},{x:v.get(d.BOTTOM).x+R,y:v.get(d.BOTTOM).y+p}];case 1:return[{x:v.get(d.BOTTOM).x-R,y:v.get(d.BOTTOM).y+p},{x:v.get(d.LEFT).x-p,y:v.get(d.BOTTOM).y+p},{x:v.get(d.LEFT).x-p,y:v.get(d.LEFT).y+R}];case 2:return[{x:v.get(d.LEFT).x-p,y:v.get(d.LEFT).y-R},{x:v.get(d.LEFT).x-p,y:v.get(d.TOP).y-p},{x:v.get(d.TOP).x-R,y:v.get(d.TOP).y-p}];case 3:return[{x:v.get(d.TOP).x+R,y:v.get(d.TOP).y-p},{x:v.get(d.RIGHT).x+p,y:v.get(d.TOP).y-p},{x:v.get(d.RIGHT).x+p,y:v.get(d.RIGHT).y-R}]}}return[]},y.prototype.getSelfEdgeIndex=function(g){return!g.source||g.source!==g.target?-1:g.source.outgoingEdges.filter(function(v){return v.target===g.source}).indexOf(g)},y.prototype.commitRoute=function(g,v){for(var m=[],h=1;h<v.length-1;++h)m.push({x:v[h].x,y:v[h].y});g.routingPoints=m},e([i.inject(s.AnchorComputerRegistry),n("design:type",s.AnchorComputerRegistry)],y.prototype,"anchorRegistry",void 0),y=e([i.injectable()],y),y}();t.AbstractEdgeRouter=_})(rs);var LM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qh=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},UM=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ao,"__esModule",{value:!0});var Wh=fe,Hi=rt,Gh=bt,Jh=mr,NM=rs,kM=function(t){LM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}n=e,Object.defineProperty(e.prototype,"kind",{get:function(){return n.KIND},enumerable:!0,configurable:!0}),e.prototype.getOptions=function(r){return{minimalPointDistance:2,removeAngleThreshold:.1,standardDistance:20,selfEdgeOffset:.25}},e.prototype.route=function(r){var i=r.source,o=r.target;if(i===void 0||o===void 0)return[];var a,c,s=this.getOptions(r),u=r.routingPoints.length>0?r.routingPoints:[];this.cleanupRoutingPoints(r,u,!1,!1);var d=u!==void 0?u.length:0;if(d===0){var f=Hi.Bounds.center(o.bounds);a=this.getTranslatedAnchor(i,f,o.parent,r,r.sourceAnchorCorrection);var _=Hi.Bounds.center(i.bounds);c=this.getTranslatedAnchor(o,_,i.parent,r,r.targetAnchorCorrection)}else{var y=u[0];a=this.getTranslatedAnchor(i,y,r.parent,r,r.sourceAnchorCorrection);var g=u[d-1];c=this.getTranslatedAnchor(o,g,r.parent,r,r.targetAnchorCorrection)}var v=[];v.push({kind:"source",x:a.x,y:a.y});for(var m=0;m<d;m++){var h=u[m];(m>0&&m<d-1||m===0&&Hi.Point.maxDistance(a,h)>=s.minimalPointDistance+(r.sourceAnchorCorrection||0)||m===d-1&&Hi.Point.maxDistance(h,c)>=s.minimalPointDistance+(r.targetAnchorCorrection||0))&&v.push({kind:"linear",x:h.x,y:h.y,pointIndex:m})}return v.push({kind:"target",x:c.x,y:c.y}),this.filterEditModeHandles(v,r,s)},e.prototype.filterEditModeHandles=function(r,i,o){if(i.children.length===0)return r;for(var a=0,c=function(){var s=r[a];if(s.pointIndex!==void 0){var u=i.children.find(function(v){return v instanceof Gh.SRoutingHandle&&v.kind==="junction"&&v.pointIndex===s.pointIndex});if(u!==void 0&&u.editMode&&a>0&&a<r.length-1){var d=r[a-1],f=r[a+1],_={x:d.x-s.x,y:d.y-s.y},y={x:f.x-s.x,y:f.y-s.y},g=Hi.angleBetweenPoints(_,y);if(Math.abs(Math.PI-g)<o.removeAngleThreshold)return r.splice(a,1),"continue"}}a++};a<r.length;)c();return r},e.prototype.createRoutingHandles=function(r){var i=r.routingPoints.length;this.addHandle(r,"source","routing-point",-2),this.addHandle(r,"line","volatile-routing-point",-1);for(var o=0;o<i;o++)this.addHandle(r,"junction","routing-point",o),this.addHandle(r,"line","volatile-routing-point",o);this.addHandle(r,"target","routing-point",i)},e.prototype.getInnerHandlePosition=function(r,i,o){if(o.kind==="line"){var a=this.findRouteSegment(r,i,o.pointIndex),c=a.start,s=a.end;if(c!==void 0&&s!==void 0)return Hi.centerOfLine(c,s)}},e.prototype.applyInnerHandleMoves=function(r,i){var o=this;i.forEach(function(a){var c=a.handle,s=r.routingPoints,u=c.pointIndex;c.kind==="line"&&(c.kind="junction",c.type="routing-point",s.splice(u+1,0,a.fromPosition||s[Math.max(u,0)]),r.children.forEach(function(d){d instanceof Gh.SRoutingHandle&&(d===c||d.pointIndex>u)&&d.pointIndex++}),o.addHandle(r,"line","volatile-routing-point",u),u++,o.addHandle(r,"line","volatile-routing-point",u)),u>=0&&u<s.length&&(s[u]=a.toPosition)})};var n;return e.KIND="polyline",qh([Wh.inject(Jh.AnchorComputerRegistry),UM("design:type",Jh.AnchorComputerRegistry)],e.prototype,"anchorRegistry",void 0),e=n=qh([Wh.injectable()],e),e}(NM.AbstractEdgeRouter);Ao.PolylineEdgeRouter=kM;var FM=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xh=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Qh=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},BM=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(mn,"__esModule",{value:!0});var ks=fe,YM=qe,eg=Se,$M=jn,VM=nn,HM=bt,KM=Ao;function zM(t){return t.routeAll!==void 0}var ZM=function(t){FM(e,t);function e(n){var r=t.call(this)||this;return n.forEach(function(i){return r.register(i.kind,i)}),r}return Object.defineProperty(e.prototype,"defaultKind",{get:function(){return KM.PolylineEdgeRouter.KIND},enumerable:!0,configurable:!0}),e.prototype.get=function(n){return t.prototype.get.call(this,n||this.defaultKind)},e.prototype.routeAllChildren=function(n){for(var r=this.doRouteAllChildren(n),i=0,o=this.postProcessors;i<o.length;i++){var a=o[i];a.apply(r)}return r},e.prototype.doRouteAllChildren=function(n){for(var r=this,i=new Rv,o=new Map,a=[n];a.length>0;)for(var c=a.shift(),s=0,u=c.children;s<u.length;s++){var d=u[s];if(d instanceof HM.SRoutableElement){var f=d.routerKind||this.defaultKind;o.has(f)?o.get(f).push(d):o.set(f,[d])}d instanceof YM.SParentElement&&a.push(d)}return o.forEach(function(_,y){var g=r.get(y);if(zM(g))i.setAll(g.routeAll(_,n));else for(var v=0,m=_;v<m.length;v++){var h=m[v];i.set(h.id,r.route(h))}}),i},e.prototype.route=function(n,r){var i=$M.findArgValue(r,"edgeRouting");if(i){var o=i.get(n.id);if(o)return o}var a=this.get(n.routerKind);return a.route(n)},Xh([ks.multiInject(eg.TYPES.IEdgeRoutePostprocessor),ks.optional(),Qh("design:type",Array)],e.prototype,"postProcessors",void 0),e=Xh([ks.injectable(),BM(0,ks.multiInject(eg.TYPES.IEdgeRouter)),Qh("design:paramtypes",[Array])],e),e}(VM.InstanceRegistry);mn.EdgeRouterRegistry=ZM;var Rv=function(){function t(){this.routesMap=new Map}return t.prototype.set=function(e,n){this.routesMap.set(e,n)},t.prototype.setAll=function(e){var n=this;e.routes.forEach(function(r,i){return n.set(i,r)})},t.prototype.get=function(e){return this.routesMap.get(e)},Object.defineProperty(t.prototype,"routes",{get:function(){return this.routesMap},enumerable:!0,configurable:!0}),t}();mn.EdgeRouting=Rv;var Fc=w&&w.__assign||function(){return Fc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fc.apply(this,arguments)},tg=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},qM=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(wu,"__esModule",{value:!0});var ng=fe,Bt=rt,WM=qe,GM=pt,JM=sn,Fs=ft,rg=So,ig=mn,XM=function(){function t(){}return t.prototype.decorate=function(e,n){if(rg.isEdgeLayoutable(n)&&n.parent instanceof JM.SEdge&&n.bounds!==Bt.Bounds.EMPTY){var r=this.getEdgePlacement(n),i=n.parent,o=Math.min(1,Math.max(0,r.position)),a=this.edgeRouterRegistry.get(i.routerKind),c=a.pointAt(i,o),s=a.derivativeAt(i,o),u="";if(c&&s){u+="translate("+c.x+", "+c.y+")";var d=Bt.toDegrees(Math.atan2(s.y,s.x));if(r.rotate){var f=d;Math.abs(d)>90&&(d<0?f+=180:d>0&&(f-=180)),u+=" rotate("+f+")";var _=this.getRotatedAlignment(n,r,f!==d);u+=" translate("+_.x+", "+_.y+")"}else{var _=this.getAlignment(n,r,d);u+=" translate("+_.x+", "+_.y+")"}GM.setAttr(e,"transform",u)}}return e},t.prototype.getRotatedAlignment=function(e,n,r){var i=Fs.isAlignable(e)?e.alignment.x:0,o=Fs.isAlignable(e)?e.alignment.y:0,a=e.bounds;if(n.side==="on")return{x:i-.5*a.height,y:o-.5*a.height};if(r)switch(n.position<.3333333?i-=a.width+n.offset:n.position<.6666666?i-=.5*a.width:i+=n.offset,n.side){case"left":case"bottom":o-=n.offset+a.height;break;case"right":case"top":o+=n.offset}else switch(n.position<.3333333?i+=n.offset:n.position<.6666666?i-=.5*a.width:i-=a.width+n.offset,n.side){case"right":case"bottom":o+=-n.offset-a.height;break;case"left":case"top":o+=n.offset}return{x:i,y:o}},t.prototype.getEdgePlacement=function(e){for(var n=e,r=[];n!==void 0;){var i=n.edgePlacement;if(i!==void 0&&r.push(i),n instanceof WM.SChildElement)n=n.parent;else break}return r.reverse().reduce(function(o,a){return Fc(Fc({},o),a)},rg.DEFAULT_EDGE_PLACEMENT)},t.prototype.getAlignment=function(e,n,r){var i=e.bounds,o=Fs.isAlignable(e)?e.alignment.x-i.width:0,a=Fs.isAlignable(e)?e.alignment.y-i.height:0;if(n.side==="on")return{x:o+.5*i.height,y:a+.5*i.height};var c=this.getQuadrant(r),s={x:n.offset,y:a+.5*i.height},u={x:n.offset,y:a+i.height+n.offset},d={x:-i.width-n.offset,y:a+i.height+n.offset},f={x:-i.width-n.offset,y:a+.5*i.height},_={x:-i.width-n.offset,y:a-n.offset},y={x:n.offset,y:a-n.offset};switch(n.side){case"left":switch(c.orientation){case"west":return Bt.Point.linear(u,d,c.position);case"north":return Bt.Point.linear(d,_,c.position);case"east":return Bt.Point.linear(_,y,c.position);case"south":return Bt.Point.linear(y,u,c.position)}break;case"right":switch(c.orientation){case"west":return Bt.Point.linear(_,y,c.position);case"north":return Bt.Point.linear(y,u,c.position);case"east":return Bt.Point.linear(u,d,c.position);case"south":return Bt.Point.linear(d,_,c.position)}break;case"top":switch(c.orientation){case"west":return Bt.Point.linear(_,y,c.position);case"north":return this.linearFlip(y,s,f,_,c.position);case"east":return Bt.Point.linear(_,y,c.position);case"south":return this.linearFlip(y,s,f,_,c.position)}break;case"bottom":switch(c.orientation){case"west":return Bt.Point.linear(u,d,c.position);case"north":return this.linearFlip(d,f,s,u,c.position);case"east":return Bt.Point.linear(u,d,c.position);case"south":return this.linearFlip(d,f,s,u,c.position)}break}return{x:0,y:0}},t.prototype.getQuadrant=function(e){return Math.abs(e)>135?{orientation:"west",position:(e>0?e-135:e+225)/90}:e<-45?{orientation:"north",position:(e+135)/90}:e<45?{orientation:"east",position:(e+45)/90}:{orientation:"south",position:(e-45)/90}},t.prototype.linearFlip=function(e,n,r,i,o){return o<.5?Bt.Point.linear(e,n,2*o):Bt.Point.linear(r,i,2*o-1)},t.prototype.postUpdate=function(){},tg([ng.inject(ig.EdgeRouterRegistry),qM("design:type",ig.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=tg([ng.injectable()],t),t}();wu.EdgeLayoutPostprocessor=XM;Object.defineProperty(Na,"__esModule",{value:!0});var QM=fe,og=Se,$d=wu,ex=new QM.ContainerModule(function(t){t($d.EdgeLayoutPostprocessor).toSelf().inSingletonScope(),t(og.TYPES.IVNodePostprocessor).toService($d.EdgeLayoutPostprocessor),t(og.TYPES.HiddenVNodePostprocessor).toService($d.EdgeLayoutPostprocessor)});Na.default=ex;var Sv={};(function(t){var e=w&&w.__extends||function(){var f=function(_,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var m in v)v.hasOwnProperty(m)&&(g[m]=v[m])},f(_,y)};return function(_,y){f(_,y);function g(){this.constructor=_}_.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),n=w&&w.__decorate||function(f,_,y,g){var v=arguments.length,m=v<3?_:g===null?g=Object.getOwnPropertyDescriptor(_,y):g,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(f,_,y,g);else for(var P=f.length-1;P>=0;P--)(h=f[P])&&(m=(v<3?h(m):v>3?h(_,y,m):h(_,y))||m);return v>3&&m&&Object.defineProperty(_,y,m),m},r=w&&w.__metadata||function(f,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,_)},i=w&&w.__param||function(f,_){return function(y,g){_(y,g,f)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=st,c=qe,s=Se,u;(function(f){f.KIND="createElement";function _(y,g){return{kind:f.KIND,elementSchema:y,containerId:g.containerId}}f.create=_})(u=t.CreateElementAction||(t.CreateElementAction={}));var d=function(f){e(_,f);function _(y){var g=f.call(this)||this;return g.action=y,g}return _.prototype.execute=function(y){var g=y.root.index.getById(this.action.containerId);return g instanceof c.SParentElement&&(this.container=g,this.newElement=y.modelFactory.createElement(this.action.elementSchema),this.container.add(this.newElement)),y.root},_.prototype.undo=function(y){return this.container.remove(this.newElement),y.root},_.prototype.redo=function(y){return this.container.add(this.newElement),y.root},_.KIND=u.KIND,_=n([o.injectable(),i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[Object])],_),_}(a.Command);t.CreateElementCommand=d})(Sv);var r_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.creatingOnDragFeature=Symbol("creatingOnDragFeature");function e(n){return n.hasFeature(t.creatingOnDragFeature)&&n.createAction!==void 0}t.isCreatingOnDrag=e})(r_);var Oo={},Kr={},Oi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ORIGIN_POINT=Object.freeze({x:0,y:0});function e(C,x){return{x:C.x+x.x,y:C.y+x.y}}t.add=e;function n(C,x){return{x:C.x-x.x,y:C.y-x.y}}t.subtract=n;function r(C,x){return C.x===x.x&&C.y===x.y}t.pointEquals=r,t.EMPTY_DIMENSION=Object.freeze({width:-1,height:-1});function i(C){return C.width>=0&&C.height>=0}t.isValidDimension=i,t.EMPTY_BOUNDS=Object.freeze({x:0,y:0,width:-1,height:-1});function o(C){return"x"in C&&"y"in C&&"width"in C&&"height"in C}t.isBounds=o;function a(C,x){if(!i(C))return i(x)?x:t.EMPTY_BOUNDS;if(!i(x))return C;var D=Math.min(C.x,x.x),$=Math.min(C.y,x.y),K=Math.max(C.x+(C.width>=0?C.width:0),x.x+(x.width>=0?x.width:0)),ee=Math.max(C.y+(C.height>=0?C.height:0),x.y+(x.height>=0?x.height:0));return{x:D,y:$,width:K-D,height:ee-$}}t.combine=a;function c(C,x){return{x:C.x+x.x,y:C.y+x.y,width:C.width,height:C.height}}t.translate=c;function s(C){return{x:C.x+(C.width>=0?.5*C.width:0),y:C.y+(C.height>=0?.5*C.height:0)}}t.center=s;function u(C,x){var D={x:C.x>x.x?x.x:C.x,y:C.y>x.y?x.y:C.y,width:Math.abs(x.x-C.x),height:Math.abs(x.y-C.y)};return s(D)}t.centerOfLine=u;function d(C,x){return x.x>=C.x&&x.x<=C.x+C.width&&x.y>=C.y&&x.y<=C.y+C.height}t.includes=d,function(C){C[C.left=0]="left",C[C.right=1]="right",C[C.up=2]="up",C[C.down=3]="down"}(t.Direction||(t.Direction={}));function f(C,x){var D=x.x-C.x,$=x.y-C.y;return Math.sqrt(D*D+$*$)}t.euclideanDistance=f;function _(C,x){return Math.abs(x.x-C.x)+Math.abs(x.y-C.y)}t.manhattanDistance=_;function y(C,x){return Math.max(Math.abs(x.x-C.x),Math.abs(x.y-C.y))}t.maxDistance=y;function g(C){return Math.atan2(C.y,C.x)}t.angleOfPoint=g;function v(C,x){var D=Math.sqrt((C.x*C.x+C.y*C.y)*(x.x*x.x+x.y*x.y));if(isNaN(D)||D===0)return NaN;var $=C.x*x.x+C.y*x.y;return Math.acos($/D)}t.angleBetweenPoints=v;function m(C,x,D){var $=n(x,C),K=h($),ee={x:K.x*D,y:K.y*D};return e(C,ee)}t.shiftTowards=m;function h(C){var x=P(C);return x===0||x===1?t.ORIGIN_POINT:{x:C.x/x,y:C.y/x}}t.normalize=h;function P(C){return Math.sqrt(Math.pow(C.x,2)+Math.pow(C.y,2))}t.magnitude=P;function p(C){return C*180/Math.PI}t.toDegrees=p;function R(C){return C*Math.PI/180}t.toRadians=R;function O(C,x){return Math.abs(C-x)<.001}t.almostEquals=O;function A(C,x,D){return{x:(1-D)*C.x+D*x.x,y:(1-D)*C.y+D*x.y}}t.linear=A;var I=function(){function C(x){this.bounds=x}return Object.defineProperty(C.prototype,"topPoint",{get:function(){return{x:this.bounds.x+this.bounds.width/2,y:this.bounds.y}},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"rightPoint",{get:function(){return{x:this.bounds.x+this.bounds.width,y:this.bounds.y+this.bounds.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"bottomPoint",{get:function(){return{x:this.bounds.x+this.bounds.width/2,y:this.bounds.y+this.bounds.height}},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"leftPoint",{get:function(){return{x:this.bounds.x,y:this.bounds.y+this.bounds.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"topRightSideLine",{get:function(){return new j(this.topPoint,this.rightPoint)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"topLeftSideLine",{get:function(){return new j(this.topPoint,this.leftPoint)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"bottomRightSideLine",{get:function(){return new j(this.bottomPoint,this.rightPoint)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"bottomLeftSideLine",{get:function(){return new j(this.bottomPoint,this.leftPoint)},enumerable:!0,configurable:!0}),C.prototype.closestSideLine=function(x){var D=s(this.bounds);return x.x>D.x?x.y>D.y?this.bottomRightSideLine:this.topRightSideLine:x.y>D.y?this.bottomLeftSideLine:this.topLeftSideLine},C}();t.Diamond=I;var j=function(){function C(x,D){this.p1=x,this.p2=D}return Object.defineProperty(C.prototype,"a",{get:function(){return this.p1.y-this.p2.y},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"b",{get:function(){return this.p2.x-this.p1.x},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"c",{get:function(){return this.p2.x*this.p1.y-this.p1.x*this.p2.y},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"angle",{get:function(){return Math.atan2(-this.a,this.b)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"slope",{get:function(){if(this.b!==0)return this.a/this.b},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"slopeOrMax",{get:function(){return this.slope===void 0?Number.MAX_SAFE_INTEGER:this.slope},enumerable:!0,configurable:!0}),C.prototype.intersection=function(x){if(!this.hasIndistinctPoints(x)){var D=this.p1.x,$=this.p1.y,K=this.p2.x,ee=this.p2.y,te=x.p1.x,ie=x.p1.y,G=x.p2.x,q=x.p2.y,z=(q-ie)*(K-D)-(G-te)*(ee-$);if(z!==0){var B=(G-te)*($-ie)-(q-ie)*(D-te),V=(K-D)*($-ie)-(ee-$)*(D-te);if(!(B===0&&V===0)){var L=B/z,M=V/z;if(!(L<0||L>1||M<0||M>1)){var W=D+L*(K-D),oe=$+L*(ee-$);return{x:W,y:oe}}}}}},C.prototype.hasIndistinctPoints=function(x){return r(this.p1,x.p1)||r(this.p1,x.p2)||r(this.p2,x.p1)||r(this.p2,x.p2)},C}();t.PointToPointLine=j;function U(C,x){return{x:(C.c*x.b-x.c*C.b)/(C.a*x.b-x.a*C.b),y:(C.a*x.c-x.a*C.c)/(C.a*x.b-x.a*C.b)}}t.intersection=U})(Oi);var i_=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),is=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Kr,"__esModule",{value:!0});var hr=on,uo=sn,o_=bo,tx=Oi,os=fe,nx=function(){function t(){}return t.prototype.render=function(e,n,r){var i="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")";return hr.svg("svg",null,hr.svg("g",{transform:i},n.renderChildren(e)))},t=is([os.injectable()],t),t}();Kr.SvgViewportView=nx;var rx=function(t){i_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(!!this.isVisible(n,r)){var o=this.getRadius(n);return hr.svg("g",null,hr.svg("circle",{"class-sprotty-node":n instanceof uo.SNode,"class-sprotty-port":n instanceof uo.SPort,"class-mouseover":n.hoverFeedback,"class-selected":n.selected,r:o,cx:o,cy:o}),r.renderChildren(n))}},e.prototype.getRadius=function(n){var r=Math.min(n.size.width,n.size.height);return r>0?r/2:0},e=is([os.injectable()],e),e}(o_.ShapeView);Kr.CircularNodeView=rx;var ix=function(t){i_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(!!this.isVisible(n,r))return hr.svg("g",null,hr.svg("rect",{"class-sprotty-node":n instanceof uo.SNode,"class-sprotty-port":n instanceof uo.SPort,"class-mouseover":n.hoverFeedback,"class-selected":n.selected,x:"0",y:"0",width:Math.max(n.size.width,0),height:Math.max(n.size.height,0)}),r.renderChildren(n))},e=is([os.injectable()],e),e}(o_.ShapeView);Kr.RectangularNodeView=ix;var ox=function(t){i_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(!!this.isVisible(n,r)){var o=new tx.Diamond({height:Math.max(n.size.height,0),width:Math.max(n.size.width,0),x:0,y:0}),a=Bs(o.topPoint)+" "+Bs(o.rightPoint)+" "+Bs(o.bottomPoint)+" "+Bs(o.leftPoint);return hr.svg("g",null,hr.svg("polygon",{"class-sprotty-node":n instanceof uo.SNode,"class-sprotty-port":n instanceof uo.SPort,"class-mouseover":n.hoverFeedback,"class-selected":n.selected,points:a}),r.renderChildren(n))}},e=is([os.injectable()],e),e}(o_.ShapeView);Kr.DiamondNodeView=ox;function Bs(t){return t.x+","+t.y}var ax=function(){function t(){}return t.prototype.render=function(e,n){return hr.svg("g",null)},t=is([os.injectable()],t),t}();Kr.EmptyGroupView=ax;var Su={};(function(t){var e=w&&w.__extends||function(){var I=function(j,U){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,x){C.__proto__=x}||function(C,x){for(var D in x)x.hasOwnProperty(D)&&(C[D]=x[D])},I(j,U)};return function(j,U){I(j,U);function C(){this.constructor=j}j.prototype=U===null?Object.create(U):(C.prototype=U.prototype,new C)}}(),n=w&&w.__decorate||function(I,j,U,C){var x=arguments.length,D=x<3?j:C===null?C=Object.getOwnPropertyDescriptor(j,U):C,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(I,j,U,C);else for(var K=I.length-1;K>=0;K--)($=I[K])&&(D=(x<3?$(D):x>3?$(j,U,D):$(j,U))||D);return x>3&&D&&Object.defineProperty(j,U,D),D},r=w&&w.__metadata||function(I,j){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,j)},i=w&&w.__param||function(I,j){return function(U,C){j(U,C,I)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=st,s=Se,u=Nt,d=yn,f=In,_=an,y=vi,g=Eo,v;(function(I){I.KIND="EditLabel";function j(U){return{kind:I.KIND,labelId:U}}I.create=j})(v=t.EditLabelAction||(t.EditLabelAction={}));function m(I){return a.isAction(I)&&I.kind===v.KIND&&"labelId"in I}t.isEditLabelAction=m;var h=function(){function I(j,U){this.labelId=j,this.text=U,this.kind=I.KIND}return I.KIND="applyLabelEdit",I}();t.ApplyLabelEditAction=h;var P=function(){function I(){}return I}();t.ResolvedLabelEdit=P;var p=function(I){e(j,I);function j(U){var C=I.call(this)||this;return C.action=U,C}return j.prototype.execute=function(U){var C=U.root.index,x=C.getById(this.action.labelId);return x&&g.isEditableLabel(x)&&(this.resolvedLabelEdit={label:x,oldLabel:x.text,newLabel:this.action.text},x.text=this.action.text),U.root},j.prototype.undo=function(U){return this.resolvedLabelEdit&&(this.resolvedLabelEdit.label.text=this.resolvedLabelEdit.oldLabel),U.root},j.prototype.redo=function(U){return this.resolvedLabelEdit&&(this.resolvedLabelEdit.label.text=this.resolvedLabelEdit.newLabel),U.root},j.KIND=h.KIND,j=n([i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[h])],j),j}(c.Command);t.ApplyLabelEditCommand=p;var R=function(I){e(j,I);function j(){return I!==null&&I.apply(this,arguments)||this}return j.prototype.doubleClick=function(U,C){var x=A(U);return x?[v.create(x.id)]:[]},j}(u.MouseListener);t.EditLabelMouseListener=R;var O=function(I){e(j,I);function j(){return I!==null&&I.apply(this,arguments)||this}return j.prototype.keyDown=function(U,C){if(f.matchesKeystroke(C,"F2")){var x=y.toArray(U.index.all().filter(function(D){return _.isSelectable(D)&&D.selected})).map(A).filter(function(D){return D!==void 0});if(x.length===1)return[v.create(x[0].id)]}return[]},j}(d.KeyListener);t.EditLabelKeyListener=O;function A(I){if(g.isEditableLabel(I))return I;if(g.isWithEditableLabel(I)&&I.editableLabel)return I.editableLabel}t.getEditableLabel=A})(Su);var as={},ss={},zr={},Ii={};(function(t){var e=w&&w.__decorate||function(d,f,_,y){var g=arguments.length,v=g<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,_):y,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,f,_,y);else for(var h=d.length-1;h>=0;h--)(m=d[h])&&(v=(g<3?m(v):g>3?m(f,_,v):m(f,_))||v);return g>3&&v&&Object.defineProperty(f,_,v),v},n=w&&w.__metadata||function(d,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,f)};Object.defineProperty(t,"__esModule",{value:!0});var r=fe,i=rt,o=ft,a=Fa,c=Se,s;(function(d){d.KIND="exportSvg";function f(_,y){return{kind:d.KIND,svg:_,responseId:y}}d.create=f})(s=t.ExportSvgAction||(t.ExportSvgAction={}));var u=function(){function d(){}return d.prototype.export=function(f,_){if(typeof document!="undefined"){var y=document.getElementById(this.options.hiddenDiv);if(y!==null&&y.firstElementChild&&y.firstElementChild.tagName==="svg"){var g=y.firstElementChild,v=this.createSvg(g,f);this.actionDispatcher.dispatch(s.create(v,_?_.requestId:""))}}},d.prototype.createSvg=function(f,_){var y=new XMLSerializer,g=y.serializeToString(f),v=document.createElement("iframe");if(document.body.appendChild(v),!v.contentWindow)throw new Error("IFrame has no contentWindow");var m=v.contentWindow.document;m.open(),m.write(g),m.close();var h=m.getElementById(f.id);h.removeAttribute("opacity"),this.copyStyles(f,h,["width","height","opacity"]),h.setAttribute("version","1.1");var P=this.getBounds(_);h.setAttribute("viewBox",P.x+" "+P.y+" "+P.width+" "+P.height);var p=y.serializeToString(h);return document.body.removeChild(v),p},d.prototype.copyStyles=function(f,_,y){for(var g=getComputedStyle(f),v=getComputedStyle(_),m="",h=0;h<g.length;h++){var P=g[h];if(y.indexOf(P)===-1){var p=g.getPropertyValue(P);v.getPropertyValue(P)!==p&&(m+=P+":"+p+";")}}m!==""&&_.setAttribute("style",m);for(var h=0;h<f.childNodes.length;++h){var R=f.childNodes[h],O=_.childNodes[h];R instanceof Element&&this.copyStyles(R,O,[])}},d.prototype.getBounds=function(f){var _=[i.Bounds.EMPTY];return f.children.forEach(function(y){o.isBoundsAware(y)&&_.push(y.bounds)}),_.reduce(function(y,g){return i.Bounds.combine(y,g)})},e([r.inject(c.TYPES.ViewerOptions),n("design:type",Object)],d.prototype,"options",void 0),e([r.inject(c.TYPES.IActionDispatcher),n("design:type",a.ActionDispatcher)],d.prototype,"actionDispatcher",void 0),e([r.inject(c.TYPES.ILogger),n("design:type",Object)],d.prototype,"log",void 0),d=e([r.injectable()],d),d}();t.SvgExporter=u})(Ii);var Bc=w&&w.__assign||function(){return Bc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bc.apply(this,arguments)},cc=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},ag=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(zr,"__esModule",{value:!0});var uc=fe,sx=St,cx=rn,sg=Se,ux=Ii,dx=function(){function t(){}return t.prototype.initialize=function(e){e.register(sx.RequestModelAction.KIND,this),e.register(ux.ExportSvgAction.KIND,this)},cc([uc.inject(sg.TYPES.IActionDispatcher),ag("design:type",Object)],t.prototype,"actionDispatcher",void 0),cc([uc.inject(sg.TYPES.ViewerOptions),ag("design:type",Object)],t.prototype,"viewerOptions",void 0),t=cc([uc.injectable()],t),t}();zr.ModelSource=dx;var lx=function(){function t(){}return t.prototype.apply=function(e,n){var r=new cx.SModelIndex;r.add(e);for(var i=0,o=n.bounds;i<o.length;i++){var a=o[i],c=r.getById(a.elementId);c!==void 0&&this.applyBounds(c,a.newPosition,a.newSize)}if(n.alignments!==void 0)for(var s=0,u=n.alignments;s<u.length;s++){var d=u[s],c=r.getById(d.elementId);c!==void 0&&this.applyAlignment(c,d.newAlignment)}return r},t.prototype.applyAlignment=function(e,n){var r=e;r.alignment={x:n.x,y:n.y}},t.prototype.applyBounds=function(e,n,r){var i=e;n&&(i.position=Bc({},n)),i.size=Bc({},r)},t=cc([uc.injectable()],t),t}();zr.ComputedBoundsApplicator=lx;(function(t){var e=w&&w.__extends||function(){var f=function(_,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var m in v)v.hasOwnProperty(m)&&(g[m]=v[m])},f(_,y)};return function(_,y){f(_,y);function g(){this.constructor=_}_.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),n=w&&w.__decorate||function(f,_,y,g){var v=arguments.length,m=v<3?_:g===null?g=Object.getOwnPropertyDescriptor(_,y):g,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(f,_,y,g);else for(var P=f.length-1;P>=0;P--)(h=f[P])&&(m=(v<3?h(m):v>3?h(_,y,m):h(_,y))||m);return v>3&&m&&Object.defineProperty(_,y,m),m},r=w&&w.__metadata||function(f,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,_)},i=w&&w.__param||function(f,_){return function(y,g){_(y,g,f)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=st,c=Se,s=zr,u;(function(f){f.KIND="commitModel";function _(){return{kind:f.KIND}}f.create=_})(u=t.CommitModelAction||(t.CommitModelAction={}));var d=function(f){e(_,f);function _(y){var g=f.call(this)||this;return g.action=y,g}return _.prototype.execute=function(y){return this.newModel=y.modelFactory.createSchema(y.root),this.doCommit(this.newModel,y.root,!0)},_.prototype.doCommit=function(y,g,v){var m=this,h=this.modelSource.commitModel(y);return h instanceof Promise?h.then(function(P){return v&&(m.originalModel=P),g}):(v&&(this.originalModel=h),g)},_.prototype.undo=function(y){return this.doCommit(this.originalModel,y.root,!1)},_.prototype.redo=function(y){return this.doCommit(this.newModel,y.root,!1)},_.KIND=u.KIND,n([o.inject(c.TYPES.ModelSource),r("design:type",s.ModelSource)],_.prototype,"modelSource",void 0),_=n([o.injectable(),i(0,o.inject(c.TYPES.Action)),r("design:paramtypes",[Object])],_),_}(a.SystemCommand);t.CommitModelCommand=d})(ss);var ji={},fx=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ji,"__esModule",{value:!0});var _x=St,px=qt,hx=Nt,Ev=gt,Av=nr;function gx(t){return"zoom"in t}ji.isZoomable=gx;function yx(t){var e=1,n=Ev.findParentByFeature(t,Av.isViewport);return n&&(e=n.zoom),e}ji.getZoom=yx;var mx=function(t){fx(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.wheel=function(n,r){var i=Ev.findParentByFeature(n,Av.isViewport);if(i){var o=this.getZoomFactor(r),a=this.getViewportOffset(n.root,r),c=1/(o*i.zoom)-1/i.zoom,s={scroll:{x:i.scroll.x-c*a.x,y:i.scroll.y-c*a.y},zoom:i.zoom*o};return[_x.SetViewportAction.create(i.id,s,{animate:!1})]}return[]},e.prototype.getViewportOffset=function(n,r){var i=n.canvasBounds,o=px.getWindowScroll();return{x:r.clientX+o.x-i.x,y:r.clientY+o.y-i.y}},e.prototype.getZoomFactor=function(n){return n.deltaMode===n.DOM_DELTA_PAGE?Math.exp(-n.deltaY*.5):n.deltaMode===n.DOM_DELTA_LINE?Math.exp(-n.deltaY*.05):Math.exp(-n.deltaY*.005)},e}(hx.MouseListener);ji.ZoomMouseListener=mx;var vx=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),si=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Qo=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},cg=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},ug=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dg=w&&w.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r};Object.defineProperty(as,"__esModule",{value:!0});var lr=fe,ea=Se,bx=Za,Px=za,wx=Ri,Rx=ss,lg=In,Sx=ft,fg=ji,Ov=Su,Ex=Eo,Ax=function(){function t(){}return t.prototype.handle=function(e){if(Ov.isEditLabelAction(e))return Px.SetUIExtensionVisibilityAction.create({extensionId:Iv.ID,visible:!0,contextElementsId:[e.labelId]})},t=si([lr.injectable()],t),t}();as.EditLabelActionHandler=Ax;var Iv=function(t){vx(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.validationTimeout=void 0,r.isActive=!1,r.blockApplyEditOnInvalidInput=!0,r.isCurrentLabelValid=!0,r}n=e,e.prototype.id=function(){return n.ID},e.prototype.containerClass=function(){return"label-edit"},Object.defineProperty(e.prototype,"labelId",{get:function(){return this.label?this.label.id:"unknown"},enumerable:!0,configurable:!0}),e.prototype.initializeContents=function(r){var i=this;r.style.position="absolute",this.inputElement=document.createElement("input"),this.textAreaElement=document.createElement("textarea"),[this.inputElement,this.textAreaElement].forEach(function(o){o.onkeydown=function(a){return i.applyLabelEditOnEvent(a,"Enter")},i.configureAndAdd(o,r)})},e.prototype.configureAndAdd=function(r,i){var o=this;r.style.visibility="hidden",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.addEventListener("keydown",function(a){return o.hideIfEscapeEvent(a)}),r.addEventListener("keyup",function(a){return o.validateLabelIfContentChange(a,r.value)}),r.addEventListener("blur",function(){return window.setTimeout(function(){return o.applyLabelEdit()},200)}),i.appendChild(r)},Object.defineProperty(e.prototype,"editControl",{get:function(){return this.label&&this.label.isMultiLine?this.textAreaElement:this.inputElement},enumerable:!0,configurable:!0}),e.prototype.hideIfEscapeEvent=function(r){lg.matchesKeystroke(r,"Escape")&&this.hide()},e.prototype.applyLabelEditOnEvent=function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];lg.matchesKeystroke.apply(void 0,dg([r,i||"Enter"],o))&&(r.preventDefault(),this.applyLabelEdit())},e.prototype.validateLabelIfContentChange=function(r,i){(this.previousLabelContent===void 0||this.previousLabelContent!==i)&&(this.previousLabelContent=i,this.performLabelValidation(r,this.editControl.value))},e.prototype.applyLabelEdit=function(){return cg(this,void 0,void 0,function(){var r,i=this;return ug(this,function(o){switch(o.label){case 0:return this.isActive?this.blockApplyEditOnInvalidInput?[4,this.validateLabel(this.editControl.value)]:[3,2]:[2];case 1:if(r=o.sent(),r.severity==="error")return this.editControl.focus(),[2];o.label=2;case 2:return this.actionDispatcherProvider().then(function(a){return a.dispatchAll([new Ov.ApplyLabelEditAction(i.labelId,i.editControl.value),Rx.CommitModelAction.create()])}).catch(function(a){return i.logger.error(i,"No action dispatcher available to execute apply label edit action",a)}),this.hide(),[2]}})})},e.prototype.performLabelValidation=function(r,i){var o=this;this.validationTimeout&&window.clearTimeout(this.validationTimeout),this.validationTimeout=window.setTimeout(function(){return o.validateLabel(i)},200)},e.prototype.validateLabel=function(r){return cg(this,void 0,void 0,function(){var i,o;return ug(this,function(a){switch(a.label){case 0:if(!(this.labelValidator&&this.label))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.labelValidator.validate(r,this.label)];case 2:return i=a.sent(),this.isCurrentLabelValid=i.severity!=="error",this.showValidationResult(i),[2,i];case 3:return o=a.sent(),this.logger.error(this,"Error validating edited label",o),[3,4];case 4:return this.isCurrentLabelValid=!0,[2,{severity:"ok",message:void 0}]}})})},e.prototype.showValidationResult=function(r){this.clearValidationResult(),this.validationDecorator&&this.validationDecorator.decorate(this.editControl,r)},e.prototype.clearValidationResult=function(){this.validationDecorator&&this.validationDecorator.dispose(this.editControl)},e.prototype.show=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];!Ox(i,r)||this.isActive||(t.prototype.show.apply(this,dg([r],i)),this.isActive=!0)},e.prototype.hide=function(){this.editControl.style.visibility="hidden",t.prototype.hide.call(this),this.clearValidationResult(),this.isActive=!1,this.isCurrentLabelValid=!0,this.previousLabelContent=void 0,this.labelElement&&(this.labelElement.style.visibility="visible")},e.prototype.onBeforeShow=function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.label=jv(o,i)[0],this.previousLabelContent=this.label.text,this.setPosition(r),this.applyTextContents(),this.applyFontStyling(),this.editControl.style.visibility="visible",this.editControl.focus()},e.prototype.setPosition=function(r){var i=0,o=0,a=100,c=20;if(this.label){var s=fg.getZoom(this.label),u=Sx.getAbsoluteClientBounds(this.label,this.domHelper,this.viewerOptions);i=u.x+(this.label.editControlPositionCorrection?this.label.editControlPositionCorrection.x:0)*s,o=u.y+(this.label.editControlPositionCorrection?this.label.editControlPositionCorrection.y:0)*s,c=(this.label.editControlDimension?this.label.editControlDimension.height:c)*s,a=(this.label.editControlDimension?this.label.editControlDimension.width:a)*s}r.style.left=i+"px",r.style.top=o+"px",r.style.width=a+"px",this.editControl.style.width=a+"px",r.style.height=c+"px",this.editControl.style.height=c+"px"},e.prototype.applyTextContents=function(){this.label&&(this.editControl.value=this.label.text,this.editControl instanceof HTMLTextAreaElement?(this.editControl.selectionStart=0,this.editControl.selectionEnd=0,this.editControl.scrollTop=0,this.editControl.scrollLeft=0):this.editControl.setSelectionRange(0,this.editControl.value.length))},e.prototype.applyFontStyling=function(){if(this.label&&(this.labelElement=document.getElementById(this.domHelper.createUniqueDOMElementId(this.label)),this.labelElement)){this.labelElement.style.visibility="hidden";var r=window.getComputedStyle(this.labelElement);this.editControl.style.font=r.font,this.editControl.style.fontStyle=r.fontStyle,this.editControl.style.fontFamily=r.fontFamily,this.editControl.style.fontSize=Ix(r.fontSize,fg.getZoom(this.label)),this.editControl.style.fontWeight=r.fontWeight,this.editControl.style.lineHeight=r.lineHeight}};var n;return e.ID="editLabelUi",si([lr.inject(ea.TYPES.IActionDispatcherProvider),Qo("design:type",Function)],e.prototype,"actionDispatcherProvider",void 0),si([lr.inject(ea.TYPES.ViewerOptions),Qo("design:type",Object)],e.prototype,"viewerOptions",void 0),si([lr.inject(ea.TYPES.DOMHelper),Qo("design:type",wx.DOMHelper)],e.prototype,"domHelper",void 0),si([lr.inject(ea.TYPES.IEditLabelValidator),lr.optional(),Qo("design:type",Object)],e.prototype,"labelValidator",void 0),si([lr.inject(ea.TYPES.IEditLabelValidationDecorator),lr.optional(),Qo("design:type",Object)],e.prototype,"validationDecorator",void 0),e=n=si([lr.injectable()],e),e}(bx.AbstractUIExtension);as.EditLabelUI=Iv;function Ox(t,e){return jv(t,e).length===1}function jv(t,e){return t.map(function(n){return e.index.getById(n)}).filter(Ex.isEditableLabel)}function Ix(t,e){return t.replace(/([0-9]+)/,function(n){return String(Number.parseInt(n,10)*e)})}var cs={};(function(t){var e=w&&w.__extends||function(){var g=function(v,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,P){h.__proto__=P}||function(h,P){for(var p in P)P.hasOwnProperty(p)&&(h[p]=P[p])},g(v,m)};return function(v,m){g(v,m);function h(){this.constructor=v}v.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}(),n=w&&w.__decorate||function(g,v,m,h){var P=arguments.length,p=P<3?v:h===null?h=Object.getOwnPropertyDescriptor(v,m):h,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(g,v,m,h);else for(var O=g.length-1;O>=0;O--)(R=g[O])&&(p=(P<3?R(p):P>3?R(v,m,p):R(v,m))||p);return P>3&&p&&Object.defineProperty(v,m,p),p},r=w&&w.__metadata||function(g,v){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,v)},i=w&&w.__param||function(g,v){return function(m,h){v(m,h,g)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=st,c=qe,s=Se,u=bt,d=mn,f=Eo,_;(function(g){g.KIND="switchEditMode";function v(m){var h,P;return{kind:g.KIND,elementsToActivate:(h=m.elementsToActivate)!==null&&h!==void 0?h:[],elementsToDeactivate:(P=m.elementsToDeactivate)!==null&&P!==void 0?P:[]}}g.create=v})(_=t.SwitchEditModeAction||(t.SwitchEditModeAction={}));var y=function(g){e(v,g);function v(m){var h=g.call(this)||this;return h.action=m,h.elementsToActivate=[],h.elementsToDeactivate=[],h.handlesToRemove=[],h}return v.prototype.execute=function(m){var h=this,P=m.root.index;return this.action.elementsToActivate.forEach(function(p){var R=P.getById(p);R!==void 0&&h.elementsToActivate.push(R)}),this.action.elementsToDeactivate.forEach(function(p){var R=P.getById(p);if(R!==void 0&&h.elementsToDeactivate.push(R),R instanceof u.SRoutingHandle&&R.parent instanceof u.SRoutableElement){var O=R.parent;h.shouldRemoveHandle(R,O)&&(h.handlesToRemove.push({handle:R,parent:O}),h.elementsToDeactivate.push(O),h.elementsToActivate.push(O))}}),this.doExecute(m)},v.prototype.doExecute=function(m){var h=this;return this.handlesToRemove.forEach(function(P){P.point=P.parent.routingPoints.splice(P.handle.pointIndex,1)[0]}),this.elementsToDeactivate.forEach(function(P){P instanceof u.SRoutableElement?P.removeAll(function(p){return p instanceof u.SRoutingHandle}):P instanceof u.SRoutingHandle&&(P.editMode=!1,P.danglingAnchor&&P.parent instanceof u.SRoutableElement&&P.danglingAnchor.original&&(P.parent.source===P.danglingAnchor?P.parent.sourceId=P.danglingAnchor.original.id:P.parent.target===P.danglingAnchor&&(P.parent.targetId=P.danglingAnchor.original.id),P.danglingAnchor.parent.remove(P.danglingAnchor),P.danglingAnchor=void 0))}),this.elementsToActivate.forEach(function(P){if(f.canEditRouting(P)&&P instanceof c.SParentElement){var p=h.edgeRouterRegistry.get(P.routerKind);p.createRoutingHandles(P)}else P instanceof u.SRoutingHandle&&(P.editMode=!0)}),m.root},v.prototype.shouldRemoveHandle=function(m,h){if(m.kind==="junction"){var P=this.edgeRouterRegistry.route(h);return P.find(function(p){return p.pointIndex===m.pointIndex})===void 0}return!1},v.prototype.undo=function(m){var h=this;return this.handlesToRemove.forEach(function(P){P.point!==void 0&&P.parent.routingPoints.splice(P.handle.pointIndex,0,P.point)}),this.elementsToActivate.forEach(function(P){P instanceof u.SRoutableElement?P.removeAll(function(p){return p instanceof u.SRoutingHandle}):P instanceof u.SRoutingHandle&&(P.editMode=!1)}),this.elementsToDeactivate.forEach(function(P){if(f.canEditRouting(P)){var p=h.edgeRouterRegistry.get(P.routerKind);p.createRoutingHandles(P)}else P instanceof u.SRoutingHandle&&(P.editMode=!0)}),m.root},v.prototype.redo=function(m){return this.doExecute(m)},v.KIND=_.KIND,n([o.inject(d.EdgeRouterRegistry),r("design:type",d.EdgeRouterRegistry)],v.prototype,"edgeRouterRegistry",void 0),v=n([o.injectable(),i(0,o.inject(s.TYPES.Action)),r("design:paramtypes",[Object])],v),v}(a.Command);t.SwitchEditModeCommand=y})(cs);var Eu={};(function(t){var e=w&&w.__extends||function(){var _=function(y,g){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var h in m)m.hasOwnProperty(h)&&(v[h]=m[h])},_(y,g)};return function(y,g){_(y,g);function v(){this.constructor=y}y.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),n=w&&w.__decorate||function(_,y,g,v){var m=arguments.length,h=m<3?y:v===null?v=Object.getOwnPropertyDescriptor(y,g):v,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(_,y,g,v);else for(var p=_.length-1;p>=0;p--)(P=_[p])&&(h=(m<3?P(h):m>3?P(y,g,h):P(y,g))||h);return m>3&&h&&Object.defineProperty(y,g,h),h},r=w&&w.__metadata||function(_,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,y)},i=w&&w.__param||function(_,y){return function(g,v){y(g,v,_)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=st,c=Se,s=bt,u=mn,d;(function(_){_.KIND="reconnect";function y(g){return{kind:_.KIND,routableId:g.routableId,newSourceId:g.newSourceId,newTargetId:g.newTargetId}}_.create=y})(d=t.ReconnectAction||(t.ReconnectAction={}));var f=function(_){e(y,_);function y(g){var v=_.call(this)||this;return v.action=g,v}return y.prototype.execute=function(g){return this.doExecute(g),g.root},y.prototype.doExecute=function(g){var v=g.root.index,m=v.getById(this.action.routableId);if(m instanceof s.SRoutableElement){var h=this.edgeRouterRegistry.get(m.routerKind),P=h.takeSnapshot(m);h.applyReconnect(m,this.action.newSourceId,this.action.newTargetId);var p=h.takeSnapshot(m);this.memento={edge:m,before:P,after:p}}},y.prototype.undo=function(g){if(this.memento){var v=this.edgeRouterRegistry.get(this.memento.edge.routerKind);v.applySnapshot(this.memento.edge,this.memento.before)}return g.root},y.prototype.redo=function(g){if(this.memento){var v=this.edgeRouterRegistry.get(this.memento.edge.routerKind);v.applySnapshot(this.memento.edge,this.memento.after)}return g.root},y.KIND=d.KIND,n([o.inject(u.EdgeRouterRegistry),r("design:type",u.EdgeRouterRegistry)],y.prototype,"edgeRouterRegistry",void 0),y=n([o.injectable(),i(0,o.inject(c.TYPES.Action)),r("design:paramtypes",[Object])],y),y}(a.Command);t.ReconnectCommand=f})(Eu);Object.defineProperty(Oo,"__esModule",{value:!0});var a_=fe,Xl=Se,dc=Ut,jx=Yr,Cx=jn,Mx=bt,xx=Kr,Dx=Si,lc=Su,Vd=as,Tx=cs,Lx=Eu;Oo.edgeEditModule=new a_.ContainerModule(function(t,e,n){var r={bind:t,isBound:n};dc.configureCommand(r,Tx.SwitchEditModeCommand),dc.configureCommand(r,Lx.ReconnectCommand),dc.configureCommand(r,Dx.DeleteElementCommand),Cx.configureModelElement(r,"dangling-anchor",Mx.SDanglingAnchor,xx.EmptyGroupView)});Oo.labelEditModule=new a_.ContainerModule(function(t,e,n){t(Xl.TYPES.MouseListener).to(lc.EditLabelMouseListener),t(Xl.TYPES.KeyListener).to(lc.EditLabelKeyListener),dc.configureCommand({bind:t,isBound:n},lc.ApplyLabelEditCommand)});Oo.labelEditUiModule=new a_.ContainerModule(function(t,e,n){var r={bind:t,isBound:n};jx.configureActionHandler(r,lc.EditLabelAction.KIND,Vd.EditLabelActionHandler),t(Vd.EditLabelUI).toSelf().inSingletonScope(),t(Xl.TYPES.IUIExtension).toService(Vd.EditLabelUI)});var Io={},Au={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.expandFeature=Symbol("expandFeature");function e(n){return n.hasFeature(t.expandFeature)&&"expanded"in n}t.isExpandable=e})(Au);var Ux=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Io,"__esModule",{value:!0});var Nx=fe,kx=gt,Fx=Au,Cv=function(){function t(e,n){this.expandIds=e,this.collapseIds=n,this.kind=t.KIND}return t.KIND="collapseExpand",t}();Io.CollapseExpandAction=Cv;var Bx=function(){function t(e){e===void 0&&(e=!0),this.expand=e,this.kind=t.KIND}return t.KIND="collapseExpandAll",t}();Io.CollapseExpandAllAction=Bx;var Yx=function(){function t(){}return t.prototype.buttonPressed=function(e){var n=kx.findParentByFeature(e,Fx.isExpandable);return n!==void 0?[new Cv(n.expanded?[]:[n.id],n.expanded?[n.id]:[])]:[]},t.TYPE="button:expand",t=Ux([Nx.injectable()],t),t}();Io.ExpandButtonHandler=Yx;var s_={},$x=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(s_,"__esModule",{value:!0});var Hd=on,Vx=Au,Hx=gt,Kx=fe,zx=function(){function t(){}return t.prototype.render=function(e,n){var r=Hx.findParentByFeature(e,Vx.isExpandable),i=r!==void 0&&r.expanded?"M 1,5 L 8,12 L 15,5 Z":"M 1,8 L 8,15 L 8,1 Z";return Hd.svg("g",{"class-sprotty-button":"{true}","class-enabled":"{button.enabled}"},Hd.svg("rect",{x:0,y:0,width:16,height:16,opacity:0}),Hd.svg("path",{d:i}))},t=$x([Kx.injectable()],t),t}();s_.ExpandButtonView=zx;var c_={};(function(t){var e=w&&w.__extends||function(){var O=function(A,I){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,U){j.__proto__=U}||function(j,U){for(var C in U)U.hasOwnProperty(C)&&(j[C]=U[C])},O(A,I)};return function(A,I){O(A,I);function j(){this.constructor=A}A.prototype=I===null?Object.create(I):(j.prototype=I.prototype,new j)}}(),n=w&&w.__decorate||function(O,A,I,j){var U=arguments.length,C=U<3?A:j===null?j=Object.getOwnPropertyDescriptor(A,I):j,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(O,A,I,j);else for(var D=O.length-1;D>=0;D--)(x=O[D])&&(C=(U<3?x(C):U>3?x(A,I,C):x(A,I))||C);return U>3&&C&&Object.defineProperty(A,I,C),C},r=w&&w.__metadata||function(O,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,A)},i=w&&w.__param||function(O,A){return function(I,j){A(I,j,O)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=st,s=an,u=qe,d=yn,f=In,_=Ru,y=Ii,g=nr,v=Ei,m=Se,h=function(O){e(A,O);function A(){return O!==null&&O.apply(this,arguments)||this}return A.prototype.keyDown=function(I,j){return f.matchesKeystroke(j,"KeyE","ctrlCmd","shift")?[P.create()]:[]},A=n([o.injectable()],A),A}(d.KeyListener);t.ExportSvgKeyListener=h;var P;(function(O){O.KIND="requestExportSvg";function A(){return{kind:O.KIND,requestId:a.generateRequestId()}}O.create=A})(P=t.RequestExportSvgAction||(t.RequestExportSvgAction={}));var p=function(O){e(A,O);function A(I){var j=O.call(this)||this;return j.action=I,j}return A.prototype.execute=function(I){if(_.isExportable(I.root)){var j=I.modelFactory.createRoot(I.root);if(_.isExportable(j))return g.isViewport(j)&&(j.zoom=1,j.scroll={x:0,y:0}),j.index.all().forEach(function(U){s.isSelectable(U)&&U.selected&&(U.selected=!1),v.isHoverable(U)&&U.hoverFeedback&&(U.hoverFeedback=!1)}),{model:j,modelChanged:!0,cause:this.action}}return{model:I.root,modelChanged:!1}},A.KIND=P.KIND,A=n([i(0,o.inject(m.TYPES.Action)),r("design:paramtypes",[Object])],A),A}(c.HiddenCommand);t.ExportSvgCommand=p;var R=function(){function O(){}return O.prototype.decorate=function(A,I){return I instanceof u.SModelRoot&&(this.root=I),A},O.prototype.postUpdate=function(A){this.root&&A!==void 0&&A.kind===P.KIND&&this.svgExporter.export(this.root,A)},n([o.inject(m.TYPES.SvgExporter),r("design:type",y.SvgExporter)],O.prototype,"svgExporter",void 0),O=n([o.injectable()],O),O}();t.ExportSvgPostprocessor=R})(c_);var jo={},Zx=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qx=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(jo,"__esModule",{value:!0});var Wx=fe,Gx=yr,Jx=qe,Xx=pt,Qx=Po,eD=function(t){Zx(e,t);function e(n,r,i,o){o===void 0&&(o=!1);var a=t.call(this,i)||this;return a.model=n,a.elementFades=r,a.removeAfterFadeOut=o,a}return e.prototype.tween=function(n,r){for(var i=0,o=this.elementFades;i<o.length;i++){var a=o[i],c=a.element;a.type==="in"?c.opacity=n:a.type==="out"&&(c.opacity=1-n,n===1&&this.removeAfterFadeOut&&c instanceof Jx.SChildElement&&c.parent.remove(c))}return this.model},e}(Gx.Animation);jo.FadeAnimation=eD;var tD=function(){function t(){}return t.prototype.decorate=function(e,n){return Qx.isFadeable(n)&&n.opacity!==1&&Xx.setAttr(e,"opacity",n.opacity),e},t.prototype.postUpdate=function(){},t=qx([Wx.injectable()],t),t}();jo.ElementFader=tD;var u_={};(function(t){var e=w&&w.__extends||function(){var D=function($,K){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,te){ee.__proto__=te}||function(ee,te){for(var ie in te)te.hasOwnProperty(ie)&&(ee[ie]=te[ie])},D($,K)};return function($,K){D($,K);function ee(){this.constructor=$}$.prototype=K===null?Object.create(K):(ee.prototype=K.prototype,new ee)}}(),n=w&&w.__decorate||function(D,$,K,ee){var te=arguments.length,ie=te<3?$:ee===null?ee=Object.getOwnPropertyDescriptor($,K):ee,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(D,$,K,ee);else for(var q=D.length-1;q>=0;q--)(G=D[q])&&(ie=(te<3?G(ie):te>3?G($,K,ie):G($,K))||ie);return te>3&&ie&&Object.defineProperty($,K,ie),ie},r=w&&w.__metadata||function(D,$){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,$)},i=w&&w.__param||function(D,$){return function(K,ee){$(K,ee,D)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=rt,s=In,u=Se,d=qe,f=Nt,_=st,y=tn,g=yn,v=gt,m=ft,h=Ei,P;(function(D){D.KIND="hoverFeedback";function $(K){return{kind:D.KIND,mouseoverElement:K.mouseoverElement,mouseIsOver:K.mouseIsOver}}D.create=$})(P=t.HoverFeedbackAction||(t.HoverFeedbackAction={}));var p=function(D){e($,D);function $(K){var ee=D.call(this)||this;return ee.action=K,ee}return $.prototype.execute=function(K){var ee=K.root,te=ee.index.getById(this.action.mouseoverElement);return te&&h.isHoverable(te)&&(te.hoverFeedback=this.action.mouseIsOver),this.redo(K)},$.prototype.undo=function(K){return K.root},$.prototype.redo=function(K){return K.root},$.KIND=P.KIND,$=n([o.injectable(),i(0,o.inject(u.TYPES.Action)),r("design:paramtypes",[Object])],$),$}(_.SystemCommand);t.HoverFeedbackCommand=p;var R=function(){function D($,K,ee){ee===void 0&&(ee=""),this.elementId=$,this.bounds=K,this.requestId=ee,this.kind=D.KIND}return D.create=function($,K){return new D($,K,a.generateRequestId())},D.KIND="requestPopupModel",D}();t.RequestPopupModelAction=R;var O=function(){function D($,K){K===void 0&&(K=""),this.newRoot=$,this.responseId=K,this.kind=D.KIND}return D.KIND="setPopupModel",D}();t.SetPopupModelAction=O;var A=function(D){e($,D);function $(K){var ee=D.call(this)||this;return ee.action=K,ee}return $.prototype.execute=function(K){return this.oldRoot=K.root,this.newRoot=K.modelFactory.createRoot(this.action.newRoot),this.newRoot},$.prototype.undo=function(K){return this.oldRoot},$.prototype.redo=function(K){return this.newRoot},$.KIND=O.KIND,$=n([o.injectable(),i(0,o.inject(u.TYPES.Action)),r("design:paramtypes",[O])],$),$}(_.PopupCommand);t.SetPopupModelCommand=A;var I=function(D){e($,D);function $(){return D!==null&&D.apply(this,arguments)||this}return $.prototype.mouseDown=function(K,ee){return this.mouseIsDown=!0,[]},$.prototype.mouseUp=function(K,ee){return this.mouseIsDown=!1,[]},$.prototype.stopMouseOutTimer=function(){this.state.mouseOutTimer!==void 0&&(window.clearTimeout(this.state.mouseOutTimer),this.state.mouseOutTimer=void 0)},$.prototype.startMouseOutTimer=function(){var K=this;return this.stopMouseOutTimer(),new Promise(function(ee){K.state.mouseOutTimer=window.setTimeout(function(){K.state.popupOpen=!1,K.state.previousPopupElement=void 0,ee(new O({type:y.EMPTY_ROOT.type,id:y.EMPTY_ROOT.id}))},K.options.popupCloseDelay)})},$.prototype.stopMouseOverTimer=function(){this.state.mouseOverTimer!==void 0&&(window.clearTimeout(this.state.mouseOverTimer),this.state.mouseOverTimer=void 0)},n([o.inject(u.TYPES.ViewerOptions),r("design:type",Object)],$.prototype,"options",void 0),n([o.inject(u.TYPES.HoverState),r("design:type",Object)],$.prototype,"state",void 0),$}(f.MouseListener);t.AbstractHoverMouseListener=I;var j=function(D){e($,D);function $(){return D!==null&&D.apply(this,arguments)||this}return $.prototype.computePopupBounds=function(K,ee){var te={x:-5,y:20},ie=m.getAbsoluteBounds(K),G=K.root.canvasBounds,q=c.Bounds.translate(ie,G),z=q.x+q.width-ee.x,B=q.y+q.height-ee.y;B<=z&&this.allowSidePosition(K,"below",B)?te={x:-5,y:Math.round(B+5)}:z<=B&&this.allowSidePosition(K,"right",z)&&(te={x:Math.round(z+5),y:-5});var V=ee.x+te.x,L=G.x+G.width;V>L&&(V=L);var M=ee.y+te.y,W=G.y+G.height;return M>W&&(M=W),{x:V,y:M,width:-1,height:-1}},$.prototype.allowSidePosition=function(K,ee,te){return!(K instanceof d.SModelRoot)&&te<=150},$.prototype.startMouseOverTimer=function(K,ee){var te=this;return this.stopMouseOverTimer(),new Promise(function(ie){te.state.mouseOverTimer=window.setTimeout(function(){var G=te.computePopupBounds(K,{x:ee.pageX,y:ee.pageY});ie(new R(K.id,G)),te.state.popupOpen=!0,te.state.previousPopupElement=K},te.options.popupOpenDelay)})},$.prototype.mouseOver=function(K,ee){var te=[];if(!this.mouseIsDown){var ie=v.findParent(K,h.hasPopupFeature);this.state.popupOpen&&(ie===void 0||this.state.previousPopupElement!==void 0&&this.state.previousPopupElement.id!==ie.id)?te.push(this.startMouseOutTimer()):(this.stopMouseOverTimer(),this.stopMouseOutTimer()),ie!==void 0&&(this.state.previousPopupElement===void 0||this.state.previousPopupElement.id!==ie.id)&&te.push(this.startMouseOverTimer(ie,ee)),this.lastHoverFeedbackElementId&&(te.push(P.create({mouseoverElement:this.lastHoverFeedbackElementId,mouseIsOver:!1})),this.lastHoverFeedbackElementId=void 0);var G=v.findParentByFeature(K,h.isHoverable);G!==void 0&&(te.push(P.create({mouseoverElement:G.id,mouseIsOver:!0})),this.lastHoverFeedbackElementId=G.id)}return te},$.prototype.mouseOut=function(K,ee){var te=[];if(!this.mouseIsDown){var ie=document.elementFromPoint(ee.x,ee.y);if(!this.isSprottyPopup(ie)){if(this.state.popupOpen){var G=v.findParent(K,h.hasPopupFeature);this.state.previousPopupElement!==void 0&&G!==void 0&&this.state.previousPopupElement.id===G.id&&te.push(this.startMouseOutTimer())}this.stopMouseOverTimer();var q=v.findParentByFeature(K,h.isHoverable);q!==void 0&&(te.push(P.create({mouseoverElement:q.id,mouseIsOver:!1})),this.lastHoverFeedbackElementId=void 0)}}return te},$.prototype.isSprottyPopup=function(K){return K?K.id===this.options.popupDiv||!!K.parentElement&&this.isSprottyPopup(K.parentElement):!1},$.prototype.mouseMove=function(K,ee){var te=[];if(!this.mouseIsDown){this.state.previousPopupElement!==void 0&&this.closeOnMouseMove(this.state.previousPopupElement,ee)&&te.push(this.startMouseOutTimer());var ie=v.findParent(K,h.hasPopupFeature);ie!==void 0&&(this.state.previousPopupElement===void 0||this.state.previousPopupElement.id!==ie.id)&&te.push(this.startMouseOverTimer(ie,ee))}return te},$.prototype.closeOnMouseMove=function(K,ee){return K instanceof d.SModelRoot},n([o.inject(u.TYPES.ViewerOptions),r("design:type",Object)],$.prototype,"options",void 0),$=n([o.injectable()],$),$}(I);t.HoverMouseListener=j;var U=function(D){e($,D);function $(){return D!==null&&D.apply(this,arguments)||this}return $.prototype.mouseOut=function(K,ee){return[this.startMouseOutTimer()]},$.prototype.mouseOver=function(K,ee){return this.stopMouseOutTimer(),this.stopMouseOverTimer(),[]},$=n([o.injectable()],$),$}(I);t.PopupHoverMouseListener=U;var C=function(D){e($,D);function $(){return D!==null&&D.apply(this,arguments)||this}return $.prototype.keyDown=function(K,ee){return s.matchesKeystroke(ee,"Escape")?[new O({type:y.EMPTY_ROOT.type,id:y.EMPTY_ROOT.id})]:[]},$}(g.KeyListener);t.HoverKeyListener=C;var x=function(){function D(){this.popupOpen=!1}return D.prototype.handle=function($){if($.kind===A.KIND)this.popupOpen=$.newRoot.type!==y.EMPTY_ROOT.type;else if(this.popupOpen)return new O({id:y.EMPTY_ROOT.id,type:y.EMPTY_ROOT.type})},D=n([o.injectable()],D),D}();t.ClosePopupActionHandler=x})(u_);var Ou={};(function(t){var e=w&&w.__extends||function(){var s=function(u,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var y in _)_.hasOwnProperty(y)&&(f[y]=_[y])},s(u,d)};return function(u,d){s(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=Ei,r=ft;t.decorationFeature=Symbol("decorationFeature");function i(s){return s.hasFeature(t.decorationFeature)}t.isDecoration=i;var o=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u.DEFAULT_FEATURES=[t.decorationFeature,r.boundsFeature,n.hoverFeedbackFeature,n.popupFeature],u}(r.SShapeElement);t.SDecoration=o;var a=function(s){e(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u}(o);t.SIssueMarker=a;var c=function(){function s(){}return s}();t.SIssue=c})(Ou);var Iu={},nD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Iu,"__esModule",{value:!0});var Kd=on,rD=pt,iD=fe,oD=function(){function t(){}return t.prototype.render=function(e,n){var r=.008928571428571428,i="scale("+r+", "+r+")",o=this.getMaxSeverity(e),a=Kd.svg("g",{"class-sprotty-issue":!0},Kd.svg("g",{transform:i},Kd.svg("path",{d:this.getPath(o)})));return rD.setClass(a,"sprotty-"+o,!0),a},t.prototype.getMaxSeverity=function(e){for(var n="info",r=0,i=e.issues.map(function(a){return a.severity});r<i.length;r++){var o=i[r];(o==="error"||o==="warning"&&n==="info")&&(n=o)}return n},t.prototype.getPath=function(e){switch(e){case"error":case"warning":return"M768 128q209 0 385.5 103t279.5 279.5 103 385.5-103 385.5-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103zm128 1247v-190q0-14-9-23.5t-22-9.5h-192q-13 0-23 10t-10 23v190q0 13 10 23t23 10h192q13 0 22-9.5t9-23.5zm-2-344l18-621q0-12-10-18-10-8-24-8h-220q-14 0-24 8-10 6-10 18l17 621q0 10 10 17.5t24 7.5h185q14 0 23.5-7.5t10.5-17.5z";case"info":return"M1024 1376v-160q0-14-9-23t-23-9h-96v-512q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v160q0 14 9 23t23 9h96v320h-96q-14 0-23 9t-9 23v160q0 14 9 23t23 9h448q14 0 23-9t9-23zm-128-896v-160q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v160q0 14 9 23t23 9h192q14 0 23-9t9-23zm640 416q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"}},t=nD([iD.injectable()],t),t}();Iu.IssueMarkerView=oD;var ju={},_g=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},aD=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ju,"__esModule",{value:!0});var pg=fe,sD=qe,cD=Ou,uD=pt,hg=ft,dD=bt,gg=mn,yg=ho,lD=function(){function t(){}return t.prototype.decorate=function(e,n){if(cD.isDecoration(n)){var r=this.getPosition(n),i="translate("+r.x+", "+r.y+")";uD.setAttr(e,"transform",i)}return e},t.prototype.getPosition=function(e){if(e instanceof sD.SChildElement&&e.parent instanceof dD.SRoutableElement){var n=this.edgeRouterRegistry.route(e.parent);if(n.length>1){var r=Math.floor(.5*(n.length-1)),i=hg.isSizeable(e)?{x:-.5*e.bounds.width,y:-.5*e.bounds.width}:yg.Point.ORIGIN;return{x:.5*(n[r].x+n[r+1].x)+i.x,y:.5*(n[r].y+n[r+1].y)+i.y}}}return hg.isSizeable(e)?{x:-.666*e.bounds.width,y:-.666*e.bounds.height}:yg.Point.ORIGIN},t.prototype.postUpdate=function(){},_g([pg.inject(gg.EdgeRouterRegistry),aD("design:type",gg.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=_g([pg.injectable()],t),t}();ju.DecorationPlacer=lD;var Ci={};class fD{constructor(e=[],n=_D){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:r}=this,i=n[e];for(;e>0;){const o=e-1>>1,a=n[o];if(r(i,a)>=0)break;n[e]=a,e=o}n[e]=i}_down(e){const{data:n,compare:r}=this,i=this.length>>1,o=n[e];for(;e<i;){let a=(e<<1)+1,c=n[a];const s=a+1;if(s<this.length&&r(n[s],c)<0&&(a=s,c=n[s]),r(c,o)>=0)break;n[e]=c,e=a}n[e]=o}}function _D(t,e){return t<e?-1:t>e?1:0}var pD=Object.freeze(Object.defineProperty({__proto__:null,default:fD},Symbol.toStringTag,{value:"Module"})),Mv=Lf(pD),Vn={},hD=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});var gD=hD(Mv),mg=Oi;function yD(t,e,n){if(!(e.length<1))for(var r=e[0],i=void 0,o=0;o<e.length-1;o++){i=e[o+1];var a=new Ql(t,r,o),c=new Ql(t,i,o+1);a.otherEvent=c,c.otherEvent=a,xv(a,c)>0?(c.isLeftEndpoint=!0,a.isLeftEndpoint=!1):(a.isLeftEndpoint=!0,c.isLeftEndpoint=!1),n.push(a),n.push(c),r=i}}Vn.addRoute=yD;function xv(t,e){return t.point.x>e.point.x?1:t.point.x<e.point.x?-1:t.point.y!==e.point.y?t.point.y>e.point.y?1:-1:1}Vn.checkWhichEventIsLeft=xv;var Ql=function(){function t(e,n,r){this.edgeId=e,this.point=n,this.segmentIndex=r}return t}();Vn.SweepEvent=Ql;var Dv=function(){function t(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}return t}();Vn.Segment=Dv;function mD(t){for(var e=[],n=new gD.default([],Tv);t.length;){var r=t.pop();if(r!=null&&r.isLeftEndpoint){for(var i=new Dv(r),o=0;o<n.data.length;o++){var a=n.data[o],c=Lv(i,a);c&&e.push({routable1:r.edgeId,routable2:a.leftSweepEvent.edgeId,segmentIndex1:ef(i),segmentIndex2:ef(a),intersectionPoint:c})}n.push(i)}else(r==null?void 0:r.isLeftEndpoint)===!1&&n.pop()}return e}Vn.runSweep=mD;function Tv(t,e){return t.rightSweepEvent.point.x>e.rightSweepEvent.point.x?1:t.rightSweepEvent.point.x<e.rightSweepEvent.point.x?-1:t.rightSweepEvent.point.y!==e.rightSweepEvent.point.y?t.rightSweepEvent.point.y<e.rightSweepEvent.point.y?1:-1:1}Vn.checkWhichSegmentHasRightEndpointFirst=Tv;function ef(t){return Math.min(t.leftSweepEvent.segmentIndex,t.rightSweepEvent.segmentIndex)}Vn.getSegmentIndex=ef;function Lv(t,e){if(t.leftSweepEvent.edgeId!==e.leftSweepEvent.edgeId){var n=new mg.PointToPointLine(t.leftSweepEvent.point,t.rightSweepEvent.point),r=new mg.PointToPointLine(e.leftSweepEvent.point,e.rightSweepEvent.point);return n.intersection(r)}}Vn.intersectionOfSegments=Lv;var Yc=w&&w.__assign||function(){return Yc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yc.apply(this,arguments)},vD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},bD=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});var PD=fe,wD=bD(Mv),zd=Vn;function Uv(t){return t!==void 0&&"intersections"in t&&"kind"in t}Ci.isIntersectingRoutedPoint=Uv;Ci.BY_X_THEN_Y=function(t,e){return t.intersectionPoint.x===e.intersectionPoint.x?t.intersectionPoint.y-e.intersectionPoint.y:t.intersectionPoint.x-e.intersectionPoint.x};var RD=function(){function t(){}return t.prototype.apply=function(e){var n=this.find(e);this.addToRouting(n,e)},t.prototype.find=function(e){var n=new wD.default(void 0,zd.checkWhichEventIsLeft);return e.routes.forEach(function(r,i){return zd.addRoute(i,r,n)}),zd.runSweep(n)},t.prototype.addToRouting=function(e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r],a=n.get(o.routable1),c=n.get(o.routable2);this.addIntersectionToRoutedPoint(o,a,o.segmentIndex1),this.addIntersectionToRoutedPoint(o,c,o.segmentIndex2)}},t.prototype.addIntersectionToRoutedPoint=function(e,n,r){if(n&&n.length>r){var i=n[r+1];if(Uv(i))i.intersections.push(e);else{var o=Yc(Yc({},i),{intersections:[e]});n[r+1]=o}}},t=vD([PD.injectable()],t),t}();Ci.IntersectionFinder=RD;var us={};(function(t){var e=w&&w.__extends||function(){var q=function(z,B){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,L){V.__proto__=L}||function(V,L){for(var M in L)L.hasOwnProperty(M)&&(V[M]=L[M])},q(z,B)};return function(z,B){q(z,B);function V(){this.constructor=z}z.prototype=B===null?Object.create(B):(V.prototype=B.prototype,new V)}}(),n=w&&w.__assign||function(){return n=Object.assign||function(q){for(var z,B=1,V=arguments.length;B<V;B++){z=arguments[B];for(var L in z)Object.prototype.hasOwnProperty.call(z,L)&&(q[L]=z[L])}return q},n.apply(this,arguments)},r=w&&w.__decorate||function(q,z,B,V){var L=arguments.length,M=L<3?z:V===null?V=Object.getOwnPropertyDescriptor(z,B):V,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(q,z,B,V);else for(var oe=q.length-1;oe>=0;oe--)(W=q[oe])&&(M=(L<3?W(M):L>3?W(z,B,M):W(z,B))||M);return L>3&&M&&Object.defineProperty(z,B,M),M},i=w&&w.__metadata||function(q,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(q,z)},o=w&&w.__param||function(q,z){return function(B,V){z(B,V,q)}};Object.defineProperty(t,"__esModule",{value:!0});var a=fe,c=rt,s=St,u=yr,d=st,f=qe,_=gt,y=Se,g=Nt,v=pt,m=sn,h=ss,P=ft,p=r_,R=Si,O=cs,A=Eu,I=bt,j=mn,U=So,C=an,x=nr,D=Hr,$;(function(q){q.KIND="move";function z(B,V){V===void 0&&(V={});var L,M;return{kind:q.KIND,moves:B,animate:(L=V.animate)!==null&&L!==void 0?L:!0,finished:(M=V.finished)!==null&&M!==void 0?M:!1}}q.create=z})($=t.MoveAction||(t.MoveAction={}));var K=function(q){e(z,q);function z(V){var L=q.call(this)||this;return L.action=V,L.resolvedMoves=new Map,L.edgeMementi=[],L}B=z,z.prototype.execute=function(V){var L=this,M=V.root.index,W=new Map,oe=new Map;return this.action.moves.forEach(function(ce){var ge=M.getById(ce.elementId);if(ge instanceof I.SRoutingHandle&&L.edgeRouterRegistry){var ve=ge.parent;if(ve instanceof I.SRoutableElement){var Ae=L.resolveHandleMove(ge,ve,ce);if(Ae){var je=W.get(ve);je||(je=[],W.set(ve,je)),je.push(Ae)}}}else if(ge&&D.isLocateable(ge)){var Ce=L.resolveElementMove(ge,ce);Ce&&(L.resolvedMoves.set(Ce.element.id,Ce),L.edgeRouterRegistry&&M.getAttachedElements(ge).forEach(function(T){if(T instanceof I.SRoutableElement){var H=oe.get(T),Q=c.Point.subtract(Ce.toPosition,Ce.fromPosition),ue=H?c.Point.linear(H,Q,.5):Q;oe.set(T,ue)}}))}}),this.doMove(W,oe),this.action.animate?(this.undoMove(),new u.CompoundAnimation(V.root,V,[new ee(V.root,this.resolvedMoves,V,!1),new te(V.root,this.edgeMementi,V,!1)]).start()):V.root},z.prototype.resolveHandleMove=function(V,L,M){var W=M.fromPosition;if(!W){var oe=this.edgeRouterRegistry.get(L.routerKind);W=oe.getHandlePosition(L,oe.route(L),V)}if(W)return{handle:V,fromPosition:W,toPosition:M.toPosition}},z.prototype.resolveElementMove=function(V,L){var M=L.fromPosition||{x:V.position.x,y:V.position.y};return{element:V,fromPosition:M,toPosition:L.toPosition}},z.prototype.doMove=function(V,L){var M=this;this.resolvedMoves.forEach(function(W){W.element.position=W.toPosition}),V.forEach(function(W,oe){var ce=M.edgeRouterRegistry.get(oe.routerKind),ge=ce.takeSnapshot(oe);ce.applyHandleMoves(oe,W);var ve=ce.takeSnapshot(oe);M.edgeMementi.push({edge:oe,before:ge,after:ve})}),L.forEach(function(W,oe){if(!V.get(oe)){var ce=M.edgeRouterRegistry.get(oe.routerKind),ge=ce.takeSnapshot(oe);if(oe.source&&oe.target&&M.resolvedMoves.get(oe.source.id)&&M.resolvedMoves.get(oe.target.id))oe.routingPoints=oe.routingPoints.map(function(je){return c.Point.add(je,W)});else{var ve=C.isSelectable(oe)&&oe.selected;ce.cleanupRoutingPoints(oe,oe.routingPoints,ve,M.action.finished)}var Ae=ce.takeSnapshot(oe);M.edgeMementi.push({edge:oe,before:ge,after:Ae})}})},z.prototype.undoMove=function(){var V=this;this.resolvedMoves.forEach(function(L){L.element.position=L.fromPosition}),this.edgeMementi.forEach(function(L){var M=V.edgeRouterRegistry.get(L.edge.routerKind);M.applySnapshot(L.edge,L.before)})},z.prototype.undo=function(V){return new u.CompoundAnimation(V.root,V,[new ee(V.root,this.resolvedMoves,V,!0),new te(V.root,this.edgeMementi,V,!0)]).start()},z.prototype.redo=function(V){return new u.CompoundAnimation(V.root,V,[new ee(V.root,this.resolvedMoves,V,!1),new te(V.root,this.edgeMementi,V,!1)]).start()},z.prototype.merge=function(V,L){var M=this;if(!this.action.animate&&V instanceof B)return V.resolvedMoves.forEach(function(ce,ge){var ve=M.resolvedMoves.get(ge);ve?ve.toPosition=ce.toPosition:M.resolvedMoves.set(ge,ce)}),V.edgeMementi.forEach(function(ce){var ge=M.edgeMementi.find(function(ve){return ve.edge.id===ce.edge.id});ge?ge.after=ce.after:M.edgeMementi.push(ce)}),!0;if(V instanceof A.ReconnectCommand){var W=V.memento;if(W){var oe=this.edgeMementi.find(function(ce){return ce.edge.id===W.edge.id});oe?oe.after=W.after:this.edgeMementi.push(W)}return!0}return!1};var B;return z.KIND=$.KIND,r([a.inject(j.EdgeRouterRegistry),a.optional(),i("design:type",j.EdgeRouterRegistry)],z.prototype,"edgeRouterRegistry",void 0),z=B=r([a.injectable(),o(0,a.inject(y.TYPES.Action)),i("design:paramtypes",[Object])],z),z}(d.MergeableCommand);t.MoveCommand=K;var ee=function(q){e(z,q);function z(B,V,L,M){M===void 0&&(M=!1);var W=q.call(this,L)||this;return W.model=B,W.elementMoves=V,W.reverse=M,W}return z.prototype.tween=function(B){var V=this;return this.elementMoves.forEach(function(L){V.reverse?L.element.position={x:(1-B)*L.toPosition.x+B*L.fromPosition.x,y:(1-B)*L.toPosition.y+B*L.fromPosition.y}:L.element.position={x:(1-B)*L.fromPosition.x+B*L.toPosition.x,y:(1-B)*L.fromPosition.y+B*L.toPosition.y}}),this.model},z}(u.Animation);t.MoveAnimation=ee;var te=function(q){e(z,q);function z(B,V,L,M){M===void 0&&(M=!1);var W=q.call(this,L)||this;return W.model=B,W.reverse=M,W.expanded=[],V.forEach(function(oe){var ce=W.reverse?oe.after:oe.before,ge=W.reverse?oe.before:oe.after,ve=ce.routedPoints,Ae=ge.routedPoints,je=Math.max(ve.length,Ae.length);W.expanded.push({startExpandedRoute:W.growToSize(ve,je),endExpandedRoute:W.growToSize(Ae,je),memento:oe})}),W}return z.prototype.midPoint=function(B){var V=B.edge,L=B.edge.source,M=B.edge.target;return c.Point.linear(_.translatePoint(c.Bounds.center(L.bounds),L.parent,V.parent),_.translatePoint(c.Bounds.center(M.bounds),M.parent,V.parent),.5)},z.prototype.start=function(){return this.expanded.forEach(function(B){B.memento.edge.removeAll(function(V){return V instanceof I.SRoutingHandle})}),q.prototype.start.call(this)},z.prototype.tween=function(B){var V=this;return B===1?this.expanded.forEach(function(L){var M=L.memento;V.reverse?M.before.router.applySnapshot(M.edge,M.before):M.after.router.applySnapshot(M.edge,M.after)}):this.expanded.forEach(function(L){for(var M=[],W=1;W<L.startExpandedRoute.length-1;++W)M.push(c.Point.linear(L.startExpandedRoute[W],L.endExpandedRoute[W],B));var oe=B<.5?L.memento.before:L.memento.after,ce=n(n({},oe),{routingPoints:M,routingHandles:[]});oe.router.applySnapshot(L.memento.edge,ce)}),this.model},z.prototype.growToSize=function(B,V){var L=V-B.length;if(L<=0)return B;var M=[];M.push(B[0]);for(var W=1/(L+1),oe=1/(B.length-1),ce=1,ge=1;ge<B.length;++ge){for(var ve=oe*ge,Ae=0;ve>(ce+Ae)*W;)++Ae;ce+=Ae;for(var je=0;je<Ae;++je){var Ce=c.Point.linear(B[ge-1],B[ge],(je+1)/(Ae+1));M.push(Ce)}M.push(B[ge])}return M},z}(u.Animation);t.MorphEdgesAnimation=te;var ie=function(q){e(z,q);function z(){var B=q!==null&&q.apply(this,arguments)||this;return B.hasDragged=!1,B.elementId2startPos=new Map,B}return z.prototype.mouseDown=function(B,V){var L=[];if(V.button===0){var M=_.findParentByFeature(B,D.isMoveable),W=B instanceof I.SRoutingHandle;M!==void 0||W||p.isCreatingOnDrag(B)?this.startDragPosition={x:V.pageX,y:V.pageY}:this.startDragPosition=void 0,this.hasDragged=!1,p.isCreatingOnDrag(B)?(L.push(s.SelectAllAction.create({select:!1})),L.push(B.createAction(I.edgeInProgressID)),L.push(s.SelectAction.create({selectedElementsIDs:[I.edgeInProgressID]})),L.push(O.SwitchEditModeAction.create({elementsToActivate:[I.edgeInProgressID]})),L.push(s.SelectAction.create({selectedElementsIDs:[I.edgeInProgressTargetHandleID]})),L.push(O.SwitchEditModeAction.create({elementsToActivate:[I.edgeInProgressTargetHandleID]}))):W&&L.push(O.SwitchEditModeAction.create({elementsToActivate:[B.id]}))}return L},z.prototype.mouseMove=function(B,V){var L=[];if(V.buttons===0)this.mouseUp(B,V);else if(this.startDragPosition){this.elementId2startPos.size===0&&this.collectStartPositions(B.root),this.hasDragged=!0;var M=this.getElementMoves(B,V,!1);M&&L.push(M)}return L},z.prototype.collectStartPositions=function(B){var V=this,L=new Set(B.index.all().filter(function(M){return C.isSelectable(M)&&M.selected}));L.forEach(function(M){if(!V.isChildOfSelected(L,M)){if(D.isMoveable(M))V.elementId2startPos.set(M.id,M.position);else if(M instanceof I.SRoutingHandle){var W=V.getHandlePosition(M);W&&V.elementId2startPos.set(M.id,W)}}})},z.prototype.isChildOfSelected=function(B,V){for(;V instanceof f.SChildElement;)if(V=V.parent,D.isMoveable(V)&&B.has(V))return!0;return!1},z.prototype.getElementMoves=function(B,V,L){var M=this;if(!!this.startDragPosition){var W=[],oe=_.findParentByFeature(B,x.isViewport),ce=oe?oe.zoom:1,ge={x:(V.pageX-this.startDragPosition.x)/ce,y:(V.pageY-this.startDragPosition.y)/ce};if(this.elementId2startPos.forEach(function(ve,Ae){var je=B.root.index.getById(Ae);if(je){var Ce=M.snap({x:ve.x+ge.x,y:ve.y+ge.y},je,!V.shiftKey);if(D.isMoveable(je))W.push({elementId:je.id,fromPosition:{x:je.position.x,y:je.position.y},toPosition:Ce});else if(je instanceof I.SRoutingHandle){var T=M.getHandlePosition(je);T!==void 0&&W.push({elementId:je.id,fromPosition:T,toPosition:Ce})}}}),W.length>0)return $.create(W,{animate:!1,finished:L})}},z.prototype.snap=function(B,V,L){return L&&this.snapper?this.snapper.snap(B,V):B},z.prototype.getHandlePosition=function(B){if(this.edgeRouterRegistry){var V=B.parent;if(!(V instanceof I.SRoutableElement))return;var L=this.edgeRouterRegistry.get(V.routerKind),M=L.route(V);return L.getHandlePosition(V,M,B)}},z.prototype.mouseEnter=function(B,V){return B instanceof f.SModelRoot&&V.buttons===0&&!this.startDragPosition&&this.mouseUp(B,V),[]},z.prototype.mouseUp=function(B,V){var L=this,M=[],W=!1;if(this.startDragPosition){var oe=this.getElementMoves(B,V,!0);oe&&M.push(oe),B.root.index.all().forEach(function(ve){if(ve instanceof I.SRoutingHandle){var Ae=ve.parent;if(Ae instanceof I.SRoutableElement&&ve.danglingAnchor){var je=L.getHandlePosition(ve);if(je){var Ce=_.translatePoint(je,ve.parent,ve.root),T=P.findChildrenAtPosition(B.root,Ce).find(function(H){return I.isConnectable(H)&&H.canConnect(Ae,ve.kind)});T&&L.hasDragged&&(M.push(A.ReconnectAction.create({routableId:ve.parent.id,newSourceId:ve.kind==="source"?T.id:Ae.sourceId,newTargetId:ve.kind==="target"?T.id:Ae.targetId})),W=!0)}}ve.editMode&&M.push(O.SwitchEditModeAction.create({elementsToDeactivate:[ve.id]}))}})}if(!W){var ce=B.root.index.getById(I.edgeInProgressID);if(ce instanceof f.SChildElement){var ge=[];ge.push(I.edgeInProgressID),ce.children.forEach(function(ve){ve instanceof I.SRoutingHandle&&ve.danglingAnchor&&ge.push(ve.danglingAnchor.id)}),M.push(R.DeleteElementAction.create(ge))}}return this.hasDragged&&M.push(h.CommitModelAction.create()),this.hasDragged=!1,this.startDragPosition=void 0,this.elementId2startPos.clear(),M},z.prototype.decorate=function(B,V){return B},r([a.inject(j.EdgeRouterRegistry),a.optional(),i("design:type",j.EdgeRouterRegistry)],z.prototype,"edgeRouterRegistry",void 0),r([a.inject(y.TYPES.ISnapper),a.optional(),i("design:type",Object)],z.prototype,"snapper",void 0),z}(g.MouseListener);t.MoveMouseListener=ie;var G=function(){function q(){}return q.prototype.decorate=function(z,B){if(U.isEdgeLayoutable(B)&&B.parent instanceof m.SEdge)return z;var V="";if(D.isLocateable(B)&&B instanceof f.SChildElement&&B.parent!==void 0){var L=B.position;(L.x!==0||L.y!==0)&&(V="translate("+L.x+", "+L.y+")")}if(P.isAlignable(B)){var M=B.alignment;(M.x!==0||M.y!==0)&&(V.length>0&&(V+=" "),V+="translate("+M.x+", "+M.y+")")}return V.length>0&&v.setAttr(z,"transform",V),z},q.prototype.postUpdate=function(){},q=r([a.injectable()],q),q}();t.LocationPostprocessor=G})(us);var d_={},SD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(d_,"__esModule",{value:!0});var ED=fe,AD=ft,OD=function(){function t(){}return Object.defineProperty(t.prototype,"gridX",{get:function(){return 10},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridY",{get:function(){return 10},enumerable:!0,configurable:!0}),t.prototype.snap=function(e,n){return n&&AD.isBoundsAware(n)?{x:Math.round((e.x+.5*n.bounds.width)/this.gridX)*this.gridX-.5*n.bounds.width,y:Math.round((e.y+.5*n.bounds.height)/this.gridY)*this.gridY-.5*n.bounds.height}:{x:Math.round(e.x/this.gridX)*this.gridX,y:Math.round(e.y/this.gridY)*this.gridY}},t=SD([ED.injectable()],t),t}();d_.CenterGridSnapper=OD;var Cu={},l_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.openFeature=Symbol("openFeature");function e(n){return n.hasFeature(t.openFeature)}t.isOpenable=e})(l_);(function(t){var e=w&&w.__extends||function(){var c=function(s,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var _ in f)f.hasOwnProperty(_)&&(d[_]=f[_])},c(s,u)};return function(s,u){c(s,u);function d(){this.constructor=s}s.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=Nt,r=gt,i=l_,o;(function(c){c.KIND="open";function s(u){return{kind:c.KIND,elementId:u}}c.create=s})(o=t.OpenAction||(t.OpenAction={}));var a=function(c){e(s,c);function s(){return c!==null&&c.apply(this,arguments)||this}return s.prototype.doubleClick=function(u,d){var f=r.findParentByFeature(u,i.isOpenable);return f!==void 0?[o.create(f.id)]:[]},s}(n.MouseListener);t.OpenMouseListener=a})(Cu);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});var ID=rt,jD=gn,CD=qe,tf=ft;function Nv(t){return jD.hasOwnProperty(t,"projectionCssClasses")}Zr.isProjectable=Nv;function kv(t){for(var e,n=0,r=t.children;n<r.length;n++){var i=r[n];if(Nv(i)&&tf.isBoundsAware(i)&&i.projectionCssClasses.length>0){var o={elementId:i.id,projectedBounds:Fv(i),cssClasses:i.projectionCssClasses};e?e.push(o):e=[o]}if(i.children.length>0){var a=kv(i);a&&(e?e.push.apply(e,a):e=a)}}return e}Zr.getProjections=kv;function Fv(t){for(var e=t.bounds,n=t.parent;n instanceof CD.SChildElement;)e=n.localToParent(e),n=n.parent;return e}Zr.getProjectedBounds=Fv;var Ys=1e9;function MD(t){var e=Ys,n=Ys,r=-Ys,i=-Ys,o=tf.isBoundsAware(t)?t.bounds:void 0;if(o&&ID.Dimension.isValid(o))e=o.x,n=o.y,r=e+o.width,i=n+o.height;else for(var a=0,c=t.children;a<c.length;a++){var s=c[a];if(tf.isBoundsAware(s)){var u=s.bounds;e=Math.min(e,u.x),n=Math.min(n,u.y),r=Math.max(r,u.x+u.width),i=Math.max(i,u.y+u.height)}}if(e=Math.min(e,t.scroll.x),n=Math.min(n,t.scroll.y),r=Math.max(r,t.scroll.x+t.canvasBounds.width/t.zoom),i=Math.max(i,t.scroll.y+t.canvasBounds.height/t.zoom),e<r&&n<i)return{x:e,y:n,width:r-e,height:i-n}}Zr.getModelBounds=MD;var f_={},xD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(f_,"__esModule",{value:!0});var $s=on,DD=fe,vg=Wa,TD=pt,bg=Zr,LD=function(){function t(){}return t.prototype.render=function(e,n,r){return $s.html("div",{"class-sprotty-root":!0},this.renderSvg(e,n,r),this.renderProjections(e,n,r))},t.prototype.renderSvg=function(e,n,r){var i="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")",o="http://www.w3.org/2000/svg";return vg.h("svg",{ns:o},vg.h("g",{ns:o,attrs:{transform:i}},n.renderChildren(e)))},t.prototype.renderProjections=function(e,n,r){var i;if(e.zoom<=0)return[];var o=bg.getModelBounds(e);if(!o)return[];var a=(i=bg.getProjections(e))!==null&&i!==void 0?i:[];return[this.renderProjectionBar(a,e,o,"vertical"),this.renderProjectionBar(a,e,o,"horizontal")]},t.prototype.renderProjectionBar=function(e,n,r,i){var o=this,a={modelBounds:r,orientation:i};return a.factor=i==="horizontal"?n.canvasBounds.width/r.width:n.canvasBounds.height/r.height,a.zoomedFactor=a.factor/n.zoom,$s.html("div",{"class-sprotty-projection-bar":!0,"class-horizontal":i==="horizontal","class-vertical":i==="vertical"},this.renderViewport(n,a),e.map(function(c){return o.renderProjection(c,n,a)}))},t.prototype.renderViewport=function(e,n){var r,i;n.orientation==="horizontal"?(r=e.canvasBounds.width,i=(e.scroll.x-n.modelBounds.x)*n.factor):(r=e.canvasBounds.height,i=(e.scroll.y-n.modelBounds.y)*n.factor);var o=r*n.zoomedFactor;i<0?(o+=i,i=0):i>r&&(i=r),o<0?o=0:i+o>r&&(o=r-i);var a=n.orientation==="horizontal"?{left:i+"px",width:o+"px"}:{top:i+"px",height:o+"px"};return $s.html("div",{"class-sprotty-viewport":!0,style:a})},t.prototype.renderProjection=function(e,n,r){var i,o,a;r.orientation==="horizontal"?(i=n.canvasBounds.width,o=(e.projectedBounds.x-r.modelBounds.x)*r.factor,a=e.projectedBounds.width*r.factor):(i=n.canvasBounds.height,o=(e.projectedBounds.y-r.modelBounds.y)*r.factor,a=e.projectedBounds.height*r.factor),o<0?(a+=o,o=0):o>i&&(o=i),a<0?a=0:o+a>i&&(a=i-o);var c=r.orientation==="horizontal"?{left:o+"px",width:a+"px"}:{top:o+"px",height:a+"px"},s=$s.html("div",{id:r.orientation+"-projection:"+e.elementId,"class-sprotty-projection":!0,style:c});return e.cssClasses.forEach(function(u){return TD.setClass(s,u,!0)}),s},t=xD([DD.injectable()],t),t}();f_.ProjectedViewportView=LD;var Co={},Mi={},__=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Mi,"__esModule",{value:!0});var p_=mr,Zd=Oi,h_=fe,g_=Ao,ao=rt,UD=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return g_.PolylineEdgeRouter.KIND+":"+p_.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,n,r){r===void 0&&(r=0);var i=e.bounds,o=ao.Bounds.center(i),a=o.x-n.x,c=o.y-n.y,s=Math.sqrt(a*a+c*c),u=a/s||0,d=c/s||0;return{x:o.x-u*(.5*i.width+r),y:o.y-d*(.5*i.height+r)}},t=__([h_.injectable()],t),t}();Mi.EllipseAnchor=UD;var ND=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return g_.PolylineEdgeRouter.KIND+":"+p_.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,n,r){r===void 0&&(r=0);var i=e.bounds,o=ao.Bounds.center(i),a=new kD(o,n);if(!ao.almostEquals(o.y,n.y)){var c=this.getXIntersection(i.y,o,n);c>=i.x&&c<=i.x+i.width&&a.addCandidate(c,i.y-r);var s=this.getXIntersection(i.y+i.height,o,n);s>=i.x&&s<=i.x+i.width&&a.addCandidate(s,i.y+i.height+r)}if(!ao.almostEquals(o.x,n.x)){var u=this.getYIntersection(i.x,o,n);u>=i.y&&u<=i.y+i.height&&a.addCandidate(i.x-r,u);var d=this.getYIntersection(i.x+i.width,o,n);d>=i.y&&d<=i.y+i.height&&a.addCandidate(i.x+i.width+r,d)}return a.best},t.prototype.getXIntersection=function(e,n,r){var i=(e-n.y)/(r.y-n.y);return(r.x-n.x)*i+n.x},t.prototype.getYIntersection=function(e,n,r){var i=(e-n.x)/(r.x-n.x);return(r.y-n.y)*i+n.y},t=__([h_.injectable()],t),t}();Mi.RectangleAnchor=ND;var kD=function(){function t(e,n){this.centerPoint=e,this.refPoint=n,this.currentDist=-1}return t.prototype.addCandidate=function(e,n){var r=this.refPoint.x-e,i=this.refPoint.y-n,o=r*r+i*i;(this.currentDist<0||o<this.currentDist)&&(this.currentBest={x:e,y:n},this.currentDist=o)},Object.defineProperty(t.prototype,"best",{get:function(){return this.currentBest===void 0?this.centerPoint:this.currentBest},enumerable:!0,configurable:!0}),t}(),FD=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return g_.PolylineEdgeRouter.KIND+":"+p_.DIAMOND_ANCHOR_KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,n,r){var i=e.bounds,o=new Zd.PointToPointLine(ao.Bounds.center(i),n),a=new Zd.Diamond(i).closestSideLine(n),c=Zd.intersection(a,o);return ao.Point.shiftTowards(c,n,r)},t=__([h_.injectable()],t),t}();Mi.DiamondAnchor=FD;var Mu={};(function(t){var e=w&&w.__extends||function(){var h=function(P,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var A in O)O.hasOwnProperty(A)&&(R[A]=O[A])},h(P,p)};return function(P,p){h(P,p);function R(){this.constructor=P}P.prototype=p===null?Object.create(p):(R.prototype=p.prototype,new R)}}(),n=w&&w.__decorate||function(h,P,p,R){var O=arguments.length,A=O<3?P:R===null?R=Object.getOwnPropertyDescriptor(P,p):R,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,P,p,R);else for(var j=h.length-1;j>=0;j--)(I=h[j])&&(A=(O<3?I(A):O>3?I(P,p,A):I(P,p))||A);return O>3&&A&&Object.defineProperty(P,p,A),A},r=w&&w.__metadata||function(h,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,P)},i=w&&w.__param||function(h,P){return function(p,R){P(p,R,h)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=rt,c=bt,s=mn,u=rs,d=Nt,f=st,_=Se,y=function(h){e(P,h);function P(){return h!==null&&h.apply(this,arguments)||this}p=P,Object.defineProperty(P.prototype,"kind",{get:function(){return p.KIND},enumerable:!0,configurable:!0}),P.prototype.route=function(R){if(!R.source||!R.target)return[];var O=R.routingPoints.length,A=R.source,I=R.target,j=[];if(j.push({kind:"source",x:0,y:0}),O===0){var U=this.createDefaultBezierHandles(A.position,I.position),C=U[0],x=U[1];j.push({kind:"bezier-control-after",x:C.x,y:C.y,pointIndex:0}),j.push({kind:"bezier-control-before",x:x.x,y:x.y,pointIndex:1}),R.routingPoints.push(C),R.routingPoints.push(x)}else if(O>=2)for(var D=0;D<O;D++){var $=R.routingPoints[D];D%3===0&&j.push({kind:"bezier-control-after",x:$.x,y:$.y,pointIndex:D}),(D+1)%3===0?j.push({kind:"bezier-junction",x:$.x,y:$.y,pointIndex:D}):(D+2)%3===0&&j.push({kind:"bezier-control-before",x:$.x,y:$.y,pointIndex:D})}j.push({kind:"target",x:0,y:0});var K=O>2?R.routingPoints[2]:I.position,ee=O>2?R.routingPoints[R.routingPoints.length-3]:A.position,te=this.getTranslatedAnchor(A,K,I.parent,R,R.sourceAnchorCorrection),ie=this.getTranslatedAnchor(I,ee,A.parent,R,R.targetAnchorCorrection);return j[0]={kind:"source",x:te.x,y:te.y},j[j.length-1]={kind:"target",x:ie.x,y:ie.y},j},P.prototype.createDefaultBezierHandles=function(R,O){var A={x:R.x-p.DEFAULT_BEZIER_HANDLE_OFFSET,y:R.y},I={x:O.x+p.DEFAULT_BEZIER_HANDLE_OFFSET,y:O.y};return[A,I]},P.prototype.createRoutingHandles=function(R){this.route(R),this.rebuildHandles(R)},P.prototype.rebuildHandles=function(R){this.addHandle(R,"source","routing-point",-2),this.addHandle(R,"bezier-control-after","bezier-routing-point",0),this.addHandle(R,"bezier-add","bezier-create-routing-point",0);var O=R.routingPoints.length;if(O>2)for(var A=1;A<O-1;A+=3)this.addHandle(R,"bezier-control-before","bezier-routing-point",A),this.addHandle(R,"bezier-add","bezier-create-routing-point",A+1),this.addHandle(R,"bezier-junction","routing-point",A+1),this.addHandle(R,"bezier-remove","bezier-remove-routing-point",A+1),this.addHandle(R,"bezier-control-after","bezier-routing-point",A+2),this.moveBezierControlPair(R.routingPoints[A],A,R);this.addHandle(R,"bezier-control-before","bezier-routing-point",O-1),this.addHandle(R,"target","routing-point",-1)},P.prototype.getInnerHandlePosition=function(R,O,A){if(A.kind==="bezier-control-before"||A.kind==="bezier-junction"||A.kind==="bezier-control-after")for(var I=0;I<O.length;I++){var j=O[I];if(j.pointIndex===A.pointIndex&&j.kind===A.kind)return j}else if(A.kind==="bezier-add"){var U=this.findBezierControl(R,O,A.pointIndex);return{x:U.x,y:U.y+12.5}}else if(A.kind==="bezier-remove"){var U=this.findBezierControl(R,O,A.pointIndex);return{x:U.x,y:U.y-12.5}}},P.prototype.findBezierControl=function(R,O,A){var I={x:O[0].x,y:O[0].y};if(A>0)for(var j=0,U=O;j<U.length;j++){var C=U[j];if(C.pointIndex!==void 0&&C.pointIndex===A&&C.kind==="bezier-junction"){I={x:C.x,y:C.y};break}}return I},P.prototype.applyHandleMoves=function(R,O){var A=this;O.forEach(function(I){var j=I.handle,U={x:0,y:0},C,x,D,$=I.toPosition;switch(j.kind){case"bezier-control-before":case"bezier-control-after":A.moveBezierControlPair($,I.handle.pointIndex,R);break;case"bezier-junction":var K=j.pointIndex;K>=0&&K<R.routingPoints.length&&(D=K-1,U=R.routingPoints[K],C=R.routingPoints[D],x=A.calcRelativeMove(U,$,C),R.routingPoints[K]=$,A.moveBezierControlPair(x,D,R));break;case"source":if(D=0,C=R.routingPoints[D],R.source instanceof c.SDanglingAnchor)j.danglingAnchor&&(U=j.danglingAnchor.position,j.danglingAnchor.position=$);else{var ee=new c.SDanglingAnchor;ee.id=R.id+"_dangling-source",ee.original=R.source,ee.position=I.toPosition,j.root.add(ee),j.danglingAnchor=ee,R.sourceId=ee.id,R.source&&(U=R.source.position)}x=A.calcRelativeMove(U,$,C),A.moveBezierControlPair(x,D,R);break;case"target":if(D=R.routingPoints.length-1,C=R.routingPoints[D],R.target instanceof c.SDanglingAnchor)j.danglingAnchor&&(U=j.danglingAnchor.position,j.danglingAnchor.position=$);else{var ee=new c.SDanglingAnchor;ee.id=R.id+"_dangling-target",ee.original=R.target,ee.position=$,j.root.add(ee),j.danglingAnchor=ee,R.targetId=ee.id,R.target&&(U=R.target.position)}x=A.calcRelativeMove(U,$,C),A.moveBezierControlPair(x,D,R);break}})},P.prototype.applyInnerHandleMoves=function(R,O){},P.prototype.getOptions=function(R){return{minimalPointDistance:2,standardDistance:.1,selfEdgeOffset:20}},P.prototype.calcRelativeMove=function(R,O,A){return{x:A.x-(R.x-O.x),y:A.y-(R.y-O.y)}},P.prototype.createNewBezierSegment=function(R,O){var A=O.routingPoints,I,j,U;A.length===2?(j=A[R<0?0:R],U=A[A.length-1],I=a.centerOfLine(j,U)):(j=A[R],U=A[R+2],I=a.centerOfLine(j,U));var C=this.createDefaultBezierHandles(I,I),x=C[0],D=C[1];A.splice(R+1,0,x),A.splice(R+2,0,I),A.splice(R+3,0,D),this.moveBezierControlPair(x,R+1,O),O.removeAll(function($){return $ instanceof c.SRoutingHandle}),this.rebuildHandles(O)},P.prototype.removeBezierSegment=function(R,O){var A=O.routingPoints;A.splice(R-1,3),O.removeAll(function(I){return I instanceof c.SRoutingHandle}),this.rebuildHandles(O)},P.prototype.moveBezierControlPair=function(R,O,A){if(O>=0&&O<A.routingPoints.length){var I=O-1,j=O+1;I<0||j===A.routingPoints.length?A.routingPoints[O]=R:O%3===0?this.setBezierMirror(A,R,O,!1):(O+2)%3===0&&this.setBezierMirror(A,R,O,!0)}},P.prototype.setBezierMirror=function(R,O,A,I){R.routingPoints[A]=O;var j=R.routingPoints[I?A+1:A-1];R.routingPoints[I?A+2:A-2]={x:j.x-(O.x-j.x),y:j.y-(O.y-j.y)}};var p;return P.KIND="bezier",P.DEFAULT_BEZIER_HANDLE_OFFSET=25,P=p=n([o.injectable()],P),P}(u.AbstractEdgeRouter);t.BezierEdgeRouter=y;var g=function(h){e(P,h);function P(){return h!==null&&h.apply(this,arguments)||this}return P.prototype.mouseDown=function(p,R){var O=[];return p instanceof c.SRoutingHandle&&(p.kind==="bezier-add"||p.kind==="bezier-remove")&&(p.type==="bezier-create-routing-point"?O.push(v.create("add",p.id)):p.type==="bezier-remove-routing-point"&&O.push(v.create("remove",p.id))),O},P}(d.MouseListener);t.BezierMouseListener=g;var v;(function(h){h.KIND="addRemoveBezierSegment";function P(p,R){return{kind:h.KIND,actionTask:p,targetId:R}}h.create=P})(v=t.AddRemoveBezierSegmentAction||(t.AddRemoveBezierSegmentAction={}));var m=function(h){e(P,h);function P(p,R){var O=h.call(this)||this;return O.action=p,O.edgeRouterRegistry=R,O}return P.prototype.execute=function(p){var R=p.root.index,O=R.getById(this.action.targetId);if(this.edgeRouterRegistry&&O instanceof c.SRoutingHandle){var A=this.edgeRouterRegistry.get(O.parent.routerKind);if(A instanceof y)for(var I=A,j=0,U=p.root.children;j<U.length;j++){var C=U[j];if(C.id===O.parent.id){this.action.actionTask==="add"?I.createNewBezierSegment(O.pointIndex,C):this.action.actionTask==="remove"&&I.removeBezierSegment(O.pointIndex,C);break}}}return p.root},P.prototype.undo=function(p){throw new Error("Method not implemented.")},P.prototype.redo=function(p){throw new Error("Method not implemented.")},P.KIND=v.KIND,P=n([o.injectable(),i(0,o.inject(_.TYPES.Action)),i(1,o.inject(s.EdgeRouterRegistry)),r("design:paramtypes",[Object,s.EdgeRouterRegistry])],P),P}(f.Command);t.AddRemoveBezierSegmentCommand=m})(Mu);var y_=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),m_=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Co,"__esModule",{value:!0});var v_=mr,b_=fe,P_=Mi,w_=Mu,BD=function(t){y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return w_.BezierEdgeRouter.KIND+":"+v_.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),e=m_([b_.injectable()],e),e}(P_.EllipseAnchor);Co.BezierEllipseAnchor=BD;var YD=function(t){y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return w_.BezierEdgeRouter.KIND+":"+v_.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),e=m_([b_.injectable()],e),e}(P_.RectangleAnchor);Co.BezierRectangleAnchor=YD;var $D=function(t){y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return w_.BezierEdgeRouter.KIND+":"+v_.DIAMOND_ANCHOR_KIND},enumerable:!0,configurable:!0}),e=m_([b_.injectable()],e),e}(P_.DiamondAnchor);Co.BezierDiamondAnchor=$D;var Mo={},ds={},VD=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xi=w&&w.__assign||function(){return Xi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xi.apply(this,arguments)};Object.defineProperty(ds,"__esModule",{value:!0});var mt=rt,Pg=gt,he=rs,qd=bt,HD=function(t){VD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),e.prototype.getOptions=function(n){return{standardDistance:20,minimalPointDistance:3,selfEdgeOffset:.25}},e.prototype.route=function(n){if(!n.source||!n.target)return[];var r=this.createRoutedCorners(n),i=r[0]||Pg.translatePoint(mt.Bounds.center(n.target.bounds),n.target.parent,n.parent),o=this.getTranslatedAnchor(n.source,i,n.parent,n,n.sourceAnchorCorrection),a=r[r.length-1]||Pg.translatePoint(mt.Bounds.center(n.source.bounds),n.source.parent,n.parent),c=this.getTranslatedAnchor(n.target,a,n.parent,n,n.targetAnchorCorrection);if(!o||!c)return[];var s=[];return s.push(Xi({kind:"source"},o)),r.forEach(function(u){return s.push(u)}),s.push(Xi({kind:"target"},c)),s},e.prototype.createRoutedCorners=function(n){var r=new he.DefaultAnchors(n.source,n.parent,"source"),i=new he.DefaultAnchors(n.target,n.parent,"target");if(n.routingPoints.length>0){var o=n.routingPoints.slice();if(this.cleanupRoutingPoints(n,o,!1,!0),o.length>0)return o.map(function(s,u){return Xi({kind:"linear",pointIndex:u},s)})}var a=this.getOptions(n),c=this.calculateDefaultCorners(n,r,i,a);return c.map(function(s){return Xi({kind:"linear"},s)})},e.prototype.createRoutingHandles=function(n){var r=this.route(n);if(this.commitRoute(n,r),r.length>0){this.addHandle(n,"source","routing-point",-2);for(var i=0;i<r.length-1;++i)this.addHandle(n,"manhattan-50%","volatile-routing-point",i-1);this.addHandle(n,"target","routing-point",r.length-2)}},e.prototype.getInnerHandlePosition=function(n,r,i){var o=this.getFraction(i.kind);if(o!==void 0){var a=this.findRouteSegment(n,r,i.pointIndex),c=a.start,s=a.end;if(c!==void 0&&s!==void 0)return mt.Point.linear(c,s,o)}},e.prototype.getFraction=function(n){switch(n){case"manhattan-50%":return .5;default:return}},e.prototype.applyInnerHandleMoves=function(n,r){var i=this,o=this.route(n),a=n.routingPoints,c=this.getOptions(n).minimalPointDistance;r.forEach(function(s){var u=s.handle,d=u.pointIndex,f=i.correctX(a,d,s.toPosition.x,c),_=i.correctY(a,d,s.toPosition.y,c);switch(u.kind){case"manhattan-50%":d<0?mt.almostEquals(o[0].x,o[1].x)?i.alignX(a,0,f):i.alignY(a,0,_):d<a.length-1?mt.almostEquals(a[d].x,a[d+1].x)?(i.alignX(a,d,f),i.alignX(a,d+1,f)):(i.alignY(a,d,_),i.alignY(a,d+1,_)):mt.almostEquals(o[o.length-2].x,o[o.length-1].x)?i.alignX(a,a.length-1,f):i.alignY(a,a.length-1,_);break}})},e.prototype.correctX=function(n,r,i,o){return r>0&&Math.abs(i-n[r-1].x)<o?n[r-1].x:r<n.length-2&&Math.abs(i-n[r+2].x)<o?n[r+2].x:i},e.prototype.alignX=function(n,r,i){r>=0&&r<n.length&&(n[r]={x:i,y:n[r].y})},e.prototype.correctY=function(n,r,i,o){return r>0&&Math.abs(i-n[r-1].y)<o?n[r-1].y:r<n.length-2&&Math.abs(i-n[r+2].y)<o?n[r+2].y:i},e.prototype.alignY=function(n,r,i){r>=0&&r<n.length&&(n[r]={x:n[r].x,y:i})},e.prototype.cleanupRoutingPoints=function(n,r,i,o){var a=new he.DefaultAnchors(n.source,n.parent,"source"),c=new he.DefaultAnchors(n.target,n.parent,"target");if(!this.resetRoutingPointsOnReconnect(n,r,i,a,c)){for(var s=0;s<r.length&&mt.Bounds.includes(a.bounds,r[s]);++s)r.splice(0,1),i&&this.removeHandle(n,-1);for(var s=r.length-1;s>=0&&mt.Bounds.includes(c.bounds,r[s]);--s)r.splice(s,1),i&&this.removeHandle(n,s);if(r.length>=2)for(var u=this.getOptions(n),s=r.length-2;s>=0;--s)mt.Point.manhattanDistance(r[s],r[s+1])<u.minimalPointDistance&&(r.splice(s,2),--s,i&&(this.removeHandle(n,s-1),this.removeHandle(n,s)));o&&(this.addAdditionalCorner(n,r,a,c,i),this.addAdditionalCorner(n,r,c,a,i),this.manhattanify(n,r))}},e.prototype.removeHandle=function(n,r){var i=[];n.children.forEach(function(o){o instanceof qd.SRoutingHandle&&(o.pointIndex>r?--o.pointIndex:o.pointIndex===r&&i.push(o))}),i.forEach(function(o){return n.remove(o)})},e.prototype.addAdditionalCorner=function(n,r,i,o,a){if(r.length!==0){var c=i.kind==="source"?r[0]:r[r.length-1],s=i.kind==="source"?0:r.length,u=s-(i.kind==="source"?1:0),d;if(r.length>1)d=s===0?mt.almostEquals(r[0].x,r[1].x):mt.almostEquals(r[r.length-1].x,r[r.length-2].x);else{var f=o.getNearestSide(c);d=f===he.Side.TOP||f===he.Side.BOTTOM}if(d){if(c.y<i.get(he.Side.TOP).y||c.y>i.get(he.Side.BOTTOM).y){var _={x:i.get(he.Side.TOP).x,y:c.y};r.splice(s,0,_),a&&(n.children.forEach(function(y){y instanceof qd.SRoutingHandle&&y.pointIndex>=u&&++y.pointIndex}),this.addHandle(n,"manhattan-50%","volatile-routing-point",u))}}else if(c.x<i.get(he.Side.LEFT).x||c.x>i.get(he.Side.RIGHT).x){var _={x:c.x,y:i.get(he.Side.LEFT).y};r.splice(s,0,_),a&&(n.children.forEach(function(g){g instanceof qd.SRoutingHandle&&g.pointIndex>=u&&++g.pointIndex}),this.addHandle(n,"manhattan-50%","volatile-routing-point",u))}}},e.prototype.manhattanify=function(n,r){for(var i=1;i<r.length;++i){var o=Math.abs(r[i-1].x-r[i].x)<1,a=Math.abs(r[i-1].y-r[i].y)<1;!o&&!a&&(r.splice(i,0,{x:r[i-1].x,y:r[i].y}),++i)}},e.prototype.calculateDefaultCorners=function(n,r,i,o){var a=t.prototype.calculateDefaultCorners.call(this,n,r,i,o);if(a.length>0)return a;var c=this.getBestConnectionAnchors(n,r,i,o),s=c.source,u=c.target,d=[],f=r.get(s),_=i.get(u);switch(s){case he.Side.RIGHT:switch(u){case he.Side.BOTTOM:d.push({x:_.x,y:f.y});break;case he.Side.TOP:d.push({x:_.x,y:f.y});break;case he.Side.RIGHT:d.push({x:Math.max(f.x,_.x)+1.5*o.standardDistance,y:f.y}),d.push({x:Math.max(f.x,_.x)+1.5*o.standardDistance,y:_.y});break;case he.Side.LEFT:_.y!==f.y&&(d.push({x:(f.x+_.x)/2,y:f.y}),d.push({x:(f.x+_.x)/2,y:_.y}));break}break;case he.Side.LEFT:switch(u){case he.Side.BOTTOM:d.push({x:_.x,y:f.y});break;case he.Side.TOP:d.push({x:_.x,y:f.y});break;default:_=i.get(he.Side.RIGHT),_.y!==f.y&&(d.push({x:(f.x+_.x)/2,y:f.y}),d.push({x:(f.x+_.x)/2,y:_.y}));break}break;case he.Side.TOP:switch(u){case he.Side.RIGHT:_.x-f.x>0?(d.push({x:f.x,y:f.y-o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:f.y-o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;case he.Side.LEFT:_.x-f.x<0?(d.push({x:f.x,y:f.y-o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:f.y-o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;case he.Side.TOP:d.push({x:f.x,y:Math.min(f.y,_.y)-1.5*o.standardDistance}),d.push({x:_.x,y:Math.min(f.y,_.y)-1.5*o.standardDistance});break;case he.Side.BOTTOM:_.x!==f.x&&(d.push({x:f.x,y:(f.y+_.y)/2}),d.push({x:_.x,y:(f.y+_.y)/2}));break}break;case he.Side.BOTTOM:switch(u){case he.Side.RIGHT:_.x-f.x>0?(d.push({x:f.x,y:f.y+o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:f.y+o.standardDistance}),d.push({x:_.x+1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;case he.Side.LEFT:_.x-f.x<0?(d.push({x:f.x,y:f.y+o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:f.y+o.standardDistance}),d.push({x:_.x-1.5*o.standardDistance,y:_.y})):d.push({x:f.x,y:_.y});break;default:_=i.get(he.Side.TOP),_.x!==f.x&&(d.push({x:f.x,y:(f.y+_.y)/2}),d.push({x:_.x,y:(f.y+_.y)/2}));break}break}return d},e.prototype.getBestConnectionAnchors=function(n,r,i,o){var a=r.get(he.Side.RIGHT),c=i.get(he.Side.LEFT);if(c.x-a.x>o.standardDistance)return{source:he.Side.RIGHT,target:he.Side.LEFT};if(a=r.get(he.Side.LEFT),c=i.get(he.Side.RIGHT),a.x-c.x>o.standardDistance)return{source:he.Side.LEFT,target:he.Side.RIGHT};if(a=r.get(he.Side.TOP),c=i.get(he.Side.BOTTOM),a.y-c.y>o.standardDistance)return{source:he.Side.TOP,target:he.Side.BOTTOM};if(a=r.get(he.Side.BOTTOM),c=i.get(he.Side.TOP),c.y-a.y>o.standardDistance)return{source:he.Side.BOTTOM,target:he.Side.TOP};if(a=r.get(he.Side.RIGHT),c=i.get(he.Side.TOP),c.x-a.x>.5*o.standardDistance&&c.y-a.y>o.standardDistance)return{source:he.Side.RIGHT,target:he.Side.TOP};if(c=i.get(he.Side.BOTTOM),c.x-a.x>.5*o.standardDistance&&a.y-c.y>o.standardDistance)return{source:he.Side.RIGHT,target:he.Side.BOTTOM};if(a=r.get(he.Side.LEFT),c=i.get(he.Side.BOTTOM),a.x-c.x>.5*o.standardDistance&&a.y-c.y>o.standardDistance)return{source:he.Side.LEFT,target:he.Side.BOTTOM};if(c=i.get(he.Side.TOP),a.x-c.x>.5*o.standardDistance&&c.y-a.y>o.standardDistance)return{source:he.Side.LEFT,target:he.Side.TOP};if(a=r.get(he.Side.TOP),c=i.get(he.Side.RIGHT),a.y-c.y>.5*o.standardDistance&&a.x-c.x>o.standardDistance)return{source:he.Side.TOP,target:he.Side.RIGHT};if(c=i.get(he.Side.LEFT),a.y-c.y>.5*o.standardDistance&&c.x-a.x>o.standardDistance)return{source:he.Side.TOP,target:he.Side.LEFT};if(a=r.get(he.Side.BOTTOM),c=i.get(he.Side.RIGHT),c.y-a.y>.5*o.standardDistance&&a.x-c.x>o.standardDistance)return{source:he.Side.BOTTOM,target:he.Side.RIGHT};if(c=i.get(he.Side.LEFT),c.y-a.y>.5*o.standardDistance&&c.x-a.x>o.standardDistance)return{source:he.Side.BOTTOM,target:he.Side.LEFT};if(a=r.get(he.Side.TOP),c=i.get(he.Side.TOP),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)){if(a.y-c.y<0){if(Math.abs(a.x-c.x)>(r.bounds.width+o.standardDistance)/2)return{source:he.Side.TOP,target:he.Side.TOP}}else if(Math.abs(a.x-c.x)>i.bounds.width/2)return{source:he.Side.TOP,target:he.Side.TOP}}if(a=r.get(he.Side.RIGHT),c=i.get(he.Side.RIGHT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)){if(a.x-c.x>0){if(Math.abs(a.y-c.y)>(r.bounds.height+o.standardDistance)/2)return{source:he.Side.RIGHT,target:he.Side.RIGHT}}else if(Math.abs(a.y-c.y)>i.bounds.height/2)return{source:he.Side.RIGHT,target:he.Side.RIGHT}}return a=r.get(he.Side.TOP),c=i.get(he.Side.RIGHT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.TOP,target:he.Side.RIGHT}:(c=i.get(he.Side.LEFT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.TOP,target:he.Side.LEFT}:(a=r.get(he.Side.BOTTOM),c=i.get(he.Side.RIGHT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.BOTTOM,target:he.Side.RIGHT}:(c=i.get(he.Side.LEFT),!mt.Bounds.includes(i.bounds,a)&&!mt.Bounds.includes(r.bounds,c)?{source:he.Side.BOTTOM,target:he.Side.LEFT}:{source:he.Side.RIGHT,target:he.Side.BOTTOM})))},e.KIND="manhattan",e}(he.AbstractEdgeRouter);ds.ManhattanEdgeRouter=HD;var R_=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Mo,"__esModule",{value:!0});var $c=rt,fn=Oi,S_=mr,E_=ds,A_=fe,KD=function(){function t(){}e=t,Object.defineProperty(t.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(n,r,i){var o=n.bounds;if(o.width<=0||o.height<=0)return o;var a={x:o.x-i,y:o.y-i,width:o.width+2*i,height:o.height+2*i};return r.x>=a.x&&a.x+a.width>=r.x?r.y<a.y+.5*a.height?{x:r.x,y:a.y}:{x:r.x,y:a.y+a.height}:r.y>=a.y&&a.y+a.height>=r.y?r.x<a.x+.5*a.width?{x:a.x,y:r.y}:{x:a.x+a.width,y:r.y}:$c.Bounds.center(a)};var e;return t.KIND=E_.ManhattanEdgeRouter.KIND+":"+S_.RECTANGULAR_ANCHOR_KIND,t=e=R_([A_.injectable()],t),t}();Mo.ManhattanRectangularAnchor=KD;var zD=function(){function t(){}e=t,Object.defineProperty(t.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(n,r,i){i===void 0&&(i=0);var o=n.bounds;if(o.width<=0||o.height<=0)return o;var a={x:o.x-i,y:o.y-i,width:o.width+2*i,height:o.height+2*i},c=$c.Bounds.center(a),s=void 0,u=void 0;return r.x>=a.x&&r.x<=a.x+a.width?a.x+.5*a.width>=r.x?(u=new fn.PointToPointLine(r,{x:r.x,y:c.y}),r.y<c.y?s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y}):s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y+a.height})):(u=new fn.PointToPointLine(r,{x:r.x,y:c.y}),r.y<c.y?s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y}):s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y+a.height})):r.y>=a.y&&r.y<=a.y+a.height&&(a.y+.5*a.height>=r.y?(u=new fn.PointToPointLine(r,{x:c.x,y:r.y}),r.x<c.x?s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y}):s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y})):(u=new fn.PointToPointLine(r,{x:c.x,y:r.y}),r.x<c.x?s=new fn.PointToPointLine({x:a.x,y:c.y},{x:c.x,y:a.y+a.height}):s=new fn.PointToPointLine({x:a.x+a.width,y:c.y},{x:c.x,y:a.y+a.height}))),!!u&&!!s?fn.intersection(s,u):c};var e;return t.KIND=E_.ManhattanEdgeRouter.KIND+":"+S_.DIAMOND_ANCHOR_KIND,t=e=R_([A_.injectable()],t),t}();Mo.ManhattanDiamondAnchor=zD;var ZD=function(){function t(){}e=t,Object.defineProperty(t.prototype,"kind",{get:function(){return e.KIND},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(n,r,i){i===void 0&&(i=0);var o=n.bounds;if(o.width<=0||o.height<=0)return o;var a={x:o.x-i,y:o.y-i,width:o.width+2*i,height:o.height+2*i},c=$c.Bounds.center(a),s=$c.Point.subtract(r,c),u=c.x,d=c.y;if(r.x>=a.x&&a.x+a.width>=r.x){u+=s.x;var f=.5*a.height*Math.sqrt(1-s.x*s.x/(.25*a.width*a.width));s.y<0?d-=f:d+=f}else if(r.y>=a.y&&a.y+a.height>=r.y){d+=s.y;var _=.5*a.width*Math.sqrt(1-s.y*s.y/(.25*a.height*a.height));s.x<0?u-=_:u+=_}return{x:u,y:d}};var e;return t.KIND=E_.ManhattanEdgeRouter.KIND+":"+S_.ELLIPTIC_ANCHOR_KIND,t=e=R_([A_.injectable()],t),t}();Mo.ManhattanEllipticAnchor=ZD;var xu={},qD=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(xu,"__esModule",{value:!0});var WD=fe,GD=bt,JD=function(){function t(){}return t.prototype.isVisible=function(e,n,r){if(r.targetKind==="hidden"||n.length===0)return!0;var i=GD.getAbsoluteRouteBounds(e,n),o=e.root.canvasBounds;return i.x<=o.width&&i.x+i.width>=0&&i.y<=o.height&&i.y+i.height>=0},t=qD([WD.injectable()],t),t}();xu.RoutableView=JD;var Du={},Tu={},XD=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wg=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},QD=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Tu,"__esModule",{value:!0});var Rg=fe,eT=Se,tT=st,nT=function(t){XD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execute=function(n){var r=this.retrieveResult(n);return this.actionDispatcher.dispatch(r),{model:n.root,modelChanged:!1}},e.prototype.undo=function(n){return{model:n.root,modelChanged:!1}},e.prototype.redo=function(n){return{model:n.root,modelChanged:!1}},wg([Rg.inject(eT.TYPES.IActionDispatcher),QD("design:type",Object)],e.prototype,"actionDispatcher",void 0),e=wg([Rg.injectable()],e),e}(tT.SystemCommand);Tu.ModelRequestCommand=nT;var Lu={};(function(t){var e=w&&w.__extends||function(){var _=function(y,g){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var h in m)m.hasOwnProperty(h)&&(v[h]=m[h])},_(y,g)};return function(y,g){_(y,g);function v(){this.constructor=y}y.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),n=w&&w.__decorate||function(_,y,g,v){var m=arguments.length,h=m<3?y:v===null?v=Object.getOwnPropertyDescriptor(y,g):v,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(_,y,g,v);else for(var p=_.length-1;p>=0;p--)(P=_[p])&&(h=(m<3?P(h):m>3?P(y,g,h):P(y,g))||h);return m>3&&h&&Object.defineProperty(y,g,h),h},r=w&&w.__metadata||function(_,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,y)},i=w&&w.__param||function(_,y){return function(g,v){y(g,v,_)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=Se,c=qe,s=st,u=bt,d;(function(_){_.KIND="bringToFront";function y(g){return{kind:_.KIND,elementIDs:g}}_.create=y})(d=t.BringToFrontAction||(t.BringToFrontAction={}));var f=function(_){e(y,_);function y(g){var v=_.call(this)||this;return v.action=g,v.selected=[],v}return y.prototype.execute=function(g){var v=this,m=g.root;return this.action.elementIDs.forEach(function(h){var P=m.index.getById(h);P instanceof u.SRoutableElement&&(P.source&&v.addToSelection(P.source),P.target&&v.addToSelection(P.target)),P instanceof c.SChildElement&&v.addToSelection(P),v.includeConnectedEdges(P)}),this.redo(g)},y.prototype.includeConnectedEdges=function(g){var v=this;if(g instanceof u.SConnectableElement&&(g.incomingEdges.forEach(function(p){return v.addToSelection(p)}),g.outgoingEdges.forEach(function(p){return v.addToSelection(p)})),g instanceof c.SParentElement)for(var m=0,h=g.children;m<h.length;m++){var P=h[m];this.includeConnectedEdges(P)}},y.prototype.addToSelection=function(g){this.selected.push({element:g,index:g.parent.children.indexOf(g)})},y.prototype.undo=function(g){for(var v=this.selected.length-1;v>=0;v--){var m=this.selected[v],h=m.element;h.parent.move(h,m.index)}return g.root},y.prototype.redo=function(g){for(var v=0;v<this.selected.length;v++)this.bringToFront(this.selected[v]);return g.root},y.prototype.bringToFront=function(g){var v=g.element,m=v.parent.children.length;v.parent.move(v,m-1)},y.KIND=d.KIND,y=n([o.injectable(),i(0,o.inject(a.TYPES.Action)),r("design:paramtypes",[Object])],y),y}(s.Command);t.BringToFrontCommand=f})(Lu);(function(t){var e=w&&w.__extends||function(){var G=function(q,z){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,V){B.__proto__=V}||function(B,V){for(var L in V)V.hasOwnProperty(L)&&(B[L]=V[L])},G(q,z)};return function(q,z){G(q,z);function B(){this.constructor=q}q.prototype=z===null?Object.create(z):(B.prototype=z.prototype,new B)}}(),n=w&&w.__decorate||function(G,q,z,B){var V=arguments.length,L=V<3?q:B===null?B=Object.getOwnPropertyDescriptor(q,z):B,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(G,q,z,B);else for(var W=G.length-1;W>=0;W--)(M=G[W])&&(L=(V<3?M(L):V>3?M(q,z,L):M(q,z))||L);return V>3&&L&&Object.defineProperty(q,z,L),L},r=w&&w.__metadata||function(G,q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(G,q)},i=w&&w.__param||function(G,q){return function(z,B){q(z,B,G)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=st,s=Tu,u=qe,d=gt,f=Se,_=yn,y=Nt,g=pt,v=qt,m=vi,h=In,P=Xa,p=Qa,R=cs,O=bt,A=bt,I=Lu,j=an,U=function(){function G(q,z){q===void 0&&(q=[]),z===void 0&&(z=[]),this.selectedElementsIDs=q,this.deselectedElementsIDs=z,this.kind=G.KIND}return G.KIND="elementSelected",G}();t.SelectAction=U;var C=function(){function G(q){q===void 0&&(q=!0),this.select=q,this.kind=G.KIND}return G.KIND="allSelected",G}();t.SelectAllAction=C;var x;(function(G){G.KIND="getSelection";function q(){return{kind:G.KIND,requestId:a.generateRequestId()}}G.create=q})(x=t.GetSelectionAction||(t.GetSelectionAction={}));var D;(function(G){G.KIND="selectionResult";function q(z,B){return{kind:G.KIND,selectedElementsIDs:z,responseId:B}}G.create=q})(D=t.SelectionResult||(t.SelectionResult={}));var $=function(G){e(q,G);function q(z){var B=G.call(this)||this;return B.action=z,B.selected=[],B.deselected=[],B}return q.prototype.execute=function(z){var B=this,V=z.root;return this.action.selectedElementsIDs.forEach(function(L){var M=V.index.getById(L);M instanceof u.SChildElement&&j.isSelectable(M)&&B.selected.push(M)}),this.action.deselectedElementsIDs.forEach(function(L){var M=V.index.getById(L);M instanceof u.SChildElement&&j.isSelectable(M)&&B.deselected.push(M)}),this.redo(z)},q.prototype.undo=function(z){for(var B=0,V=this.selected;B<V.length;B++){var L=V[B];L.selected=!1}for(var M=0,W=this.deselected;M<W.length;M++){var L=W[M];L.selected=!0}return z.root},q.prototype.redo=function(z){for(var B=0,V=this.deselected;B<V.length;B++){var L=V[B];L.selected=!1}for(var M=0,W=this.selected;M<W.length;M++){var L=W[M];L.selected=!0}return z.root},q.KIND=U.KIND,q=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[U])],q),q}(c.Command);t.SelectCommand=$;var K=function(G){e(q,G);function q(z){var B=G.call(this)||this;return B.action=z,B.previousSelection={},B}return q.prototype.execute=function(z){return this.selectAll(z.root,this.action.select),z.root},q.prototype.selectAll=function(z,B){j.isSelectable(z)&&(this.previousSelection[z.id]=z.selected,z.selected=B);for(var V=0,L=z.children;V<L.length;V++){var M=L[V];this.selectAll(M,B)}},q.prototype.undo=function(z){var B=this,V=z.root.index;return Object.keys(this.previousSelection).forEach(function(L){var M=V.getById(L);M!==void 0&&j.isSelectable(M)&&(M.selected=B.previousSelection[L])}),z.root},q.prototype.redo=function(z){return this.selectAll(z.root,this.action.select),z.root},q.KIND=C.KIND,q=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[C])],q),q}(c.Command);t.SelectAllCommand=K;var ee=function(G){e(q,G);function q(){var z=G!==null&&G.apply(this,arguments)||this;return z.wasSelected=!1,z.hasDragged=!1,z}return q.prototype.mouseDown=function(z,B){var V=[];if(B.button===0){if(this.buttonHandlerRegistry!==void 0&&z instanceof p.SButton&&z.enabled){var L=this.buttonHandlerRegistry.get(z.type);if(L!==void 0)return L.buttonPressed(z)}var M=d.findParentByFeature(z,j.isSelectable);if(M!==void 0||z instanceof u.SModelRoot){this.hasDragged=!1;var W=[];if(v.isCtrlOrCmd(B)||(W=m.toArray(z.root.index.all().filter(function(ce){return j.isSelectable(ce)&&ce.selected&&!(M instanceof O.SRoutingHandle&&ce===M.parent)}))),M!==void 0)if(M.selected)v.isCtrlOrCmd(B)?(this.wasSelected=!1,V.push(new U([],[M.id])),M instanceof A.SRoutableElement&&V.push(R.SwitchEditModeAction.create({elementsToDeactivate:[M.id]}))):this.wasSelected=!0;else{this.wasSelected=!1,V.push(new U([M.id],W.map(function(ce){return ce.id}))),V.push(I.BringToFrontAction.create([M.id]));var oe=W.filter(function(ce){return ce instanceof A.SRoutableElement}).map(function(ce){return ce.id});M instanceof A.SRoutableElement?V.push(R.SwitchEditModeAction.create({elementsToActivate:[M.id],elementsToDeactivate:oe})):oe.length>0&&V.push(R.SwitchEditModeAction.create({elementsToDeactivate:oe}))}else{V.push(new U([],W.map(function(ge){return ge.id})));var oe=W.filter(function(ge){return ge instanceof A.SRoutableElement}).map(function(ge){return ge.id});oe.length>0&&V.push(R.SwitchEditModeAction.create({elementsToDeactivate:oe}))}}}return V},q.prototype.mouseMove=function(z,B){return this.hasDragged=!0,[]},q.prototype.mouseUp=function(z,B){if(B.button===0&&!this.hasDragged){var V=d.findParentByFeature(z,j.isSelectable);if(V!==void 0&&this.wasSelected)return[new U([V.id],[])]}return this.hasDragged=!1,[]},q.prototype.decorate=function(z,B){var V=d.findParentByFeature(B,j.isSelectable);return V!==void 0&&g.setClass(z,"selected",V.selected),z},n([o.inject(P.ButtonHandlerRegistry),o.optional(),r("design:type",P.ButtonHandlerRegistry)],q.prototype,"buttonHandlerRegistry",void 0),q}(y.MouseListener);t.SelectMouseListener=ee;var te=function(G){e(q,G);function q(z){var B=G.call(this)||this;return B.action=z,B.previousSelection={},B}return q.prototype.retrieveResult=function(z){var B=z.root.index.all().filter(function(V){return j.isSelectable(V)&&V.selected}).map(function(V){return V.id});return D.create(m.toArray(B),this.action.requestId)},q.KIND=x.KIND,q=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[Object])],q),q}(s.ModelRequestCommand);t.GetSelectionCommand=te;var ie=function(G){e(q,G);function q(){return G!==null&&G.apply(this,arguments)||this}return q.prototype.keyDown=function(z,B){return h.matchesKeystroke(B,"KeyA","ctrlCmd")?[new C]:[]},q}(_.KeyListener);t.SelectKeyboardListener=ie})(Du);var xi={};Object.defineProperty(xi,"__esModule",{value:!0});var nf=qe,rT=ho;function iT(t,e){Object.keys(t).forEach(function(n){return e(n,t[n])})}xi.forEachMatch=iT;var oT=function(){function t(){}return t.prototype.match=function(e,n){var r={};return this.matchLeft(e,r),this.matchRight(n,r),r},t.prototype.matchLeft=function(e,n,r){var i=n[e.id];if(i!==void 0?(i.left=e,i.leftParentId=r):(i={left:e,leftParentId:r},n[e.id]=i),nf.isParent(e))for(var o=0,a=e.children;o<a.length;o++){var c=a[o];this.matchLeft(c,n,e.id)}},t.prototype.matchRight=function(e,n,r){var i=n[e.id];if(i!==void 0?(i.right=e,i.rightParentId=r):(i={right:e,rightParentId:r},n[e.id]=i),nf.isParent(e))for(var o=0,a=e.children;o<a.length;o++){var c=a[o];this.matchRight(c,n,e.id)}},t}();xi.ModelMatcher=oT;function aT(t,e,n){t instanceof nf.SModelRoot?n=t.index:n===void 0&&(n=new rT.SModelIndex,n.add(t));for(var r=0,i=e;r<i.length;r++){var o=i[r],a=!1;if(o.left!==void 0&&o.leftParentId!==void 0){var c=n.getById(o.leftParentId);if(c!==void 0&&c.children!==void 0){var s=c.children.indexOf(o.left);s>=0&&(o.right!==void 0&&o.leftParentId===o.rightParentId?(c.children.splice(s,1,o.right),a=!0):c.children.splice(s,1)),n.remove(o.left)}}if(!a&&o.right!==void 0&&o.rightParentId!==void 0){var u=n.getById(o.rightParentId);u!==void 0&&(u.children===void 0&&(u.children=[]),u.children.push(o.right))}}}xi.applyMatches=aT;var xo={},O_={},sT=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(O_,"__esModule",{value:!0});var cT=yr,uT=function(t){sT(e,t);function e(n,r,i,o){o===void 0&&(o=!1);var a=t.call(this,i)||this;return a.model=n,a.elementResizes=r,a.reverse=o,a}return e.prototype.tween=function(n){var r=this;return this.elementResizes.forEach(function(i){var o=i.element,a=r.reverse?{width:(1-n)*i.toDimension.width+n*i.fromDimension.width,height:(1-n)*i.toDimension.height+n*i.fromDimension.height}:{width:(1-n)*i.fromDimension.width+n*i.toDimension.width,height:(1-n)*i.fromDimension.height+n*i.toDimension.height};o.bounds={x:o.bounds.x,y:o.bounds.y,width:a.width,height:a.height}}),this.model},e}(cT.Animation);O_.ResizeAnimation=uT;var dT=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sg=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Eg=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},lT=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(xo,"__esModule",{value:!0});var Vs=fe,Ki=rt,Ag=yr,fT=st,_T=jo,zi=qe,Og=us,Ig=Po,jg=Hr,Cg=ft,Mg=ts,xg=an,Dg=xi,pT=O_,hT=Se,Tg=nr,Lg=mn,Ug=bt,gT=gt,rf=function(){function t(e,n,r){n===void 0&&(n=!0),this.animate=n,this.cause=r,this.kind=t.KIND,e.id!==void 0?this.newRoot=e:this.matches=e}return t.KIND="updateModel",t}();xo.UpdateModelAction=rf;var yT=function(t){dT(e,t);function e(n){var r=t.call(this)||this;return r.action=n,r}return e.prototype.execute=function(n){var r;return this.action.newRoot!==void 0?r=n.modelFactory.createRoot(this.action.newRoot):(r=n.modelFactory.createRoot(n.root),this.action.matches!==void 0&&this.applyMatches(r,this.action.matches,n)),this.oldRoot=n.root,this.newRoot=r,this.performUpdate(this.oldRoot,this.newRoot,n)},e.prototype.performUpdate=function(n,r,i){if((this.action.animate===void 0||this.action.animate)&&n.id===r.id){var o=void 0;if(this.action.matches===void 0){var a=new Dg.ModelMatcher;o=a.match(n,r)}else o=this.convertToMatchResult(this.action.matches,n,r);var c=this.computeAnimation(r,o,i);return c instanceof Ag.Animation?c.start():c}else return n.type===r.type&&Ki.Dimension.isValid(n.canvasBounds)&&(r.canvasBounds=n.canvasBounds),Tg.isViewport(n)&&Tg.isViewport(r)&&(r.zoom=n.zoom,r.scroll=n.scroll),r},e.prototype.applyMatches=function(n,r,i){for(var o=n.index,a=0,c=r;a<c.length;a++){var s=c[a];if(s.left!==void 0){var u=o.getById(s.left.id);u instanceof zi.SChildElement&&u.parent.remove(u)}}for(var d=0,f=r;d<f.length;d++){var s=f[d];if(s.right!==void 0){var u=i.modelFactory.createElement(s.right),_=void 0;s.rightParentId!==void 0&&(_=o.getById(s.rightParentId)),_ instanceof zi.SParentElement?_.add(u):n.add(u)}}},e.prototype.convertToMatchResult=function(n,r,i){for(var o={},a=0,c=n;a<c.length;a++){var s=c[a],u={},d=void 0;s.left!==void 0&&(d=s.left.id,u.left=r.index.getById(d),u.leftParentId=s.leftParentId),s.right!==void 0&&(d=s.right.id,u.right=i.index.getById(d),u.rightParentId=s.rightParentId),d!==void 0&&(o[d]=u)}return o},e.prototype.computeAnimation=function(n,r,i){var o=this,a={fades:[]};Dg.forEachMatch(r,function(s,u){if(u.left!==void 0&&u.right!==void 0)o.updateElement(u.left,u.right,a);else if(u.right!==void 0){var d=u.right;Ig.isFadeable(d)&&(d.opacity=0,a.fades.push({element:d,type:"in"}))}else if(u.left instanceof zi.SChildElement){var f=u.left;if(Ig.isFadeable(f)&&u.leftParentId!==void 0&&!gT.containsSome(n,f)){var _=n.index.getById(u.leftParentId);if(_ instanceof zi.SParentElement){var y=i.modelFactory.createElement(f);_.add(y),a.fades.push({element:y,type:"out"})}}}});var c=this.createAnimations(a,n,i);return c.length>=2?new Ag.CompoundAnimation(n,i,c):c.length===1?c[0]:n},e.prototype.updateElement=function(n,r,i){if(jg.isLocateable(n)&&jg.isLocateable(r)){var o=n.position,a=r.position;(!Ki.almostEquals(o.x,a.x)||!Ki.almostEquals(o.y,a.y))&&(i.moves===void 0&&(i.moves=[]),i.moves.push({element:r,fromPosition:o,toPosition:a}),r.position=o)}Cg.isSizeable(n)&&Cg.isSizeable(r)&&(Ki.Dimension.isValid(r.bounds)?(!Ki.almostEquals(n.bounds.width,r.bounds.width)||!Ki.almostEquals(n.bounds.height,r.bounds.height))&&(i.resizes===void 0&&(i.resizes=[]),i.resizes.push({element:r,fromDimension:{width:n.bounds.width,height:n.bounds.height},toDimension:{width:r.bounds.width,height:r.bounds.height}})):r.bounds={x:r.bounds.x,y:r.bounds.y,width:n.bounds.width,height:n.bounds.height}),n instanceof Ug.SRoutableElement&&r instanceof Ug.SRoutableElement&&this.edgeRouterRegistry&&(i.edgeMementi===void 0&&(i.edgeMementi=[]),i.edgeMementi.push({edge:r,before:this.takeSnapshot(n),after:this.takeSnapshot(r)})),xg.isSelectable(n)&&xg.isSelectable(r)&&(r.selected=n.selected),n instanceof zi.SModelRoot&&r instanceof zi.SModelRoot&&(r.canvasBounds=n.canvasBounds),n instanceof Mg.ViewportRootElement&&r instanceof Mg.ViewportRootElement&&(r.scroll=n.scroll,r.zoom=n.zoom)},e.prototype.takeSnapshot=function(n){var r=this.edgeRouterRegistry.get(n.routerKind);return r.takeSnapshot(n)},e.prototype.createAnimations=function(n,r,i){var o=[];if(n.fades.length>0&&o.push(new _T.FadeAnimation(r,n.fades,i,!0)),n.moves!==void 0&&n.moves.length>0){for(var a=new Map,c=0,s=n.moves;c<s.length;c++){var u=s[c];a.set(u.element.id,u)}o.push(new Og.MoveAnimation(r,a,i,!1))}if(n.resizes!==void 0&&n.resizes.length>0){for(var d=new Map,f=0,_=n.resizes;f<_.length;f++){var y=_[f];d.set(y.element.id,y)}o.push(new pT.ResizeAnimation(r,d,i,!1))}return n.edgeMementi!==void 0&&n.edgeMementi.length>0&&o.push(new Og.MorphEdgesAnimation(r,n.edgeMementi,i,!1)),o},e.prototype.undo=function(n){return this.performUpdate(this.newRoot,this.oldRoot,n)},e.prototype.redo=function(n){return this.performUpdate(this.oldRoot,this.newRoot,n)},e.KIND=rf.KIND,Sg([Vs.inject(Lg.EdgeRouterRegistry),Vs.optional(),Eg("design:type",Lg.EdgeRouterRegistry)],e.prototype,"edgeRouterRegistry",void 0),e=Sg([Vs.injectable(),lT(0,Vs.inject(hT.TYPES.Action)),Eg("design:paramtypes",[rf])],e),e}(fT.Command);xo.UpdateModelCommand=yT;var rr={},Do={};(function(t){var e=w&&w.__extends||function(){var p=function(R,O){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var j in I)I.hasOwnProperty(j)&&(A[j]=I[j])},p(R,O)};return function(R,O){p(R,O);function A(){this.constructor=R}R.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)}}(),n=w&&w.__decorate||function(p,R,O,A){var I=arguments.length,j=I<3?R:A===null?A=Object.getOwnPropertyDescriptor(R,O):A,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(p,R,O,A);else for(var C=p.length-1;C>=0;C--)(U=p[C])&&(j=(I<3?U(j):I>3?U(R,O,j):U(R,O))||j);return I>3&&j&&Object.defineProperty(R,O,j),j},r=w&&w.__metadata||function(p,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,R)},i=w&&w.__param||function(p,R){return function(O,A){R(O,A,p)}};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=St,c=rt,s=st,u=yr,d=nr,f=Se,_=Tu,y=function(){function p(R,O,A){this.elementId=R,this.newViewport=O,this.animate=A,this.kind=p.KIND}return p.KIND="viewport",p}();t.SetViewportAction=y;var g;(function(p){p.KIND="getViewport";function R(){return{kind:p.KIND,requestId:a.generateRequestId()}}p.create=R})(g=t.GetViewportAction||(t.GetViewportAction={}));var v;(function(p){p.KIND="viewportResult";function R(O,A,I){return{kind:p.KIND,viewport:O,canvasBounds:A,responseId:I}}p.create=R})(v=t.ViewportResult||(t.ViewportResult={}));var m=function(p){e(R,p);function R(A){var I=p.call(this)||this;return I.action=A,I.newViewport=A.newViewport,I}O=R,R.prototype.execute=function(A){var I=A.root,j=I.index.getById(this.action.elementId);if(j&&d.isViewport(j)){if(this.element=j,this.oldViewport={scroll:this.element.scroll,zoom:this.element.zoom},this.action.animate)return new P(this.element,this.oldViewport,this.newViewport,A).start();this.element.scroll=this.newViewport.scroll,this.element.zoom=this.newViewport.zoom}return I},R.prototype.undo=function(A){return new P(this.element,this.newViewport,this.oldViewport,A).start()},R.prototype.redo=function(A){return new P(this.element,this.oldViewport,this.newViewport,A).start()},R.prototype.merge=function(A,I){return!this.action.animate&&A instanceof O&&this.element===A.element?(this.newViewport=A.newViewport,!0):!1};var O;return R.KIND=y.KIND,R=O=n([o.injectable(),i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[y])],R),R}(s.MergeableCommand);t.SetViewportCommand=m;var h=function(p){e(R,p);function R(O){var A=p.call(this)||this;return A.action=O,A}return R.prototype.retrieveResult=function(O){var A=O.root,I;return d.isViewport(A)?I={scroll:A.scroll,zoom:A.zoom}:I={scroll:c.Point.ORIGIN,zoom:1},v.create(I,A.canvasBounds,this.action.requestId)},R.KIND=g.KIND,R=n([i(0,o.inject(f.TYPES.Action)),r("design:paramtypes",[Object])],R),R}(_.ModelRequestCommand);t.GetViewportCommand=h;var P=function(p){e(R,p);function R(O,A,I,j){var U=p.call(this,j)||this;return U.element=O,U.oldViewport=A,U.newViewport=I,U.context=j,U.zoomFactor=Math.log(I.zoom/A.zoom),U}return R.prototype.tween=function(O,A){return this.element.scroll={x:(1-O)*this.oldViewport.scroll.x+O*this.newViewport.scroll.x,y:(1-O)*this.oldViewport.scroll.y+O*this.newViewport.scroll.y},this.element.zoom=this.oldViewport.zoom*Math.exp(O*this.zoomFactor),A.root},R}(u.Animation);t.ViewportAnimation=P})(Do);var Uu=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),I_=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},j_=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Bv=w&&w.__param||function(t,e){return function(n,r){e(n,r,t)}};Object.defineProperty(rr,"__esModule",{value:!0});var lo=rt,Ng=In,mT=qe,vT=st,bT=yn,Wd=ft,PT=an,kg=Do,fc=nr,C_=fe,Yv=Se,Vc=function(){function t(e,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.elementIds=e,this.animate=n,this.retainZoom=r,this.kind=t.KIND}return t.KIND="center",t}();rr.CenterAction=Vc;var Hc=function(){function t(e,n,r,i){i===void 0&&(i=!0),this.elementIds=e,this.padding=n,this.maxZoom=r,this.animate=i,this.kind=t.KIND}return t.KIND="fit",t}();rr.FitToScreenAction=Hc;var M_=function(t){Uu(e,t);function e(n){var r=t.call(this)||this;return r.animate=n,r}return e.prototype.initialize=function(n){var r=this;if(fc.isViewport(n)){this.oldViewport={scroll:n.scroll,zoom:n.zoom};var i=[];if(this.getElementIds().forEach(function(a){var c=n.index.getById(a);c&&Wd.isBoundsAware(c)&&i.push(r.boundsInViewport(c,c.bounds,n))}),i.length===0&&n.index.all().forEach(function(a){PT.isSelectable(a)&&a.selected&&Wd.isBoundsAware(a)&&i.push(r.boundsInViewport(a,a.bounds,n))}),i.length===0&&n.index.all().forEach(function(a){Wd.isBoundsAware(a)&&i.push(r.boundsInViewport(a,a.bounds,n))}),i.length!==0){var o=i.reduce(function(a,c){return lo.Bounds.combine(a,c)});lo.Dimension.isValid(o)&&(this.newViewport=this.getNewViewport(o,n))}}},e.prototype.boundsInViewport=function(n,r,i){return n instanceof mT.SChildElement&&n.parent!==i?this.boundsInViewport(n.parent,n.parent.localToParent(r),i):r},e.prototype.execute=function(n){return this.initialize(n.root),this.redo(n)},e.prototype.undo=function(n){var r=n.root;if(fc.isViewport(r)&&this.newViewport!==void 0&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new kg.ViewportAnimation(r,this.newViewport,this.oldViewport,n).start();r.scroll=this.oldViewport.scroll,r.zoom=this.oldViewport.zoom}return r},e.prototype.redo=function(n){var r=n.root;if(fc.isViewport(r)&&this.newViewport!==void 0&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new kg.ViewportAnimation(r,this.oldViewport,this.newViewport,n).start();r.scroll=this.newViewport.scroll,r.zoom=this.newViewport.zoom}return r},e.prototype.equal=function(n,r){return n.zoom===r.zoom&&n.scroll.x===r.scroll.x&&n.scroll.y===r.scroll.y},e=I_([C_.injectable(),j_("design:paramtypes",[Boolean])],e),e}(vT.Command);rr.BoundsAwareViewportCommand=M_;var wT=function(t){Uu(e,t);function e(n){var r=t.call(this,n.animate)||this;return r.action=n,r}return e.prototype.getElementIds=function(){return this.action.elementIds},e.prototype.getNewViewport=function(n,r){if(!!lo.Dimension.isValid(r.canvasBounds)){var i=this.action.retainZoom&&fc.isViewport(r)?r.zoom:1,o=lo.Bounds.center(n);return{scroll:{x:o.x-.5*r.canvasBounds.width/i,y:o.y-.5*r.canvasBounds.height/i},zoom:i}}},e.KIND=Vc.KIND,e=I_([Bv(0,C_.inject(Yv.TYPES.Action)),j_("design:paramtypes",[Vc])],e),e}(M_);rr.CenterCommand=wT;var RT=function(t){Uu(e,t);function e(n){var r=t.call(this,n.animate)||this;return r.action=n,r}return e.prototype.getElementIds=function(){return this.action.elementIds},e.prototype.getNewViewport=function(n,r){if(!!lo.Dimension.isValid(r.canvasBounds)){var i=lo.Bounds.center(n),o=this.action.padding===void 0?0:2*this.action.padding,a=Math.min(r.canvasBounds.width/(n.width+o),r.canvasBounds.height/(n.height+o));return this.action.maxZoom!==void 0&&(a=Math.min(a,this.action.maxZoom)),a===1/0&&(a=1),{scroll:{x:i.x-.5*r.canvasBounds.width/a,y:i.y-.5*r.canvasBounds.height/a},zoom:a}}},e.KIND=Hc.KIND,e=I_([Bv(0,C_.inject(Yv.TYPES.Action)),j_("design:paramtypes",[Hc])],e),e}(M_);rr.FitToScreenCommand=RT;var ST=function(t){Uu(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.keyDown=function(n,r){return Ng.matchesKeystroke(r,"KeyC","ctrlCmd","shift")?[new Vc([])]:Ng.matchesKeystroke(r,"KeyF","ctrlCmd","shift")?[new Hc([])]:[]},e}(bT.KeyListener);rr.CenterKeyboardListener=ST;var ls={},ET=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ls,"__esModule",{value:!0});var Gd=St,AT=qe,OT=Nt,ta=gt,Hs=nr,IT=Hr,jT=bt,CT=Zr,MT=qt;function xT(t){return"scroll"in t}ls.isScrollable=xT;var DT=function(t){ET(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scrollbarMouseDownDelay=200,n}return e.prototype.mouseDown=function(n,r){var i=this,o=ta.findParentByFeature(n,IT.isMoveable);if(o===void 0&&!(n instanceof jT.SRoutingHandle)){var a=ta.findParentByFeature(n,Hs.isViewport);if(a){if(this.lastScrollPosition={x:r.pageX,y:r.pageY},this.scrollbar=this.getScrollbar(r),this.scrollbar)return window.clearTimeout(this.scrollbarMouseDownTimeout),this.moveScrollBar(a,r,this.scrollbar,!0).map(function(c){return new Promise(function(s){i.scrollbarMouseDownTimeout=window.setTimeout(function(){return s(c)},i.scrollbarMouseDownDelay)})})}else this.lastScrollPosition=void 0,this.scrollbar=void 0}return[]},e.prototype.mouseMove=function(n,r){if(r.buttons===0)return this.mouseUp(n,r);if(this.scrollbar){window.clearTimeout(this.scrollbarMouseDownTimeout);var i=ta.findParentByFeature(n,Hs.isViewport);if(i)return this.moveScrollBar(i,r,this.scrollbar)}if(this.lastScrollPosition){var i=ta.findParentByFeature(n,Hs.isViewport);if(i)return this.dragCanvas(i,r,this.lastScrollPosition)}return[]},e.prototype.mouseEnter=function(n,r){return n instanceof AT.SModelRoot&&r.buttons===0&&this.mouseUp(n,r),[]},e.prototype.mouseUp=function(n,r){return this.lastScrollPosition=void 0,this.scrollbar=void 0,[]},e.prototype.doubleClick=function(n,r){var i=ta.findParentByFeature(n,Hs.isViewport);if(i){var o=this.getScrollbar(r);if(o){window.clearTimeout(this.scrollbarMouseDownTimeout);var a=this.findClickTarget(o,r),c=void 0;if(a&&a.id.startsWith("horizontal-projection:")?c=a.id.substring(22):a&&a.id.startsWith("vertical-projection:")&&(c=a.id.substring(20)),c)return[Gd.CenterAction.create([c],{animate:!0,retainZoom:!0})]}}return[]},e.prototype.dragCanvas=function(n,r,i){var o=(r.pageX-i.x)/n.zoom,a=(r.pageY-i.y)/n.zoom,c={scroll:{x:n.scroll.x-o,y:n.scroll.y-a},zoom:n.zoom};return this.lastScrollPosition={x:r.pageX,y:r.pageY},[Gd.SetViewportAction.create(n.id,c,{animate:!1})]},e.prototype.moveScrollBar=function(n,r,i,o){o===void 0&&(o=!1);var a=CT.getModelBounds(n);if(!a||n.zoom<=0)return[];var c=i.getBoundingClientRect(),s;if(this.getScrollbarOrientation(i)==="horizontal"){if(c.width<=0)return[];var u=n.canvasBounds.width/(n.zoom*a.width)*c.width,d=r.clientX-c.x-u/2;d<0?d=0:d>c.width-u&&(d=c.width-u),s={x:a.x+d/c.width*a.width,y:n.scroll.y}}else{if(c.height<=0)return[];var u=n.canvasBounds.height/(n.zoom*a.height)*c.height,d=r.clientY-c.y-u/2;d<0?d=0:d>c.height-u&&(d=c.height-u),s={x:n.scroll.x,y:a.y+d/c.height*a.height}}return[Gd.SetViewportAction.create(n.id,{scroll:s,zoom:n.zoom},{animate:o})]},e.prototype.getScrollbar=function(n){for(var r=n.target;r;){if(r.classList&&r.classList.contains("sprotty-projection-bar"))return r;r=r.parentElement}},e.prototype.getScrollbarOrientation=function(n){return n.classList.contains("horizontal")?"horizontal":"vertical"},e.prototype.findClickTarget=function(n,r){var i=Array.from(n.children).filter(function(o){return o.id&&o.classList.contains("sprotty-projection")&&MT.hitsMouseEvent(o,r)});if(i.length>0)return i[i.length-1]},e}(OT.MouseListener);ls.ScrollMouseListener=DT;var x_={},Nu={},TT=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LT=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(Nu,"__esModule",{value:!0});var UT=fe,ii=rn,jr=tn,Ks=qe,Rn=sn,Fg=Qa,NT=function(t){TT(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.defaultGraphFeatures=jr.createFeatureSet(Rn.SGraph.DEFAULT_FEATURES),n.defaultNodeFeatures=jr.createFeatureSet(Rn.SNode.DEFAULT_FEATURES),n.defaultPortFeatures=jr.createFeatureSet(Rn.SPort.DEFAULT_FEATURES),n.defaultEdgeFeatures=jr.createFeatureSet(Rn.SEdge.DEFAULT_FEATURES),n.defaultLabelFeatures=jr.createFeatureSet(Rn.SLabel.DEFAULT_FEATURES),n.defaultCompartmentFeatures=jr.createFeatureSet(Rn.SCompartment.DEFAULT_FEATURES),n.defaultButtonFeatures=jr.createFeatureSet(Fg.SButton.DEFAULT_FEATURES),n}return e.prototype.createElement=function(n,r){var i;if(this.registry.hasKey(n.type)){var o=this.registry.get(n.type,void 0);if(!(o instanceof Ks.SChildElement))throw new Error("Element with type "+n.type+" was expected to be an SChildElement.");i=o}else this.isNodeSchema(n)?(i=new Rn.SNode,i.features=this.defaultNodeFeatures):this.isPortSchema(n)?(i=new Rn.SPort,i.features=this.defaultPortFeatures):this.isEdgeSchema(n)?(i=new Rn.SEdge,i.features=this.defaultEdgeFeatures):this.isLabelSchema(n)?(i=new Rn.SLabel,i.features=this.defaultLabelFeatures):this.isCompartmentSchema(n)?(i=new Rn.SCompartment,i.features=this.defaultCompartmentFeatures):this.isButtonSchema(n)?(i=new Fg.SButton,i.features=this.defaultButtonFeatures):i=new Ks.SChildElement;return this.initializeChild(i,n,r)},e.prototype.createRoot=function(n){var r;if(this.registry.hasKey(n.type)){var i=this.registry.get(n.type,void 0);if(!(i instanceof Ks.SModelRoot))throw new Error("Element with type "+n.type+" was expected to be an SModelRoot.");r=i}else this.isGraphSchema(n)?(r=new Rn.SGraph,r.features=this.defaultGraphFeatures):r=new Ks.SModelRoot;return this.initializeRoot(r,n)},e.prototype.isGraphSchema=function(n){return ii.getBasicType(n)==="graph"},e.prototype.isNodeSchema=function(n){return ii.getBasicType(n)==="node"},e.prototype.isPortSchema=function(n){return ii.getBasicType(n)==="port"},e.prototype.isEdgeSchema=function(n){return ii.getBasicType(n)==="edge"},e.prototype.isLabelSchema=function(n){return ii.getBasicType(n)==="label"},e.prototype.isCompartmentSchema=function(n){return ii.getBasicType(n)==="comp"},e.prototype.isButtonSchema=function(n){return ii.getBasicType(n)==="button"},e=LT([UT.injectable()],e),e}(jr.SModelFactory);Nu.SGraphFactory=NT;Object.defineProperty(x_,"__esModule",{value:!0});var kT=fe,FT=Se,BT=Nu,YT=new kT.ContainerModule(function(t,e,n,r){r(FT.TYPES.IModelFactory).to(BT.SGraphFactory).inSingletonScope()});x_.default=YT;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});var $T=fe,Jd=Se,Bg=tr,Yg=Ga,na=Vr,$g=Ut,Vg=vu,Hg=mu,Kg=bu,VT=new $T.ContainerModule(function(t,e,n){$g.configureCommand({bind:t,isBound:n},Bg.SetBoundsCommand),$g.configureCommand({bind:t,isBound:n},Bg.RequestBoundsCommand),t(Yg.HiddenBoundsUpdater).toSelf().inSingletonScope(),t(Jd.TYPES.HiddenVNodePostprocessor).toService(Yg.HiddenBoundsUpdater),t(Jd.TYPES.Layouter).to(na.Layouter).inSingletonScope(),t(Jd.TYPES.LayoutRegistry).to(na.LayoutRegistry).inSingletonScope(),na.configureLayout({bind:t,isBound:n},Hg.VBoxLayouter.KIND,Hg.VBoxLayouter),na.configureLayout({bind:t,isBound:n},Vg.HBoxLayouter.KIND,Vg.HBoxLayouter),na.configureLayout({bind:t,isBound:n},Kg.StackLayouter.KIND,Kg.StackLayouter)});ku.default=VT;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});var HT=fe,KT=Xa,zT=new HT.ContainerModule(function(t){t(KT.ButtonHandlerRegistry).toSelf().inSingletonScope()});Fu.default=zT;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});var ZT=fe,Xd=Se,zg=wo,Qd=es,qT=new ZT.ContainerModule(function(t){t(Qd.CommandPalette).toSelf().inSingletonScope(),t(Xd.TYPES.IUIExtension).toService(Qd.CommandPalette),t(Xd.TYPES.KeyListener).to(Qd.CommandPaletteKeyListener),t(zg.CommandPaletteActionProviderRegistry).toSelf().inSingletonScope(),t(Xd.TYPES.ICommandPaletteActionProviderRegistry).toService(zg.CommandPaletteActionProviderRegistry)});Bu.default=qT;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});var WT=fe,GT=Ro,JT=Pu,ra=Se,XT=new WT.ContainerModule(function(t){t(ra.TYPES.IContextMenuServiceProvider).toProvider(function(e){return function(){return new Promise(function(n,r){e.container.isBound(ra.TYPES.IContextMenuService)?n(e.container.get(ra.TYPES.IContextMenuService)):r()})}}),t(ra.TYPES.MouseListener).to(JT.ContextMenuMouseListener),t(ra.TYPES.IContextMenuProviderRegistry).to(GT.ContextMenuProviderRegistry)});Yu.default=XT;var $u={};Object.defineProperty($u,"__esModule",{value:!0});var QT=jn,eL=fe,tL=Ou,nL=Iu,rL=Se,Zg=ju,iL=new eL.ContainerModule(function(t,e,n){QT.configureModelElement({bind:t,isBound:n},"marker",tL.SIssueMarker,nL.IssueMarkerView),t(Zg.DecorationPlacer).toSelf().inSingletonScope(),t(rL.TYPES.IVNodePostprocessor).toService(Zg.DecorationPlacer)});$u.default=iL;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});var oL=fe,aL=Se,qg=Ci,sL=new oL.ContainerModule(function(t){t(qg.IntersectionFinder).toSelf().inSingletonScope(),t(aL.TYPES.IEdgeRoutePostprocessor).toService(qg.IntersectionFinder)});D_.default=sL;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});var cL=fe,uL=Se,dL=Io,lL=new cL.ContainerModule(function(t){t(uL.TYPES.IButtonHandler).toConstructor(dL.ExpandButtonHandler)});Vu.default=lL;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});var fL=fe,el=Se,tl=c_,_L=Ii,pL=Ut,hL=new fL.ContainerModule(function(t,e,n){t(el.TYPES.KeyListener).to(tl.ExportSvgKeyListener).inSingletonScope(),t(el.TYPES.HiddenVNodePostprocessor).to(tl.ExportSvgPostprocessor).inSingletonScope(),pL.configureCommand({bind:t,isBound:n},tl.ExportSvgCommand),t(el.TYPES.SvgExporter).to(_L.SvgExporter).inSingletonScope()});Hu.default=hL;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});var gL=fe,yL=Se,mL=jo,vL=new gL.ContainerModule(function(t){t(yL.TYPES.IVNodePostprocessor).to(mL.ElementFader).inSingletonScope()});Ku.default=vL;var zu={},T_={},Wg=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},bL=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(T_,"__esModule",{value:!0});var Gg=fe,PL=Se,wL=function(){function t(){}return t.prototype.decorate=function(e,n){return e},t.prototype.postUpdate=function(){var e=document.getElementById(this.options.popupDiv);if(e!==null&&typeof window!="undefined"){var n=e.getBoundingClientRect();window.innerHeight<n.height+n.top&&(e.style.top=window.pageYOffset+window.innerHeight-n.height-5+"px"),window.innerWidth<n.left+n.width&&(e.style.left=window.pageXOffset+window.innerWidth-n.width-5+"px"),n.left<0&&(e.style.left="0px"),n.top<0&&(e.style.top="0px")}},Wg([Gg.inject(PL.TYPES.ViewerOptions),bL("design:type",Object)],t.prototype,"options",void 0),t=Wg([Gg.injectable()],t),t}();T_.PopupPositionUpdater=wL;Object.defineProperty(zu,"__esModule",{value:!0});var RL=fe,ia=Se,Sn=u_,SL=T_,Jg=Ut,oa=Yr,Xg=rr,EL=Do,AL=us,OL=new RL.ContainerModule(function(t,e,n){t(ia.TYPES.PopupVNodePostprocessor).to(SL.PopupPositionUpdater).inSingletonScope(),t(ia.TYPES.MouseListener).to(Sn.HoverMouseListener),t(ia.TYPES.PopupMouseListener).to(Sn.PopupHoverMouseListener),t(ia.TYPES.KeyListener).to(Sn.HoverKeyListener),t(ia.TYPES.HoverState).toConstantValue({mouseOverTimer:void 0,mouseOutTimer:void 0,popupOpen:!1,previousPopupElement:void 0}),t(Sn.ClosePopupActionHandler).toSelf().inSingletonScope();var r={bind:t,isBound:n};Jg.configureCommand(r,Sn.HoverFeedbackCommand),Jg.configureCommand(r,Sn.SetPopupModelCommand),oa.configureActionHandler(r,Sn.SetPopupModelCommand.KIND,Sn.ClosePopupActionHandler),oa.configureActionHandler(r,Xg.FitToScreenCommand.KIND,Sn.ClosePopupActionHandler),oa.configureActionHandler(r,Xg.CenterCommand.KIND,Sn.ClosePopupActionHandler),oa.configureActionHandler(r,EL.SetViewportCommand.KIND,Sn.ClosePopupActionHandler),oa.configureActionHandler(r,AL.MoveCommand.KIND,Sn.ClosePopupActionHandler)});zu.default=OL;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});var IL=fe,nl=Se,aa=us,jL=Ut,CL=new IL.ContainerModule(function(t,e,n){t(nl.TYPES.MouseListener).to(aa.MoveMouseListener),jL.configureCommand({bind:t,isBound:n},aa.MoveCommand),t(aa.LocationPostprocessor).toSelf().inSingletonScope(),t(nl.TYPES.IVNodePostprocessor).toService(aa.LocationPostprocessor),t(nl.TYPES.HiddenVNodePostprocessor).toService(aa.LocationPostprocessor)});Zu.default=CL;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});var ML=fe,xL=Se,DL=Cu,TL=new ML.ContainerModule(function(t){t(xL.TYPES.MouseListener).to(DL.OpenMouseListener)});qu.default=TL;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});var LL=fe,En=Se,Qg=ds,ey=Ao,rl=Mo,il=Mi,UL=mr,NL=mn,ol=Mu,al=Co,kL=Ut,FL=new LL.ContainerModule(function(t,e,n){t(NL.EdgeRouterRegistry).toSelf().inSingletonScope(),t(UL.AnchorComputerRegistry).toSelf().inSingletonScope(),t(Qg.ManhattanEdgeRouter).toSelf().inSingletonScope(),t(En.TYPES.IEdgeRouter).toService(Qg.ManhattanEdgeRouter),t(En.TYPES.IAnchorComputer).to(rl.ManhattanEllipticAnchor).inSingletonScope(),t(En.TYPES.IAnchorComputer).to(rl.ManhattanRectangularAnchor).inSingletonScope(),t(En.TYPES.IAnchorComputer).to(rl.ManhattanDiamondAnchor).inSingletonScope(),t(ey.PolylineEdgeRouter).toSelf().inSingletonScope(),t(En.TYPES.IEdgeRouter).toService(ey.PolylineEdgeRouter),t(En.TYPES.IAnchorComputer).to(il.EllipseAnchor),t(En.TYPES.IAnchorComputer).to(il.RectangleAnchor),t(En.TYPES.IAnchorComputer).to(il.DiamondAnchor),t(ol.BezierEdgeRouter).toSelf().inSingletonScope(),t(En.TYPES.IEdgeRouter).toService(ol.BezierEdgeRouter),t(En.TYPES.IAnchorComputer).to(al.BezierEllipseAnchor),t(En.TYPES.IAnchorComputer).to(al.BezierRectangleAnchor),t(En.TYPES.IAnchorComputer).to(al.BezierDiamondAnchor),kL.configureCommand({bind:t,isBound:n},ol.AddRemoveBezierSegmentCommand)});Wu.default=FL;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});var BL=fe,ty=Se,sa=Du,sl=Ut,YL=new BL.ContainerModule(function(t,e,n){sl.configureCommand({bind:t,isBound:n},sa.SelectCommand),sl.configureCommand({bind:t,isBound:n},sa.SelectAllCommand),sl.configureCommand({bind:t,isBound:n},sa.GetSelectionCommand),t(ty.TYPES.KeyListener).to(sa.SelectKeyboardListener),t(ty.TYPES.MouseListener).to(sa.SelectMouseListener)});Gu.default=YL;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});var $L=fe,VL=Se,HL=au,KL=new $L.ContainerModule(function(t){t(VL.TYPES.KeyListener).to(HL.UndoRedoKeyListener)});Ju.default=KL;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});var zL=fe,ZL=Ut,qL=xo,WL=new zL.ContainerModule(function(t,e,n){ZL.configureCommand({bind:t,isBound:n},qL.UpdateModelCommand)});Xu.default=WL;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});var GL=fe,cl=Se,ul=rr,ny=Do,JL=ls,XL=ji,zs=Ut,QL=new GL.ContainerModule(function(t,e,n){zs.configureCommand({bind:t,isBound:n},ul.CenterCommand),zs.configureCommand({bind:t,isBound:n},ul.FitToScreenCommand),zs.configureCommand({bind:t,isBound:n},ny.SetViewportCommand),zs.configureCommand({bind:t,isBound:n},ny.GetViewportCommand),t(cl.TYPES.KeyListener).to(ul.CenterKeyboardListener),t(cl.TYPES.MouseListener).to(JL.ScrollMouseListener),t(cl.TYPES.MouseListener).to(XL.ZoomMouseListener)});Qu.default=QL;var ed={};Object.defineProperty(ed,"__esModule",{value:!0});var eU=fe,tU=Ut,nU=Lu,rU=new eU.ContainerModule(function(t,e,n){tU.configureCommand({bind:t,isBound:n},nU.BringToFrontCommand)});ed.default=rU;var Cn={},Di=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},td=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Cn,"__esModule",{value:!0});var en=fe,Qi=rt,$v=rn,fs=pt,iU=bo,ry=Ci,oU=So,nd=bt,kr=mn,Vv=xu,yt=on,aU=Oi,sU=function(){function t(){}return t.prototype.render=function(e,n,r){var i=this.edgeRouterRegistry.routeAllChildren(e),o="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")";return yt.svg("svg",{"class-sprotty-graph":!0},yt.svg("g",{transform:o},n.renderChildren(e,{edgeRouting:i})))},Qt([en.inject(kr.EdgeRouterRegistry),td("design:type",kr.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=Qt([en.injectable()],t),t}();Cn.SGraphView=sU;var Hv=function(t){Di(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){var o=this.edgeRouterRegistry.route(n,i);return o.length===0?this.renderDanglingEdge("Cannot compute route",n,r):this.isVisible(n,o,r)?yt.svg("g",{"class-sprotty-edge":!0,"class-mouseover":n.hoverFeedback},this.renderLine(n,o,r,i),this.renderAdditionals(n,o,r),r.renderChildren(n,{route:o})):n.children.length===0?void 0:yt.svg("g",null,r.renderChildren(n,{route:o}))},e.prototype.renderLine=function(n,r,i,o){for(var a=r[0],c="M "+a.x+","+a.y,s=1;s<r.length;s++){var u=r[s];c+=" L "+u.x+","+u.y}return yt.svg("path",{d:c})},e.prototype.renderAdditionals=function(n,r,i){return[]},e.prototype.renderDanglingEdge=function(n,r,i){return yt.svg("text",{"class-sprotty-edge-dangling":!0,title:n},"?")},Qt([en.inject(kr.EdgeRouterRegistry),td("design:type",kr.EdgeRouterRegistry)],e.prototype,"edgeRouterRegistry",void 0),e=Qt([en.injectable()],e),e}(Vv.RoutableView);Cn.PolylineEdgeView=Hv;var Kv=function(t){Di(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.jumpOffsetBefore=5,n.jumpOffsetAfter=5,n.skipOffsetBefore=3,n.skipOffsetAfter=2,n}return e.prototype.renderLine=function(n,r,i,o){for(var a="",c=0;c<r.length;c++){var s=r[c];c===0&&(a="M "+s.x+","+s.y),ry.isIntersectingRoutedPoint(s)&&(a+=this.intersectionPath(n,r,s,o)),c!==0&&(a+=" L "+s.x+","+s.y)}return yt.svg("path",{d:a})},e.prototype.intersectionPath=function(n,r,i,o){for(var a="",c=0,s=i.intersections.sort(ry.BY_X_THEN_Y);c<s.length;c++){var u=s[c],d=this.getOtherLineSegment(n,u,o);if(d!==void 0){var f=this.getLineSegment(n,u,o,r),_=u.intersectionPoint;Math.abs(f.slopeOrMax)<Math.abs(d.slopeOrMax)?a+=this.createJumpPath(_,f):a+=this.createSkipPath(_,f)}}return a},e.prototype.getOtherLineSegment=function(n,r,i){var o=r.routable1===n.id?r.routable2:r.routable1,a=n.index.getById(o);if(a instanceof nd.SRoutableElement)return this.getLineSegment(a,r,i)},e.prototype.getLineSegment=function(n,r,i,o){var a=o||this.edgeRouterRegistry.route(n,i),c=r.routable1===n.id?r.segmentIndex1:r.segmentIndex2;return new aU.PointToPointLine(a[c],a[c+1])},e.prototype.createJumpPath=function(n,r){var i=Qi.Point.shiftTowards(n,r.p1,this.jumpOffsetBefore),o=Qi.Point.shiftTowards(n,r.p2,this.jumpOffsetAfter),a=r.p1.x<r.p2.x?1:0;return" L "+i.x+","+i.y+" A 1,1 0,0 "+a+" "+o.x+","+o.y},e.prototype.createSkipPath=function(n,r){var i,o;n.y<r.p1.y?(i=-this.skipOffsetBefore,o=this.jumpOffsetAfter+this.skipOffsetAfter):(i=this.jumpOffsetBefore+this.skipOffsetAfter,o=-this.skipOffsetBefore);var a=Qi.Point.shiftTowards(n,r.p1,i),c=Qi.Point.shiftTowards(n,r.p2,o);return" L "+a.x+","+a.y+" M "+c.x+","+c.y},e=Qt([en.injectable()],e),e}(Hv);Cn.JumpingPolylineEdgeView=Kv;var cU=function(t){Di(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.skipOffsetBefore=3,n.skipOffsetAfter=3,n}return e.prototype.createJumpPath=function(n,r){return""},e.prototype.createSkipPath=function(n,r){var i=Qi.Point.shiftTowards(n,r.p1,this.skipOffsetBefore),o=Qi.Point.shiftTowards(n,r.p2,this.skipOffsetAfter);return" L "+i.x+","+i.y+" M "+o.x+","+o.y},e=Qt([en.injectable()],e),e}(Kv);Cn.PolylineEdgeViewWithGapsOnIntersections=cU;var uU=function(t){Di(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){var o=this.edgeRouterRegistry.route(n,i);return o.length===0?this.renderDanglingEdge("Cannot compute route",n,r):this.isVisible(n,o,r)?yt.svg("g",{"class-sprotty-edge":!0,"class-mouseover":n.hoverFeedback},this.renderLine(n,o,r,i),this.renderAdditionals(n,o,r),r.renderChildren(n,{route:o})):n.children.length===0?void 0:yt.svg("g",null,r.renderChildren(n,{route:o}))},e.prototype.renderLine=function(n,r,i,o){var a="";if(r.length>=4){a+=this.buildMainSegment(r);var c=r.length-4;if(c>0&&c%3===0)for(var s=4;s<r.length;s+=3)a+=this.addSpline(r,s)}return yt.svg("path",{d:a})},e.prototype.buildMainSegment=function(n){var r=n[0],i=n[1],o=n[2],a=n[3];return"M"+r.x+","+r.y+" C"+i.x+","+i.y+" "+o.x+","+o.y+" "+a.x+","+a.y},e.prototype.addSpline=function(n,r){var i=n[r+1],o=n[r+2];return" S"+i.x+","+i.y+" "+o.x+","+o.y},e.prototype.renderAdditionals=function(n,r,i){return[]},e.prototype.renderDanglingEdge=function(n,r,i){return yt.svg("text",{"class-sprotty-edge-dangling":!0,title:n},"?")},Qt([en.inject(kr.EdgeRouterRegistry),td("design:type",kr.EdgeRouterRegistry)],e.prototype,"edgeRouterRegistry",void 0),e=Qt([en.injectable()],e),e}(Vv.RoutableView);Cn.BezierCurveEdgeView=uU;var L_=function(){function t(){this.minimalPointDistance=10}return t.prototype.render=function(e,n,r){if(r&&r.route&&e.parent instanceof nd.SRoutableElement){var i=this.edgeRouterRegistry.get(e.parent.routerKind),o=r.route===void 0?this.edgeRouterRegistry.route(e.parent,r):r.route,a=i.getHandlePosition(e.parent,o,e);if(a!==void 0){var c=yt.svg("circle",{"class-sprotty-routing-handle":!0,"class-selected":e.selected,"class-mouseover":e.hoverFeedback,cx:a.x,cy:a.y,r:this.getRadius()});return fs.setAttr(c,"data-kind",e.kind),c}}return yt.svg("g",null)},t.prototype.getRadius=function(){return 7},Qt([en.inject(kr.EdgeRouterRegistry),td("design:type",kr.EdgeRouterRegistry)],t.prototype,"edgeRouterRegistry",void 0),t=Qt([en.injectable()],t),t}();Cn.SRoutingHandleView=L_;var dU=function(t){Di(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){if(!(!oU.isEdgeLayoutable(n)&&!this.isVisible(n,r))){var i=yt.svg("text",{"class-sprotty-label":!0},n.text),o=$v.getSubType(n);return o&&fs.setAttr(i,"class",o),i}},e=Qt([en.injectable()],e),e}(iU.ShapeView);Cn.SLabelView=dU;var lU=function(){function t(){}return t.prototype.render=function(e,n,r){var i="translate("+e.bounds.x+", "+e.bounds.y+")",o=yt.svg("g",{transform:i,"class-sprotty-comp":"{true}"},n.renderChildren(e)),a=$v.getSubType(e);return a&&fs.setAttr(o,"class",a),o},t=Qt([en.injectable()],t),t}();Cn.SCompartmentView=lU;var fU=function(t){Di(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(i){var o=i.route;if(o&&n.parent instanceof nd.SRoutableElement){var a=this.edgeRouterRegistry.get(n.parent.routerKind),c=a.getHandlePosition(n.parent,o,n);if(c!==void 0){var s="translate("+c.x+", "+c.y+")",u=-5.5,d=5.5,f=n.kind==="bezier-add"?"+":"-",_=yt.svg("g",{transform:s,"class-sprotty-routing-handle":!0,"class-selected":n.selected,"class-mouseover":n.hoverFeedback},yt.svg("circle",{r:this.getRadius()}),yt.svg("text",{x:u,y:d,"attrs-text-align":"middle","style-font-family":"monospace","style-pointer-events":"none","style-fill":"white"},f));return fs.setAttr(_,"data-kind",n.kind),_}}}return yt.svg("g",null)},e=Qt([en.injectable()],e),e}(L_);Cn.SBezierCreateHandleView=fU;var _U=function(t){Di(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){if(i){var o=i.route;if(o&&n.parent instanceof nd.SRoutableElement){var a=this.edgeRouterRegistry.get(n.parent.routerKind),c=a.getHandlePosition(n.parent,o,n);if(c!==void 0){for(var s=void 0,u=0;u<o.length;u++){var d=o[u];if(d.kind===c.kind&&d.pointIndex===c.pointIndex){n.kind==="bezier-control-before"?s=o[u+1]:s=o[u-1];break}}var f=void 0;if(s){var _="M "+c.x+", "+c.y+" L "+s.x+", "+s.y;f=yt.svg("g",{"class-sprotty-routing-handle":!0,"class-selected":n.selected,"class-mouseover":n.hoverFeedback},yt.svg("path",{d:_,stroke:"grey","style-stroke-width":"2px"}),yt.svg("circle",{cx:c.x,cy:c.y,r:this.getRadius()}))}else f=yt.svg("circle",{"class-sprotty-routing-handle":!0,"class-selected":n.selected,"class-mouseover":n.hoverFeedback,cx:c.x,cy:c.y,r:this.getRadius()});return fs.setAttr(f,"data-kind",n.kind),f}}}return yt.svg("g",null)},e=Qt([en.injectable()],e),e}(L_);Cn.SBezierControlHandleView=_U;var U_={},rd={};Object.defineProperty(rd,"__esModule",{value:!0});var pU=fe,hU=Ut,Zs=Se,gU=ss,yU=zr,mU=new pU.ContainerModule(function(t,e,n){t(Zs.TYPES.ModelSourceProvider).toProvider(function(r){return function(){return new Promise(function(i){i(r.container.get(Zs.TYPES.ModelSource))})}}),hU.configureCommand({bind:t,isBound:n},gU.CommitModelCommand),t(Zs.TYPES.IActionHandlerInitializer).toService(Zs.TYPES.ModelSource),t(yU.ComputedBoundsApplicator).toSelf().inSingletonScope()});rd.default=mU;var It=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(U_,"__esModule",{value:!0});var vU=It(gu),bU=It(rd),PU=It(ku),wU=It(Fu),RU=It(Bu),SU=It(Yu),EU=It($u),AU=It(Na),dl=Oo,OU=It(Vu),IU=It(Hu),jU=It(Ku),CU=It(zu),MU=It(Zu),xU=It(qu),DU=It(Wu),TU=It(Gu),LU=It(Ju),UU=It(Xu),NU=It(Qu),kU=It(ed);function FU(t,e){var n=[vU.default,bU.default,PU.default,wU.default,RU.default,SU.default,EU.default,dl.edgeEditModule,AU.default,OU.default,IU.default,jU.default,CU.default,dl.labelEditModule,dl.labelEditUiModule,MU.default,xU.default,DU.default,TU.default,LU.default,UU.default,NU.default,kU.default];if(e&&e.exclude)for(var r=0,i=e.exclude;r<i.length;r++){var o=i[r],a=n.indexOf(o);a>=0&&n.splice(a,1)}t.load.apply(t,n)}U_.loadDefaultModules=FU;var id={},N_={};Object.defineProperty(N_,"__esModule",{value:!0});var _c=Wa;function BU(t){var e={},n=function(a,c){var s;if(c!=="style"&&c!=="class"){var u=KU(t[c]);a?a[c]=u:a=(s={},s[c]=u,s)}return a},r=Object.keys(t).reduce(n,null);r&&(e.attrs=r);var i=YU(t);i&&(e.style=i);var o=$U(t);return o&&(e.class=o),e}function YU(t){var e=function(n,r){var i,o=r.split(":"),a=VU(o[0].trim());if(a){var c=o[1].replace("!important","").trim();n?n[a]=c:n=(i={},i[a]=c,i)}return n};try{return t.style.split(";").reduce(e,null)}catch{return null}}function $U(t){var e=function(n,r){var i;return r=r.trim(),r&&(n?n[r]=!0:n=(i={},i[r]=!0,i)),n};try{return t.class.split(" ").reduce(e,null)}catch{return null}}function VU(t){t=t.replace(/-(\w)/g,function(r,i){return i.toUpperCase()});var e=t.charAt(0).toLowerCase();return""+e+t.substring(1)}var HU=new RegExp("&[a-z0-9#]+;","gi"),Zi=null;function KU(t){return Zi||(Zi=document.createElement("div")),t.replace(HU,function(e){return Zi===null?"":(Zi.innerHTML=e,Zi.textContent===null?"":Zi.textContent)})}function zU(t,e){var n=t,r=null,i=[],o=function(s){var u=s.firstChild;u!==null&&(r=s),n=u};for(e(n,r),o(n);;){for(;n;)i.push(n),e(n,r),o(n);var a=i.pop();if(n=a||null,!i.length)break;if(r=i[i.length-1],n){var c=n.nextSibling;c==null&&(r=i[i.length-1]),n=c}}}var Ra=null,ll=new Map,pc=!1;function ZU(t,e){var n;switch(e!==null&&(n=ll.get(e)),t==null?void 0:t.nodeType){case 1:{if(n===void 0)return;n.children=n.children?n.children:[];for(var r=n.children,i=t.attributes,o={},a=0;a<i.length;a++){var c=i.item(a);c&&(o[c.name]=c.value)}var s=_c.h(t.nodeName,BU(o));r.push(s),ll.set(t,s);break}case 3:{var u=t.textContent;if(u!==null&&n!==void 0){n.children=n.children?n.children:[];var r=n.children,d=r.length>0?r[r.length-1]:null;!pc&&typeof d!="string"&&d!==null&&d.sel===void 0?d.text=d.text+u:r.push(_c.vnode(void 0,void 0,void 0,u,void 0)),pc=!1}break}case 8:{pc=!0;break}case 9:{Ra=_c.vnode(void 0,void 0,[],void 0,void 0),ll.set(t,Ra);break}}}function qU(t){var e=t==null?void 0:t.children;return typeof e=="undefined"?null:e.length===1&&typeof e[0]!="string"?e[0]:null}function WU(t){var e,n,r=new window.DOMParser;if(r===void 0||t===void 0||t==="")return null;var i=r.parseFromString(t,"application/xml");if(((e=i==null?void 0:i.firstChild)===null||e===void 0?void 0:e.nodeName)==="parsererror"){var o=""+((n=i==null?void 0:i.firstChild)===null||n===void 0?void 0:n.textContent);return _c.h("parsererror",[o])}return pc=!1,Ra=null,zU(i,ZU),Ra===null?null:qU(Ra)}N_.default=WU;var Mn={},vr=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Mn,"__esModule",{value:!0});var Sa=rt,zv=qe,of=ft,GU=Hr,JU=an,_s=sn,ps=mr,XU=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ps.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(_s.SNode);Mn.CircularNode=XU;var QU=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ps.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(_s.SNode);Mn.RectangularNode=QU;var e3=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ps.DIAMOND_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(_s.SNode);Mn.DiamondNode=e3;var t3=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ps.ELLIPTIC_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(_s.SPort);Mn.CircularPort=t3;var n3=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"anchorKind",{get:function(){return ps.RECTANGULAR_ANCHOR_KIND},enumerable:!0,configurable:!0}),e}(_s.SPort);Mn.RectangularPort=n3;var r3=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.classes=[],n}return e}(zv.SModelRoot);Mn.HtmlRoot=r3;var Zv=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(zv.SChildElement);Mn.PreRenderedElement=Zv;var qv=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.position=Sa.Point.ORIGIN,n.size=Sa.Dimension.EMPTY,n.selected=!1,n.alignment=Sa.Point.ORIGIN,n}return Object.defineProperty(e.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(n){this.position={x:n.x,y:n.y},this.size={width:n.width,height:n.height}},enumerable:!0,configurable:!0}),e.DEFAULT_FEATURES=[GU.moveFeature,of.boundsFeature,JU.selectFeature,of.alignFeature],e}(Zv);Mn.ShapedPreRenderedElement=qv;var i3=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"bounds",{get:function(){return Sa.Dimension.isValid(this.size)?{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}:of.isBoundsAware(this.parent)?{x:this.position.x,y:this.position.y,width:this.parent.bounds.width,height:this.parent.bounds.height}:Sa.Bounds.EMPTY},enumerable:!0,configurable:!0}),e}(qv);Mn.ForeignObjectElement=i3;var o3=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wv=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},a3=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(id,"__esModule",{value:!0});var iy=on,Gv=fe,Jv=a3(N_),af=pt,s3=bo,c3=Mn,u3=function(t){o3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){if(!(n instanceof c3.ShapedPreRenderedElement&&!this.isVisible(n,r))){var i=Jv.default(n.code);if(i!==null)return this.correctNamespace(i),i}},e.prototype.correctNamespace=function(n){(n.sel==="svg"||n.sel==="g")&&af.setNamespace(n,"http://www.w3.org/2000/svg")},e=Wv([Gv.injectable()],e),e}(s3.ShapeView);id.PreRenderedView=u3;var d3=function(){function t(){}return t.prototype.render=function(e,n){var r=Jv.default(e.code);if(r!==null){var i=iy.svg("g",null,iy.svg("foreignObject",{requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",height:e.bounds.height,width:e.bounds.width,x:0,y:0},r),n.renderChildren(e));return af.setAttr(i,"class",e.type),af.setNamespace(r,e.namespace),i}},t=Wv([Gv.injectable()],t),t}();id.ForeignObjectView=d3;var k_={},l3=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(k_,"__esModule",{value:!0});var f3=on,_3=fe,p3=pt,h3=function(){function t(){}return t.prototype.render=function(e,n){for(var r=f3.html("div",null,n.renderChildren(e)),i=0,o=e.classes;i<o.length;i++){var a=o[i];p3.setClass(r,a,!0)}return r},t=l3([_3.injectable()],t),t}();k_.HtmlRootView=h3;var Ti={},F_={exports:{}};(function(t,e){(function(n,r){r()})(w,function(){function n(u,d){return typeof d=="undefined"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,f){var _=new XMLHttpRequest;_.open("GET",u),_.responseType="blob",_.onload=function(){s(_.response,d,f)},_.onerror=function(){console.error("could not download file")},_.send()}function i(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof w=="object"&&w.global===w?w:void 0,c=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,d,f){var _=a.URL||a.webkitURL,y=document.createElement("a");d=d||u.name||"download",y.download=d,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?o(y):i(y.href)?r(u,d,f):o(y,y.target="_blank")):(y.href=_.createObjectURL(u),setTimeout(function(){_.revokeObjectURL(y.href)},4e4),setTimeout(function(){o(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,f){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),d);else if(i(u))r(u,d,f);else{var _=document.createElement("a");_.href=u,_.target="_blank",setTimeout(function(){o(_)})}}:function(u,d,f,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,f);var y=u.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||y&&g||c)&&typeof FileReader!="undefined"){var m=new FileReader;m.onloadend=function(){var p=m.result;p=v?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=p:location=p,_=null},m.readAsDataURL(u)}else{var h=a.URL||a.webkitURL,P=h.createObjectURL(u);_?_.location=P:location.href=P,_=null,setTimeout(function(){h.revokeObjectURL(P)},4e4)}});a.saveAs=s.saveAs=s,t.exports=s})})(F_);var g3=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ea=w&&w.__assign||function(){return Ea=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ea.apply(this,arguments)},fl=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},oy=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ti,"__esModule",{value:!0});var y3=F_.exports,_l=fe,Cr=St,m3=gn,ay=wi,v3=Se,pl=tr,b3=Ii,P3=Cu,sy=xo,hl=zr;function Xv(t){return m3.hasOwnProperty(t,"action")}Ti.isActionMessage=Xv;var sf=function(){function t(){this.kind=t.KIND}return t.KIND="serverStatus",t}();Ti.ServerStatusAction=sf;var cy="__receivedFromServer",Qv=function(t){g3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.currentRoot={type:"NONE",id:"ROOT"},n}return e.prototype.initialize=function(n){t.prototype.initialize.call(this,n),n.register(Cr.ComputedBoundsAction.KIND,this),n.register(pl.RequestBoundsCommand.KIND,this),n.register(Cr.RequestPopupModelAction.KIND,this),n.register(Cr.CollapseExpandAction.KIND,this),n.register(Cr.CollapseExpandAllAction.KIND,this),n.register(P3.OpenAction.KIND,this),n.register(sf.KIND,this),this.clientId||(this.clientId=this.viewerOptions.baseDiv)},e.prototype.handle=function(n){var r=this.handleLocally(n);r&&this.forwardToServer(n)},e.prototype.forwardToServer=function(n){var r={clientId:this.clientId,action:n};this.logger.log(this,"sending",r),this.sendMessage(r)},e.prototype.messageReceived=function(n){var r=this,i=typeof n=="string"?JSON.parse(n):n;Xv(i)&&i.action?(!i.clientId||i.clientId===this.clientId)&&(i.action[cy]=!0,this.logger.log(this,"receiving",i),this.actionDispatcher.dispatch(i.action).then(function(){r.storeNewModel(i.action)})):this.logger.error(this,"received data is not an action message",i)},e.prototype.handleLocally=function(n){switch(this.storeNewModel(n),n.kind){case Cr.ComputedBoundsAction.KIND:return this.handleComputedBounds(n);case Cr.RequestModelAction.KIND:return this.handleRequestModel(n);case pl.RequestBoundsCommand.KIND:return!1;case b3.ExportSvgAction.KIND:return this.handleExportSvgAction(n);case sf.KIND:return this.handleServerStateAction(n)}return!n[cy]},e.prototype.storeNewModel=function(n){if(n.kind===ay.SetModelCommand.KIND||n.kind===sy.UpdateModelCommand.KIND||n.kind===pl.RequestBoundsCommand.KIND){var r=n.newRoot;r&&(this.currentRoot=r,(n.kind===ay.SetModelCommand.KIND||n.kind===sy.UpdateModelCommand.KIND)&&(this.lastSubmittedModelType=r.type))}},e.prototype.handleRequestModel=function(n){var r=Ea({needsClientLayout:this.viewerOptions.needsClientLayout,needsServerLayout:this.viewerOptions.needsServerLayout},n.options),i=Ea(Ea({},n),{options:r});return this.forwardToServer(i),!1},e.prototype.handleComputedBounds=function(n){if(this.viewerOptions.needsServerLayout)return!0;var r=this.currentRoot;return this.computedBoundsApplicator.apply(r,n),r.type===this.lastSubmittedModelType?this.actionDispatcher.dispatch(Cr.UpdateModelAction.create(r)):this.actionDispatcher.dispatch(Cr.SetModelAction.create(r)),this.lastSubmittedModelType=r.type,!1},e.prototype.handleExportSvgAction=function(n){var r=new Blob([n.svg],{type:"text/plain;charset=utf-8"});return y3.saveAs(r,"diagram.svg"),!1},e.prototype.handleServerStateAction=function(n){return!1},e.prototype.commitModel=function(n){var r=this.currentRoot;return this.currentRoot=n,r},fl([_l.inject(v3.TYPES.ILogger),oy("design:type",Object)],e.prototype,"logger",void 0),fl([_l.inject(hl.ComputedBoundsApplicator),oy("design:type",hl.ComputedBoundsApplicator)],e.prototype,"computedBoundsApplicator",void 0),e=fl([_l.injectable()],e),e}(hl.ModelSource);Ti.DiagramServerProxy=Qv;Ti.DiagramServer=Qv;var B_={},w3=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ca=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},qs=w&&w.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Ws=w&&w.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},Gs=w&&w.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(B_,"__esModule",{value:!0});var R3=F_.exports,oi=fe,Tn=St,uy=rn,gl=Se,S3=tn,E3=Do,A3=Ii,O3=xi,I3=Du,yl=zr,j3=function(t){w3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.currentRoot=S3.EMPTY_ROOT,n}return Object.defineProperty(e.prototype,"model",{get:function(){return this.currentRoot},set:function(n){this.setModel(n)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(n){t.prototype.initialize.call(this,n),n.register(Tn.ComputedBoundsAction.KIND,this),n.register(Tn.RequestPopupModelAction.KIND,this)},e.prototype.setModel=function(n){return this.currentRoot=n,this.submitModel(n,!1)},e.prototype.commitModel=function(n){var r=this.currentRoot;return this.currentRoot=n,r},e.prototype.updateModel=function(n){return n===void 0?this.submitModel(this.currentRoot,!0):(this.currentRoot=n,this.submitModel(n,!0))},e.prototype.getSelection=function(){return Ws(this,void 0,void 0,function(){var n,r;return Gs(this,function(i){switch(i.label){case 0:return[4,this.actionDispatcher.request(I3.GetSelectionAction.create())];case 1:return n=i.sent(),r=[],this.gatherSelectedElements(this.currentRoot,new Set(n.selectedElementsIDs),r),[2,r]}})})},e.prototype.gatherSelectedElements=function(n,r,i){if(r.has(n.id)&&i.push(n),n.children)for(var o=0,a=n.children;o<a.length;o++){var c=a[o];this.gatherSelectedElements(c,r,i)}},e.prototype.getViewport=function(){return Ws(this,void 0,void 0,function(){var n;return Gs(this,function(r){switch(r.label){case 0:return[4,this.actionDispatcher.request(E3.GetViewportAction.create())];case 1:return n=r.sent(),[2,{scroll:n.viewport.scroll,zoom:n.viewport.zoom,canvasBounds:n.canvasBounds}]}})})},e.prototype.submitModel=function(n,r,i){return Ws(this,void 0,void 0,function(){var o,a;return Gs(this,function(c){switch(c.label){case 0:return this.viewerOptions.needsClientLayout?[4,this.actionDispatcher.request(Tn.RequestBoundsAction.create(n))]:[3,3];case 1:return o=c.sent(),a=this.computedBoundsApplicator.apply(this.currentRoot,o),[4,this.doSubmitModel(n,!0,i,a)];case 2:return c.sent(),[3,5];case 3:return[4,this.doSubmitModel(n,r,i)];case 4:c.sent(),c.label=5;case 5:return[2]}})})},e.prototype.doSubmitModel=function(n,r,i,o){return Ws(this,void 0,void 0,function(){var a,c,s,u,d;return Gs(this,function(f){switch(f.label){case 0:if(this.layoutEngine===void 0)return[3,6];f.label=1;case 1:return f.trys.push([1,5,,6]),a=this.layoutEngine.layout(n,o),a instanceof Promise?[4,a]:[3,3];case 2:return n=f.sent(),[3,4];case 3:a!==void 0&&(n=a),f.label=4;case 4:return[3,6];case 5:return c=f.sent(),this.logger.error(this,c.toString(),c.stack),[3,6];case 6:return s=this.lastSubmittedModelType,this.lastSubmittedModelType=n.type,i&&i.kind===Tn.RequestModelAction.KIND&&i.requestId?(u=i,[4,this.actionDispatcher.dispatch(Tn.SetModelAction.create(n,u.requestId))]):[3,8];case 7:return f.sent(),[3,12];case 8:return r&&n.type===s?(d=Array.isArray(r)?r:n,[4,this.actionDispatcher.dispatch(Tn.UpdateModelAction.create(d,{animate:!0,cause:i}))]):[3,10];case 9:return f.sent(),[3,12];case 10:return[4,this.actionDispatcher.dispatch(Tn.SetModelAction.create(n))];case 11:f.sent(),f.label=12;case 12:return[2]}})})},e.prototype.applyMatches=function(n){var r=this.currentRoot;return O3.applyMatches(r,n),this.submitModel(r,n)},e.prototype.addElements=function(n){for(var r=[],i=0,o=n;i<o.length;i++){var a=o[i],c=a;c.element!==void 0&&c.parentId!==void 0?r.push({right:c.element,rightParentId:c.parentId}):c.id!==void 0&&r.push({right:c,rightParentId:this.currentRoot.id})}return this.applyMatches(r)},e.prototype.removeElements=function(n){var r=[],i=new uy.SModelIndex;i.add(this.currentRoot);for(var o=0,a=n;o<a.length;o++){var c=a[o],s=c;if(s.elementId!==void 0&&s.parentId!==void 0){var u=i.getById(s.elementId);u!==void 0&&r.push({left:u,leftParentId:s.parentId})}else{var u=i.getById(s);u!==void 0&&r.push({left:u,leftParentId:this.currentRoot.id})}}return this.applyMatches(r)},e.prototype.handle=function(n){switch(n.kind){case Tn.RequestModelAction.KIND:this.handleRequestModel(n);break;case Tn.ComputedBoundsAction.KIND:this.computedBoundsApplicator.apply(this.currentRoot,n);break;case Tn.RequestPopupModelAction.KIND:this.handleRequestPopupModel(n);break;case A3.ExportSvgAction.KIND:this.handleExportSvgAction(n);break}},e.prototype.handleRequestModel=function(n){this.submitModel(this.currentRoot,!1,n)},e.prototype.handleRequestPopupModel=function(n){if(this.popupModelProvider!==void 0){var r=uy.findElement(this.currentRoot,n.elementId),i=this.popupModelProvider.getPopupModel(n,r);i!==void 0&&(i.canvasBounds=n.bounds,this.actionDispatcher.dispatch(Tn.SetPopupModelAction.create(i,n.requestId)))}},e.prototype.handleExportSvgAction=function(n){var r=new Blob([n.svg],{type:"text/plain;charset=utf-8"});R3.saveAs(r,"diagram.svg")},ca([oi.inject(gl.TYPES.ILogger),qs("design:type",Object)],e.prototype,"logger",void 0),ca([oi.inject(yl.ComputedBoundsApplicator),qs("design:type",yl.ComputedBoundsApplicator)],e.prototype,"computedBoundsApplicator",void 0),ca([oi.inject(gl.TYPES.IPopupModelProvider),oi.optional(),qs("design:type",Object)],e.prototype,"popupModelProvider",void 0),ca([oi.inject(gl.TYPES.IModelLayoutEngine),oi.optional(),qs("design:type",Object)],e.prototype,"layoutEngine",void 0),e=ca([oi.injectable()],e),e}(yl.ModelSource);B_.LocalModelSource=j3;var eb={};(function(t){var e=w&&w.__assign||function(){return e=Object.assign||function(d){for(var f,_=1,y=arguments.length;_<y;_++){f=arguments[_];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(d[g]=f[g])}return d},e.apply(this,arguments)},n=w&&w.__decorate||function(d,f,_,y){var g=arguments.length,v=g<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,_):y,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,f,_,y);else for(var h=d.length-1;h>=0;h--)(m=d[h])&&(v=(g<3?m(v):g>3?m(f,_,v):m(f,_))||v);return g>3&&v&&Object.defineProperty(f,_,v),v},r=w&&w.__metadata||function(d,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,f)},i=w&&w.__spreadArrays||function(){for(var d=0,f=0,_=arguments.length;f<_;f++)d+=arguments[f].length;for(var y=Array(d),g=0,f=0;f<_;f++)for(var v=arguments[f],m=0,h=v.length;m<h;m++,g++)y[g]=v[m];return y};Object.defineProperty(t,"__esModule",{value:!0});var o=fe,a=yu,c=Se,s;(function(d){d.KIND="logging";function f(_){return e({kind:d.KIND},_)}d.create=f})(s=t.LoggingAction||(t.LoggingAction={}));var u=function(){function d(){}return d.prototype.error=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];this.logLevel>=a.LogLevel.error&&this.forward(f,_,a.LogLevel.error,y)},d.prototype.warn=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];this.logLevel>=a.LogLevel.warn&&this.forward(f,_,a.LogLevel.warn,y)},d.prototype.info=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];this.logLevel>=a.LogLevel.info&&this.forward(f,_,a.LogLevel.info,y)},d.prototype.log=function(f,_){for(var y=[],g=2;g<arguments.length;g++)y[g-2]=arguments[g];if(this.logLevel>=a.LogLevel.log)try{var v=typeof f=="object"?f.constructor.name:String(f);console.log.apply(f,i([v+": "+_],y))}catch{}},d.prototype.forward=function(f,_,y,g){var v=new Date,m=s.create({message:_,severity:a.LogLevel[y],time:v.toLocaleTimeString(),caller:typeof f=="object"?f.constructor.name:String(f),params:g.map(function(h){return JSON.stringify(h)})});this.modelSourceProvider().then(function(h){try{h.handle(m)}catch(P){try{console.log.apply(f,[_,m,P])}catch{}}})},n([o.inject(c.TYPES.ModelSourceProvider),r("design:type",Function)],d.prototype,"modelSourceProvider",void 0),n([o.inject(c.TYPES.LogLevel),r("design:type",Number)],d.prototype,"logLevel",void 0),d=n([o.injectable()],d),d}();t.ForwardingLogger=u})(eb);var od={},C3=w&&w.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),M3=w&&w.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(od,"__esModule",{value:!0});var x3=fe,D3=Ti,tb=function(t){C3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.listen=function(n){var r=this;n.addEventListener("message",function(i){r.messageReceived(i.data)}),n.addEventListener("error",function(i){r.logger.error(r,"error event received",i)}),this.webSocket=n},e.prototype.disconnect=function(){this.webSocket&&(this.webSocket.close(),this.webSocket=void 0)},e.prototype.sendMessage=function(n){if(this.webSocket)this.webSocket.send(JSON.stringify(n));else throw new Error("WebSocket is not connected")},e=M3([x3.injectable()],e),e}(D3.DiagramServerProxy);od.WebSocketDiagramServerProxy=tb;od.WebSocketDiagramServer=tb;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});function T3(t,e,n){return{red:t,green:e,blue:n}}hs.rgb=T3;function L3(t){return"rgb("+t.red+","+t.green+","+t.blue+")"}hs.toSVG=L3;var U3=function(){function t(e){this.stops=e}return t.prototype.getColor=function(e){e=Math.max(0,Math.min(.99999999,e));var n=Math.floor(e*this.stops.length);return this.stops[n]},t}();hs.ColorMap=U3;(function(t){function e(U){for(var C in U)t.hasOwnProperty(C)||(t[C]=U[C])}var n=w&&w.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(t,"__esModule",{value:!0}),e($n),e(Fa),e(Yr),e(cu),e(bi),e(yr),e(uu),e(st),e(Ut),e(Kf),e(du),e(Ka),e(wi),e(tn),e(gt),e(qe),e(vo),e(lu),e(za),e(Za),e(yn),e(Nt),e(qa),e(jn),e(_u),e(Gf),e($r),e(hu),e(pt),e(Se);var r=n(gu);t.defaultModule=r.default,e(tr),e(Ga),e(Vr),e(ft),e(mu),e(vu),e(bu),e(bo),e(Xa),e(Qa),e(wo),e(es),e(t_),e(Ro),e(Pu),e(Na),e(wu),e(So),e(Sv),e(r_),e(Oo),e(Si),e(Su),e(as),e(cs),e(Eo),e(Eu),e(Io),e(Au),e(s_),e(c_),e(Ru),e(Ii),e(jo),e(Po),e(u_),e(Ei),e(Ou),e(Iu),e(ju),e(Ci),e(Vn),e(Hr),e(us),e(d_),e(Qf),e(Cu),e(l_),e(Zr),e(f_),e(mr),e(rs),e(Co),e(Mu),e(Mo),e(ds),e(bt),e(Mi),e(Ao),e(mn),e(xu),e(an),e(Du),e(au),e(xi),e(xo),e(rr),e(nr),e(ls),e(ts),e(Do),e(ji),e(Lu);var i=n(x_);t.graphModule=i.default;var o=n(ku);t.boundsModule=o.default;var a=n(Fu);t.buttonModule=a.default;var c=n(Bu);t.commandPaletteModule=c.default;var s=n(Yu);t.contextMenuModule=s.default;var u=n($u);t.decorationModule=u.default;var d=n(D_);t.edgeIntersectionModule=d.default;var f=n(Na);t.edgeLayoutModule=f.default;var _=n(Vu);t.expandModule=_.default;var y=n(Hu);t.exportModule=y.default;var g=n(Ku);t.fadeModule=g.default;var v=n(zu);t.hoverModule=v.default;var m=n(Zu);t.moveModule=m.default;var h=n(qu);t.openModule=h.default;var P=n(Wu);t.routingModule=P.default;var p=n(Gu);t.selectModule=p.default;var R=n(Ju);t.undoRedoModule=R.default;var O=n(Xu);t.updateModule=O.default;var A=n(Qu);t.viewportModule=A.default;var I=n(ed);t.zorderModule=I.default,e(Nu),e(sn),e(Cn),e(U_),e(id),e(k_),e(on),e(Mn),e(Kr),e(ss),e(Ti),e(B_),e(eb),e(zr),e(od);var j=n(rd);t.modelSourceModule=j.default,e(qt),e(e_),e(hs),e(Oi),e(Pi),e(yu),e(nn)})(We);var eo={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={3915:(a,c,s)=>{a.exports=s(3366)},2010:(a,c,s)=>{a.exports=s(2038)},4559:(a,c,s)=>{a.exports=s(9842)},1884:(a,c,s)=>{a.exports=s(4263)},9837:(a,c,s)=>{a.exports=s(7757)},7423:(a,c,s)=>{a.exports=s(6970)},5391:(a,c,s)=>{a.exports=s(5838)},5268:(a,c,s)=>{a.exports=s(9053)},6028:(a,c,s)=>{a.exports=s(671)},5157:(a,c,s)=>{a.exports=s(2672)},5407:(a,c,s)=>{a.exports=s(925)},3033:(a,c,s)=>{a.exports=s(8900)},3815:(a,c,s)=>{a.exports=s(9229)},2926:(a,c,s)=>{a.exports=s(995)},1246:(a,c,s)=>{a.exports=s(8730)},3576:(a,c,s)=>{a.exports=s(1066)},5629:(a,c,s)=>{a.exports=s(8531)},337:(a,c,s)=>{a.exports=s(3751)},2250:(a,c,s)=>{a.exports=s(4731)},1022:(a,c,s)=>{a.exports=s(3394)},7093:(a,c,s)=>{a.exports=s(7391)},3933:(a,c,s)=>{a.exports=s(5390)},5534:(a,c,s)=>{a.exports=s(5213)},4215:(a,c,s)=>{a.exports=s(156)},6496:(a,c,s)=>{a.exports=s(7754)},2043:(a,c,s)=>{a.exports=s(6248)},3641:(a,c,s)=>{s(3075);var u=s(2018);a.exports=u("Array").concat},9984:(a,c,s)=>{s(4458);var u=s(2018);a.exports=u("Array").copyWithin},6678:(a,c,s)=>{s(7042);var u=s(2018);a.exports=u("Array").forEach},3147:(a,c,s)=>{s(7670);var u=s(2018);a.exports=u("Array").includes},5197:(a,c,s)=>{s(194);var u=s(2018);a.exports=u("Array").indexOf},5958:(a,c,s)=>{s(5280);var u=s(2018);a.exports=u("Array").lastIndexOf},1001:(a,c,s)=>{s(5313);var u=s(2018);a.exports=u("Array").slice},5441:(a,c,s)=>{s(9177);var u=s(9081);a.exports=u.Date.now},4248:(a,c,s)=>{s(7157);var u=s(2018);a.exports=u("Function").bind},4452:(a,c,s)=>{var u=s(4248),d=Function.prototype;a.exports=function(f){var _=f.bind;return f===d||f instanceof Function&&_===d.bind?u:_}},7543:(a,c,s)=>{var u=s(3641),d=Array.prototype;a.exports=function(f){var _=f.concat;return f===d||f instanceof Array&&_===d.concat?u:_}},4571:(a,c,s)=>{var u=s(9984),d=Array.prototype;a.exports=function(f){var _=f.copyWithin;return f===d||f instanceof Array&&_===d.copyWithin?u:_}},9109:(a,c,s)=>{var u=s(3147),d=s(5520),f=Array.prototype,_=String.prototype;a.exports=function(y){var g=y.includes;return y===f||y instanceof Array&&g===f.includes?u:typeof y=="string"||y===_||y instanceof String&&g===_.includes?d:g}},4825:(a,c,s)=>{var u=s(5197),d=Array.prototype;a.exports=function(f){var _=f.indexOf;return f===d||f instanceof Array&&_===d.indexOf?u:_}},3742:(a,c,s)=>{var u=s(5958),d=Array.prototype;a.exports=function(f){var _=f.lastIndexOf;return f===d||f instanceof Array&&_===d.lastIndexOf?u:_}},1285:(a,c,s)=>{var u=s(1001),d=Array.prototype;a.exports=function(f){var _=f.slice;return f===d||f instanceof Array&&_===d.slice?u:_}},1879:(a,c,s)=>{var u=s(4840),d=String.prototype;a.exports=function(f){var _=f.startsWith;return typeof f=="string"||f===d||f instanceof String&&_===d.startsWith?u:_}},3411:(a,c,s)=>{s(5670);var u=s(9081);a.exports=u.Math.clz32},8159:(a,c,s)=>{s(5098);var u=s(9081);a.exports=u.Math.fround},8410:(a,c,s)=>{s(2556);var u=s(9081);a.exports=u.Math.imul},7209:(a,c,s)=>{s(6554);var u=s(9081);a.exports=u.Math.trunc},2529:(a,c,s)=>{s(8524);var u=s(9081);a.exports=u.Object.assign},5886:(a,c,s)=>{s(7559);var u=s(9081).Object;a.exports=function(d,f){return u.create(d,f)}},6854:(a,c,s)=>{s(6764);var u=s(9081).Object,d=a.exports=function(f,_,y){return u.defineProperty(f,_,y)};u.defineProperty.sham&&(d.sham=!0)},2744:(a,c,s)=>{s(554);var u=s(9081).Object,d=a.exports=function(f,_){return u.getOwnPropertyDescriptor(f,_)};u.getOwnPropertyDescriptor.sham&&(d.sham=!0)},7281:(a,c,s)=>{s(6454),s(2228),s(2575),s(3658),s(4465),s(8359),s(5203),s(8109);var u=s(9081);a.exports=u.Promise},5520:(a,c,s)=>{s(688);var u=s(2018);a.exports=u("String").includes},4840:(a,c,s)=>{s(6525);var u=s(2018);a.exports=u("String").startsWith},1442:(a,c,s)=>{s(3075),s(2575),s(8318),s(5762),s(2181),s(8848),s(3719),s(2362),s(346),s(888),s(909),s(1992),s(8512),s(6165),s(6044),s(4676),s(263),s(3596),s(1227),s(6268);var u=s(9081);a.exports=u.Symbol},1190:(a,c,s)=>{s(2228),s(2575),s(8109),s(2362);var u=s(3379);a.exports=u.f("iterator")},9490:(a,c,s)=>{s(2228),s(2575),s(5124);var u=s(9081);a.exports=u.WeakMap},5213:(a,c,s)=>{var u=s(4731);s(1152),s(8561),s(5543),s(8302),a.exports=u},156:(a,c,s)=>{var u=s(3355);s(8812),s(9085),s(7384),s(4719),s(2994),s(9431),s(4803),a.exports=u},7754:(a,c,s)=>{var u=s(6888);a.exports=u},5222:(a,c,s)=>{var u=s(8307),d=s(7265);a.exports=function(f){if(u(f))return f;throw TypeError(d(f)+" is not a function")}},2736:(a,c,s)=>{var u=s(1775),d=s(7265);a.exports=function(f){if(u(f))return f;throw TypeError(d(f)+" is not a constructor")}},9154:(a,c,s)=>{var u=s(8307);a.exports=function(d){if(typeof d=="object"||u(d))return d;throw TypeError("Can't set "+String(d)+" as a prototype")}},7710:a=>{a.exports=function(){}},8792:a=>{a.exports=function(c,s,u){if(c instanceof s)return c;throw TypeError("Incorrect "+(u?u+" ":"")+"invocation")}},1912:(a,c,s)=>{var u=s(3359);a.exports=function(d){if(u(d))return d;throw TypeError(String(d)+" is not an object")}},8303:(a,c,s)=>{var u=s(2058),d=s(3055),f=s(9876),_=Math.min;a.exports=[].copyWithin||function(y,g){var v=u(this),m=f(v),h=d(y,m),P=d(g,m),p=arguments.length>2?arguments[2]:void 0,R=_((p===void 0?m:d(p,m))-P,m-h),O=1;for(P<h&&h<P+R&&(O=-1,P+=R-1,h+=R-1);R-- >0;)P in v?v[h]=v[P]:delete v[h],h+=O,P+=O;return v}},5621:(a,c,s)=>{var u=s(4206).forEach,d=s(6628)("forEach");a.exports=d?[].forEach:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}},7075:(a,c,s)=>{var u=s(3861),d=s(3055),f=s(9876),_=function(y){return function(g,v,m){var h,P=u(g),p=f(P),R=d(m,p);if(y&&v!=v){for(;p>R;)if((h=P[R++])!=h)return!0}else for(;p>R;R++)if((y||R in P)&&P[R]===v)return y||R||0;return!y&&-1}};a.exports={includes:_(!0),indexOf:_(!1)}},4206:(a,c,s)=>{var u=s(7673),d=s(1251),f=s(2058),_=s(9876),y=s(8136),g=[].push,v=function(m){var h=m==1,P=m==2,p=m==3,R=m==4,O=m==6,A=m==7,I=m==5||O;return function(j,U,C,x){for(var D,$,K=f(j),ee=d(K),te=u(U,C,3),ie=_(ee),G=0,q=x||y,z=h?q(j,ie):P||A?q(j,0):void 0;ie>G;G++)if((I||G in ee)&&($=te(D=ee[G],G,K),m))if(h)z[G]=$;else if($)switch(m){case 3:return!0;case 5:return D;case 6:return G;case 2:g.call(z,D)}else switch(m){case 4:return!1;case 7:g.call(z,D)}return O?-1:p||R?R:z}};a.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},7965:(a,c,s)=>{var u=s(3861),d=s(5511),f=s(9876),_=s(6628),y=Math.min,g=[].lastIndexOf,v=!!g&&1/[1].lastIndexOf(1,-0)<0,m=_("lastIndexOf"),h=v||!m;a.exports=h?function(P){if(v)return g.apply(this,arguments)||0;var p=u(this),R=f(p),O=R-1;for(arguments.length>1&&(O=y(O,d(arguments[1]))),O<0&&(O=R+O);O>=0;O--)if(O in p&&p[O]===P)return O||0;return-1}:g},2143:(a,c,s)=>{var u=s(6530),d=s(5712),f=s(8233),_=d("species");a.exports=function(y){return f>=51||!u(function(){var g=[];return(g.constructor={})[_]=function(){return{foo:1}},g[y](Boolean).foo!==1})}},6628:(a,c,s)=>{var u=s(6530);a.exports=function(d,f){var _=[][d];return!!_&&u(function(){_.call(null,f||function(){throw 1},1)})}},3400:(a,c,s)=>{var u=s(1054),d=s(1775),f=s(3359),_=s(5712)("species");a.exports=function(y){var g;return u(y)&&(g=y.constructor,(d(g)&&(g===Array||u(g.prototype))||f(g)&&(g=g[_])===null)&&(g=void 0)),g===void 0?Array:g}},8136:(a,c,s)=>{var u=s(3400);a.exports=function(d,f){return new(u(d))(f===0?0:f)}},8908:(a,c,s)=>{var u=s(5712)("iterator"),d=!1;try{var f=0,_={next:function(){return{done:!!f++}},return:function(){d=!0}};_[u]=function(){return this},Array.from(_,function(){throw 2})}catch{}a.exports=function(y,g){if(!g&&!d)return!1;var v=!1;try{var m={};m[u]=function(){return{next:function(){return{done:v=!0}}}},y(m)}catch{}return v}},1570:a=>{var c={}.toString;a.exports=function(s){return c.call(s).slice(8,-1)}},7499:(a,c,s)=>{var u=s(8889),d=s(8307),f=s(1570),_=s(5712)("toStringTag"),y=f(function(){return arguments}())=="Arguments";a.exports=u?f:function(g){var v,m,h;return g===void 0?"Undefined":g===null?"Null":typeof(m=function(P,p){try{return P[p]}catch{}}(v=Object(g),_))=="string"?m:y?f(v):(h=f(v))=="Object"&&d(v.callee)?"Arguments":h}},240:(a,c,s)=>{var u=s(9248),d=s(9446).getWeakData,f=s(1912),_=s(3359),y=s(8792),g=s(3906),v=s(4206),m=s(5584),h=s(5875),P=h.set,p=h.getterFor,R=v.find,O=v.findIndex,A=0,I=function(C){return C.frozen||(C.frozen=new j)},j=function(){this.entries=[]},U=function(C,x){return R(C.entries,function(D){return D[0]===x})};j.prototype={get:function(C){var x=U(this,C);if(x)return x[1]},has:function(C){return!!U(this,C)},set:function(C,x){var D=U(this,C);D?D[1]=x:this.entries.push([C,x])},delete:function(C){var x=O(this.entries,function(D){return D[0]===C});return~x&&this.entries.splice(x,1),!!~x}},a.exports={getConstructor:function(C,x,D,$){var K=C(function(ie,G){y(ie,K,x),P(ie,{type:x,id:A++,frozen:void 0}),G!=null&&g(G,ie[$],{that:ie,AS_ENTRIES:D})}),ee=p(x),te=function(ie,G,q){var z=ee(ie),B=d(f(G),!0);return B===!0?I(z).set(G,q):B[z.id]=q,ie};return u(K.prototype,{delete:function(ie){var G=ee(this);if(!_(ie))return!1;var q=d(ie);return q===!0?I(G).delete(ie):q&&m(q,G.id)&&delete q[G.id]},has:function(ie){var G=ee(this);if(!_(ie))return!1;var q=d(ie);return q===!0?I(G).has(ie):q&&m(q,G.id)}}),u(K.prototype,D?{get:function(ie){var G=ee(this);if(_(ie)){var q=d(ie);return q===!0?I(G).get(ie):q?q[G.id]:void 0}},set:function(ie,G){return te(this,ie,G)}}:{add:function(ie){return te(this,ie,!0)}}),K}}},1390:(a,c,s)=>{var u=s(390),d=s(2868),f=s(9446),_=s(6530),y=s(8518),g=s(3906),v=s(8792),m=s(8307),h=s(3359),P=s(6738),p=s(7550).f,R=s(4206).forEach,O=s(7001),A=s(5875),I=A.set,j=A.getterFor;a.exports=function(U,C,x){var D,$=U.indexOf("Map")!==-1,K=U.indexOf("Weak")!==-1,ee=$?"set":"add",te=d[U],ie=te&&te.prototype,G={};if(O&&m(te)&&(K||ie.forEach&&!_(function(){new te().entries().next()}))){D=C(function(z,B){I(v(z,D,U),{type:U,collection:new te}),B!=null&&g(B,z[ee],{that:z,AS_ENTRIES:$})});var q=j(U);R(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(z){var B=z=="add"||z=="set";!(z in ie)||K&&z=="clear"||y(D.prototype,z,function(V,L){var M=q(this).collection;if(!B&&K&&!h(V))return z=="get"&&void 0;var W=M[z](V===0?0:V,L);return B?this:W})}),K||p(D.prototype,"size",{configurable:!0,get:function(){return q(this).collection.size}})}else D=x.getConstructor(C,U,$,ee),f.enable();return P(D,U,!1,!0),G[U]=D,u({global:!0,forced:!0},G),K||x.setStrong(D,U,$),D}},4498:(a,c,s)=>{var u=s(5584),d=s(5340),f=s(5904),_=s(7550);a.exports=function(y,g){for(var v=d(g),m=_.f,h=f.f,P=0;P<v.length;P++){var p=v[P];u(y,p)||m(y,p,h(g,p))}}},1722:(a,c,s)=>{var u=s(5712)("match");a.exports=function(d){var f=/./;try{"/./"[d](f)}catch{try{return f[u]=!1,"/./"[d](f)}catch{}}return!1}},872:(a,c,s)=>{var u=s(6530);a.exports=!u(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},8611:(a,c,s)=>{var u=s(7300).IteratorPrototype,d=s(2491),f=s(5595),_=s(6738),y=s(9418),g=function(){return this};a.exports=function(v,m,h){var P=m+" Iterator";return v.prototype=d(u,{next:f(1,h)}),_(v,P,!1,!0),y[P]=g,v}},8518:(a,c,s)=>{var u=s(7001),d=s(7550),f=s(5595);a.exports=u?function(_,y,g){return d.f(_,y,f(1,g))}:function(_,y,g){return _[y]=g,_}},5595:a=>{a.exports=function(c,s){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:s}}},409:(a,c,s)=>{var u=s(5623),d=s(7550),f=s(5595);a.exports=function(_,y,g){var v=u(y);v in _?d.f(_,v,f(0,g)):_[v]=g}},8277:(a,c,s)=>{var u=s(390),d=s(8367),f=s(7730),_=s(8307),y=s(8611),g=s(2629),v=s(5255),m=s(6738),h=s(8518),P=s(9791),p=s(5712),R=s(9418),O=s(7300),A=f.PROPER,I=f.CONFIGURABLE,j=O.IteratorPrototype,U=O.BUGGY_SAFARI_ITERATORS,C=p("iterator"),x="keys",D="values",$="entries",K=function(){return this};a.exports=function(ee,te,ie,G,q,z,B){y(ie,te,G);var V,L,M,W=function(Ce){if(Ce===q&&Ae)return Ae;if(!U&&Ce in ge)return ge[Ce];switch(Ce){case x:case D:case $:return function(){return new ie(this,Ce)}}return function(){return new ie(this)}},oe=te+" Iterator",ce=!1,ge=ee.prototype,ve=ge[C]||ge["@@iterator"]||q&&ge[q],Ae=!U&&ve||W(q),je=te=="Array"&&ge.entries||ve;if(je&&(V=g(je.call(new ee)))!==Object.prototype&&V.next&&(d||g(V)===j||(v?v(V,j):_(V[C])||P(V,C,K)),m(V,oe,!0,!0),d&&(R[oe]=K)),A&&q==D&&ve&&ve.name!==D&&(!d&&I?h(ge,"name",D):(ce=!0,Ae=function(){return ve.call(this)})),q)if(L={values:W(D),keys:z?Ae:W(x),entries:W($)},B)for(M in L)(U||ce||!(M in ge))&&P(ge,M,L[M]);else u({target:te,proto:!0,forced:U||ce},L);return d&&!B||ge[C]===Ae||P(ge,C,Ae,{name:q}),R[te]=Ae,L}},1412:(a,c,s)=>{var u=s(9081),d=s(5584),f=s(3379),_=s(7550).f;a.exports=function(y){var g=u.Symbol||(u.Symbol={});d(g,y)||_(g,y,{value:f.f(y)})}},7001:(a,c,s)=>{var u=s(6530);a.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},231:(a,c,s)=>{var u=s(2868),d=s(3359),f=u.document,_=d(f)&&d(f.createElement);a.exports=function(y){return _?f.createElement(y):{}}},315:a=>{a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6610:a=>{a.exports=typeof window=="object"},6405:(a,c,s)=>{var u=s(6900),d=s(2868);a.exports=/ipad|iphone|ipod/i.test(u)&&d.Pebble!==void 0},6540:(a,c,s)=>{var u=s(6900);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},6521:(a,c,s)=>{var u=s(1570),d=s(2868);a.exports=u(d.process)=="process"},4010:(a,c,s)=>{var u=s(6900);a.exports=/web0s(?!.*chrome)/i.test(u)},6900:(a,c,s)=>{var u=s(8104);a.exports=u("navigator","userAgent")||""},8233:(a,c,s)=>{var u,d,f=s(2868),_=s(6900),y=f.process,g=f.Deno,v=y&&y.versions||g&&g.version,m=v&&v.v8;m?d=(u=m.split("."))[0]<4?1:u[0]+u[1]:_&&(!(u=_.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=_.match(/Chrome\/(\d+)/))&&(d=u[1]),a.exports=d&&+d},2018:(a,c,s)=>{var u=s(9081);a.exports=function(d){return u[d+"Prototype"]}},2712:a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},390:(a,c,s)=>{var u=s(2868),d=s(8307),f=s(5904).f,_=s(1011),y=s(9081),g=s(7673),v=s(8518),m=s(5584),h=function(P){var p=function(R,O,A){if(this instanceof P){switch(arguments.length){case 0:return new P;case 1:return new P(R);case 2:return new P(R,O)}return new P(R,O,A)}return P.apply(this,arguments)};return p.prototype=P.prototype,p};a.exports=function(P,p){var R,O,A,I,j,U,C,x,D=P.target,$=P.global,K=P.stat,ee=P.proto,te=$?u:K?u[D]:(u[D]||{}).prototype,ie=$?y:y[D]||v(y,D,{})[D],G=ie.prototype;for(A in p)R=!_($?A:D+(K?".":"#")+A,P.forced)&&te&&m(te,A),j=ie[A],R&&(U=P.noTargetGet?(x=f(te,A))&&x.value:te[A]),I=R&&U?U:p[A],R&&typeof j==typeof I||(C=P.bind&&R?g(I,u):P.wrap&&R?h(I):ee&&d(I)?g(Function.call,I):I,(P.sham||I&&I.sham||j&&j.sham)&&v(C,"sham",!0),v(ie,A,C),ee&&(m(y,O=D+"Prototype")||v(y,O,{}),v(y[O],A,I),P.real&&G&&!G[A]&&v(G,A,I)))}},6530:a=>{a.exports=function(c){try{return!!c()}catch{return!0}}},6558:(a,c,s)=>{var u=s(6530);a.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},7673:(a,c,s)=>{var u=s(5222);a.exports=function(d,f,_){if(u(d),f===void 0)return d;switch(_){case 0:return function(){return d.call(f)};case 1:return function(y){return d.call(f,y)};case 2:return function(y,g){return d.call(f,y,g)};case 3:return function(y,g,v){return d.call(f,y,g,v)}}return function(){return d.apply(f,arguments)}}},3455:(a,c,s)=>{var u=s(5222),d=s(3359),f=[].slice,_={},y=function(g,v,m){if(!(v in _)){for(var h=[],P=0;P<v;P++)h[P]="a["+P+"]";_[v]=Function("C,a","return new C("+h.join(",")+")")}return _[v](g,m)};a.exports=Function.bind||function(g){var v=u(this),m=f.call(arguments,1),h=function(){var P=m.concat(f.call(arguments));return this instanceof h?y(v,P.length,P):v.apply(g,P)};return d(v.prototype)&&(h.prototype=v.prototype),h}},7730:(a,c,s)=>{var u=s(7001),d=s(5584),f=Function.prototype,_=u&&Object.getOwnPropertyDescriptor,y=d(f,"name"),g=y&&function(){}.name==="something",v=y&&(!u||u&&_(f,"name").configurable);a.exports={EXISTS:y,PROPER:g,CONFIGURABLE:v}},8104:(a,c,s)=>{var u=s(9081),d=s(2868),f=s(8307),_=function(y){return f(y)?y:void 0};a.exports=function(y,g){return arguments.length<2?_(u[y])||_(d[y]):u[y]&&u[y][g]||d[y]&&d[y][g]}},5018:(a,c,s)=>{var u=s(7499),d=s(2809),f=s(9418),_=s(5712)("iterator");a.exports=function(y){if(y!=null)return d(y,_)||d(y,"@@iterator")||f[u(y)]}},5945:(a,c,s)=>{var u=s(5222),d=s(1912),f=s(5018);a.exports=function(_,y){var g=arguments.length<2?f(_):y;if(u(g))return d(g.call(_));throw TypeError(String(_)+" is not iterable")}},2809:(a,c,s)=>{var u=s(5222);a.exports=function(d,f){var _=d[f];return _==null?void 0:u(_)}},2868:(a,c,s)=>{var u=function(d){return d&&d.Math==Math&&d};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},5584:(a,c,s)=>{var u=s(2058),d={}.hasOwnProperty;a.exports=Object.hasOwn||function(f,_){return d.call(u(f),_)}},7048:a=>{a.exports={}},8471:(a,c,s)=>{var u=s(2868);a.exports=function(d,f){var _=u.console;_&&_.error&&(arguments.length===1?_.error(d):_.error(d,f))}},5644:(a,c,s)=>{var u=s(8104);a.exports=u("document","documentElement")},640:(a,c,s)=>{var u=s(7001),d=s(6530),f=s(231);a.exports=!u&&!d(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},1251:(a,c,s)=>{var u=s(6530),d=s(1570),f="".split;a.exports=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(_){return d(_)=="String"?f.call(_,""):Object(_)}:Object},1494:(a,c,s)=>{var u=s(8307),d=s(2656),f=Function.toString;u(d.inspectSource)||(d.inspectSource=function(_){return f.call(_)}),a.exports=d.inspectSource},8525:(a,c,s)=>{var u=s(3359),d=s(8518);a.exports=function(f,_){u(_)&&"cause"in _&&d(f,"cause",_.cause)}},9446:(a,c,s)=>{var u=s(390),d=s(7048),f=s(3359),_=s(5584),y=s(7550).f,g=s(9035),v=s(6159),m=s(9),h=s(6558),P=!1,p=m("meta"),R=0,O=Object.isExtensible||function(){return!0},A=function(j){y(j,p,{value:{objectID:"O"+R++,weakData:{}}})},I=a.exports={enable:function(){I.enable=function(){},P=!0;var j=g.f,U=[].splice,C={};C[p]=1,j(C).length&&(g.f=function(x){for(var D=j(x),$=0,K=D.length;$<K;$++)if(D[$]===p){U.call(D,$,1);break}return D},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:v.f}))},fastKey:function(j,U){if(!f(j))return typeof j=="symbol"?j:(typeof j=="string"?"S":"P")+j;if(!_(j,p)){if(!O(j))return"F";if(!U)return"E";A(j)}return j[p].objectID},getWeakData:function(j,U){if(!_(j,p)){if(!O(j))return!0;if(!U)return!1;A(j)}return j[p].weakData},onFreeze:function(j){return h&&P&&O(j)&&!_(j,p)&&A(j),j}};d[p]=!0},5875:(a,c,s)=>{var u,d,f,_=s(2297),y=s(2868),g=s(3359),v=s(8518),m=s(5584),h=s(2656),P=s(5039),p=s(7048),R="Object already initialized",O=y.WeakMap;if(_||h.state){var A=h.state||(h.state=new O),I=A.get,j=A.has,U=A.set;u=function(x,D){if(j.call(A,x))throw new TypeError(R);return D.facade=x,U.call(A,x,D),D},d=function(x){return I.call(A,x)||{}},f=function(x){return j.call(A,x)}}else{var C=P("state");p[C]=!0,u=function(x,D){if(m(x,C))throw new TypeError(R);return D.facade=x,v(x,C,D),D},d=function(x){return m(x,C)?x[C]:{}},f=function(x){return m(x,C)}}a.exports={set:u,get:d,has:f,enforce:function(x){return f(x)?d(x):u(x,{})},getterFor:function(x){return function(D){var $;if(!g(D)||($=d(D)).type!==x)throw TypeError("Incompatible receiver, "+x+" required");return $}}}},6475:(a,c,s)=>{var u=s(5712),d=s(9418),f=u("iterator"),_=Array.prototype;a.exports=function(y){return y!==void 0&&(d.Array===y||_[f]===y)}},1054:(a,c,s)=>{var u=s(1570);a.exports=Array.isArray||function(d){return u(d)=="Array"}},8307:a=>{a.exports=function(c){return typeof c=="function"}},1775:(a,c,s)=>{var u=s(6530),d=s(8307),f=s(7499),_=s(8104),y=s(1494),g=[],v=_("Reflect","construct"),m=/^\s*(?:class|function)\b/,h=m.exec,P=!m.exec(function(){}),p=function(R){if(!d(R))return!1;try{return v(Object,g,R),!0}catch{return!1}};a.exports=!v||u(function(){var R;return p(p.call)||!p(Object)||!p(function(){R=!0})||R})?function(R){if(!d(R))return!1;switch(f(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return P||!!h.call(m,y(R))}:p},1011:(a,c,s)=>{var u=s(6530),d=s(8307),f=/#|\.prototype\./,_=function(h,P){var p=g[y(h)];return p==m||p!=v&&(d(P)?u(P):!!P)},y=_.normalize=function(h){return String(h).replace(f,".").toLowerCase()},g=_.data={},v=_.NATIVE="N",m=_.POLYFILL="P";a.exports=_},3359:(a,c,s)=>{var u=s(8307);a.exports=function(d){return typeof d=="object"?d!==null:u(d)}},8367:a=>{a.exports=!0},6858:(a,c,s)=>{var u=s(3359),d=s(1570),f=s(5712)("match");a.exports=function(_){var y;return u(_)&&((y=_[f])!==void 0?!!y:d(_)=="RegExp")}},1149:(a,c,s)=>{var u=s(8307),d=s(8104),f=s(6046);a.exports=f?function(_){return typeof _=="symbol"}:function(_){var y=d("Symbol");return u(y)&&Object(_)instanceof y}},3906:(a,c,s)=>{var u=s(1912),d=s(6475),f=s(9876),_=s(7673),y=s(5945),g=s(5018),v=s(309),m=function(h,P){this.stopped=h,this.result=P};a.exports=function(h,P,p){var R,O,A,I,j,U,C,x=p&&p.that,D=!(!p||!p.AS_ENTRIES),$=!(!p||!p.IS_ITERATOR),K=!(!p||!p.INTERRUPTED),ee=_(P,x,1+D+K),te=function(G){return R&&v(R,"normal",G),new m(!0,G)},ie=function(G){return D?(u(G),K?ee(G[0],G[1],te):ee(G[0],G[1])):K?ee(G,te):ee(G)};if($)R=h;else{if(!(O=g(h)))throw TypeError(String(h)+" is not iterable");if(d(O)){for(A=0,I=f(h);I>A;A++)if((j=ie(h[A]))&&j instanceof m)return j;return new m(!1)}R=y(h,O)}for(U=R.next;!(C=U.call(R)).done;){try{j=ie(C.value)}catch(G){v(R,"throw",G)}if(typeof j=="object"&&j&&j instanceof m)return j}return new m(!1)}},309:(a,c,s)=>{var u=s(1912),d=s(2809);a.exports=function(f,_,y){var g,v;u(f);try{if(!(g=d(f,"return"))){if(_==="throw")throw y;return y}g=g.call(f)}catch(m){v=!0,g=m}if(_==="throw")throw y;if(v)throw g;return u(g),y}},7300:(a,c,s)=>{var u,d,f,_=s(6530),y=s(8307),g=s(2491),v=s(2629),m=s(9791),h=s(5712),P=s(8367),p=h("iterator"),R=!1;[].keys&&("next"in(f=[].keys())?(d=v(v(f)))!==Object.prototype&&(u=d):R=!0),u==null||_(function(){var O={};return u[p].call(O)!==O})?u={}:P&&(u=g(u)),y(u[p])||m(u,p,function(){return this}),a.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:R}},9418:a=>{a.exports={}},9876:(a,c,s)=>{var u=s(3746);a.exports=function(d){return u(d.length)}},8243:(a,c,s)=>{var u=s(8377),d=Math.abs,f=Math.pow,_=f(2,-52),y=f(2,-23),g=f(2,127)*(2-y),v=f(2,-126);a.exports=Math.fround||function(m){var h,P,p=d(m),R=u(m);return p<v?R*(p/v/y+1/_-1/_)*v*y:(P=(h=(1+y/_)*p)-(h-p))>g||P!=P?R*(1/0):R*P}},8377:a=>{a.exports=Math.sign||function(c){return(c=+c)==0||c!=c?c:c<0?-1:1}},8054:(a,c,s)=>{var u,d,f,_,y,g,v,m,h=s(2868),P=s(5904).f,p=s(6569).set,R=s(6540),O=s(6405),A=s(4010),I=s(6521),j=h.MutationObserver||h.WebKitMutationObserver,U=h.document,C=h.process,x=h.Promise,D=P(h,"queueMicrotask"),$=D&&D.value;$||(u=function(){var K,ee;for(I&&(K=C.domain)&&K.exit();d;){ee=d.fn,d=d.next;try{ee()}catch(te){throw d?_():f=void 0,te}}f=void 0,K&&K.enter()},R||I||A||!j||!U?!O&&x&&x.resolve?((v=x.resolve(void 0)).constructor=x,m=v.then,_=function(){m.call(v,u)}):_=I?function(){C.nextTick(u)}:function(){p.call(h,u)}:(y=!0,g=U.createTextNode(""),new j(u).observe(g,{characterData:!0}),_=function(){g.data=y=!y})),a.exports=$||function(K){var ee={fn:K,next:void 0};f&&(f.next=ee),d||(d=ee,_()),f=ee}},3104:(a,c,s)=>{var u=s(2868);a.exports=u.Promise},3216:(a,c,s)=>{var u=s(8233),d=s(6530);a.exports=!!Object.getOwnPropertySymbols&&!d(function(){var f=Symbol();return!String(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&u&&u<41})},2297:(a,c,s)=>{var u=s(2868),d=s(8307),f=s(1494),_=u.WeakMap;a.exports=d(_)&&/native code/.test(f(_))},4130:(a,c,s)=>{var u=s(5222),d=function(f){var _,y;this.promise=new f(function(g,v){if(_!==void 0||y!==void 0)throw TypeError("Bad Promise constructor");_=g,y=v}),this.resolve=u(_),this.reject=u(y)};a.exports.f=function(f){return new d(f)}},9611:(a,c,s)=>{var u=s(6858);a.exports=function(d){if(u(d))throw TypeError("The method doesn't accept regular expressions");return d}},3210:(a,c,s)=>{var u=s(7001),d=s(6530),f=s(461),_=s(3764),y=s(1156),g=s(2058),v=s(1251),m=Object.assign,h=Object.defineProperty;a.exports=!m||d(function(){if(u&&m({b:1},m(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var P={},p={},R=Symbol(),O="abcdefghijklmnopqrst";return P[R]=7,O.split("").forEach(function(A){p[A]=A}),m({},P)[R]!=7||f(m({},p)).join("")!=O})?function(P,p){for(var R=g(P),O=arguments.length,A=1,I=_.f,j=y.f;O>A;)for(var U,C=v(arguments[A++]),x=I?f(C).concat(I(C)):f(C),D=x.length,$=0;D>$;)U=x[$++],u&&!j.call(C,U)||(R[U]=C[U]);return R}:m},2491:(a,c,s)=>{var u,d=s(1912),f=s(4686),_=s(2712),y=s(7048),g=s(5644),v=s(231),m=s(5039)("IE_PROTO"),h=function(){},P=function(O){return"<script>"+O+"<\/script>"},p=function(O){O.write(P("")),O.close();var A=O.parentWindow.Object;return O=null,A},R=function(){try{u=new ActiveXObject("htmlfile")}catch{}var O,A;R=typeof document!="undefined"?document.domain&&u?p(u):((A=v("iframe")).style.display="none",g.appendChild(A),A.src=String("javascript:"),(O=A.contentWindow.document).open(),O.write(P("document.F=Object")),O.close(),O.F):p(u);for(var I=_.length;I--;)delete R.prototype[_[I]];return R()};y[m]=!0,a.exports=Object.create||function(O,A){var I;return O!==null?(h.prototype=d(O),I=new h,h.prototype=null,I[m]=O):I=R(),A===void 0?I:f(I,A)}},4686:(a,c,s)=>{var u=s(7001),d=s(7550),f=s(1912),_=s(461);a.exports=u?Object.defineProperties:function(y,g){f(y);for(var v,m=_(g),h=m.length,P=0;h>P;)d.f(y,v=m[P++],g[v]);return y}},7550:(a,c,s)=>{var u=s(7001),d=s(640),f=s(1912),_=s(5623),y=Object.defineProperty;c.f=u?y:function(g,v,m){if(f(g),v=_(v),f(m),d)try{return y(g,v,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(g[v]=m.value),g}},5904:(a,c,s)=>{var u=s(7001),d=s(1156),f=s(5595),_=s(3861),y=s(5623),g=s(5584),v=s(640),m=Object.getOwnPropertyDescriptor;c.f=u?m:function(h,P){if(h=_(h),P=y(P),v)try{return m(h,P)}catch{}if(g(h,P))return f(!d.f.call(h,P),h[P])}},6159:(a,c,s)=>{var u=s(3861),d=s(9035).f,f={}.toString,_=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(y){return _&&f.call(y)=="[object Window]"?function(g){try{return d(g)}catch{return _.slice()}}(y):d(u(y))}},9035:(a,c,s)=>{var u=s(1247),d=s(2712).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(f){return u(f,d)}},3764:(a,c)=>{c.f=Object.getOwnPropertySymbols},2629:(a,c,s)=>{var u=s(5584),d=s(8307),f=s(2058),_=s(5039),y=s(872),g=_("IE_PROTO"),v=Object.prototype;a.exports=y?Object.getPrototypeOf:function(m){var h=f(m);if(u(h,g))return h[g];var P=h.constructor;return d(P)&&h instanceof P?P.prototype:h instanceof Object?v:null}},1247:(a,c,s)=>{var u=s(5584),d=s(3861),f=s(7075).indexOf,_=s(7048);a.exports=function(y,g){var v,m=d(y),h=0,P=[];for(v in m)!u(_,v)&&u(m,v)&&P.push(v);for(;g.length>h;)u(m,v=g[h++])&&(~f(P,v)||P.push(v));return P}},461:(a,c,s)=>{var u=s(1247),d=s(2712);a.exports=Object.keys||function(f){return u(f,d)}},1156:(a,c)=>{var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!s.call({1:2},1);c.f=d?function(f){var _=u(this,f);return!!_&&_.enumerable}:s},5255:(a,c,s)=>{var u=s(1912),d=s(9154);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,_=!1,y={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),_=y instanceof Array}catch{}return function(g,v){return u(g),d(v),_?f.call(g,v):g.__proto__=v,g}}():void 0)},2204:(a,c,s)=>{var u=s(8889),d=s(7499);a.exports=u?{}.toString:function(){return"[object "+d(this)+"]"}},9466:(a,c,s)=>{var u=s(8307),d=s(3359);a.exports=function(f,_){var y,g;if(_==="string"&&u(y=f.toString)&&!d(g=y.call(f))||u(y=f.valueOf)&&!d(g=y.call(f))||_!=="string"&&u(y=f.toString)&&!d(g=y.call(f)))return g;throw TypeError("Can't convert object to primitive value")}},5340:(a,c,s)=>{var u=s(8104),d=s(9035),f=s(3764),_=s(1912);a.exports=u("Reflect","ownKeys")||function(y){var g=d.f(_(y)),v=f.f;return v?g.concat(v(y)):g}},9081:a=>{a.exports={}},4618:a=>{a.exports=function(c){try{return{error:!1,value:c()}}catch(s){return{error:!0,value:s}}}},4567:(a,c,s)=>{var u=s(1912),d=s(3359),f=s(4130);a.exports=function(_,y){if(u(_),d(y)&&y.constructor===_)return y;var g=f.f(_);return(0,g.resolve)(y),g.promise}},9248:(a,c,s)=>{var u=s(9791);a.exports=function(d,f,_){for(var y in f)_&&_.unsafe&&d[y]?d[y]=f[y]:u(d,y,f[y],_);return d}},9791:(a,c,s)=>{var u=s(8518);a.exports=function(d,f,_,y){y&&y.enumerable?d[f]=_:u(d,f,_)}},3604:a=>{a.exports=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}},2643:(a,c,s)=>{var u=s(2868);a.exports=function(d,f){try{Object.defineProperty(u,d,{value:f,configurable:!0,writable:!0})}catch{u[d]=f}return f}},3918:(a,c,s)=>{var u=s(8104),d=s(7550),f=s(5712),_=s(7001),y=f("species");a.exports=function(g){var v=u(g),m=d.f;_&&v&&!v[y]&&m(v,y,{configurable:!0,get:function(){return this}})}},6738:(a,c,s)=>{var u=s(8889),d=s(7550).f,f=s(8518),_=s(5584),y=s(2204),g=s(5712)("toStringTag");a.exports=function(v,m,h,P){if(v){var p=h?v:v.prototype;_(p,g)||d(p,g,{configurable:!0,value:m}),P&&!u&&f(p,"toString",y)}}},5039:(a,c,s)=>{var u=s(6315),d=s(9),f=u("keys");a.exports=function(_){return f[_]||(f[_]=d(_))}},2656:(a,c,s)=>{var u=s(2868),d=s(2643),f="__core-js_shared__",_=u[f]||d(f,{});a.exports=_},6315:(a,c,s)=>{var u=s(8367),d=s(2656);(a.exports=function(f,_){return d[f]||(d[f]=_!==void 0?_:{})})("versions",[]).push({version:"3.18.3",mode:u?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},5462:(a,c,s)=>{var u=s(1912),d=s(2736),f=s(5712)("species");a.exports=function(_,y){var g,v=u(_).constructor;return v===void 0||(g=u(v)[f])==null?y:d(g)}},1420:(a,c,s)=>{var u=s(5511),d=s(5264),f=s(3604),_=function(y){return function(g,v){var m,h,P=d(f(g)),p=u(v),R=P.length;return p<0||p>=R?y?"":void 0:(m=P.charCodeAt(p))<55296||m>56319||p+1===R||(h=P.charCodeAt(p+1))<56320||h>57343?y?P.charAt(p):m:y?P.slice(p,p+2):h-56320+(m-55296<<10)+65536}};a.exports={codeAt:_(!1),charAt:_(!0)}},6569:(a,c,s)=>{var u,d,f,_,y=s(2868),g=s(8307),v=s(6530),m=s(7673),h=s(5644),P=s(231),p=s(6540),R=s(6521),O=y.setImmediate,A=y.clearImmediate,I=y.process,j=y.MessageChannel,U=y.Dispatch,C=0,x={};try{u=y.location}catch{}var D=function(te){if(x.hasOwnProperty(te)){var ie=x[te];delete x[te],ie()}},$=function(te){return function(){D(te)}},K=function(te){D(te.data)},ee=function(te){y.postMessage(String(te),u.protocol+"//"+u.host)};O&&A||(O=function(te){for(var ie=[],G=arguments.length,q=1;G>q;)ie.push(arguments[q++]);return x[++C]=function(){(g(te)?te:Function(te)).apply(void 0,ie)},d(C),C},A=function(te){delete x[te]},R?d=function(te){I.nextTick($(te))}:U&&U.now?d=function(te){U.now($(te))}:j&&!p?(_=(f=new j).port2,f.port1.onmessage=K,d=m(_.postMessage,_,1)):y.addEventListener&&g(y.postMessage)&&!y.importScripts&&u&&u.protocol!=="file:"&&!v(ee)?(d=ee,y.addEventListener("message",K,!1)):d="onreadystatechange"in P("script")?function(te){h.appendChild(P("script")).onreadystatechange=function(){h.removeChild(this),D(te)}}:function(te){setTimeout($(te),0)}),a.exports={set:O,clear:A}},3055:(a,c,s)=>{var u=s(5511),d=Math.max,f=Math.min;a.exports=function(_,y){var g=u(_);return g<0?d(g+y,0):f(g,y)}},3861:(a,c,s)=>{var u=s(1251),d=s(3604);a.exports=function(f){return u(d(f))}},5511:a=>{var c=Math.ceil,s=Math.floor;a.exports=function(u){var d=+u;return d!=d||d===0?0:(d>0?s:c)(d)}},3746:(a,c,s)=>{var u=s(5511),d=Math.min;a.exports=function(f){return f>0?d(u(f),9007199254740991):0}},2058:(a,c,s)=>{var u=s(3604);a.exports=function(d){return Object(u(d))}},3957:(a,c,s)=>{var u=s(3359),d=s(1149),f=s(2809),_=s(9466),y=s(5712)("toPrimitive");a.exports=function(g,v){if(!u(g)||d(g))return g;var m,h=f(g,y);if(h){if(v===void 0&&(v="default"),m=h.call(g,v),!u(m)||d(m))return m;throw TypeError("Can't convert object to primitive value")}return v===void 0&&(v="number"),_(g,v)}},5623:(a,c,s)=>{var u=s(3957),d=s(1149);a.exports=function(f){var _=u(f,"string");return d(_)?_:String(_)}},8889:(a,c,s)=>{var u={};u[s(5712)("toStringTag")]="z",a.exports=String(u)==="[object z]"},5264:(a,c,s)=>{var u=s(7499);a.exports=function(d){if(u(d)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(d)}},7265:a=>{a.exports=function(c){try{return String(c)}catch{return"Object"}}},9:a=>{var c=0,s=Math.random();a.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++c+s).toString(36)}},6046:(a,c,s)=>{var u=s(3216);a.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3379:(a,c,s)=>{var u=s(5712);c.f=u},5712:(a,c,s)=>{var u=s(2868),d=s(6315),f=s(5584),_=s(9),y=s(3216),g=s(6046),v=d("wks"),m=u.Symbol,h=g?m:m&&m.withoutSetter||_;a.exports=function(P){return f(v,P)&&(y||typeof v[P]=="string")||(y&&f(m,P)?v[P]=m[P]:v[P]=h("Symbol."+P)),v[P]}},6454:(a,c,s)=>{var u=s(390),d=s(2629),f=s(5255),_=s(4498),y=s(2491),g=s(8518),v=s(5595),m=s(8525),h=s(3906),P=s(5264),p=function(R,O){var A=this,I=arguments.length>2?arguments[2]:void 0;if(!(A instanceof p))return new p(R,O,I);f&&(A=f(new Error(void 0),d(A))),O!==void 0&&g(A,"message",P(O)),m(A,I);var j=[];return h(R,j.push,{that:j}),g(A,"errors",j),A};f?f(p,Error):_(p,Error),p.prototype=y(Error.prototype,{constructor:v(1,p),message:v(1,""),name:v(1,"AggregateError")}),u({global:!0},{AggregateError:p})},3075:(a,c,s)=>{var u=s(390),d=s(6530),f=s(1054),_=s(3359),y=s(2058),g=s(9876),v=s(409),m=s(8136),h=s(2143),P=s(5712),p=s(8233),R=P("isConcatSpreadable"),O=9007199254740991,A="Maximum allowed index exceeded",I=p>=51||!d(function(){var C=[];return C[R]=!1,C.concat()[0]!==C}),j=h("concat"),U=function(C){if(!_(C))return!1;var x=C[R];return x!==void 0?!!x:f(C)};u({target:"Array",proto:!0,forced:!I||!j},{concat:function(C){var x,D,$,K,ee,te=y(this),ie=m(te,0),G=0;for(x=-1,$=arguments.length;x<$;x++)if(U(ee=x===-1?te:arguments[x])){if(G+(K=g(ee))>O)throw TypeError(A);for(D=0;D<K;D++,G++)D in ee&&v(ie,G,ee[D])}else{if(G>=O)throw TypeError(A);v(ie,G++,ee)}return ie.length=G,ie}})},4458:(a,c,s)=>{var u=s(390),d=s(8303),f=s(7710);u({target:"Array",proto:!0},{copyWithin:d}),f("copyWithin")},7042:(a,c,s)=>{var u=s(390),d=s(5621);u({target:"Array",proto:!0,forced:[].forEach!=d},{forEach:d})},7670:(a,c,s)=>{var u=s(390),d=s(7075).includes,f=s(7710);u({target:"Array",proto:!0},{includes:function(_){return d(this,_,arguments.length>1?arguments[1]:void 0)}}),f("includes")},194:(a,c,s)=>{var u=s(390),d=s(7075).indexOf,f=s(6628),_=[].indexOf,y=!!_&&1/[1].indexOf(1,-0)<0,g=f("indexOf");u({target:"Array",proto:!0,forced:y||!g},{indexOf:function(v){return y?_.apply(this,arguments)||0:d(this,v,arguments.length>1?arguments[1]:void 0)}})},2228:(a,c,s)=>{var u=s(3861),d=s(7710),f=s(9418),_=s(5875),y=s(8277),g="Array Iterator",v=_.set,m=_.getterFor(g);a.exports=y(Array,"Array",function(h,P){v(this,{type:g,target:u(h),index:0,kind:P})},function(){var h=m(this),P=h.target,p=h.kind,R=h.index++;return!P||R>=P.length?(h.target=void 0,{value:void 0,done:!0}):p=="keys"?{value:R,done:!1}:p=="values"?{value:P[R],done:!1}:{value:[R,P[R]],done:!1}},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},5280:(a,c,s)=>{var u=s(390),d=s(7965);u({target:"Array",proto:!0,forced:d!==[].lastIndexOf},{lastIndexOf:d})},5313:(a,c,s)=>{var u=s(390),d=s(1054),f=s(1775),_=s(3359),y=s(3055),g=s(9876),v=s(3861),m=s(409),h=s(5712),P=s(2143)("slice"),p=h("species"),R=[].slice,O=Math.max;u({target:"Array",proto:!0,forced:!P},{slice:function(A,I){var j,U,C,x=v(this),D=g(x),$=y(A,D),K=y(I===void 0?D:I,D);if(d(x)&&(j=x.constructor,(f(j)&&(j===Array||d(j.prototype))||_(j)&&(j=j[p])===null)&&(j=void 0),j===Array||j===void 0))return R.call(x,$,K);for(U=new(j===void 0?Array:j)(O(K-$,0)),C=0;$<K;$++,C++)$ in x&&m(U,C,x[$]);return U.length=C,U}})},9177:(a,c,s)=>{s(390)({target:"Date",stat:!0},{now:function(){return new Date().getTime()}})},7157:(a,c,s)=>{s(390)({target:"Function",proto:!0},{bind:s(3455)})},3596:(a,c,s)=>{var u=s(2868);s(6738)(u.JSON,"JSON",!0)},5670:(a,c,s)=>{var u=s(390),d=Math.floor,f=Math.log,_=Math.LOG2E;u({target:"Math",stat:!0},{clz32:function(y){return(y>>>=0)?31-d(f(y+.5)*_):32}})},5098:(a,c,s)=>{s(390)({target:"Math",stat:!0},{fround:s(8243)})},2556:(a,c,s)=>{var u=s(390),d=s(6530),f=Math.imul;u({target:"Math",stat:!0,forced:d(function(){return f(4294967295,5)!=-5||f.length!=2})},{imul:function(_,y){var g=65535,v=+_,m=+y,h=g&v,P=g&m;return 0|h*P+((g&v>>>16)*P+h*(g&m>>>16)<<16>>>0)}})},1227:()=>{},6554:(a,c,s)=>{var u=s(390),d=Math.ceil,f=Math.floor;u({target:"Math",stat:!0},{trunc:function(_){return(_>0?f:d)(_)}})},8524:(a,c,s)=>{var u=s(390),d=s(3210);u({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},7559:(a,c,s)=>{s(390)({target:"Object",stat:!0,sham:!s(7001)},{create:s(2491)})},6764:(a,c,s)=>{var u=s(390),d=s(7001);u({target:"Object",stat:!0,forced:!d,sham:!d},{defineProperty:s(7550).f})},554:(a,c,s)=>{var u=s(390),d=s(6530),f=s(3861),_=s(5904).f,y=s(7001),g=d(function(){_(1)});u({target:"Object",stat:!0,forced:!y||g,sham:!y},{getOwnPropertyDescriptor:function(v,m){return _(f(v),m)}})},2575:()=>{},4465:(a,c,s)=>{var u=s(390),d=s(5222),f=s(4130),_=s(4618),y=s(3906);u({target:"Promise",stat:!0},{allSettled:function(g){var v=this,m=f.f(v),h=m.resolve,P=m.reject,p=_(function(){var R=d(v.resolve),O=[],A=0,I=1;y(g,function(j){var U=A++,C=!1;O.push(void 0),I++,R.call(v,j).then(function(x){C||(C=!0,O[U]={status:"fulfilled",value:x},--I||h(O))},function(x){C||(C=!0,O[U]={status:"rejected",reason:x},--I||h(O))})}),--I||h(O)});return p.error&&P(p.value),m.promise}})},8359:(a,c,s)=>{var u=s(390),d=s(5222),f=s(8104),_=s(4130),y=s(4618),g=s(3906),v="No one promise resolved";u({target:"Promise",stat:!0},{any:function(m){var h=this,P=_.f(h),p=P.resolve,R=P.reject,O=y(function(){var A=d(h.resolve),I=[],j=0,U=1,C=!1;g(m,function(x){var D=j++,$=!1;I.push(void 0),U++,A.call(h,x).then(function(K){$||C||(C=!0,p(K))},function(K){$||C||($=!0,I[D]=K,--U||R(new(f("AggregateError"))(I,v)))})}),--U||R(new(f("AggregateError"))(I,v))});return O.error&&R(O.value),P.promise}})},5203:(a,c,s)=>{var u=s(390),d=s(8367),f=s(3104),_=s(6530),y=s(8104),g=s(8307),v=s(5462),m=s(4567),h=s(9791);if(u({target:"Promise",proto:!0,real:!0,forced:!!f&&_(function(){f.prototype.finally.call({then:function(){}},function(){})})},{finally:function(p){var R=v(this,y("Promise")),O=g(p);return this.then(O?function(A){return m(R,p()).then(function(){return A})}:p,O?function(A){return m(R,p()).then(function(){throw A})}:p)}}),!d&&g(f)){var P=y("Promise").prototype.finally;f.prototype.finally!==P&&h(f.prototype,"finally",P,{unsafe:!0})}},3658:(a,c,s)=>{var u,d,f,_,y=s(390),g=s(8367),v=s(2868),m=s(8104),h=s(3104),P=s(9791),p=s(9248),R=s(5255),O=s(6738),A=s(3918),I=s(5222),j=s(8307),U=s(3359),C=s(8792),x=s(1494),D=s(3906),$=s(8908),K=s(5462),ee=s(6569).set,te=s(8054),ie=s(4567),G=s(8471),q=s(4130),z=s(4618),B=s(5875),V=s(1011),L=s(5712),M=s(6610),W=s(6521),oe=s(8233),ce=L("species"),ge="Promise",ve=B.get,Ae=B.set,je=B.getterFor(ge),Ce=h&&h.prototype,T=h,H=Ce,Q=v.TypeError,ue=v.document,ne=v.process,ye=q.f,we=ye,be=!!(ue&&ue.createEvent&&v.dispatchEvent),Pe=j(v.PromiseRejectionEvent),le="unhandledrejection",Me=!1,N=V(ge,function(){var de=x(T),Ie=de!==String(T);if(!Ie&&oe===66||g&&!H.finally)return!0;if(oe>=51&&/native code/.test(de))return!1;var Ne=new T(function(Oe){Oe(1)}),_e=function(Oe){Oe(function(){},function(){})};return(Ne.constructor={})[ce]=_e,!(Me=Ne.then(function(){})instanceof _e)||!Ie&&M&&!Pe}),Z=N||!$(function(de){T.all(de).catch(function(){})}),J=function(de){var Ie;return!(!U(de)||!j(Ie=de.then))&&Ie},se=function(de,Ie){if(!de.notified){de.notified=!0;var Ne=de.reactions;te(function(){for(var _e=de.value,Oe=de.state==1,Te=0;Ne.length>Te;){var He,_t,F,jt=Ne[Te++],Et=Oe?jt.ok:jt.fail,br=jt.resolve,vn=jt.reject,Fe=jt.domain;try{Et?(Oe||(de.rejection===2&&xe(de),de.rejection=1),Et===!0?He=_e:(Fe&&Fe.enter(),He=Et(_e),Fe&&(Fe.exit(),F=!0)),He===jt.promise?vn(Q("Promise-chain cycle")):(_t=J(He))?_t.call(He,br,vn):br(He)):vn(_e)}catch(To){Fe&&!F&&Fe.exit(),vn(To)}}de.reactions=[],de.notified=!1,Ie&&!de.rejection&&Le(de)})}},l=function(de,Ie,Ne){var _e,Oe;be?((_e=ue.createEvent("Event")).promise=Ie,_e.reason=Ne,_e.initEvent(de,!1,!0),v.dispatchEvent(_e)):_e={promise:Ie,reason:Ne},!Pe&&(Oe=v["on"+de])?Oe(_e):de===le&&G("Unhandled promise rejection",Ne)},Le=function(de){ee.call(v,function(){var Ie,Ne=de.facade,_e=de.value;if(Re(de)&&(Ie=z(function(){W?ne.emit("unhandledRejection",_e,Ne):l(le,Ne,_e)}),de.rejection=W||Re(de)?2:1,Ie.error))throw Ie.value})},Re=function(de){return de.rejection!==1&&!de.parent},xe=function(de){ee.call(v,function(){var Ie=de.facade;W?ne.emit("rejectionHandled",Ie):l("rejectionhandled",Ie,de.value)})},Ee=function(de,Ie,Ne){return function(_e){de(Ie,_e,Ne)}},De=function(de,Ie,Ne){de.done||(de.done=!0,Ne&&(de=Ne),de.value=Ie,de.state=2,se(de,!0))},$e=function(de,Ie,Ne){if(!de.done){de.done=!0,Ne&&(de=Ne);try{if(de.facade===Ie)throw Q("Promise can't be resolved itself");var _e=J(Ie);_e?te(function(){var Oe={done:!1};try{_e.call(Ie,Ee($e,Oe,de),Ee(De,Oe,de))}catch(Te){De(Oe,Te,de)}}):(de.value=Ie,de.state=1,se(de,!1))}catch(Oe){De({done:!1},Oe,de)}}};if(N&&(H=(T=function(de){C(this,T,ge),I(de),u.call(this);var Ie=ve(this);try{de(Ee($e,Ie),Ee(De,Ie))}catch(Ne){De(Ie,Ne)}}).prototype,(u=function(de){Ae(this,{type:ge,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(H,{then:function(de,Ie){var Ne=je(this),_e=ye(K(this,T));return _e.ok=!j(de)||de,_e.fail=j(Ie)&&Ie,_e.domain=W?ne.domain:void 0,Ne.parent=!0,Ne.reactions.push(_e),Ne.state!=0&&se(Ne,!1),_e.promise},catch:function(de){return this.then(void 0,de)}}),d=function(){var de=new u,Ie=ve(de);this.promise=de,this.resolve=Ee($e,Ie),this.reject=Ee(De,Ie)},q.f=ye=function(de){return de===T||de===f?new d(de):we(de)},!g&&j(h)&&Ce!==Object.prototype)){_=Ce.then,Me||(P(Ce,"then",function(de,Ie){var Ne=this;return new T(function(_e,Oe){_.call(Ne,_e,Oe)}).then(de,Ie)},{unsafe:!0}),P(Ce,"catch",H.catch,{unsafe:!0}));try{delete Ce.constructor}catch{}R&&R(Ce,H)}y({global:!0,wrap:!0,forced:N},{Promise:T}),O(T,ge,!1,!0),A(ge),f=m(ge),y({target:ge,stat:!0,forced:N},{reject:function(de){var Ie=ye(this);return Ie.reject.call(void 0,de),Ie.promise}}),y({target:ge,stat:!0,forced:g||N},{resolve:function(de){return ie(g&&this===f?T:this,de)}}),y({target:ge,stat:!0,forced:Z},{all:function(de){var Ie=this,Ne=ye(Ie),_e=Ne.resolve,Oe=Ne.reject,Te=z(function(){var He=I(Ie.resolve),_t=[],F=0,jt=1;D(de,function(Et){var br=F++,vn=!1;_t.push(void 0),jt++,He.call(Ie,Et).then(function(Fe){vn||(vn=!0,_t[br]=Fe,--jt||_e(_t))},Oe)}),--jt||_e(_t)});return Te.error&&Oe(Te.value),Ne.promise},race:function(de){var Ie=this,Ne=ye(Ie),_e=Ne.reject,Oe=z(function(){var Te=I(Ie.resolve);D(de,function(He){Te.call(Ie,He).then(Ne.resolve,_e)})});return Oe.error&&_e(Oe.value),Ne.promise}})},6268:()=>{},688:(a,c,s)=>{var u=s(390),d=s(9611),f=s(3604),_=s(5264);u({target:"String",proto:!0,forced:!s(1722)("includes")},{includes:function(y){return!!~_(f(this)).indexOf(_(d(y)),arguments.length>1?arguments[1]:void 0)}})},8109:(a,c,s)=>{var u=s(1420).charAt,d=s(5264),f=s(5875),_=s(8277),y="String Iterator",g=f.set,v=f.getterFor(y);_(String,"String",function(m){g(this,{type:y,string:d(m),index:0})},function(){var m,h=v(this),P=h.string,p=h.index;return p>=P.length?{value:void 0,done:!0}:(m=u(P,p),h.index+=m.length,{value:m,done:!1})})},6525:(a,c,s)=>{var u,d=s(390),f=s(5904).f,_=s(3746),y=s(5264),g=s(9611),v=s(3604),m=s(1722),h=s(8367),P="".startsWith,p=Math.min,R=m("startsWith");d({target:"String",proto:!0,forced:!(!h&&!R&&(u=f(String.prototype,"startsWith"),u&&!u.writable)||R)},{startsWith:function(O){var A=y(v(this));g(O);var I=_(p(arguments.length>1?arguments[1]:void 0,A.length)),j=y(O);return P?P.call(A,j,I):A.slice(I,I+j.length)===j}})},5762:(a,c,s)=>{s(1412)("asyncIterator")},2181:()=>{},8848:(a,c,s)=>{s(1412)("hasInstance")},3719:(a,c,s)=>{s(1412)("isConcatSpreadable")},2362:(a,c,s)=>{s(1412)("iterator")},8318:(a,c,s)=>{var u=s(390),d=s(2868),f=s(8104),_=s(8367),y=s(7001),g=s(3216),v=s(6530),m=s(5584),h=s(1054),P=s(8307),p=s(3359),R=s(1149),O=s(1912),A=s(2058),I=s(3861),j=s(5623),U=s(5264),C=s(5595),x=s(2491),D=s(461),$=s(9035),K=s(6159),ee=s(3764),te=s(5904),ie=s(7550),G=s(1156),q=s(9791),z=s(6315),B=s(5039),V=s(7048),L=s(9),M=s(5712),W=s(3379),oe=s(1412),ce=s(6738),ge=s(5875),ve=s(4206).forEach,Ae=B("hidden"),je="Symbol",Ce=M("toPrimitive"),T=ge.set,H=ge.getterFor(je),Q=Object.prototype,ue=d.Symbol,ne=f("JSON","stringify"),ye=te.f,we=ie.f,be=K.f,Pe=G.f,le=z("symbols"),Me=z("op-symbols"),N=z("string-to-symbol-registry"),Z=z("symbol-to-string-registry"),J=z("wks"),se=d.QObject,l=!se||!se.prototype||!se.prototype.findChild,Le=y&&v(function(){return x(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a!=7})?function(_e,Oe,Te){var He=ye(Q,Oe);He&&delete Q[Oe],we(_e,Oe,Te),He&&_e!==Q&&we(Q,Oe,He)}:we,Re=function(_e,Oe){var Te=le[_e]=x(ue.prototype);return T(Te,{type:je,tag:_e,description:Oe}),y||(Te.description=Oe),Te},xe=function(_e,Oe,Te){_e===Q&&xe(Me,Oe,Te),O(_e);var He=j(Oe);return O(Te),m(le,He)?(Te.enumerable?(m(_e,Ae)&&_e[Ae][He]&&(_e[Ae][He]=!1),Te=x(Te,{enumerable:C(0,!1)})):(m(_e,Ae)||we(_e,Ae,C(1,{})),_e[Ae][He]=!0),Le(_e,He,Te)):we(_e,He,Te)},Ee=function(_e,Oe){O(_e);var Te=I(Oe),He=D(Te).concat(Ie(Te));return ve(He,function(_t){y&&!De.call(Te,_t)||xe(_e,_t,Te[_t])}),_e},De=function(_e){var Oe=j(_e),Te=Pe.call(this,Oe);return!(this===Q&&m(le,Oe)&&!m(Me,Oe))&&(!(Te||!m(this,Oe)||!m(le,Oe)||m(this,Ae)&&this[Ae][Oe])||Te)},$e=function(_e,Oe){var Te=I(_e),He=j(Oe);if(Te!==Q||!m(le,He)||m(Me,He)){var _t=ye(Te,He);return!_t||!m(le,He)||m(Te,Ae)&&Te[Ae][He]||(_t.enumerable=!0),_t}},de=function(_e){var Oe=be(I(_e)),Te=[];return ve(Oe,function(He){m(le,He)||m(V,He)||Te.push(He)}),Te},Ie=function(_e){var Oe=_e===Q,Te=be(Oe?Me:I(_e)),He=[];return ve(Te,function(_t){!m(le,_t)||Oe&&!m(Q,_t)||He.push(le[_t])}),He};if(g||(q((ue=function(){if(this instanceof ue)throw TypeError("Symbol is not a constructor");var _e=arguments.length&&arguments[0]!==void 0?U(arguments[0]):void 0,Oe=L(_e),Te=function(He){this===Q&&Te.call(Me,He),m(this,Ae)&&m(this[Ae],Oe)&&(this[Ae][Oe]=!1),Le(this,Oe,C(1,He))};return y&&l&&Le(Q,Oe,{configurable:!0,set:Te}),Re(Oe,_e)}).prototype,"toString",function(){return H(this).tag}),q(ue,"withoutSetter",function(_e){return Re(L(_e),_e)}),G.f=De,ie.f=xe,te.f=$e,$.f=K.f=de,ee.f=Ie,W.f=function(_e){return Re(M(_e),_e)},y&&(we(ue.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),_||q(Q,"propertyIsEnumerable",De,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:ue}),ve(D(J),function(_e){oe(_e)}),u({target:je,stat:!0,forced:!g},{for:function(_e){var Oe=U(_e);if(m(N,Oe))return N[Oe];var Te=ue(Oe);return N[Oe]=Te,Z[Te]=Oe,Te},keyFor:function(_e){if(!R(_e))throw TypeError(_e+" is not a symbol");if(m(Z,_e))return Z[_e]},useSetter:function(){l=!0},useSimple:function(){l=!1}}),u({target:"Object",stat:!0,forced:!g,sham:!y},{create:function(_e,Oe){return Oe===void 0?x(_e):Ee(x(_e),Oe)},defineProperty:xe,defineProperties:Ee,getOwnPropertyDescriptor:$e}),u({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:de,getOwnPropertySymbols:Ie}),u({target:"Object",stat:!0,forced:v(function(){ee.f(1)})},{getOwnPropertySymbols:function(_e){return ee.f(A(_e))}}),ne&&u({target:"JSON",stat:!0,forced:!g||v(function(){var _e=ue();return ne([_e])!="[null]"||ne({a:_e})!="{}"||ne(Object(_e))!="{}"})},{stringify:function(_e,Oe,Te){for(var He,_t=[_e],F=1;arguments.length>F;)_t.push(arguments[F++]);if(He=Oe,(p(Oe)||_e!==void 0)&&!R(_e))return h(Oe)||(Oe=function(jt,Et){if(P(He)&&(Et=He.call(this,jt,Et)),!R(Et))return Et}),_t[1]=Oe,ne.apply(null,_t)}}),!ue.prototype[Ce]){var Ne=ue.prototype.valueOf;q(ue.prototype,Ce,function(){return Ne.apply(this,arguments)})}ce(ue,je),V[Ae]=!0},888:(a,c,s)=>{s(1412)("matchAll")},346:(a,c,s)=>{s(1412)("match")},909:(a,c,s)=>{s(1412)("replace")},1992:(a,c,s)=>{s(1412)("search")},8512:(a,c,s)=>{s(1412)("species")},6165:(a,c,s)=>{s(1412)("split")},6044:(a,c,s)=>{s(1412)("toPrimitive")},4676:(a,c,s)=>{s(1412)("toStringTag")},263:(a,c,s)=>{s(1412)("unscopables")},5124:(a,c,s)=>{var u,d=s(2868),f=s(9248),_=s(9446),y=s(1390),g=s(240),v=s(3359),m=s(5875).enforce,h=s(2297),P=!d.ActiveXObject&&"ActiveXObject"in d,p=Object.isExtensible,R=function(x){return function(){return x(this,arguments.length?arguments[0]:void 0)}},O=a.exports=y("WeakMap",R,g);if(h&&P){u=g.getConstructor(R,"WeakMap",!0),_.enable();var A=O.prototype,I=A.delete,j=A.has,U=A.get,C=A.set;f(A,{delete:function(x){if(v(x)&&!p(x)){var D=m(this);return D.frozen||(D.frozen=new u),I.call(this,x)||D.frozen.delete(x)}return I.call(this,x)},has:function(x){if(v(x)&&!p(x)){var D=m(this);return D.frozen||(D.frozen=new u),j.call(this,x)||D.frozen.has(x)}return j.call(this,x)},get:function(x){if(v(x)&&!p(x)){var D=m(this);return D.frozen||(D.frozen=new u),j.call(this,x)?U.call(this,x):D.frozen.get(x)}return U.call(this,x)},set:function(x,D){if(v(x)&&!p(x)){var $=m(this);$.frozen||($.frozen=new u),j.call(this,x)?C.call(this,x,D):$.frozen.set(x,D)}else C.call(this,x,D);return this}})}},1152:(a,c,s)=>{s(6454)},8561:(a,c,s)=>{s(4465)},8302:(a,c,s)=>{s(8359)},5543:(a,c,s)=>{var u=s(390),d=s(4130),f=s(4618);u({target:"Promise",stat:!0},{try:function(_){var y=d.f(this),g=f(_);return(g.error?y.reject:y.resolve)(g.value),y.promise}})},8812:(a,c,s)=>{s(1412)("asyncDispose")},9085:(a,c,s)=>{s(1412)("dispose")},7384:(a,c,s)=>{s(1412)("matcher")},4719:(a,c,s)=>{s(1412)("metadata")},2994:(a,c,s)=>{s(1412)("observable")},9431:(a,c,s)=>{s(1412)("patternMatch")},4803:(a,c,s)=>{s(1412)("replaceAll")},9702:(a,c,s)=>{s(2228);var u=s(315),d=s(2868),f=s(7499),_=s(8518),y=s(9418),g=s(5712)("toStringTag");for(var v in u){var m=d[v],h=m&&m.prototype;h&&f(h)!==g&&_(h,g,v),y[v]=y.Array}},5592:(a,c,s)=>{var u=s(390),d=s(2868),f=s(8307),_=s(6900),y=[].slice,g=function(v){return function(m,h){var P=arguments.length>2,p=P?y.call(arguments,2):void 0;return v(P?function(){(f(m)?m:Function(m)).apply(this,p)}:m,h)}};u({global:!0,bind:!0,forced:/MSIE .\./.test(_)},{setTimeout:g(d.setTimeout),setInterval:g(d.setInterval)})},504:(a,c,s)=>{var u=s(6678);a.exports=u},3366:(a,c,s)=>{var u=s(5441);a.exports=u},2038:(a,c,s)=>{var u=s(4452);a.exports=u},9842:(a,c,s)=>{var u=s(7543);a.exports=u},4263:(a,c,s)=>{var u=s(4571);a.exports=u},7757:(a,c,s)=>{s(9702);var u=s(504),d=s(7499),f=Array.prototype,_={DOMTokenList:!0,NodeList:!0};a.exports=function(y){var g=y.forEach;return y===f||y instanceof Array&&g===f.forEach||_.hasOwnProperty(d(y))?u:g}},6970:(a,c,s)=>{var u=s(9109);a.exports=u},5838:(a,c,s)=>{var u=s(4825);a.exports=u},9053:(a,c,s)=>{var u=s(3742);a.exports=u},671:(a,c,s)=>{var u=s(1285);a.exports=u},2672:(a,c,s)=>{var u=s(1879);a.exports=u},925:(a,c,s)=>{var u=s(3411);a.exports=u},8900:(a,c,s)=>{var u=s(8159);a.exports=u},9229:(a,c,s)=>{var u=s(8410);a.exports=u},995:(a,c,s)=>{var u=s(7209);a.exports=u},8730:(a,c,s)=>{var u=s(2529);a.exports=u},1066:(a,c,s)=>{var u=s(5886);a.exports=u},8531:(a,c,s)=>{var u=s(6854);a.exports=u},3751:(a,c,s)=>{var u=s(2744);a.exports=u},4731:(a,c,s)=>{var u=s(7281);s(9702),a.exports=u},3394:(a,c,s)=>{s(5592);var u=s(9081);a.exports=u.setInterval},7391:(a,c,s)=>{s(5592);var u=s(9081);a.exports=u.setTimeout},3355:(a,c,s)=>{var u=s(1442);s(9702),a.exports=u},6888:(a,c,s)=>{var u=s(1190);s(9702),a.exports=u},5390:(a,c,s)=>{var u=s(9490);s(9702),a.exports=u},6248:a=>{var c=function(s){var u,d=Object.prototype,f=d.hasOwnProperty,_=typeof Symbol=="function"?Symbol:{},y=_.iterator||"@@iterator",g=_.asyncIterator||"@@asyncIterator",v=_.toStringTag||"@@toStringTag";function m(L,M,W){return Object.defineProperty(L,M,{value:W,enumerable:!0,configurable:!0,writable:!0}),L[M]}try{m({},"")}catch{m=function(M,W,oe){return M[W]=oe}}function h(L,M,W,oe){var ce=M&&M.prototype instanceof j?M:j,ge=Object.create(ce.prototype),ve=new z(oe||[]);return ge._invoke=function(Ae,je,Ce){var T=p;return function(H,Q){if(T===O)throw new Error("Generator is already running");if(T===A){if(H==="throw")throw Q;return V()}for(Ce.method=H,Ce.arg=Q;;){var ue=Ce.delegate;if(ue){var ne=ie(ue,Ce);if(ne){if(ne===I)continue;return ne}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(T===p)throw T=A,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);T=O;var ye=P(Ae,je,Ce);if(ye.type==="normal"){if(T=Ce.done?A:R,ye.arg===I)continue;return{value:ye.arg,done:Ce.done}}ye.type==="throw"&&(T=A,Ce.method="throw",Ce.arg=ye.arg)}}}(L,W,ve),ge}function P(L,M,W){try{return{type:"normal",arg:L.call(M,W)}}catch(oe){return{type:"throw",arg:oe}}}s.wrap=h;var p="suspendedStart",R="suspendedYield",O="executing",A="completed",I={};function j(){}function U(){}function C(){}var x={};x[y]=function(){return this};var D=Object.getPrototypeOf,$=D&&D(D(B([])));$&&$!==d&&f.call($,y)&&(x=$);var K=C.prototype=j.prototype=Object.create(x);function ee(L){["next","throw","return"].forEach(function(M){m(L,M,function(W){return this._invoke(M,W)})})}function te(L,M){function W(ce,ge,ve,Ae){var je=P(L[ce],L,ge);if(je.type!=="throw"){var Ce=je.arg,T=Ce.value;return T&&typeof T=="object"&&f.call(T,"__await")?M.resolve(T.__await).then(function(H){W("next",H,ve,Ae)},function(H){W("throw",H,ve,Ae)}):M.resolve(T).then(function(H){Ce.value=H,ve(Ce)},function(H){return W("throw",H,ve,Ae)})}Ae(je.arg)}var oe;this._invoke=function(ce,ge){function ve(){return new M(function(Ae,je){W(ce,ge,Ae,je)})}return oe=oe?oe.then(ve,ve):ve()}}function ie(L,M){var W=L.iterator[M.method];if(W===u){if(M.delegate=null,M.method==="throw"){if(L.iterator.return&&(M.method="return",M.arg=u,ie(L,M),M.method==="throw"))return I;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var oe=P(W,L.iterator,M.arg);if(oe.type==="throw")return M.method="throw",M.arg=oe.arg,M.delegate=null,I;var ce=oe.arg;return ce?ce.done?(M[L.resultName]=ce.value,M.next=L.nextLoc,M.method!=="return"&&(M.method="next",M.arg=u),M.delegate=null,I):ce:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,I)}function G(L){var M={tryLoc:L[0]};1 in L&&(M.catchLoc=L[1]),2 in L&&(M.finallyLoc=L[2],M.afterLoc=L[3]),this.tryEntries.push(M)}function q(L){var M=L.completion||{};M.type="normal",delete M.arg,L.completion=M}function z(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(G,this),this.reset(!0)}function B(L){if(L){var M=L[y];if(M)return M.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var W=-1,oe=function ce(){for(;++W<L.length;)if(f.call(L,W))return ce.value=L[W],ce.done=!1,ce;return ce.value=u,ce.done=!0,ce};return oe.next=oe}}return{next:V}}function V(){return{value:u,done:!0}}return U.prototype=K.constructor=C,C.constructor=U,U.displayName=m(C,v,"GeneratorFunction"),s.isGeneratorFunction=function(L){var M=typeof L=="function"&&L.constructor;return!!M&&(M===U||(M.displayName||M.name)==="GeneratorFunction")},s.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,C):(L.__proto__=C,m(L,v,"GeneratorFunction")),L.prototype=Object.create(K),L},s.awrap=function(L){return{__await:L}},ee(te.prototype),te.prototype[g]=function(){return this},s.AsyncIterator=te,s.async=function(L,M,W,oe,ce){ce===void 0&&(ce=Promise);var ge=new te(h(L,M,W,oe),ce);return s.isGeneratorFunction(M)?ge:ge.next().then(function(ve){return ve.done?ve.value:ge.next()})},ee(K),m(K,v,"Generator"),K[y]=function(){return this},K.toString=function(){return"[object Generator]"},s.keys=function(L){var M=[];for(var W in L)M.push(W);return M.reverse(),function oe(){for(;M.length;){var ce=M.pop();if(ce in L)return oe.value=ce,oe.done=!1,oe}return oe.done=!0,oe}},s.values=B,z.prototype={constructor:z,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(q),!L)for(var M in this)M.charAt(0)==="t"&&f.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=u)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var M=this;function W(je,Ce){return ge.type="throw",ge.arg=L,M.next=je,Ce&&(M.method="next",M.arg=u),!!Ce}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ce=this.tryEntries[oe],ge=ce.completion;if(ce.tryLoc==="root")return W("end");if(ce.tryLoc<=this.prev){var ve=f.call(ce,"catchLoc"),Ae=f.call(ce,"finallyLoc");if(ve&&Ae){if(this.prev<ce.catchLoc)return W(ce.catchLoc,!0);if(this.prev<ce.finallyLoc)return W(ce.finallyLoc)}else if(ve){if(this.prev<ce.catchLoc)return W(ce.catchLoc,!0)}else{if(!Ae)throw new Error("try statement without catch or finally");if(this.prev<ce.finallyLoc)return W(ce.finallyLoc)}}}},abrupt:function(L,M){for(var W=this.tryEntries.length-1;W>=0;--W){var oe=this.tryEntries[W];if(oe.tryLoc<=this.prev&&f.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var ce=oe;break}}ce&&(L==="break"||L==="continue")&&ce.tryLoc<=M&&M<=ce.finallyLoc&&(ce=null);var ge=ce?ce.completion:{};return ge.type=L,ge.arg=M,ce?(this.method="next",this.next=ce.finallyLoc,I):this.complete(ge)},complete:function(L,M){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&M&&(this.next=M),I},finish:function(L){for(var M=this.tryEntries.length-1;M>=0;--M){var W=this.tryEntries[M];if(W.finallyLoc===L)return this.complete(W.completion,W.afterLoc),q(W),I}},catch:function(L){for(var M=this.tryEntries.length-1;M>=0;--M){var W=this.tryEntries[M];if(W.tryLoc===L){var oe=W.completion;if(oe.type==="throw"){var ce=oe.arg;q(W)}return ce}}throw new Error("illegal catch attempt")},delegateYield:function(L,M,W){return this.delegate={iterator:B(L),resultName:M,nextLoc:W},this.method==="next"&&(this.arg=u),I}},s}(a.exports);try{regeneratorRuntime=c}catch{Function("r","regeneratorRuntime = r")(c)}}},r={};function i(a){var c=r[a];if(c!==void 0)return c.exports;var s=r[a]={exports:{}};return n[a](s,s.exports,i),s.exports}i.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return i.d(c,{a:c}),c},i.d=(a,c)=>{for(var s in c)i.o(c,s)&&!i.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:c[s]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{AvoidLib:()=>Me});var a=i(5534);function c(N,Z,J,se,l,Le,Re){try{var xe=N[Le](Re),Ee=xe.value}catch(De){return void J(De)}xe.done?Z(Ee):a.resolve(Ee).then(se,l)}var s=i(2043),u=i.n(s),d=i(4215),f=i(6496);function _(N){return(_=typeof d=="function"&&typeof f=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof d=="function"&&Z.constructor===d&&Z!==d.prototype?"symbol":typeof Z})(N)}var y,g=i(2250),v=i.n(g),m=i(337),h=i.n(m),P=i(5629),p=i.n(P),R=i(1246),O=i.n(R),A=i(5391),I=i.n(A),j=i(5268),U=i.n(j),C=i(2010),x=i.n(C),D=i(3815),$=i.n(D),K=i(3033),ee=i.n(K),te=i(5407),ie=i.n(te),G=i(2926),q=i.n(G),z=i(1022),B=i.n(z),V=i(5157),L=i.n(V),M=i(6028),W=i.n(M),oe=i(7423),ce=i.n(oe),ge=i(3915),ve=i.n(ge),Ae=i(1884),je=i.n(Ae),Ce=i(9837),T=i.n(Ce),H=i(7093),Q=i.n(H),ue=i(3576),ne=i.n(ue),ye=i(3933),we=i.n(ye),be=i(4559),Pe=i.n(be);const le=(y=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0,function(N){var Z,J,se,l,Le,Re;N=N||{},l||(l=N!==void 0?N:{}),l.ready=new(v())(function(b,E){Le=b,Re=E}),h()(l.ready,"_emscripten_bind_VoidPtr___destroy___0")||(p()(l.ready,"_emscripten_bind_VoidPtr___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VoidPtr___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VoidPtr___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VoidPtr___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover_HyperedgeImprover_0")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover_HyperedgeImprover_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover_HyperedgeImprover_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover_HyperedgeImprover_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover_HyperedgeImprover_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover_clear_0")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover_clear_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover_clear_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover_setRouter_1")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover_setRouter_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover_setRouter_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover_setRouter_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover_setRouter_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeImprover___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeImprover___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeImprover___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeImprover___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeImprover___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_Box_0")||(p()(l.ready,"_emscripten_bind_Box_Box_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_Box_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_Box_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_Box_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_length_1")||(p()(l.ready,"_emscripten_bind_Box_length_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_length_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_length_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_length_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_width_0")||(p()(l.ready,"_emscripten_bind_Box_width_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_width_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_width_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_width_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_height_0")||(p()(l.ready,"_emscripten_bind_Box_height_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_height_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_height_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_height_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_get_min_0")||(p()(l.ready,"_emscripten_bind_Box_get_min_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_get_min_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_get_min_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_get_min_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_set_min_1")||(p()(l.ready,"_emscripten_bind_Box_set_min_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_set_min_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_set_min_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_set_min_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_get_max_0")||(p()(l.ready,"_emscripten_bind_Box_get_max_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_get_max_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_get_max_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_get_max_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box_set_max_1")||(p()(l.ready,"_emscripten_bind_Box_set_max_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box_set_max_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box_set_max_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box_set_max_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Box___destroy___0")||(p()(l.ready,"_emscripten_bind_Box___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Box___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Box___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Box___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_clear_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_clear_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_clear_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_clear_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_empty_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_empty_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_empty_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_empty_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_empty_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_size_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_size_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_size_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_id_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_at_1")||(p()(l.ready,"_emscripten_bind_PolygonInterface_at_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_at_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_at_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_at_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_boundingRectPolygon_0")||(p()(l.ready,"_emscripten_bind_PolygonInterface_boundingRectPolygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_boundingRectPolygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_boundingRectPolygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_boundingRectPolygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_offsetBoundingBox_1")||(p()(l.ready,"_emscripten_bind_PolygonInterface_offsetBoundingBox_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_offsetBoundingBox_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_offsetBoundingBox_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_offsetBoundingBox_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface_offsetPolygon_1")||(p()(l.ready,"_emscripten_bind_PolygonInterface_offsetPolygon_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface_offsetPolygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface_offsetPolygon_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface_offsetPolygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_PolygonInterface___destroy___0")||(p()(l.ready,"_emscripten_bind_PolygonInterface___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_PolygonInterface___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_PolygonInterface___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_PolygonInterface___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_Polygon_0")||(p()(l.ready,"_emscripten_bind_Polygon_Polygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_Polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_Polygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_Polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_Polygon_1")||(p()(l.ready,"_emscripten_bind_Polygon_Polygon_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_Polygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_Polygon_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_Polygon_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_setPoint_2")||(p()(l.ready,"_emscripten_bind_Polygon_setPoint_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_setPoint_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_setPoint_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_setPoint_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_size_0")||(p()(l.ready,"_emscripten_bind_Polygon_size_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_size_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_size_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_get_ps_1")||(p()(l.ready,"_emscripten_bind_Polygon_get_ps_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_get_ps_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_get_ps_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_get_ps_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon_set_ps_2")||(p()(l.ready,"_emscripten_bind_Polygon_set_ps_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon_set_ps_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon_set_ps_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon_set_ps_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Polygon___destroy___0")||(p()(l.ready,"_emscripten_bind_Polygon___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Polygon___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Polygon___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Polygon___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_Point_0")||(p()(l.ready,"_emscripten_bind_Point_Point_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_Point_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_Point_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_Point_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_Point_2")||(p()(l.ready,"_emscripten_bind_Point_Point_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_Point_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_Point_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_Point_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_equal_1")||(p()(l.ready,"_emscripten_bind_Point_equal_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_equal_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_equal_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_equal_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_x_0")||(p()(l.ready,"_emscripten_bind_Point_get_x_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_x_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_x_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_x_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_x_1")||(p()(l.ready,"_emscripten_bind_Point_set_x_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_x_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_x_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_x_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_y_0")||(p()(l.ready,"_emscripten_bind_Point_get_y_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_y_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_y_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_y_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_y_1")||(p()(l.ready,"_emscripten_bind_Point_set_y_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_y_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_y_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_y_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_id_0")||(p()(l.ready,"_emscripten_bind_Point_get_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_id_1")||(p()(l.ready,"_emscripten_bind_Point_set_id_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_id_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_id_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_id_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_get_vn_0")||(p()(l.ready,"_emscripten_bind_Point_get_vn_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_get_vn_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point_set_vn_1")||(p()(l.ready,"_emscripten_bind_Point_set_vn_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point_set_vn_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Point___destroy___0")||(p()(l.ready,"_emscripten_bind_Point___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Point___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Point___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Point___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Rectangle_Rectangle_3")||(p()(l.ready,"_emscripten_bind_Rectangle_Rectangle_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Rectangle_Rectangle_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Rectangle_Rectangle_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Rectangle_Rectangle_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Rectangle___destroy___0")||(p()(l.ready,"_emscripten_bind_Rectangle___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Rectangle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Rectangle___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Rectangle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeNode___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeNode___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeNode___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeNode___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeNode___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeTreeEdge___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeTreeEdge___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeTreeEdge___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeTreeEdge___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_AStarPath_AStarPath_0")||(p()(l.ready,"_emscripten_bind_AStarPath_AStarPath_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_AStarPath_AStarPath_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_AStarPath_AStarPath_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_AStarPath_AStarPath_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_AStarPath_search_4")||(p()(l.ready,"_emscripten_bind_AStarPath_search_4",{configurable:!0,get:function(){S("You are getting _emscripten_bind_AStarPath_search_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_AStarPath_search_4",{configurable:!0,set:function(){S("You are setting _emscripten_bind_AStarPath_search_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_AStarPath___destroy___0")||(p()(l.ready,"_emscripten_bind_AStarPath___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_AStarPath___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_AStarPath___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_AStarPath___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_1")||(p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnEnd_ConnEnd_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnEnd_ConnEnd_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_2")||(p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnEnd_ConnEnd_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnEnd_ConnEnd_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnEnd_ConnEnd_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnEnd___destroy___0")||(p()(l.ready,"_emscripten_bind_ConnEnd___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnEnd___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnEnd___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnEnd___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_2")||(p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_ActionInfo_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_ActionInfo_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_3")||(p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_ActionInfo_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_ActionInfo_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_4")||(p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_4",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_ActionInfo_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_ActionInfo_4",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_ActionInfo_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_obstacle_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_obstacle_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_obstacle_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_obstacle_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_obstacle_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_shape_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_shape_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_shape_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_shape_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_shape_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_conn_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_conn_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_conn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_conn_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_conn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_junction_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_junction_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_junction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_junction_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_junction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_addConnEndUpdate_3")||(p()(l.ready,"_emscripten_bind_ActionInfo_addConnEndUpdate_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_addConnEndUpdate_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_addConnEndUpdate_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_addConnEndUpdate_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_type_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_type_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_type_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_type_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_type_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_type_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_type_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_type_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_type_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_type_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_objPtr_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_objPtr_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_objPtr_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_objPtr_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_objPtr_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_objPtr_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_objPtr_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_objPtr_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_objPtr_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_objPtr_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_newPoly_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_newPoly_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_newPoly_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_newPoly_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_newPoly_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_newPoly_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_newPoly_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_newPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_newPoly_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_newPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_newPosition_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_newPosition_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_newPosition_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_newPosition_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_newPosition_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_newPosition_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_newPosition_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_newPosition_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_newPosition_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_newPosition_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_get_firstMove_0")||(p()(l.ready,"_emscripten_bind_ActionInfo_get_firstMove_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_get_firstMove_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_get_firstMove_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_get_firstMove_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo_set_firstMove_1")||(p()(l.ready,"_emscripten_bind_ActionInfo_set_firstMove_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo_set_firstMove_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo_set_firstMove_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo_set_firstMove_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ActionInfo___destroy___0")||(p()(l.ready,"_emscripten_bind_ActionInfo___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ActionInfo___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ActionInfo___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ActionInfo___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_setConnectionCost_1")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setConnectionCost_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_setConnectionCost_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setConnectionCost_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_setConnectionCost_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_1")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_position_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_position_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_position_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_directions_0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_directions_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_directions_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_directions_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_directions_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_setExclusive_1")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setExclusive_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_setExclusive_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_setExclusive_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_setExclusive_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin_isExclusive_0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin_isExclusive_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin_isExclusive_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin_isExclusive_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin_isExclusive_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeConnectionPin___destroy___0")||(p()(l.ready,"_emscripten_bind_ShapeConnectionPin___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeConnectionPin___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeConnectionPin___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeConnectionPin___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_id_0")||(p()(l.ready,"_emscripten_bind_Obstacle_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_polygon_0")||(p()(l.ready,"_emscripten_bind_Obstacle_polygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_polygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_router_0")||(p()(l.ready,"_emscripten_bind_Obstacle_router_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_router_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_router_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_router_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_position_0")||(p()(l.ready,"_emscripten_bind_Obstacle_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle_setNewPoly_1")||(p()(l.ready,"_emscripten_bind_Obstacle_setNewPoly_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle_setNewPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle_setNewPoly_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle_setNewPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Obstacle___destroy___0")||(p()(l.ready,"_emscripten_bind_Obstacle___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Obstacle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Obstacle___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Obstacle___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_2")||(p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef_JunctionRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef_JunctionRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_3")||(p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef_JunctionRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef_JunctionRef_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef_JunctionRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef_position_0")||(p()(l.ready,"_emscripten_bind_JunctionRef_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_JunctionRef___destroy___0")||(p()(l.ready,"_emscripten_bind_JunctionRef___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_JunctionRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_JunctionRef___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_JunctionRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_2")||(p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_ShapeRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_ShapeRef_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_3")||(p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_ShapeRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_ShapeRef_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_ShapeRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_polygon_0")||(p()(l.ready,"_emscripten_bind_ShapeRef_polygon_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_polygon_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_polygon_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_position_0")||(p()(l.ready,"_emscripten_bind_ShapeRef_position_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_position_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_position_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef_setNewPoly_1")||(p()(l.ready,"_emscripten_bind_ShapeRef_setNewPoly_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef_setNewPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef_setNewPoly_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef_setNewPoly_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ShapeRef___destroy___0")||(p()(l.ready,"_emscripten_bind_ShapeRef___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ShapeRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ShapeRef___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ShapeRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0")||(p()(l.ready,"_emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1")||(p()(l.ready,"_emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_HyperedgeRerouter___destroy___0")||(p()(l.ready,"_emscripten_bind_HyperedgeRerouter___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_HyperedgeRerouter___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_HyperedgeRerouter___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_HyperedgeRerouter___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertInf___destroy___0")||(p()(l.ready,"_emscripten_bind_VertInf___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertInf___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_VertID_0")||(p()(l.ready,"_emscripten_bind_VertID_VertID_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_VertID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_VertID_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_VertID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_VertID_2")||(p()(l.ready,"_emscripten_bind_VertID_VertID_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_VertID_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_VertID_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_VertID_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_VertID_3")||(p()(l.ready,"_emscripten_bind_VertID_VertID_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_VertID_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_VertID_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_VertID_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_objID_0")||(p()(l.ready,"_emscripten_bind_VertID_get_objID_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_objID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_objID_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_objID_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_set_objID_1")||(p()(l.ready,"_emscripten_bind_VertID_set_objID_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_set_objID_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_set_objID_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_set_objID_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_vn_0")||(p()(l.ready,"_emscripten_bind_VertID_get_vn_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_vn_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_vn_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_set_vn_1")||(p()(l.ready,"_emscripten_bind_VertID_set_vn_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_set_vn_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_set_vn_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_props_0")||(p()(l.ready,"_emscripten_bind_VertID_get_props_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_props_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_props_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_props_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_set_props_1")||(p()(l.ready,"_emscripten_bind_VertID_set_props_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_set_props_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_set_props_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_set_props_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_src_0")||(p()(l.ready,"_emscripten_bind_VertID_get_src_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_src_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_src_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_src_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_tar_0")||(p()(l.ready,"_emscripten_bind_VertID_get_tar_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_tar_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_tar_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_tar_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnPoint_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnPoint_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_ConnPoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnPoint_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_ConnPoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_OrthShapeEdge_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_OrthShapeEdge_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_OrthShapeEdge_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_OrthShapeEdge_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_OrthShapeEdge_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnectionPin_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnectionPin_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_ConnectionPin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnectionPin_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_ConnectionPin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnCheckpoint_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnCheckpoint_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_ConnCheckpoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_ConnCheckpoint_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_ConnCheckpoint_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID_get_PROP_DummyPinHelper_0")||(p()(l.ready,"_emscripten_bind_VertID_get_PROP_DummyPinHelper_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID_get_PROP_DummyPinHelper_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID_get_PROP_DummyPinHelper_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID_get_PROP_DummyPinHelper_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_VertID___destroy___0")||(p()(l.ready,"_emscripten_bind_VertID___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_VertID___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_VertID___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_VertID___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_MinimumTerminalSpanningTree___destroy___0")||(p()(l.ready,"_emscripten_bind_MinimumTerminalSpanningTree___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_MinimumTerminalSpanningTree___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_MinimumTerminalSpanningTree___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_MinimumTerminalSpanningTree___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Checkpoint_Checkpoint_1")||(p()(l.ready,"_emscripten_bind_Checkpoint_Checkpoint_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Checkpoint_Checkpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Checkpoint_Checkpoint_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Checkpoint_Checkpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Checkpoint___destroy___0")||(p()(l.ready,"_emscripten_bind_Checkpoint___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Checkpoint___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Checkpoint___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Checkpoint___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_ConnRef_3")||(p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_ConnRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_ConnRef_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_ConnRef_4")||(p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_4",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_ConnRef_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_ConnRef_4",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_ConnRef_4 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_id_0")||(p()(l.ready,"_emscripten_bind_ConnRef_id_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_id_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_id_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setCallback_2")||(p()(l.ready,"_emscripten_bind_ConnRef_setCallback_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setCallback_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setCallback_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setCallback_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setSourceEndpoint_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setSourceEndpoint_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setSourceEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setSourceEndpoint_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setSourceEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setDestEndpoint_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setDestEndpoint_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setDestEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setDestEndpoint_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setDestEndpoint_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_routingType_0")||(p()(l.ready,"_emscripten_bind_ConnRef_routingType_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_routingType_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_routingType_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_routingType_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setRoutingType_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setRoutingType_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setRoutingType_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setRoutingType_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setRoutingType_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_displayRoute_0")||(p()(l.ready,"_emscripten_bind_ConnRef_displayRoute_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_displayRoute_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_displayRoute_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_displayRoute_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_setHateCrossings_1")||(p()(l.ready,"_emscripten_bind_ConnRef_setHateCrossings_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_setHateCrossings_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_setHateCrossings_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_setHateCrossings_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef_doesHateCrossings_0")||(p()(l.ready,"_emscripten_bind_ConnRef_doesHateCrossings_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef_doesHateCrossings_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef_doesHateCrossings_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef_doesHateCrossings_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_ConnRef___destroy___0")||(p()(l.ready,"_emscripten_bind_ConnRef___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_ConnRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_ConnRef___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_ConnRef___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_2")||(p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_EdgeInf_EdgeInf_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_EdgeInf_EdgeInf_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_3")||(p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_EdgeInf_EdgeInf_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_EdgeInf_EdgeInf_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_EdgeInf_EdgeInf_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_EdgeInf___destroy___0")||(p()(l.ready,"_emscripten_bind_EdgeInf___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_EdgeInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_EdgeInf___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_EdgeInf___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_get_begin_0")||(p()(l.ready,"_emscripten_bind_LineRep_get_begin_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_get_begin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_get_begin_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_get_begin_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_set_begin_1")||(p()(l.ready,"_emscripten_bind_LineRep_set_begin_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_set_begin_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_set_begin_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_set_begin_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_get_end_0")||(p()(l.ready,"_emscripten_bind_LineRep_get_end_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_get_end_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_get_end_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_get_end_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep_set_end_1")||(p()(l.ready,"_emscripten_bind_LineRep_set_end_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep_set_end_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep_set_end_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep_set_end_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_LineRep___destroy___0")||(p()(l.ready,"_emscripten_bind_LineRep___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_LineRep___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_LineRep___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_LineRep___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_Router_1")||(p()(l.ready,"_emscripten_bind_Router_Router_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_Router_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_Router_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_Router_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_processTransaction_0")||(p()(l.ready,"_emscripten_bind_Router_processTransaction_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_processTransaction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_processTransaction_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_processTransaction_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_printInfo_0")||(p()(l.ready,"_emscripten_bind_Router_printInfo_0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_printInfo_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_printInfo_0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_printInfo_0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_deleteConnector_1")||(p()(l.ready,"_emscripten_bind_Router_deleteConnector_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_deleteConnector_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_deleteConnector_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_deleteConnector_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_moveShape_2")||(p()(l.ready,"_emscripten_bind_Router_moveShape_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_moveShape_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_moveShape_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_moveShape_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_moveShape_3")||(p()(l.ready,"_emscripten_bind_Router_moveShape_3",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_moveShape_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_moveShape_3",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_moveShape_3 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_deleteShape_1")||(p()(l.ready,"_emscripten_bind_Router_deleteShape_1",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_deleteShape_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_deleteShape_1",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_deleteShape_1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_setRoutingParameter_2")||(p()(l.ready,"_emscripten_bind_Router_setRoutingParameter_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_setRoutingParameter_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_setRoutingParameter_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_setRoutingParameter_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router_setRoutingOption_2")||(p()(l.ready,"_emscripten_bind_Router_setRoutingOption_2",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router_setRoutingOption_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router_setRoutingOption_2",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router_setRoutingOption_2 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_bind_Router___destroy___0")||(p()(l.ready,"_emscripten_bind_Router___destroy___0",{configurable:!0,get:function(){S("You are getting _emscripten_bind_Router___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_bind_Router___destroy___0",{configurable:!0,set:function(){S("You are setting _emscripten_bind_Router___destroy___0 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirNone")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirNone",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirNone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirNone",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirNone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirUp")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirUp",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirUp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirUp",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirUp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirDown")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirDown",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirDown on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirDown",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirDown on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirRight")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirRight",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirRight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirRight",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirRight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirAll")||(p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirAll",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnDirFlag_ConnDirAll on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnDirFlag_ConnDirAll",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnDirFlag_ConnDirAll on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndPoint")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndPoint",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndPoint",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndShapePin")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndShapePin",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndShapePin on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndShapePin",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndShapePin on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndJunction")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndJunction",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndJunction on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndJunction",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndJunction on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndEmpty")||(p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndEmpty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnEndType_ConnEndEmpty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnEndType_ConnEndEmpty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnEndType_ConnEndEmpty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeMove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeMove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ShapeMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeMove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ShapeMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeAdd")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeAdd",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ShapeAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeAdd",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ShapeAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeRemove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeRemove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ShapeRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ShapeRemove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ShapeRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionMove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionMove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_JunctionMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionMove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_JunctionMove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionAdd")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionAdd",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_JunctionAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionAdd",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_JunctionAdd on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionRemove")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionRemove",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_JunctionRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_JunctionRemove",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_JunctionRemove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnChange")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnChange",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ConnChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnChange",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ConnChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnectionPinChange")||(p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnectionPinChange",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ActionType_ConnectionPinChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ActionType_ConnectionPinChange",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ActionType_ConnectionPinChange on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY")||(p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_None")||(p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_None",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnType_ConnType_None on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_None",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnType_ConnType_None on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_PolyLine")||(p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_PolyLine",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnType_ConnType_PolyLine on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_PolyLine",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnType_ConnType_PolyLine on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_Orthogonal")||(p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_Orthogonal",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_ConnType_ConnType_Orthogonal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_ConnType_ConnType_Orthogonal",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_ConnType_ConnType_Orthogonal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RouterFlag_PolyLineRouting")||(p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_PolyLineRouting",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RouterFlag_PolyLineRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_PolyLineRouting",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RouterFlag_PolyLineRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RouterFlag_OrthogonalRouting")||(p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_OrthogonalRouting",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RouterFlag_OrthogonalRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RouterFlag_OrthogonalRouting",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RouterFlag_OrthogonalRouting on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_segmentPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_segmentPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_segmentPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_segmentPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_segmentPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_anglePenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_anglePenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_anglePenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_anglePenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_anglePenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_crossingPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_crossingPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_crossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_crossingPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_crossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint")||(p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint",{configurable:!0,get:function(){S("You are getting _emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"_emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint",{configurable:!0,set:function(){S("You are setting _emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"___stdio_exit")||(p()(l.ready,"___stdio_exit",{configurable:!0,get:function(){S("You are getting ___stdio_exit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"___stdio_exit",{configurable:!0,set:function(){S("You are setting ___stdio_exit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),h()(l.ready,"onRuntimeInitialized")||(p()(l.ready,"onRuntimeInitialized",{configurable:!0,get:function(){S("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),p()(l.ready,"onRuntimeInitialized",{configurable:!0,set:function(){S("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var xe=O()({},l),Ee="./this.program";if(l.ENVIRONMENT)throw Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var De="";if(typeof document!="undefined"&&document.currentScript&&(De=document.currentScript.src),y&&(De=y),De=I()(De).call(De,"blob:")!==0?De.substr(0,U()(Z=De.replace(/[?#].*/,"")).call(Z,"/")+1):"",(typeof window=="undefined"?"undefined":_(window))!="object"&&typeof importScripts!="function")throw Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var $e=l.print||x()(J=console.log).call(J,console),de=l.printErr||x()(se=console.warn).call(se,console);function Ie(b){Ne||(Ne={}),Ne[b]||(Ne[b]=1,de(b))}O()(l,xe),xe=null,h()(l,"fetchSettings")&&S("`Module.fetchSettings` was supplied but `fetchSettings` not included in INCOMING_MODULE_JS_API"),Te("arguments","arguments_"),l.thisProgram&&(Ee=l.thisProgram),Te("thisProgram","thisProgram"),Te("quit","quit_"),Fe(l.memoryInitializerPrefixURL===void 0,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),Fe(l.pthreadMainPrefixURL===void 0,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),Fe(l.cdInitializerPrefixURL===void 0,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),Fe(l.filePackagePrefixURL===void 0,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),Fe(l.read===void 0,"Module.read option was removed (modify read_ in JS)"),Fe(l.readAsync===void 0,"Module.readAsync option was removed (modify readAsync in JS)"),Fe(l.readBinary===void 0,"Module.readBinary option was removed (modify readBinary in JS)"),Fe(l.setWindowTitle===void 0,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),Fe(l.TOTAL_MEMORY===void 0,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Te("read","read_"),Te("readAsync","readAsync"),Te("readBinary","readBinary"),Te("setWindowTitle","setWindowTitle"),Fe(!0,"worker environment detected but not enabled at build time.  Add 'worker' to `-s ENVIRONMENT` to enable."),Fe(!0,"node environment detected but not enabled at build time.  Add 'node' to `-s ENVIRONMENT` to enable."),Fe(!0,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.");var Ne,_e,Oe=[];function Te(b,E){h()(l,b)||p()(l,b,{configurable:!0,get:function(){S("Module."+b+" has been replaced with plain "+E+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function He(b,E){return b="'"+b+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)",E&&(b+=". Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you"),b}function _t(b){h()(l,b)||p()(l,b,{configurable:!0,get:function(){S(He(b,!1))}})}function F(b,E){h()(l,b)||(l[b]=function(){return S(He(b,E))})}var jt,Et=0;l.wasmBinary&&(jt=l.wasmBinary),Te("wasmBinary","wasmBinary"),l.noExitRuntime,Te("noExitRuntime","noExitRuntime"),(typeof WebAssembly=="undefined"?"undefined":_(WebAssembly))!="object"&&S("no native wasm support detected");var br,vn=!1;function Fe(b,E){b||S("Assertion failed"+(E?": "+E:""))}var To,Pr,Li,Xe,ad,$_=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function V_(b,E,k){var X=E+k;for(k=E;b[k]&&!(k>=X);)++k;if(16<k-E&&b.buffer&&$_)return $_.decode(b.subarray(E,k));for(X="";E<k;){var re=b[E++];if(128&re){var pe=63&b[E++];if((224&re)==192)X+=String.fromCharCode((31&re)<<6|pe);else{var me=63&b[E++];(240&re)==224?re=(15&re)<<12|pe<<6|me:((248&re)!=240&&Ie("Invalid UTF-8 leading byte 0x"+re.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),re=(7&re)<<18|pe<<12|me<<6|63&b[E++]),65536>re?X+=String.fromCharCode(re):(re-=65536,X+=String.fromCharCode(55296|re>>10,56320|1023&re))}}else X+=String.fromCharCode(re)}return X}function Lo(b){return b?V_(Li,b,void 0):""}function H_(){var b=br.buffer;To=b,l.HEAP8=Pr=new Int8Array(b),l.HEAP16=new Int16Array(b),l.HEAP32=Xe=new Int32Array(b),l.HEAPU8=Li=new Uint8Array(b),l.HEAPU16=new Uint16Array(b),l.HEAPU32=ad=new Uint32Array(b),l.HEAPF32=new Float32Array(b),l.HEAPF64=new Float64Array(b)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),l.TOTAL_STACK&&Fe(l.TOTAL_STACK===5242880,"the stack size can no longer be determined at runtime");var wr,sd=l.INITIAL_MEMORY||16777216;function K_(){var b=fd();Fe((3&b)==0),Xe[b>>2]=34821223,Xe[b+4>>2]=2310721022,Xe[0]=1668509029}function gs(){if(!vn){var b=fd(),E=ad[b>>2];b=ad[b+4>>2],E==34821223&&b==2310721022||S("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+b.toString(16)+" 0x"+E.toString(16)),Xe[0]!==1668509029&&S("Runtime error: The application has corrupted its heap memory area (address zero)!")}}Te("INITIAL_MEMORY","INITIAL_MEMORY"),Fe(5242880<=sd,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+sd+"! (TOTAL_STACK=5242880)"),Fe(typeof Int32Array!="undefined"&&typeof Float64Array!="undefined"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),Fe(!l.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),Fe(sd==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var z_=new Int16Array(1),Z_=new Int8Array(z_.buffer);if(z_[0]=25459,Z_[0]!==115||Z_[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)";var q_=[],cd=[],W_=[],ys=!1;function ob(){var b=l.preRun.shift();q_.unshift(b)}Fe($(),"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Fe(ee(),"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Fe(ie(),"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),Fe(q(),"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var cn,qr=0,Wr=null,Uo=null,No={};function S(b){throw l.onAbort&&l.onAbort(b),de(b="Aborted("+b+")"),vn=!0,b=new WebAssembly.RuntimeError(b),Re(b),b}function G_(){S("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")}function J_(){return L()(cn).call(cn,"data:application/octet-stream;base64,")}function Y(b){return function(){var E=l.asm;return Fe(ys,"native function `"+b+"` called before runtime initialization"),E[b]||Fe(E[b],"exported native function `"+b+"` not found"),E[b].apply(null,arguments)}}if(l.preloadedImages={},l.preloadedAudios={},l.FS_createDataFile=function(){G_()},l.FS_createPreloadedFile=function(){G_()},cn="libavoid.wasm",!J_()){var X_=cn;cn=l.locateFile?l.locateFile(X_,De):De+X_}function Q_(){var b=cn;try{if(b==cn&&jt)return new Uint8Array(jt);throw"both async and sync fetching of the wasm failed"}catch(E){S(E)}}function ud(b){for(;0<b.length;){var E=b.shift();if(typeof E=="function")E(l);else{var k=E.Ka;typeof k=="number"?E.H===void 0?Qe(k)():Qe(k)(E.H):k(E.H===void 0?null:E.H)}}}var Ui=[];function Qe(b){var E=Ui[b];return E||(b>=Ui.length&&(Ui.length=b+1),Ui[b]=E=wr.get(b)),Fe(wr.get(b)==E,"JavaScript-side Wasm function table mirror is out of date!"),E}function ko(b){this.P=b,this.g=b-16,this.M=function(E){Xe[this.g+4>>2]=E},this.A=function(){return Xe[this.g+4>>2]},this.C=function(E){Xe[this.g+8>>2]=E},this.aa=function(){return Xe[this.g+8>>2]},this.D=function(){Xe[this.g>>2]=0},this.K=function(E){Pr[this.g+12>>0]=E?1:0},this.$=function(){return Pr[this.g+12>>0]!=0},this.L=function(E){Pr[this.g+13>>0]=E?1:0},this.R=function(){return Pr[this.g+13>>0]!=0},this.u=function(E,k){this.M(E),this.C(k),this.D(),this.K(!1),this.L(!1)},this.T=function(){Xe[this.g>>2]+=1},this.ra=function(){var E=Xe[this.g>>2];return Xe[this.g>>2]=E-1,Fe(0<E),E===1}}function Fo(b){this.I=function(){ap(this.g),this.g=0},this.S=function(E){Xe[this.g>>2]=E},this.v=function(){return Xe[this.g>>2]},this.u=function(E){Xe[this.g+4>>2]=E},this.C=function(){return this.g+4},this.qa=function(){return Xe[this.g+4>>2]},this.D=function(){if(Kw(this.B().A()))return Xe[this.v()>>2];var E=this.qa();return E!==0?E:this.v()},this.B=function(){return new ko(this.v())},b===void 0?(this.g=op(8),this.u(0)):this.g=b}var Bo=[],ms=0,Gr=0;function ep(b){try{return ap(new ko(b).g)}catch(E){de("exception during cxa_free_exception: "+E)}}var dd={};function tp(){if(!ld){var b,E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:((typeof navigator=="undefined"?"undefined":_(navigator))=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ee||"./this.program"};for(b in dd)dd[b]===void 0?delete E[b]:E[b]=dd[b];var k=[];for(b in E)k.push(b+"="+E[b]);ld=k}return ld}var ld,ab=[null,[],[]];function vs(b){return b%4==0&&(b%100!=0||b%400==0)}var np=[31,29,31,30,31,30,31,31,30,31,30,31],rp=[31,28,31,30,31,30,31,31,30,31,30,31],ip={__assert_fail:function(b,E,k,X){S("Assertion failed: "+Lo(b)+", at: "+[E?Lo(E):"unknown filename",k,X?Lo(X):"unknown function"])},__cxa_allocate_exception:function(b){return op(b+16)+16},__cxa_begin_catch:function(b){var E=(b=new Fo(b)).B();return E.$()||(E.K(!0),ms--),E.L(!1),Bo.push(b),E.T(),b.D()},__cxa_end_catch:function(){nt(0),Fe(0<Bo.length);var b=Bo.pop(),E=b.B();if(E.ra()&&!E.R()){var k=E.aa();k&&Qe(k)(E.P),ep(E.P)}b.I(),Gr=0},__cxa_find_matching_catch_2:function(){var b=Gr;if(!b)return Et=0;var E=new ko(b).A(),k=new Fo;if(k.S(b),k.u(b),!E)return Et=0,0|k.g;b=W()(Array.prototype).call(arguments);for(var X=0;X<b.length;X++){var re=b[X];if(re===0||re===E)break;if(cp(re,E,k.C()))return Et=re,0|k.g}return Et=E,0|k.g},__cxa_find_matching_catch_3:function(){var b=Gr;if(!b)return Et=0;var E=new ko(b).A(),k=new Fo;if(k.S(b),k.u(b),!E)return Et=0,0|k.g;b=W()(Array.prototype).call(arguments);for(var X=0;X<b.length;X++){var re=b[X];if(re===0||re===E)break;if(cp(re,E,k.C()))return Et=re,0|k.g}return Et=E,0|k.g},__cxa_free_exception:ep,__cxa_get_exception_ptr:function(b){return new Fo(b).D()},__cxa_rethrow:function(){var b=Bo.pop();b||S("no exception to throw");var E=b.B(),k=b.v();throw E.R()?b.I():(Bo.push(b),E.L(!0),E.K(!1),ms++),Gr=k,k},__cxa_throw:function(b,E,k){throw new ko(b).u(E,k),Gr=b,ms++,b},__cxa_uncaught_exceptions:function(){return ms},__resumeException:function(b){var E=(b=new Fo(b)).v();throw Gr||(Gr=E),b.I(),E},_emscripten_date_now:function(){return ve()()},abort:function(){S("native code called abort()")},array_bounds_check_error:function(b,E){throw"Array index "+b+" out of bounds: [0,"+E+")"},emscripten_memcpy_big:function(b,E,k){je()(Li).call(Li,b,E,E+k)},emscripten_resize_heap:function(b){var E=Li.length;if(Fe((b>>>=0)>E),2147483648<b)return de("Cannot enlarge memory, asked to go up to "+b+" bytes, but the limit is 2147483648 bytes!"),!1;for(var k=1;4>=k;k*=2){var X=E*(1+.2/k);X=Math.min(X,b+100663296);var re=Math;X=Math.max(b,X);e:{X=re=re.min.call(re,2147483648,X+(65536-X%65536)%65536);try{br.grow(X-To.byteLength+65535>>>16),H_();var pe=1;break e}catch(me){de("emscripten_realloc_buffer: Attempted to grow heap from "+To.byteLength+" bytes to "+X+" bytes, but got error: "+me)}pe=void 0}if(pe)return!0}return de("Failed to grow the heap from "+E+" bytes to "+re+" bytes, not enough memory!"),!1},environ_get:function(b,E){var k,X=0;return T()(k=tp()).call(k,function(re,pe){var me=E+X;for(pe=Xe[b+4*pe>>2]=me,me=0;me<re.length;++me)Fe(re.charCodeAt(me)===(255&re.charCodeAt(me))),Pr[pe++>>0]=re.charCodeAt(me);Pr[pe>>0]=0,X+=re.length+1}),0},environ_sizes_get:function(b,E){var k=tp();Xe[b>>2]=k.length;var X=0;return T()(k).call(k,function(re){X+=re.length+1}),Xe[E>>2]=X,0},fd_close:function(){return S("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM"),0},fd_seek:function(){S("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")},fd_write:function(b,E,k,X){for(var re=0,pe=0;pe<k;pe++){var me=Xe[E>>2],ke=Xe[E+4>>2];E+=8;for(var ct=0;ct<ke;ct++){var et=b,wn=Li[me+ct],un=ab[et];Fe(un),wn===0||wn===10?((et===1?$e:de)(V_(un,0)),un.length=0):un.push(wn)}re+=ke}return Xe[X>>2]=re,0},getTempRet0:function(){return Et},invoke_di:function(b,E){var k=it();try{return Qe(b)(E)}catch(X){if(ot(k),X!==X+0)throw X;nt(1,0)}},invoke_didiii:function(b,E,k,X,re,pe){var me=it();try{return Qe(b)(E,k,X,re,pe)}catch(ke){if(ot(me),ke!==ke+0)throw ke;nt(1,0)}},invoke_dii:function(b,E,k){var X=it();try{return Qe(b)(E,k)}catch(re){if(ot(X),re!==re+0)throw re;nt(1,0)}},invoke_diiii:function(b,E,k,X,re){var pe=it();try{return Qe(b)(E,k,X,re)}catch(me){if(ot(pe),me!==me+0)throw me;nt(1,0)}},invoke_i:function(b){var E=it();try{return Qe(b)()}catch(k){if(ot(E),k!==k+0)throw k;nt(1,0)}},invoke_iddddddd:function(b,E,k,X,re,pe,me,ke){var ct=it();try{return Qe(b)(E,k,X,re,pe,me,ke)}catch(et){if(ot(ct),et!==et+0)throw et;nt(1,0)}},invoke_ii:function(b,E){var k=it();try{return Qe(b)(E)}catch(X){if(ot(k),X!==X+0)throw X;nt(1,0)}},invoke_iid:function(b,E,k){var X=it();try{return Qe(b)(E,k)}catch(re){if(ot(X),re!==re+0)throw re;nt(1,0)}},invoke_iii:function(b,E,k){var X=it();try{return Qe(b)(E,k)}catch(re){if(ot(X),re!==re+0)throw re;nt(1,0)}},invoke_iiid:function(b,E,k,X){var re=it();try{return Qe(b)(E,k,X)}catch(pe){if(ot(re),pe!==pe+0)throw pe;nt(1,0)}},invoke_iiii:function(b,E,k,X){var re=it();try{return Qe(b)(E,k,X)}catch(pe){if(ot(re),pe!==pe+0)throw pe;nt(1,0)}},invoke_iiiii:function(b,E,k,X,re){var pe=it();try{return Qe(b)(E,k,X,re)}catch(me){if(ot(pe),me!==me+0)throw me;nt(1,0)}},invoke_iiiiid:function(b,E,k,X,re,pe){var me=it();try{return Qe(b)(E,k,X,re,pe)}catch(ke){if(ot(me),ke!==ke+0)throw ke;nt(1,0)}},invoke_iiiiii:function(b,E,k,X,re,pe){var me=it();try{return Qe(b)(E,k,X,re,pe)}catch(ke){if(ot(me),ke!==ke+0)throw ke;nt(1,0)}},invoke_iiiiiii:function(b,E,k,X,re,pe,me){var ke=it();try{return Qe(b)(E,k,X,re,pe,me)}catch(ct){if(ot(ke),ct!==ct+0)throw ct;nt(1,0)}},invoke_iiiiiiii:function(b,E,k,X,re,pe,me,ke){var ct=it();try{return Qe(b)(E,k,X,re,pe,me,ke)}catch(et){if(ot(ct),et!==et+0)throw et;nt(1,0)}},invoke_iiiiiiiiiiii:function(b,E,k,X,re,pe,me,ke,ct,et,wn,un){var zn=it();try{return Qe(b)(E,k,X,re,pe,me,ke,ct,et,wn,un)}catch(dn){if(ot(zn),dn!==dn+0)throw dn;nt(1,0)}},invoke_iiij:function(b,E,k,X,re){var pe=it();try{return zw(b,E,k,X,re)}catch(me){if(ot(pe),me!==me+0)throw me;nt(1,0)}},invoke_v:function(b){var E=it();try{Qe(b)()}catch(k){if(ot(E),k!==k+0)throw k;nt(1,0)}},invoke_vi:function(b,E){var k=it();try{Qe(b)(E)}catch(X){if(ot(k),X!==X+0)throw X;nt(1,0)}},invoke_vii:function(b,E,k){var X=it();try{Qe(b)(E,k)}catch(re){if(ot(X),re!==re+0)throw re;nt(1,0)}},invoke_viid:function(b,E,k,X){var re=it();try{Qe(b)(E,k,X)}catch(pe){if(ot(re),pe!==pe+0)throw pe;nt(1,0)}},invoke_viiddi:function(b,E,k,X,re,pe){var me=it();try{Qe(b)(E,k,X,re,pe)}catch(ke){if(ot(me),ke!==ke+0)throw ke;nt(1,0)}},invoke_viii:function(b,E,k,X){var re=it();try{Qe(b)(E,k,X)}catch(pe){if(ot(re),pe!==pe+0)throw pe;nt(1,0)}},invoke_viiid:function(b,E,k,X,re){var pe=it();try{Qe(b)(E,k,X,re)}catch(me){if(ot(pe),me!==me+0)throw me;nt(1,0)}},invoke_viiii:function(b,E,k,X,re){var pe=it();try{Qe(b)(E,k,X,re)}catch(me){if(ot(pe),me!==me+0)throw me;nt(1,0)}},invoke_viiiii:function(b,E,k,X,re,pe){var me=it();try{Qe(b)(E,k,X,re,pe)}catch(ke){if(ot(me),ke!==ke+0)throw ke;nt(1,0)}},invoke_viiiiiii:function(b,E,k,X,re,pe,me,ke){var ct=it();try{Qe(b)(E,k,X,re,pe,me,ke)}catch(et){if(ot(ct),et!==et+0)throw et;nt(1,0)}},invoke_viiiiiiiiii:function(b,E,k,X,re,pe,me,ke,ct,et,wn){var un=it();try{Qe(b)(E,k,X,re,pe,me,ke,ct,et,wn)}catch(zn){if(ot(un),zn!==zn+0)throw zn;nt(1,0)}},invoke_viiiiiiiiiiiiiii:function(b,E,k,X,re,pe,me,ke,ct,et,wn,un,zn,dn,Dn,Ps){var ws=it();try{Qe(b)(E,k,X,re,pe,me,ke,ct,et,wn,un,zn,dn,Dn,Ps)}catch(ae){if(ot(ws),ae!==ae+0)throw ae;nt(1,0)}},llvm_eh_typeid_for:function(b){return b},setTempRet0:function(b){Et=b},strftime_l:function(b,E,k,X){return function(re,pe,me,ke){function ct(ae,Ve,Ze){for(ae=typeof ae=="number"?ae.toString():ae||"";ae.length<Ve;)ae=Ze[0]+ae;return ae}function et(ae,Ve){return ct(ae,Ve,"0")}function wn(ae,Ve){function Ze(Jr){return 0>Jr?-1:0<Jr?1:0}var Rt;return(Rt=Ze(ae.getFullYear()-Ve.getFullYear()))===0&&(Rt=Ze(ae.getMonth()-Ve.getMonth()))===0&&(Rt=Ze(ae.getDate()-Ve.getDate())),Rt}function un(ae){switch(ae.getDay()){case 0:return new Date(ae.getFullYear()-1,11,29);case 1:return ae;case 2:return new Date(ae.getFullYear(),0,3);case 3:return new Date(ae.getFullYear(),0,2);case 4:return new Date(ae.getFullYear(),0,1);case 5:return new Date(ae.getFullYear()-1,11,31);case 6:return new Date(ae.getFullYear()-1,11,30)}}function zn(ae){var Ve=ae.o;for(ae=new Date(new Date(ae.s+1900,0,1).getTime());0<Ve;){var Ze=ae.getMonth(),Rt=(vs(ae.getFullYear())?np:rp)[Ze];if(!(Ve>Rt-ae.getDate())){ae.setDate(ae.getDate()+Ve);break}Ve-=Rt-ae.getDate()+1,ae.setDate(1),11>Ze?ae.setMonth(Ze+1):(ae.setMonth(0),ae.setFullYear(ae.getFullYear()+1))}return Ze=new Date(ae.getFullYear()+1,0,4),Ve=un(new Date(ae.getFullYear(),0,4)),Ze=un(Ze),0>=wn(Ve,ae)?0>=wn(Ze,ae)?ae.getFullYear()+1:ae.getFullYear():ae.getFullYear()-1}var dn=Xe[ke+40>>2];for(var Dn in ke={Ia:Xe[ke>>2],Ha:Xe[ke+4>>2],F:Xe[ke+8>>2],O:Xe[ke+12>>2],G:Xe[ke+16>>2],s:Xe[ke+20>>2],m:Xe[ke+24>>2],o:Xe[ke+28>>2],La:Xe[ke+32>>2],Ga:Xe[ke+36>>2],Ja:dn?Lo(dn):""},me=Lo(me),dn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})me=me.replace(new RegExp(Dn,"g"),dn[Dn]);var Ps="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ws="January February March April May June July August September October November December".split(" ");for(Dn in dn={"%a":function(ae){return Ps[ae.m].substring(0,3)},"%A":function(ae){return Ps[ae.m]},"%b":function(ae){return ws[ae.G].substring(0,3)},"%B":function(ae){return ws[ae.G]},"%C":function(ae){return et((ae.s+1900)/100|0,2)},"%d":function(ae){return et(ae.O,2)},"%e":function(ae){return ct(ae.O,2," ")},"%g":function(ae){return zn(ae).toString().substring(2)},"%G":function(ae){return zn(ae)},"%H":function(ae){return et(ae.F,2)},"%I":function(ae){return(ae=ae.F)==0?ae=12:12<ae&&(ae-=12),et(ae,2)},"%j":function(ae){for(var Ve=0,Ze=0;Ze<=ae.G-1;Ve+=(vs(ae.s+1900)?np:rp)[Ze++]);return et(ae.O+Ve,3)},"%m":function(ae){return et(ae.G+1,2)},"%M":function(ae){return et(ae.Ha,2)},"%n":function(){return`
`},"%p":function(ae){return 0<=ae.F&&12>ae.F?"AM":"PM"},"%S":function(ae){return et(ae.Ia,2)},"%t":function(){return"	"},"%u":function(ae){return ae.m||7},"%U":function(ae){return et(Math.floor((ae.o+7-ae.m)/7),2)},"%V":function(ae){var Ve=Math.floor((ae.o+7-(ae.m+6)%7)/7);if(2>=(ae.m+371-ae.o-2)%7&&Ve++,Ve)Ve==53&&((Ze=(ae.m+371-ae.o)%7)==4||Ze==3&&vs(ae.s)||(Ve=1));else{Ve=52;var Ze=(ae.m+7-ae.o-1)%7;(Ze==4||Ze==5&&vs(ae.s%400-1))&&Ve++}return et(Ve,2)},"%w":function(ae){return ae.m},"%W":function(ae){return et(Math.floor((ae.o+7-(ae.m+6)%7)/7),2)},"%y":function(ae){return(ae.s+1900).toString().substring(2)},"%Y":function(ae){return ae.s+1900},"%z":function(ae){var Ve,Ze=0<=(ae=ae.Ga);return ae=Math.abs(ae)/60,(Ze?"+":"-")+W()(Ve=String("0000"+(ae/60*100+ae%60))).call(Ve,-4)},"%Z":function(ae){return ae.Ja},"%%":function(){return"%"}},me=me.replace(/%%/g,"\0\0"),dn)ce()(me).call(me,Dn)&&(me=me.replace(new RegExp(Dn,"g"),dn[Dn](ke)));return(Dn=function(ae){for(var Ve=0,Ze=0;Ze<ae.length;++Ze){var Rt=ae.charCodeAt(Ze);55296<=Rt&&57343>=Rt&&(Rt=65536+((1023&Rt)<<10)|1023&ae.charCodeAt(++Ze)),127>=Rt?++Ve:Ve=2047>=Rt?Ve+2:65535>=Rt?Ve+3:Ve+4}if(Ze=0,0<(Rt=(Ve=Array(Ve+1)).length)){Rt=Ze+Rt-1;for(var Jr=0;Jr<ae.length;++Jr){var Ft=ae.charCodeAt(Jr);if(55296<=Ft&&57343>=Ft&&(Ft=65536+((1023&Ft)<<10)|1023&ae.charCodeAt(++Jr)),127>=Ft){if(Ze>=Rt)break;Ve[Ze++]=Ft}else{if(2047>=Ft){if(Ze+1>=Rt)break;Ve[Ze++]=192|Ft>>6}else{if(65535>=Ft){if(Ze+2>=Rt)break;Ve[Ze++]=224|Ft>>12}else{if(Ze+3>=Rt)break;1114111<Ft&&Ie("Invalid Unicode code point 0x"+Ft.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),Ve[Ze++]=240|Ft>>18,Ve[Ze++]=128|Ft>>12&63}Ve[Ze++]=128|Ft>>6&63}Ve[Ze++]=128|63&Ft}}Ve[Ze]=0}return Ve}(me=me.replace(/\0\0/g,"%"))).length>pe?0:(function(ae,Ve){Fe(0<=ae.length,"writeArrayToMemory array must have a length (should be an array or typed array)"),Pr.set(ae,Ve)}(Dn,re),Dn.length-1)}(b,E,k,X)}};(function(){function b(pe){l.asm=pe.exports,Fe(br=l.asm.memory,"memory not found in wasm exports"),H_(),Fe(wr=l.asm.__indirect_function_table,"table not found in wasm exports"),cd.unshift(l.asm.__wasm_call_ctors),qr--,l.monitorRunDependencies&&l.monitorRunDependencies(qr),Fe(No["wasm-instantiate"]),delete No["wasm-instantiate"],qr==0&&(Wr!==null&&(clearInterval(Wr),Wr=null),Uo&&(pe=Uo,Uo=null,pe()))}function E(pe){Fe(l===re,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),re=null,b(pe.instance)}function k(pe){return(jt||typeof fetch!="function"?v().resolve().then(function(){return Q_()}):fetch(cn,{credentials:"same-origin"}).then(function(me){if(!me.ok)throw"failed to load wasm binary file at '"+cn+"'";return me.arrayBuffer()}).catch(function(){return Q_()})).then(function(me){return WebAssembly.instantiate(me,X)}).then(function(me){return me}).then(pe,function(me){de("failed to asynchronously prepare wasm: "+me),L()(cn).call(cn,"file://")&&de("warning: Loading from a file URI ("+cn+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),S(me)})}var X={env:ip,wasi_snapshot_preview1:ip};qr++,l.monitorRunDependencies&&l.monitorRunDependencies(qr),Fe(!No["wasm-instantiate"]),No["wasm-instantiate"]=1,Wr===null&&B()!==void 0&&(Wr=B()(function(){if(vn)clearInterval(Wr),Wr=null;else{var pe,me=!1;for(pe in No)me||(me=!0,de("still waiting on run dependencies:")),de("dependency: "+pe);me&&de("(end of list)")}},1e4));var re=l;if(l.instantiateWasm)try{return l.instantiateWasm(X,b)}catch(pe){return de("Module.instantiateWasm callback failed with error: "+pe),!1}(jt||typeof WebAssembly.instantiateStreaming!="function"||J_()||typeof fetch!="function"?k(E):fetch(cn,{credentials:"same-origin"}).then(function(pe){return WebAssembly.instantiateStreaming(pe,X).then(E,function(me){return de("wasm streaming compile failed: "+me),de("falling back to ArrayBuffer instantiation"),k(E)})})).catch(Re)})(),l.___wasm_call_ctors=Y("__wasm_call_ctors");var op=l._malloc=Y("malloc"),ap=l._free=Y("free"),sb=l._emscripten_bind_VoidPtr___destroy___0=Y("emscripten_bind_VoidPtr___destroy___0"),cb=l._emscripten_bind_HyperedgeImprover_HyperedgeImprover_0=Y("emscripten_bind_HyperedgeImprover_HyperedgeImprover_0"),ub=l._emscripten_bind_HyperedgeImprover_clear_0=Y("emscripten_bind_HyperedgeImprover_clear_0"),db=l._emscripten_bind_HyperedgeImprover_setRouter_1=Y("emscripten_bind_HyperedgeImprover_setRouter_1"),lb=l._emscripten_bind_HyperedgeImprover___destroy___0=Y("emscripten_bind_HyperedgeImprover___destroy___0"),fb=l._emscripten_bind_Box_Box_0=Y("emscripten_bind_Box_Box_0"),_b=l._emscripten_bind_Box_length_1=Y("emscripten_bind_Box_length_1"),pb=l._emscripten_bind_Box_width_0=Y("emscripten_bind_Box_width_0"),hb=l._emscripten_bind_Box_height_0=Y("emscripten_bind_Box_height_0"),gb=l._emscripten_bind_Box_get_min_0=Y("emscripten_bind_Box_get_min_0"),yb=l._emscripten_bind_Box_set_min_1=Y("emscripten_bind_Box_set_min_1"),mb=l._emscripten_bind_Box_get_max_0=Y("emscripten_bind_Box_get_max_0"),vb=l._emscripten_bind_Box_set_max_1=Y("emscripten_bind_Box_set_max_1"),bb=l._emscripten_bind_Box___destroy___0=Y("emscripten_bind_Box___destroy___0"),Pb=l._emscripten_bind_PolygonInterface_clear_0=Y("emscripten_bind_PolygonInterface_clear_0"),wb=l._emscripten_bind_PolygonInterface_empty_0=Y("emscripten_bind_PolygonInterface_empty_0"),Rb=l._emscripten_bind_PolygonInterface_size_0=Y("emscripten_bind_PolygonInterface_size_0"),Sb=l._emscripten_bind_PolygonInterface_id_0=Y("emscripten_bind_PolygonInterface_id_0"),Eb=l._emscripten_bind_PolygonInterface_at_1=Y("emscripten_bind_PolygonInterface_at_1"),Ab=l._emscripten_bind_PolygonInterface_boundingRectPolygon_0=Y("emscripten_bind_PolygonInterface_boundingRectPolygon_0"),Ob=l._emscripten_bind_PolygonInterface_offsetBoundingBox_1=Y("emscripten_bind_PolygonInterface_offsetBoundingBox_1"),Ib=l._emscripten_bind_PolygonInterface_offsetPolygon_1=Y("emscripten_bind_PolygonInterface_offsetPolygon_1"),jb=l._emscripten_bind_PolygonInterface___destroy___0=Y("emscripten_bind_PolygonInterface___destroy___0"),Cb=l._emscripten_bind_Polygon_Polygon_0=Y("emscripten_bind_Polygon_Polygon_0"),Mb=l._emscripten_bind_Polygon_Polygon_1=Y("emscripten_bind_Polygon_Polygon_1"),xb=l._emscripten_bind_Polygon_setPoint_2=Y("emscripten_bind_Polygon_setPoint_2"),Db=l._emscripten_bind_Polygon_size_0=Y("emscripten_bind_Polygon_size_0"),Tb=l._emscripten_bind_Polygon_get_ps_1=Y("emscripten_bind_Polygon_get_ps_1"),Lb=l._emscripten_bind_Polygon_set_ps_2=Y("emscripten_bind_Polygon_set_ps_2"),Ub=l._emscripten_bind_Polygon___destroy___0=Y("emscripten_bind_Polygon___destroy___0"),Nb=l._emscripten_bind_Point_Point_0=Y("emscripten_bind_Point_Point_0"),kb=l._emscripten_bind_Point_Point_2=Y("emscripten_bind_Point_Point_2"),Fb=l._emscripten_bind_Point_equal_1=Y("emscripten_bind_Point_equal_1"),Bb=l._emscripten_bind_Point_get_x_0=Y("emscripten_bind_Point_get_x_0"),Yb=l._emscripten_bind_Point_set_x_1=Y("emscripten_bind_Point_set_x_1"),$b=l._emscripten_bind_Point_get_y_0=Y("emscripten_bind_Point_get_y_0"),Vb=l._emscripten_bind_Point_set_y_1=Y("emscripten_bind_Point_set_y_1"),Hb=l._emscripten_bind_Point_get_id_0=Y("emscripten_bind_Point_get_id_0"),Kb=l._emscripten_bind_Point_set_id_1=Y("emscripten_bind_Point_set_id_1"),zb=l._emscripten_bind_Point_get_vn_0=Y("emscripten_bind_Point_get_vn_0"),Zb=l._emscripten_bind_Point_set_vn_1=Y("emscripten_bind_Point_set_vn_1"),qb=l._emscripten_bind_Point___destroy___0=Y("emscripten_bind_Point___destroy___0"),Wb=l._emscripten_bind_Rectangle_Rectangle_3=Y("emscripten_bind_Rectangle_Rectangle_3"),Gb=l._emscripten_bind_Rectangle___destroy___0=Y("emscripten_bind_Rectangle___destroy___0"),Jb=l._emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0=Y("emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0"),Xb=l._emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2=Y("emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2"),Qb=l._emscripten_bind_HyperedgeTreeNode___destroy___0=Y("emscripten_bind_HyperedgeTreeNode___destroy___0"),e0=l._emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3=Y("emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3"),t0=l._emscripten_bind_HyperedgeTreeEdge___destroy___0=Y("emscripten_bind_HyperedgeTreeEdge___destroy___0"),n0=l._emscripten_bind_AStarPath_AStarPath_0=Y("emscripten_bind_AStarPath_AStarPath_0"),r0=l._emscripten_bind_AStarPath_search_4=Y("emscripten_bind_AStarPath_search_4"),i0=l._emscripten_bind_AStarPath___destroy___0=Y("emscripten_bind_AStarPath___destroy___0"),o0=l._emscripten_bind_ConnEnd_ConnEnd_1=Y("emscripten_bind_ConnEnd_ConnEnd_1"),a0=l._emscripten_bind_ConnEnd_ConnEnd_2=Y("emscripten_bind_ConnEnd_ConnEnd_2"),s0=l._emscripten_bind_ConnEnd___destroy___0=Y("emscripten_bind_ConnEnd___destroy___0"),c0=l._emscripten_bind_ActionInfo_ActionInfo_2=Y("emscripten_bind_ActionInfo_ActionInfo_2"),u0=l._emscripten_bind_ActionInfo_ActionInfo_3=Y("emscripten_bind_ActionInfo_ActionInfo_3"),d0=l._emscripten_bind_ActionInfo_ActionInfo_4=Y("emscripten_bind_ActionInfo_ActionInfo_4"),l0=l._emscripten_bind_ActionInfo_obstacle_0=Y("emscripten_bind_ActionInfo_obstacle_0"),f0=l._emscripten_bind_ActionInfo_shape_0=Y("emscripten_bind_ActionInfo_shape_0"),_0=l._emscripten_bind_ActionInfo_conn_0=Y("emscripten_bind_ActionInfo_conn_0"),p0=l._emscripten_bind_ActionInfo_junction_0=Y("emscripten_bind_ActionInfo_junction_0"),h0=l._emscripten_bind_ActionInfo_addConnEndUpdate_3=Y("emscripten_bind_ActionInfo_addConnEndUpdate_3"),g0=l._emscripten_bind_ActionInfo_get_type_0=Y("emscripten_bind_ActionInfo_get_type_0"),y0=l._emscripten_bind_ActionInfo_set_type_1=Y("emscripten_bind_ActionInfo_set_type_1"),m0=l._emscripten_bind_ActionInfo_get_objPtr_0=Y("emscripten_bind_ActionInfo_get_objPtr_0"),v0=l._emscripten_bind_ActionInfo_set_objPtr_1=Y("emscripten_bind_ActionInfo_set_objPtr_1"),b0=l._emscripten_bind_ActionInfo_get_newPoly_0=Y("emscripten_bind_ActionInfo_get_newPoly_0"),P0=l._emscripten_bind_ActionInfo_set_newPoly_1=Y("emscripten_bind_ActionInfo_set_newPoly_1"),w0=l._emscripten_bind_ActionInfo_get_newPosition_0=Y("emscripten_bind_ActionInfo_get_newPosition_0"),R0=l._emscripten_bind_ActionInfo_set_newPosition_1=Y("emscripten_bind_ActionInfo_set_newPosition_1"),S0=l._emscripten_bind_ActionInfo_get_firstMove_0=Y("emscripten_bind_ActionInfo_get_firstMove_0"),E0=l._emscripten_bind_ActionInfo_set_firstMove_1=Y("emscripten_bind_ActionInfo_set_firstMove_1"),A0=l._emscripten_bind_ActionInfo___destroy___0=Y("emscripten_bind_ActionInfo___destroy___0"),O0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2=Y("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2"),I0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3=Y("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3"),j0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6=Y("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6"),C0=l._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7=Y("emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7"),M0=l._emscripten_bind_ShapeConnectionPin_setConnectionCost_1=Y("emscripten_bind_ShapeConnectionPin_setConnectionCost_1"),x0=l._emscripten_bind_ShapeConnectionPin_position_0=Y("emscripten_bind_ShapeConnectionPin_position_0"),D0=l._emscripten_bind_ShapeConnectionPin_position_1=Y("emscripten_bind_ShapeConnectionPin_position_1"),T0=l._emscripten_bind_ShapeConnectionPin_directions_0=Y("emscripten_bind_ShapeConnectionPin_directions_0"),L0=l._emscripten_bind_ShapeConnectionPin_setExclusive_1=Y("emscripten_bind_ShapeConnectionPin_setExclusive_1"),U0=l._emscripten_bind_ShapeConnectionPin_isExclusive_0=Y("emscripten_bind_ShapeConnectionPin_isExclusive_0"),N0=l._emscripten_bind_ShapeConnectionPin___destroy___0=Y("emscripten_bind_ShapeConnectionPin___destroy___0"),k0=l._emscripten_bind_Obstacle_id_0=Y("emscripten_bind_Obstacle_id_0"),F0=l._emscripten_bind_Obstacle_polygon_0=Y("emscripten_bind_Obstacle_polygon_0"),B0=l._emscripten_bind_Obstacle_router_0=Y("emscripten_bind_Obstacle_router_0"),Y0=l._emscripten_bind_Obstacle_position_0=Y("emscripten_bind_Obstacle_position_0"),$0=l._emscripten_bind_Obstacle_setNewPoly_1=Y("emscripten_bind_Obstacle_setNewPoly_1"),V0=l._emscripten_bind_Obstacle___destroy___0=Y("emscripten_bind_Obstacle___destroy___0"),H0=l._emscripten_bind_JunctionRef_JunctionRef_2=Y("emscripten_bind_JunctionRef_JunctionRef_2"),K0=l._emscripten_bind_JunctionRef_JunctionRef_3=Y("emscripten_bind_JunctionRef_JunctionRef_3"),z0=l._emscripten_bind_JunctionRef_position_0=Y("emscripten_bind_JunctionRef_position_0"),Z0=l._emscripten_bind_JunctionRef___destroy___0=Y("emscripten_bind_JunctionRef___destroy___0"),q0=l._emscripten_bind_ShapeRef_ShapeRef_2=Y("emscripten_bind_ShapeRef_ShapeRef_2"),W0=l._emscripten_bind_ShapeRef_ShapeRef_3=Y("emscripten_bind_ShapeRef_ShapeRef_3"),G0=l._emscripten_bind_ShapeRef_polygon_0=Y("emscripten_bind_ShapeRef_polygon_0"),J0=l._emscripten_bind_ShapeRef_position_0=Y("emscripten_bind_ShapeRef_position_0"),X0=l._emscripten_bind_ShapeRef_setNewPoly_1=Y("emscripten_bind_ShapeRef_setNewPoly_1"),Q0=l._emscripten_bind_ShapeRef___destroy___0=Y("emscripten_bind_ShapeRef___destroy___0"),eP=l._emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0=Y("emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0"),tP=l._emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0=Y("emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0"),nP=l._emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1=Y("emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1"),rP=l._emscripten_bind_HyperedgeRerouter___destroy___0=Y("emscripten_bind_HyperedgeRerouter___destroy___0"),iP=l._emscripten_bind_VertInf___destroy___0=Y("emscripten_bind_VertInf___destroy___0"),oP=l._emscripten_bind_VertID_VertID_0=Y("emscripten_bind_VertID_VertID_0"),aP=l._emscripten_bind_VertID_VertID_2=Y("emscripten_bind_VertID_VertID_2"),sP=l._emscripten_bind_VertID_VertID_3=Y("emscripten_bind_VertID_VertID_3"),cP=l._emscripten_bind_VertID_get_objID_0=Y("emscripten_bind_VertID_get_objID_0"),uP=l._emscripten_bind_VertID_set_objID_1=Y("emscripten_bind_VertID_set_objID_1"),dP=l._emscripten_bind_VertID_get_vn_0=Y("emscripten_bind_VertID_get_vn_0"),lP=l._emscripten_bind_VertID_set_vn_1=Y("emscripten_bind_VertID_set_vn_1"),fP=l._emscripten_bind_VertID_get_props_0=Y("emscripten_bind_VertID_get_props_0"),_P=l._emscripten_bind_VertID_set_props_1=Y("emscripten_bind_VertID_set_props_1"),pP=l._emscripten_bind_VertID_get_src_0=Y("emscripten_bind_VertID_get_src_0"),hP=l._emscripten_bind_VertID_get_tar_0=Y("emscripten_bind_VertID_get_tar_0"),gP=l._emscripten_bind_VertID_get_PROP_ConnPoint_0=Y("emscripten_bind_VertID_get_PROP_ConnPoint_0"),yP=l._emscripten_bind_VertID_get_PROP_OrthShapeEdge_0=Y("emscripten_bind_VertID_get_PROP_OrthShapeEdge_0"),mP=l._emscripten_bind_VertID_get_PROP_ConnectionPin_0=Y("emscripten_bind_VertID_get_PROP_ConnectionPin_0"),vP=l._emscripten_bind_VertID_get_PROP_ConnCheckpoint_0=Y("emscripten_bind_VertID_get_PROP_ConnCheckpoint_0"),bP=l._emscripten_bind_VertID_get_PROP_DummyPinHelper_0=Y("emscripten_bind_VertID_get_PROP_DummyPinHelper_0"),PP=l._emscripten_bind_VertID___destroy___0=Y("emscripten_bind_VertID___destroy___0"),wP=l._emscripten_bind_MinimumTerminalSpanningTree___destroy___0=Y("emscripten_bind_MinimumTerminalSpanningTree___destroy___0"),RP=l._emscripten_bind_Checkpoint_Checkpoint_1=Y("emscripten_bind_Checkpoint_Checkpoint_1"),SP=l._emscripten_bind_Checkpoint___destroy___0=Y("emscripten_bind_Checkpoint___destroy___0"),EP=l._emscripten_bind_ConnRef_ConnRef_3=Y("emscripten_bind_ConnRef_ConnRef_3"),AP=l._emscripten_bind_ConnRef_ConnRef_4=Y("emscripten_bind_ConnRef_ConnRef_4"),OP=l._emscripten_bind_ConnRef_id_0=Y("emscripten_bind_ConnRef_id_0"),IP=l._emscripten_bind_ConnRef_setCallback_2=Y("emscripten_bind_ConnRef_setCallback_2"),jP=l._emscripten_bind_ConnRef_setSourceEndpoint_1=Y("emscripten_bind_ConnRef_setSourceEndpoint_1"),CP=l._emscripten_bind_ConnRef_setDestEndpoint_1=Y("emscripten_bind_ConnRef_setDestEndpoint_1"),MP=l._emscripten_bind_ConnRef_routingType_0=Y("emscripten_bind_ConnRef_routingType_0"),xP=l._emscripten_bind_ConnRef_setRoutingType_1=Y("emscripten_bind_ConnRef_setRoutingType_1"),DP=l._emscripten_bind_ConnRef_displayRoute_0=Y("emscripten_bind_ConnRef_displayRoute_0"),TP=l._emscripten_bind_ConnRef_setHateCrossings_1=Y("emscripten_bind_ConnRef_setHateCrossings_1"),LP=l._emscripten_bind_ConnRef_doesHateCrossings_0=Y("emscripten_bind_ConnRef_doesHateCrossings_0"),UP=l._emscripten_bind_ConnRef___destroy___0=Y("emscripten_bind_ConnRef___destroy___0"),NP=l._emscripten_bind_EdgeInf_EdgeInf_2=Y("emscripten_bind_EdgeInf_EdgeInf_2"),kP=l._emscripten_bind_EdgeInf_EdgeInf_3=Y("emscripten_bind_EdgeInf_EdgeInf_3"),FP=l._emscripten_bind_EdgeInf___destroy___0=Y("emscripten_bind_EdgeInf___destroy___0"),BP=l._emscripten_bind_LineRep_get_begin_0=Y("emscripten_bind_LineRep_get_begin_0"),YP=l._emscripten_bind_LineRep_set_begin_1=Y("emscripten_bind_LineRep_set_begin_1"),$P=l._emscripten_bind_LineRep_get_end_0=Y("emscripten_bind_LineRep_get_end_0"),VP=l._emscripten_bind_LineRep_set_end_1=Y("emscripten_bind_LineRep_set_end_1"),HP=l._emscripten_bind_LineRep___destroy___0=Y("emscripten_bind_LineRep___destroy___0"),KP=l._emscripten_bind_Router_Router_1=Y("emscripten_bind_Router_Router_1"),zP=l._emscripten_bind_Router_processTransaction_0=Y("emscripten_bind_Router_processTransaction_0"),ZP=l._emscripten_bind_Router_printInfo_0=Y("emscripten_bind_Router_printInfo_0"),qP=l._emscripten_bind_Router_deleteConnector_1=Y("emscripten_bind_Router_deleteConnector_1"),WP=l._emscripten_bind_Router_moveShape_2=Y("emscripten_bind_Router_moveShape_2"),GP=l._emscripten_bind_Router_moveShape_3=Y("emscripten_bind_Router_moveShape_3"),JP=l._emscripten_bind_Router_deleteShape_1=Y("emscripten_bind_Router_deleteShape_1"),XP=l._emscripten_bind_Router_setRoutingParameter_2=Y("emscripten_bind_Router_setRoutingParameter_2"),QP=l._emscripten_bind_Router_setRoutingOption_2=Y("emscripten_bind_Router_setRoutingOption_2"),ew=l._emscripten_bind_Router___destroy___0=Y("emscripten_bind_Router___destroy___0"),tw=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirNone=Y("emscripten_enum_Avoid_ConnDirFlag_ConnDirNone"),nw=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirUp=Y("emscripten_enum_Avoid_ConnDirFlag_ConnDirUp"),rw=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirDown=Y("emscripten_enum_Avoid_ConnDirFlag_ConnDirDown"),iw=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft=Y("emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft"),ow=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirRight=Y("emscripten_enum_Avoid_ConnDirFlag_ConnDirRight"),aw=l._emscripten_enum_Avoid_ConnDirFlag_ConnDirAll=Y("emscripten_enum_Avoid_ConnDirFlag_ConnDirAll"),sw=l._emscripten_enum_Avoid_ConnEndType_ConnEndPoint=Y("emscripten_enum_Avoid_ConnEndType_ConnEndPoint"),cw=l._emscripten_enum_Avoid_ConnEndType_ConnEndShapePin=Y("emscripten_enum_Avoid_ConnEndType_ConnEndShapePin"),uw=l._emscripten_enum_Avoid_ConnEndType_ConnEndJunction=Y("emscripten_enum_Avoid_ConnEndType_ConnEndJunction"),dw=l._emscripten_enum_Avoid_ConnEndType_ConnEndEmpty=Y("emscripten_enum_Avoid_ConnEndType_ConnEndEmpty"),lw=l._emscripten_enum_Avoid_ActionType_ShapeMove=Y("emscripten_enum_Avoid_ActionType_ShapeMove"),fw=l._emscripten_enum_Avoid_ActionType_ShapeAdd=Y("emscripten_enum_Avoid_ActionType_ShapeAdd"),_w=l._emscripten_enum_Avoid_ActionType_ShapeRemove=Y("emscripten_enum_Avoid_ActionType_ShapeRemove"),pw=l._emscripten_enum_Avoid_ActionType_JunctionMove=Y("emscripten_enum_Avoid_ActionType_JunctionMove"),hw=l._emscripten_enum_Avoid_ActionType_JunctionAdd=Y("emscripten_enum_Avoid_ActionType_JunctionAdd"),gw=l._emscripten_enum_Avoid_ActionType_JunctionRemove=Y("emscripten_enum_Avoid_ActionType_JunctionRemove"),yw=l._emscripten_enum_Avoid_ActionType_ConnChange=Y("emscripten_enum_Avoid_ActionType_ConnChange"),mw=l._emscripten_enum_Avoid_ActionType_ConnectionPinChange=Y("emscripten_enum_Avoid_ActionType_ConnectionPinChange"),vw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90=Y("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90"),bw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180=Y("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180"),Pw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270=Y("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270"),ww=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX=Y("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX"),Rw=l._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY=Y("emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY"),Sw=l._emscripten_enum_Avoid_ConnType_ConnType_None=Y("emscripten_enum_Avoid_ConnType_ConnType_None"),Ew=l._emscripten_enum_Avoid_ConnType_ConnType_PolyLine=Y("emscripten_enum_Avoid_ConnType_ConnType_PolyLine"),Aw=l._emscripten_enum_Avoid_ConnType_ConnType_Orthogonal=Y("emscripten_enum_Avoid_ConnType_ConnType_Orthogonal"),Ow=l._emscripten_enum_Avoid_RouterFlag_PolyLineRouting=Y("emscripten_enum_Avoid_RouterFlag_PolyLineRouting"),Iw=l._emscripten_enum_Avoid_RouterFlag_OrthogonalRouting=Y("emscripten_enum_Avoid_RouterFlag_OrthogonalRouting"),jw=l._emscripten_enum_Avoid_RoutingParameter_segmentPenalty=Y("emscripten_enum_Avoid_RoutingParameter_segmentPenalty"),Cw=l._emscripten_enum_Avoid_RoutingParameter_anglePenalty=Y("emscripten_enum_Avoid_RoutingParameter_anglePenalty"),Mw=l._emscripten_enum_Avoid_RoutingParameter_crossingPenalty=Y("emscripten_enum_Avoid_RoutingParameter_crossingPenalty"),xw=l._emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty=Y("emscripten_enum_Avoid_RoutingParameter_clusterCrossingPenalty"),Dw=l._emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty=Y("emscripten_enum_Avoid_RoutingParameter_fixedSharedPathPenalty"),Tw=l._emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty=Y("emscripten_enum_Avoid_RoutingParameter_portDirectionPenalty"),Lw=l._emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance=Y("emscripten_enum_Avoid_RoutingParameter_shapeBufferDistance"),Uw=l._emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance=Y("emscripten_enum_Avoid_RoutingParameter_idealNudgingDistance"),Nw=l._emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty=Y("emscripten_enum_Avoid_RoutingParameter_reverseDirectionPenalty"),kw=l._emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes=Y("emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalSegmentsConnectedToShapes"),Fw=l._emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions=Y("emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingJunctions"),Bw=l._emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds=Y("emscripten_enum_Avoid_RoutingOption_penaliseOrthogonalSharedPathsAtConnEnds"),Yw=l._emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments=Y("emscripten_enum_Avoid_RoutingOption_nudgeOrthogonalTouchingColinearSegments"),$w=l._emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep=Y("emscripten_enum_Avoid_RoutingOption_performUnifyingNudgingPreprocessingStep"),Vw=l._emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions=Y("emscripten_enum_Avoid_RoutingOption_improveHyperedgeRoutesMovingAddingAndDeletingJunctions"),Hw=l._emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint=Y("emscripten_enum_Avoid_RoutingOption_nudgeSharedPathsWithCommonEndPoint");l.___errno_location=Y("__errno_location"),l.___stdio_exit=Y("__stdio_exit");var nt=l._setThrew=Y("setThrew"),sp=l._emscripten_stack_init=function(){return(sp=l._emscripten_stack_init=l.asm.emscripten_stack_init).apply(null,arguments)};l._emscripten_stack_get_free=function(){return(l._emscripten_stack_get_free=l.asm.emscripten_stack_get_free).apply(null,arguments)},l._emscripten_stack_get_base=function(){return(l._emscripten_stack_get_base=l.asm.emscripten_stack_get_base).apply(null,arguments)};var fd=l._emscripten_stack_get_end=function(){return(fd=l._emscripten_stack_get_end=l.asm.emscripten_stack_get_end).apply(null,arguments)},it=l.stackSave=Y("stackSave"),ot=l.stackRestore=Y("stackRestore");l.stackAlloc=Y("stackAlloc");var bs,cp=l.___cxa_can_catch=Y("__cxa_can_catch"),Kw=l.___cxa_is_pointer_type=Y("__cxa_is_pointer_type"),zw=l.dynCall_iiij=Y("dynCall_iiij");function _d(){function b(){if(!bs&&(bs=!0,l.calledRun=!0,!vn)){if(gs(),Fe(!ys),ys=!0,ud(cd),Le(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Fe(!l._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),gs(),l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var E=l.postRun.shift();W_.unshift(E)}ud(W_)}}if(!(0<qr)){if(sp(),K_(),l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)ob();ud(q_),0<qr||(l.setStatus?(l.setStatus("Running..."),Q()(function(){Q()(function(){l.setStatus("")},1),b()},1)):b(),gs())}}if(l.dynCall_jiji=Y("dynCall_jiji"),l.dynCall_viijii=Y("dynCall_viijii"),l.dynCall_iiiiij=Y("dynCall_iiiiij"),l.dynCall_iiiiijj=Y("dynCall_iiiiijj"),l.dynCall_iiiiiijj=Y("dynCall_iiiiiijj"),F("intArrayFromString",!1),F("intArrayToString",!1),F("ccall",!1),F("cwrap",!1),F("setValue",!1),F("getValue",!1),F("allocate",!1),F("UTF8ArrayToString",!1),F("UTF8ToString",!1),F("stringToUTF8Array",!1),F("stringToUTF8",!1),F("lengthBytesUTF8",!1),F("stackTrace",!1),F("addOnPreRun",!1),F("addOnInit",!1),F("addOnPreMain",!1),F("addOnExit",!1),F("addOnPostRun",!1),F("writeStringToMemory",!1),F("writeArrayToMemory",!1),F("writeAsciiToMemory",!1),F("addRunDependency",!0),F("removeRunDependency",!0),F("FS_createFolder",!1),F("FS_createPath",!0),F("FS_createDataFile",!0),F("FS_createPreloadedFile",!0),F("FS_createLazyFile",!0),F("FS_createLink",!1),F("FS_createDevice",!0),F("FS_unlink",!0),F("getLEB",!1),F("getFunctionTables",!1),F("alignFunctionTables",!1),F("registerFunctions",!1),F("addFunction",!1),F("removeFunction",!1),F("getFuncWrapper",!1),F("prettyPrint",!1),F("dynCall",!1),F("getCompilerSetting",!1),F("print",!1),F("printErr",!1),F("getTempRet0",!1),F("setTempRet0",!1),F("callMain",!1),F("abort",!1),F("keepRuntimeAlive",!1),F("zeroMemory",!1),F("stringToNewUTF8",!1),F("emscripten_realloc_buffer",!1),F("ENV",!1),F("ERRNO_CODES",!1),F("ERRNO_MESSAGES",!1),F("setErrNo",!1),F("inetPton4",!1),F("inetNtop4",!1),F("inetPton6",!1),F("inetNtop6",!1),F("readSockaddr",!1),F("writeSockaddr",!1),F("DNS",!1),F("getHostByName",!1),F("Protocols",!1),F("Sockets",!1),F("getRandomDevice",!1),F("traverseStack",!1),F("UNWIND_CACHE",!1),F("convertPCtoSourceLocation",!1),F("readAsmConstArgsArray",!1),F("readAsmConstArgs",!1),F("mainThreadEM_ASM",!1),F("jstoi_q",!1),F("jstoi_s",!1),F("getExecutableName",!1),F("listenOnce",!1),F("autoResumeAudioContext",!1),F("dynCallLegacy",!1),F("getDynCaller",!1),F("dynCall",!1),F("handleException",!1),F("runtimeKeepalivePush",!1),F("runtimeKeepalivePop",!1),F("callUserCallback",!1),F("maybeExit",!1),F("safeSetTimeout",!1),F("asmjsMangle",!1),F("asyncLoad",!1),F("alignMemory",!1),F("mmapAlloc",!1),F("reallyNegative",!1),F("unSign",!1),F("reSign",!1),F("formatString",!1),F("PATH",!1),F("PATH_FS",!1),F("SYSCALLS",!1),F("getSocketFromFD",!1),F("getSocketAddress",!1),F("JSEvents",!1),F("registerKeyEventCallback",!1),F("specialHTMLTargets",!1),F("maybeCStringToJsString",!1),F("findEventTarget",!1),F("findCanvasEventTarget",!1),F("getBoundingClientRect",!1),F("fillMouseEventData",!1),F("registerMouseEventCallback",!1),F("registerWheelEventCallback",!1),F("registerUiEventCallback",!1),F("registerFocusEventCallback",!1),F("fillDeviceOrientationEventData",!1),F("registerDeviceOrientationEventCallback",!1),F("fillDeviceMotionEventData",!1),F("registerDeviceMotionEventCallback",!1),F("screenOrientation",!1),F("fillOrientationChangeEventData",!1),F("registerOrientationChangeEventCallback",!1),F("fillFullscreenChangeEventData",!1),F("registerFullscreenChangeEventCallback",!1),F("registerRestoreOldStyle",!1),F("hideEverythingExceptGivenElement",!1),F("restoreHiddenElements",!1),F("setLetterbox",!1),F("currentFullscreenStrategy",!1),F("restoreOldWindowedStyle",!1),F("softFullscreenResizeWebGLRenderTarget",!1),F("doRequestFullscreen",!1),F("fillPointerlockChangeEventData",!1),F("registerPointerlockChangeEventCallback",!1),F("registerPointerlockErrorEventCallback",!1),F("requestPointerLock",!1),F("fillVisibilityChangeEventData",!1),F("registerVisibilityChangeEventCallback",!1),F("registerTouchEventCallback",!1),F("fillGamepadEventData",!1),F("registerGamepadEventCallback",!1),F("registerBeforeUnloadEventCallback",!1),F("fillBatteryEventData",!1),F("battery",!1),F("registerBatteryEventCallback",!1),F("setCanvasElementSize",!1),F("getCanvasElementSize",!1),F("demangle",!1),F("demangleAll",!1),F("jsStackTrace",!1),F("stackTrace",!1),F("getEnvStrings",!1),F("checkWasiClock",!1),F("flush_NO_FILESYSTEM",!1),F("writeI53ToI64",!1),F("writeI53ToI64Clamped",!1),F("writeI53ToI64Signaling",!1),F("writeI53ToU64Clamped",!1),F("writeI53ToU64Signaling",!1),F("readI53FromI64",!1),F("readI53FromU64",!1),F("convertI32PairToI53",!1),F("convertU32PairToI53",!1),F("setImmediateWrapped",!1),F("clearImmediateWrapped",!1),F("polyfillSetImmediate",!1),F("uncaughtExceptionCount",!1),F("exceptionLast",!1),F("exceptionCaught",!1),F("ExceptionInfo",!1),F("CatchInfo",!1),F("exception_addRef",!1),F("exception_decRef",!1),F("formatException",!1),F("Browser",!1),F("funcWrappers",!1),F("getFuncWrapper",!1),F("setMainLoop",!1),F("wget",!1),F("tempFixedLengthArray",!1),F("miniTempWebGLFloatBuffers",!1),F("heapObjectForWebGLType",!1),F("heapAccessShiftForWebGLHeap",!1),F("GL",!1),F("emscriptenWebGLGet",!1),F("computeUnpackAlignedImageSize",!1),F("emscriptenWebGLGetTexPixelData",!1),F("emscriptenWebGLGetUniform",!1),F("webglGetUniformLocation",!1),F("webglPrepareUniformLocationsBeforeFirstUse",!1),F("webglGetLeftBracePos",!1),F("emscriptenWebGLGetVertexAttrib",!1),F("writeGLArray",!1),F("AL",!1),F("SDL_unicode",!1),F("SDL_ttfContext",!1),F("SDL_audio",!1),F("SDL",!1),F("SDL_gfx",!1),F("GLUT",!1),F("EGL",!1),F("GLFW_Window",!1),F("GLFW",!1),F("GLEW",!1),F("IDBStore",!1),F("runAndAbortIfError",!1),F("warnOnce",!1),F("stackSave",!1),F("stackRestore",!1),F("stackAlloc",!1),F("AsciiToString",!1),F("stringToAscii",!1),F("UTF16ToString",!1),F("stringToUTF16",!1),F("lengthBytesUTF16",!1),F("UTF32ToString",!1),F("stringToUTF32",!1),F("lengthBytesUTF32",!1),F("allocateUTF8",!1),F("allocateUTF8OnStack",!1),l.writeStackCookie=K_,l.checkStackCookie=gs,_t("ALLOC_NORMAL"),_t("ALLOC_STACK"),Uo=function b(){bs||_d(),bs||(Uo=b)},l.run=_d,l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();function Je(){}function Pt(b){return(b||Je).l}function dt(b,E){var k=Pt(E),X=k[b];return X||((X=ne()((E||Je).prototype)).g=b,k[b]=X)}_d(),Je.prototype=ne()(Je.prototype),Je.prototype.constructor=Je,Je.prototype.h=Je,Je.l={},l.WrapperObject=Je,l.getCache=Pt,l.wrapPointer=dt,l.castObject=function(b,E){return dt(b.g,E)},l.NULL=dt(0),l.destroy=function(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete Pt(b.h)[b.g]},l.compare=function(b,E){return b.g===E.g},l.getPointer=function(b){return b.g},l.getClass=function(b){return b.h};var up=0,dp=0;function ir(){throw"cannot construct a VoidPtr, no constructor in IDL"}function bn(){this.g=cb(),Pt(bn)[this.g]=this}function at(){this.g=fb(),Pt(at)[this.g]=this}function At(){throw"cannot construct a PolygonInterface, no constructor in IDL"}function ht(b){b&&_(b)==="object"&&(b=b.g),this.g=b===void 0?Cb():Mb(b),Pt(ht)[this.g]=this}function Ye(b,E){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),this.g=b===void 0?Nb():E===void 0?_emscripten_bind_Point_Point_1(b):kb(b,E),Pt(Ye)[this.g]=this}function or(b,E,k){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),this.g=Wb(b,E,k),Pt(or)[this.g]=this}function Hn(){this.g=Jb(),Pt(Hn)[this.g]=this}function ar(b,E,k){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),this.g=e0(b,E,k),Pt(ar)[this.g]=this}function xn(){this.g=n0(),Pt(xn)[this.g]=this}function sr(b,E){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),this.g=E===void 0?o0(b):a0(b,E),Pt(sr)[this.g]=this}function Be(b,E,k,X){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),X&&_(X)==="object"&&(X=X.g),this.g=k===void 0?c0(b,E):X===void 0?u0(b,E,k):d0(b,E,k,X),Pt(Be)[this.g]=this}function Ht(b,E,k,X,re,pe,me){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),X&&_(X)==="object"&&(X=X.g),re&&_(re)==="object"&&(re=re.g),pe&&_(pe)==="object"&&(pe=pe.g),me&&_(me)==="object"&&(me=me.g),this.g=k===void 0?O0(b,E):X===void 0?I0(b,E,k):re===void 0?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_4(b,E,k,X):pe===void 0?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_5(b,E,k,X,re):me===void 0?j0(b,E,k,X,re,pe):C0(b,E,k,X,re,pe,me),Pt(Ht)[this.g]=this}function kt(){throw"cannot construct a Obstacle, no constructor in IDL"}function Pn(b,E,k){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),this.g=k===void 0?H0(b,E):K0(b,E,k),Pt(Pn)[this.g]=this}function Wt(b,E,k){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),this.g=k===void 0?q0(b,E):W0(b,E,k),Pt(Wt)[this.g]=this}function Rr(){throw"cannot construct a HyperedgeNewAndDeletedObjectLists, no constructor in IDL"}function Kn(){this.g=tP(),Pt(Kn)[this.g]=this}function Sr(){throw"cannot construct a VertInf, no constructor in IDL"}function Ue(b,E,k){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),this.g=b===void 0?oP():E===void 0?_emscripten_bind_VertID_VertID_1(b):k===void 0?aP(b,E):sP(b,E,k),Pt(Ue)[this.g]=this}function Er(){throw"cannot construct a MinimumTerminalSpanningTree, no constructor in IDL"}function cr(b){b&&_(b)==="object"&&(b=b.g),this.g=RP(b),Pt(cr)[this.g]=this}function Ot(b,E,k,X){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),X&&_(X)==="object"&&(X=X.g),this.g=X===void 0?EP(b,E,k):AP(b,E,k,X),Pt(Ot)[this.g]=this}function ur(b,E,k){b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),this.g=k===void 0?NP(b,E):kP(b,E,k),Pt(ur)[this.g]=this}function wt(){throw"cannot construct a LineRep, no constructor in IDL"}function xt(b){b&&_(b)==="object"&&(b=b.g),this.g=KP(b),Pt(xt)[this.g]=this}return ir.prototype=ne()(Je.prototype),ir.prototype.constructor=ir,ir.prototype.h=ir,ir.l={},l.VoidPtr=ir,ir.prototype.__destroy__=function(){sb(this.g)},bn.prototype=ne()(Je.prototype),bn.prototype.constructor=bn,bn.prototype.h=bn,bn.l={},l.HyperedgeImprover=bn,bn.prototype.clear=bn.prototype.clear=function(){ub(this.g)},bn.prototype.setRouter=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),db(E,b)},bn.prototype.__destroy__=function(){lb(this.g)},at.prototype=ne()(Je.prototype),at.prototype.constructor=at,at.prototype.h=at,at.l={},l.Box=at,at.prototype.length=at.prototype.length=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),_b(E,b)},at.prototype.width=at.prototype.width=function(){return pb(this.g)},at.prototype.height=at.prototype.height=function(){return hb(this.g)},at.prototype.get_min=at.prototype.fa=function(){return dt(gb(this.g),Ye)},at.prototype.set_min=at.prototype.xa=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),yb(E,b)},p()(at.prototype,"min",{get:at.prototype.fa,set:at.prototype.xa}),at.prototype.get_max=at.prototype.ea=function(){return dt(mb(this.g),Ye)},at.prototype.set_max=at.prototype.wa=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),vb(E,b)},p()(at.prototype,"max",{get:at.prototype.ea,set:at.prototype.wa}),at.prototype.__destroy__=function(){bb(this.g)},At.prototype=ne()(Je.prototype),At.prototype.constructor=At,At.prototype.h=At,At.l={},l.PolygonInterface=At,At.prototype.clear=At.prototype.clear=function(){Pb(this.g)},At.prototype.empty=At.prototype.empty=function(){return!!wb(this.g)},At.prototype.size=At.prototype.size=function(){return Rb(this.g)},At.prototype.id=At.prototype.id=function(){return Sb(this.g)},At.prototype.at=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),dt(Eb(E,b),Ye)},At.prototype.boundingRectPolygon=function(){return dt(Ab(this.g),ht)},At.prototype.offsetBoundingBox=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),dt(Ob(E,b),at)},At.prototype.offsetPolygon=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),dt(Ib(E,b),ht)},At.prototype.__destroy__=function(){jb(this.g)},ht.prototype=ne()(Je.prototype),ht.prototype.constructor=ht,ht.prototype.h=ht,ht.l={},l.Polygon=ht,ht.prototype.setPoint=function(b,E){var k=this.g;b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),xb(k,b,E)},ht.prototype.size=ht.prototype.size=function(){return Db(this.g)},ht.prototype.get_ps=ht.prototype.la=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),dt(Tb(E,b),Ye)},ht.prototype.set_ps=ht.prototype.Da=function(b,E){var k=this.g;up||(dp+=128,Fe(up=l._malloc(dp))),b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),Lb(k,b,E)},p()(ht.prototype,"ps",{get:ht.prototype.la,set:ht.prototype.Da}),ht.prototype.__destroy__=function(){Ub(this.g)},Ye.prototype=ne()(Je.prototype),Ye.prototype.constructor=Ye,Ye.prototype.h=Ye,Ye.l={},l.Point=Ye,Ye.prototype.equal=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),!!Fb(E,b)},Ye.prototype.get_x=Ye.prototype.oa=function(){return Bb(this.g)},Ye.prototype.set_x=Ye.prototype.Ea=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),Yb(E,b)},p()(Ye.prototype,"x",{get:Ye.prototype.oa,set:Ye.prototype.Ea}),Ye.prototype.get_y=Ye.prototype.pa=function(){return $b(this.g)},Ye.prototype.set_y=Ye.prototype.Fa=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),Vb(E,b)},p()(Ye.prototype,"y",{get:Ye.prototype.pa,set:Ye.prototype.Fa}),Ye.prototype.get_id=Ye.prototype.da=function(){return Hb(this.g)},Ye.prototype.set_id=Ye.prototype.va=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),Kb(E,b)},p()(Ye.prototype,"id",{get:Ye.prototype.da,set:Ye.prototype.va}),Ye.prototype.get_vn=Ye.prototype.J=function(){return zb(this.g)},Ye.prototype.set_vn=Ye.prototype.N=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),Zb(E,b)},p()(Ye.prototype,"vn",{get:Ye.prototype.J,set:Ye.prototype.N}),Ye.prototype.__destroy__=function(){qb(this.g)},or.prototype=ne()(Je.prototype),or.prototype.constructor=or,or.prototype.h=or,or.l={},l.Rectangle=or,or.prototype.__destroy__=function(){Gb(this.g)},Hn.prototype=ne()(Je.prototype),Hn.prototype.constructor=Hn,Hn.prototype.h=Hn,Hn.l={},l.HyperedgeTreeNode=Hn,Hn.prototype.writeEdgesToConns=function(b,E){var k=this.g;b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),Xb(k,b,E)},Hn.prototype.__destroy__=function(){Qb(this.g)},ar.prototype=ne()(Je.prototype),ar.prototype.constructor=ar,ar.prototype.h=ar,ar.l={},l.HyperedgeTreeEdge=ar,ar.prototype.__destroy__=function(){t0(this.g)},xn.prototype=ne()(Je.prototype),xn.prototype.constructor=xn,xn.prototype.h=xn,xn.l={},l.AStarPath=xn,xn.prototype.search=xn.prototype.search=function(b,E,k,X){var re=this.g;b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),X&&_(X)==="object"&&(X=X.g),r0(re,b,E,k,X)},xn.prototype.__destroy__=function(){i0(this.g)},sr.prototype=ne()(Je.prototype),sr.prototype.constructor=sr,sr.prototype.h=sr,sr.l={},l.ConnEnd=sr,sr.prototype.__destroy__=function(){s0(this.g)},Be.prototype=ne()(Je.prototype),Be.prototype.constructor=Be,Be.prototype.h=Be,Be.l={},l.ActionInfo=Be,Be.prototype.obstacle=function(){return dt(l0(this.g),kt)},Be.prototype.shape=Be.prototype.shape=function(){return dt(f0(this.g),Wt)},Be.prototype.conn=function(){return dt(_0(this.g),Ot)},Be.prototype.junction=function(){return dt(p0(this.g),Pn)},Be.prototype.addConnEndUpdate=function(b,E,k){var X=this.g;b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),h0(X,b,E,k)},Be.prototype.get_type=Be.prototype.A=function(){return g0(this.g)},Be.prototype.set_type=Be.prototype.M=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),y0(E,b)},p()(Be.prototype,"type",{get:Be.prototype.A,set:Be.prototype.M}),Be.prototype.get_objPtr=Be.prototype.ja=function(){return dt(m0(this.g),ir)},Be.prototype.set_objPtr=Be.prototype.Ba=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),v0(E,b)},p()(Be.prototype,"objPtr",{get:Be.prototype.ja,set:Be.prototype.Ba}),Be.prototype.get_newPoly=Be.prototype.ga=function(){return dt(b0(this.g),ht)},Be.prototype.set_newPoly=Be.prototype.ya=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),P0(E,b)},p()(Be.prototype,"newPoly",{get:Be.prototype.ga,set:Be.prototype.ya}),Be.prototype.get_newPosition=Be.prototype.ha=function(){return dt(w0(this.g),Ye)},Be.prototype.set_newPosition=Be.prototype.za=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),R0(E,b)},p()(Be.prototype,"newPosition",{get:Be.prototype.ha,set:Be.prototype.za}),Be.prototype.get_firstMove=Be.prototype.ca=function(){return!!S0(this.g)},Be.prototype.set_firstMove=Be.prototype.ua=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),E0(E,b)},p()(Be.prototype,"firstMove",{get:Be.prototype.ca,set:Be.prototype.ua}),Be.prototype.__destroy__=function(){A0(this.g)},Ht.prototype=ne()(Je.prototype),Ht.prototype.constructor=Ht,Ht.prototype.h=Ht,Ht.l={},l.ShapeConnectionPin=Ht,Ht.prototype.setConnectionCost=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),M0(E,b)},Ht.prototype.position=Ht.prototype.position=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),dt(b===void 0?x0(E):D0(E,b),Ye)},Ht.prototype.directions=function(){return T0(this.g)},Ht.prototype.setExclusive=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),L0(E,b)},Ht.prototype.isExclusive=function(){return!!U0(this.g)},Ht.prototype.__destroy__=function(){N0(this.g)},kt.prototype=ne()(Je.prototype),kt.prototype.constructor=kt,kt.prototype.h=kt,kt.l={},l.Obstacle=kt,kt.prototype.id=kt.prototype.id=function(){return k0(this.g)},kt.prototype.polygon=function(){return dt(F0(this.g),ht)},kt.prototype.router=function(){return dt(B0(this.g),xt)},kt.prototype.position=kt.prototype.position=function(){return dt(Y0(this.g),Ye)},kt.prototype.setNewPoly=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),$0(E,b)},kt.prototype.__destroy__=function(){V0(this.g)},Pn.prototype=ne()(Je.prototype),Pn.prototype.constructor=Pn,Pn.prototype.h=Pn,Pn.l={},l.JunctionRef=Pn,Pn.prototype.position=Pn.prototype.position=function(){return dt(z0(this.g),Ye)},Pn.prototype.__destroy__=function(){Z0(this.g)},Wt.prototype=ne()(Je.prototype),Wt.prototype.constructor=Wt,Wt.prototype.h=Wt,Wt.l={},l.ShapeRef=Wt,Wt.prototype.polygon=function(){return dt(G0(this.g),ht)},Wt.prototype.position=Wt.prototype.position=function(){return dt(J0(this.g),Ye)},Wt.prototype.setNewPoly=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),X0(E,b)},Wt.prototype.__destroy__=function(){Q0(this.g)},Rr.prototype=ne()(Je.prototype),Rr.prototype.constructor=Rr,Rr.prototype.h=Rr,Rr.l={},l.HyperedgeNewAndDeletedObjectLists=Rr,Rr.prototype.__destroy__=function(){eP(this.g)},Kn.prototype=ne()(Je.prototype),Kn.prototype.constructor=Kn,Kn.prototype.h=Kn,Kn.l={},l.HyperedgeRerouter=Kn,Kn.prototype.registerHyperedgeForRerouting=function(b){var E=this.g;return b&&_(b)==="object"&&(b=b.g),nP(E,b)},Kn.prototype.__destroy__=function(){rP(this.g)},Sr.prototype=ne()(Je.prototype),Sr.prototype.constructor=Sr,Sr.prototype.h=Sr,Sr.l={},l.VertInf=Sr,Sr.prototype.__destroy__=function(){iP(this.g)},Ue.prototype=ne()(Je.prototype),Ue.prototype.constructor=Ue,Ue.prototype.h=Ue,Ue.l={},l.VertID=Ue,Ue.prototype.get_objID=Ue.prototype.ia=function(){return cP(this.g)},Ue.prototype.set_objID=Ue.prototype.Aa=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),uP(E,b)},p()(Ue.prototype,"objID",{get:Ue.prototype.ia,set:Ue.prototype.Aa}),Ue.prototype.get_vn=Ue.prototype.J=function(){return dP(this.g)},Ue.prototype.set_vn=Ue.prototype.N=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),lP(E,b)},p()(Ue.prototype,"vn",{get:Ue.prototype.J,set:Ue.prototype.N}),Ue.prototype.get_props=Ue.prototype.ka=function(){return fP(this.g)},Ue.prototype.set_props=Ue.prototype.Ca=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),_P(E,b)},p()(Ue.prototype,"props",{get:Ue.prototype.ka,set:Ue.prototype.Ca}),Ue.prototype.get_src=Ue.prototype.ma=function(){return pP(this.g)},p()(Ue.prototype,"src",{get:Ue.prototype.ma}),Ue.prototype.get_tar=Ue.prototype.na=function(){return hP(this.g)},p()(Ue.prototype,"tar",{get:Ue.prototype.na}),Ue.prototype.get_PROP_ConnPoint=Ue.prototype.V=function(){return gP(this.g)},p()(Ue.prototype,"PROP_ConnPoint",{get:Ue.prototype.V}),Ue.prototype.get_PROP_OrthShapeEdge=Ue.prototype.Y=function(){return yP(this.g)},p()(Ue.prototype,"PROP_OrthShapeEdge",{get:Ue.prototype.Y}),Ue.prototype.get_PROP_ConnectionPin=Ue.prototype.W=function(){return mP(this.g)},p()(Ue.prototype,"PROP_ConnectionPin",{get:Ue.prototype.W}),Ue.prototype.get_PROP_ConnCheckpoint=Ue.prototype.U=function(){return vP(this.g)},p()(Ue.prototype,"PROP_ConnCheckpoint",{get:Ue.prototype.U}),Ue.prototype.get_PROP_DummyPinHelper=Ue.prototype.X=function(){return bP(this.g)},p()(Ue.prototype,"PROP_DummyPinHelper",{get:Ue.prototype.X}),Ue.prototype.__destroy__=function(){PP(this.g)},Er.prototype=ne()(Je.prototype),Er.prototype.constructor=Er,Er.prototype.h=Er,Er.l={},l.MinimumTerminalSpanningTree=Er,Er.prototype.__destroy__=function(){wP(this.g)},cr.prototype=ne()(Je.prototype),cr.prototype.constructor=cr,cr.prototype.h=cr,cr.l={},l.Checkpoint=cr,cr.prototype.__destroy__=function(){SP(this.g)},Ot.prototype=ne()(Je.prototype),Ot.prototype.constructor=Ot,Ot.prototype.h=Ot,Ot.l={},l.ConnRef=Ot,Ot.prototype.id=Ot.prototype.id=function(){return OP(this.g)},Ot.prototype.setCallback=function(b,E){var k=this.g;if(Fe(b instanceof Function,"Expecting function"),Fe(b!==void 0),!_e){_e=new(we());for(var X=wr.length,re=0;re<0+X;re++){var pe=Qe(re);pe&&_e.set(pe,re)}}if(_e.has(b))b=_e.get(b);else{if(Oe.length)X=Oe.pop();else{try{wr.grow(1)}catch(ct){throw ct instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":ct}X=wr.length-1}try{re=X,wr.set(re,b),Ui[re]=b}catch(ct){if(!(ct instanceof TypeError))throw ct;if(Fe(!0,"Missing signature argument to addFunction: "+b),typeof WebAssembly.Function=="function"){pe={i:"i32",j:"i64",f:"f32",d:"f64"};var me={parameters:[],results:[]};for(re=1;2>re;++re)me.parameters.push(pe["vi"[re]]);pe=new WebAssembly.Function(me,b)}else{var ke;for(me={i:127,j:126,f:125,d:124},(pe=[1,0,1,96]).push(1),re=0;1>re;++re)pe.push(me["i"[re]]);pe.push(0),pe[1]=pe.length-2,re=new Uint8Array(Pe()(ke=[0,97,115,109,1,0,0,0]).call(ke,pe,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),re=new WebAssembly.Module(re),pe=new WebAssembly.Instance(re,{e:{f:b}}).exports.f}re=X,wr.set(re,pe),Ui[re]=pe}_e.set(b,X),b=X}E&&_(E)==="object"&&(E=E.g),IP(k,b,E)},Ot.prototype.setSourceEndpoint=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),jP(E,b)},Ot.prototype.setDestEndpoint=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),CP(E,b)},Ot.prototype.routingType=function(){return MP(this.g)},Ot.prototype.setRoutingType=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),xP(E,b)},Ot.prototype.displayRoute=function(){return dt(DP(this.g),ht)},Ot.prototype.setHateCrossings=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),TP(E,b)},Ot.prototype.doesHateCrossings=function(){return!!LP(this.g)},Ot.prototype.__destroy__=function(){UP(this.g)},ur.prototype=ne()(Je.prototype),ur.prototype.constructor=ur,ur.prototype.h=ur,ur.l={},l.EdgeInf=ur,ur.prototype.__destroy__=function(){FP(this.g)},wt.prototype=ne()(Je.prototype),wt.prototype.constructor=wt,wt.prototype.h=wt,wt.l={},l.LineRep=wt,wt.prototype.get_begin=wt.prototype.Z=function(){return dt(BP(this.g),Ye)},wt.prototype.set_begin=wt.prototype.sa=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),YP(E,b)},p()(wt.prototype,"begin",{get:wt.prototype.Z,set:wt.prototype.sa}),wt.prototype.get_end=wt.prototype.ba=function(){return dt($P(this.g),Ye)},wt.prototype.set_end=wt.prototype.ta=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),VP(E,b)},p()(wt.prototype,"end",{get:wt.prototype.ba,set:wt.prototype.ta}),wt.prototype.__destroy__=function(){HP(this.g)},xt.prototype=ne()(Je.prototype),xt.prototype.constructor=xt,xt.prototype.h=xt,xt.l={},l.Router=xt,xt.prototype.processTransaction=function(){return!!zP(this.g)},xt.prototype.printInfo=function(){ZP(this.g)},xt.prototype.deleteConnector=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),qP(E,b)},xt.prototype.moveShape=function(b,E,k){var X=this.g;b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),k&&_(k)==="object"&&(k=k.g),k===void 0?WP(X,b,E):GP(X,b,E,k)},xt.prototype.deleteShape=function(b){var E=this.g;b&&_(b)==="object"&&(b=b.g),JP(E,b)},xt.prototype.setRoutingParameter=function(b,E){var k=this.g;b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),XP(k,b,E)},xt.prototype.setRoutingOption=function(b,E){var k=this.g;b&&_(b)==="object"&&(b=b.g),E&&_(E)==="object"&&(E=E.g),QP(k,b,E)},xt.prototype.__destroy__=function(){ew(this.g)},function(){function b(){l.ConnDirNone=tw(),l.ConnDirUp=nw(),l.ConnDirDown=rw(),l.ConnDirLeft=iw(),l.ConnDirRight=ow(),l.ConnDirAll=aw(),l.ConnEndPoint=sw(),l.ConnEndShapePin=cw(),l.ConnEndJunction=uw(),l.ConnEndEmpty=dw(),l.ShapeMove=lw(),l.ShapeAdd=fw(),l.ShapeRemove=_w(),l.JunctionMove=pw(),l.JunctionAdd=hw(),l.JunctionRemove=gw(),l.ConnChange=yw(),l.ConnectionPinChange=mw(),l.TransformationType_CW90=vw(),l.TransformationType_CW180=bw(),l.TransformationType_CW270=Pw(),l.TransformationType_FlipX=ww(),l.TransformationType_FlipY=Rw(),l.ConnType_None=Sw(),l.ConnType_PolyLine=Ew(),l.ConnType_Orthogonal=Aw(),l.PolyLineRouting=Ow(),l.OrthogonalRouting=Iw(),l.segmentPenalty=jw(),l.anglePenalty=Cw(),l.crossingPenalty=Mw(),l.clusterCrossingPenalty=xw(),l.fixedSharedPathPenalty=Dw(),l.portDirectionPenalty=Tw(),l.shapeBufferDistance=Lw(),l.idealNudgingDistance=Uw(),l.reverseDirectionPenalty=Nw(),l.nudgeOrthogonalSegmentsConnectedToShapes=kw(),l.improveHyperedgeRoutesMovingJunctions=Fw(),l.penaliseOrthogonalSharedPathsAtConnEnds=Bw(),l.nudgeOrthogonalTouchingColinearSegments=Yw(),l.performUnifyingNudgingPreprocessingStep=$w(),l.improveHyperedgeRoutesMovingAddingAndDeletingJunctions=Vw(),l.nudgeSharedPathsWithCommonEndPoint=Hw()}ys?b():cd.unshift(b)}(),N.ready});var Me={avoidLib:void 0,load:function(){var N,Z=this;return(N=u().mark(function J(){return u().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(Z.avoidLib){se.next=6;break}return se.next=3,le();case 3:Z.avoidLib=se.sent,se.next=7;break;case 6:console.log("Avoid library is already initialized");case 7:case"end":return se.stop()}},J)}),function(){var J=this,se=arguments;return new a(function(l,Le){var Re=N.apply(J,se);function xe(De){c(Re,l,Le,xe,Ee,"next",De)}function Ee(De){c(Re,l,Le,xe,Ee,"throw",De)}xe(void 0)})})()},getInstance:function(){if(!this.avoidLib)throw new Error("Avoid library should be initialized before using");return this.avoidLib}}})(),o})()})})(eo);var nb=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ln=globalThis&&globalThis.__assign||function(){return Ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ln.apply(this,arguments)},cf;(function(t){t[t.PolyLine=1]="PolyLine",t[t.Orthogonal=2]="Orthogonal"})(cf||(cf={}));var uf;(function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=4]="Left",t[t.Right=8]="Right",t[t.All=15]="All"})(uf||(uf={}));var dy={routingType:void 0,segmentPenalty:"parameter",anglePenalty:"parameter",crossingPenalty:"parameter",clusterCrossingPenalty:"parameter",fixedSharedPathPenalty:"parameter",portDirectionPenalty:"parameter",shapeBufferDistance:"parameter",idealNudgingDistance:"parameter",reverseDirectionPenalty:"parameter",nudgeOrthogonalSegmentsConnectedToShapes:"option",improveHyperedgeRoutesMovingJunctions:"option",penaliseOrthogonalSharedPathsAtConnEnds:"option",nudgeOrthogonalTouchingColinearSegments:"option",performUnifyingNudgingPreprocessingStep:"option",improveHyperedgeRoutesMovingAddingAndDeletingJunctions:"option",nudgeSharedPathsWithCommonEndPoint:"option"},N3=function(t,e){return t.width===e.width&&t.height===e.height},k3=function(t,e){return t.x===e.x&&t.y===e.y},F3=function(t){nb(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.routerKind=Fr.KIND,n.routeType=0,n.sourceVisibleDirections=void 0,n.targetVisibleDirections=void 0,n.hateCrossings=!1,n}return e}(We.SEdge),Fr=function(t){nb(e,t);function e(){var n=t.call(this)||this;n.renderedTimes=0,n.avoidConnRefsByEdgeId={},n.avoidShapes={},n.options={},n.edgeRouting=new We.EdgeRouting,n.firstRender=!0,n.changedEdgeIds=[];var r=eo.exports.AvoidLib.getInstance();return n.avoidRouter=new r.Router(r.PolyLineRouting),n}return Object.defineProperty(e.prototype,"kind",{get:function(){return e.KIND},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(n){var r=this,i=eo.exports.AvoidLib.getInstance();"routingType"in n&&n.routingType&&(i.destroy(this.avoidRouter),this.avoidRouter=new i.Router(n.routingType)),this.options=Ln(Ln({},this.options),n),Object.entries(this.options).forEach(function(o){var a=o[0],c=o[1];dy[a]==="parameter"?r.avoidRouter.setRoutingParameter(i[a],c):dy[a]==="option"&&r.avoidRouter.setRoutingOption(i[a],c)})},e.prototype.getAllBoundsAwareChildren=function(n){for(var r=[],i=0,o=n.children;i<o.length;i++){var a=o[i];We.isBoundsAware(a)&&r.push(a),a instanceof We.SParentElement&&r.push.apply(r,this.getAllBoundsAwareChildren(a))}return r},e.prototype.getCenterPoint=function(n){for(var r=n.bounds.width/2,i=n.bounds.height/2,o=n;o&&(o.position&&(r+=o.position.x,i+=o.position.y),!(o.parent&&o.parent.id==="graph"));)o=o.parent;return{x:r,y:i}},e.prototype.getFixedTranslatedAnchor=function(n,r,i,o,a,c){c===void 0&&(c=0);var s=this.getTranslatedAnchor(n,i,o,a,c);return r.x===i.x?s={x:r.x,y:s.y}:r.y===i.y&&(s={x:s.x,y:r.y}),s},e.prototype.updateConnRefInEdgeRouting=function(n,r){if(!(!r.source||!r.target)){for(var i=[],o=n.displayRoute(),a=[],c=0;c<o.size();c++)a.push({x:o.get_ps(c).x,y:o.get_ps(c).y});var s={x:o.get_ps(0).x,y:o.get_ps(0).y},u={x:o.get_ps(1).x,y:o.get_ps(1).y},d=this.getFixedTranslatedAnchor(r.source,s,u,r.parent,r,r.sourceAnchorCorrection);i.push(Ln({kind:"source"},d));for(var c=0;c<o.size();c++)if(!(c===0||c===o.size()-1)){var f={x:o.get_ps(c).x,y:o.get_ps(c).y,kind:"linear",pointIndex:c};i.push(f)}var _={x:o.get_ps(o.size()-1).x,y:o.get_ps(o.size()-1).y},y={x:o.get_ps(o.size()-2).x,y:o.get_ps(o.size()-2).y},g=this.getFixedTranslatedAnchor(r.target,_,y,r.parent,r,r.targetAnchorCorrection);i.push(Ln({kind:"target"},g)),this.edgeRouting.set(r.id,i)}},e.prototype.routeAll=function(n,r){var i=this,o=eo.exports.AvoidLib.getInstance(),a=!1;if(this.firstRender)return this.firstRender=!1,this.edgeRouting;for(var c=this.getAllBoundsAwareChildren(r),s=0,u=c;s<u.length;s++){var d=u[s];if(!(d instanceof We.SRoutableElement||d instanceof We.SLabel||d instanceof We.SCompartment||d instanceof We.SPort||d instanceof We.SButton)){if(d.bounds.width===-1)return this.edgeRouting;if(d.id in this.avoidShapes){if(k3(d.bounds,this.avoidShapes[d.id].bounds)||(this.avoidRouter.moveShape(this.avoidShapes[d.id].ref,d.bounds.x-this.avoidShapes[d.id].bounds.x,d.bounds.y-this.avoidShapes[d.id].bounds.y),this.avoidShapes[d.id].bounds=Ln(Ln({},this.avoidShapes[d.id].bounds),{x:d.bounds.x,y:d.bounds.y}),a||(a=!0)),!N3(d.bounds,this.avoidShapes[d.id].bounds)){var f=this.getCenterPoint(d),_=new o.Rectangle(new o.Point(f.x,f.y),d.bounds.width,d.bounds.height);this.avoidRouter.moveShape(this.avoidShapes[d.id].ref,_),this.avoidShapes[d.id].bounds=Ln(Ln({},this.avoidShapes[d.id].bounds),{width:d.bounds.width,height:d.bounds.height}),a||(a=!0)}}else{var f=this.getCenterPoint(d),y=new o.Rectangle(new o.Point(f.x,f.y),d.bounds.width,d.bounds.height),g=new o.ShapeRef(this.avoidRouter,y),v=new o.ShapeConnectionPin(g,1,.5,.5,!0,0,uf.All);v.setExclusive(!1),this.avoidShapes[d.id]={ref:g,bounds:Ln({},d.bounds)},a||(a=!0)}}}for(var m=c.map(function(K){return K.id}),h=0,P=Object.keys(this.avoidShapes);h<P.length;h++){var p=P[h];m.includes(p)||(this.avoidRouter.deleteShape(this.avoidShapes[p].ref),delete this.avoidShapes[p],a||(a=!0))}for(var R={},O=function(K){if(R[K.id]=K,K.id in A.avoidConnRefsByEdgeId)return"continue";var ee=new o.ConnEnd(A.avoidShapes[K.sourceId].ref,1),te=new o.ConnEnd(A.avoidShapes[K.targetId].ref,1),ie=new o.ConnRef(A.avoidRouter,ee,te);ie.setCallback(function(){i.changedEdgeIds.push(K.id)},ie),K.routeType&&ie.setRoutingType(K.routeType),K.hateCrossings&&ie.setHateCrossings(K.hateCrossings),A.avoidConnRefsByEdgeId[K.id]=ie},A=this,I=0,j=n;I<j.length;I++){var U=j[I];O(U)}for(var C=n.map(function(K){return K.id}),x=0,D=Object.keys(this.avoidConnRefsByEdgeId);x<D.length;x++){var $=D[x];C.includes($)||(this.avoidRouter.deleteConnector(this.avoidConnRefsByEdgeId[$]),delete this.avoidConnRefsByEdgeId[$])}return a&&this.avoidRouter.processTransaction(),this.changedEdgeIds.forEach(function(K){i.updateConnRefInEdgeRouting(i.avoidConnRefsByEdgeId[K],R[K])}),this.changedEdgeIds=[],this.edgeRouting},e.prototype.destroy=function(){var n=eo.exports.AvoidLib.getInstance();n.destroy(this.avoidRouter)},e.prototype.route=function(n,r){return this.edgeRouting.get(n.id)||[]},e.prototype.createRoutingHandles=function(n){var r=n.routingPoints.length;this.addHandle(n,"source","routing-point",-2),this.addHandle(n,"line","volatile-routing-point",-1);for(var i=0;i<r;i++)this.addHandle(n,"junction","routing-point",i),this.addHandle(n,"line","volatile-routing-point",i);this.addHandle(n,"target","routing-point",r)},e.prototype.applyInnerHandleMoves=function(n,r){var i=this;r.forEach(function(o){var a=o.handle,c=n.routingPoints,s=a.pointIndex;a.kind==="line"&&(a.kind="junction",a.type="routing-point",c.splice(s+1,0,o.fromPosition||c[Math.max(s,0)]),n.children.forEach(function(u){u instanceof We.SRoutingHandle&&(u===a||u.pointIndex>s)&&u.pointIndex++}),i.addHandle(n,"line","volatile-routing-point",s),i.addHandle(n,"line","volatile-routing-point",s+1),s++),s>=0&&s<c.length&&(c[s]=o.toPosition)})},e.prototype.getInnerHandlePosition=function(n,r,i){if(i.kind==="line"){var o=this.findRouteSegment(n,r,i.pointIndex),a=o.start,c=o.end;if(a!==void 0&&c!==void 0)return ho.centerOfLine(a,c)}},e.prototype.getOptions=function(n){return{minimalPointDistance:2,standardDistance:20,selfEdgeOffset:.25}},e.KIND="libavoid",e}(We.AbstractEdgeRouter),Y_=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),B3=function(t){Y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return Fr.KIND+":"+We.ELLIPTIC_ANCHOR_KIND},enumerable:!1,configurable:!0}),e}(We.EllipseAnchor),Y3=function(t){Y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return Fr.KIND+":"+We.RECTANGULAR_ANCHOR_KIND},enumerable:!1,configurable:!0}),e}(We.RectangleAnchor),$3=function(t){Y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return Fr.KIND+":"+We.DIAMOND_ANCHOR_KIND},enumerable:!1,configurable:!0}),e}(We.DiamondAnchor),V3=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function s(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(c,s)}u((r=r.apply(t,e||[])).next())})},H3=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return s([u,d])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function K3(){return V3(this,void 0,void 0,function(){return H3(this,function(t){switch(t.label){case 0:return[4,eo.exports.AvoidLib.load()];case 1:return t.sent(),[2]}})})}var ly,fy;let z3=(ly=Em(),ly(fy=class extends We.ShapeView{render(e,n){if(!this.isVisible(e,n))return;const r=this.getSize(e);return gi("g",{},[gi("rect",{attrs:{"class-sprotty-node":!0,"class-selected":e.selected,"class-mouseover":e.hoverFeedback,width:e.size.width,height:e.size.height,rx:8,ry:8}}),gi("text",{attrs:{x:r,y:r+7,"class-sprotty-text":!0}},e.id.substr(4))])}getSize(e){const n=Math.min(e.size.width,e.size.height);return n>0?n/2:0}})||fy);const rb=new Sm((t,e,n,r)=>{t(We.TYPES.ModelSource).to(We.LocalModelSource).inSingletonScope(),r(We.TYPES.ILogger).to(We.ConsoleLogger).inSingletonScope(),r(We.TYPES.LogLevel).toConstantValue(We.LogLevel.log),t(Fr).toSelf().inSingletonScope(),t(We.TYPES.IEdgeRouter).toService(Fr),t(We.TYPES.IAnchorComputer).to($3).inSingletonScope(),t(We.TYPES.IAnchorComputer).to(B3).inSingletonScope(),t(We.TYPES.IAnchorComputer).to(Y3).inSingletonScope();const i={bind:t,unbind:e,isBound:n,rebind:r};We.configureModelElement(i,"graph",We.SGraph,We.SGraphView),We.configureModelElement(i,"node:square",We.RectangularNode,z3),We.configureModelElement(i,"edge:straight",F3,We.PolylineEdgeView,{}),We.configureViewerOptions(i,{needsClientLayout:!1})}),Z3=()=>{const t=new Rm;return We.loadDefaultModules(t),t.load(rb),t.get(Fr).setOptions({routingType:cf.Orthogonal,segmentPenalty:50,idealNudgingDistance:4,nudgeOrthogonalSegmentsConnectedToShapes:!0,nudgeOrthogonalTouchingColinearSegments:!0}),t},q3=t=>{t.unbindAll(),t.unload(rb)},qi=60,W3=async(t,e)=>{await K3();let n=2;function r(d,f){const _=e?Math.random():.15+.09*f,y={id:"node"+n,type:"node:square",position:{x:d.x+_*(d.width-qi),y:d.y+_*(d.height-qi)},size:{width:qi,height:qi}},g={id:"edge"+n,type:"edge:straight",sourceId:"node0",targetId:"node"+n,routerKind:Fr.KIND};return n++,[y,g]}function i({canvasBounds:d,scroll:f,zoom:_}){return pp(_p({},f),{width:d.width/_,height:d.height/_})}const o=Z3(),a=o.get(We.TYPES.ModelSource),s={id:"graph",type:"graph",children:[{id:"node0",type:"node:square",position:{x:100,y:100},size:{width:qi,height:qi}}]},u=await a.getViewport();for(let d=0;d<t;++d){const f=r(i(u),d);s.children.push(...f)}return a.setModel(s),o},_y=q3;var ib=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const G3=$y({name:"DiagramView",data(){return{container:null,nodes:25,randomNodes:!1}},watch:{nodes(t){try{localStorage.setItem("nodes",JSON.stringify(t))}catch(e){console.log(e),console.log("LS is unavailable")}this.updateDiagram()},randomNodes(t){try{localStorage.setItem("randomNodes",JSON.stringify(t))}catch(e){console.log(e),console.log("LS is unavailable")}this.updateDiagram()}},mounted(){try{const t=localStorage.getItem("randomNodes");this.randomNodes=t!==null?JSON.parse(t):!1;const e=localStorage.getItem("nodes");this.nodes=e!==null?JSON.parse(e):25}catch(t){console.log(t),console.log("LS is unavailable")}this.updateDiagram()},beforeUnmount(){this.container&&_y(this.container)},methods:{async updateDiagram(){this.container&&_y(this.container),this.container=await W3(this.nodes,this.randomNodes)}}}),J3={class:"sprotty-diagram"},X3=xf(" Nodes "),Q3=xf(" Random "),e2=ro("div",{id:"sprotty",class:"sprotty"},null,-1);function t2(t,e,n,r,i,o){return nm(),$R("div",J3,[Mp(ro("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.nodes=a),type:"number"},null,512),[[ES,t.nodes]]),X3,Mp(ro("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.randomNodes=a),type:"checkbox"},null,512),[[AS,t.randomNodes]]),Q3,ro("button",{onClick:e[2]||(e[2]=(...a)=>t.updateDiagram&&t.updateDiagram(...a))},"Update"),e2])}var n2=ib(G3,[["render",t2]]);const r2=$y({components:{DiagramView:n2}});function i2(t,e,n,r,i,o){const a=kR("DiagramView");return nm(),VR(a)}var o2=ib(r2,[["render",i2]]);CS(o2).mount("#app");
